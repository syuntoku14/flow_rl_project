{"episode_reward_mean": 463.1463131805158, "timesteps_total": 63807, "iterations_since_restore": 1, "timesteps_since_restore": 63807, "pid": 59695, "time_this_iter_s": 49.74920463562012, "policy_reward_mean": {}, "timesteps_this_iter": 63807, "training_iteration": 1, "episode_reward_max": 587.532163980678, "node_ip": "10.138.0.2", "time_since_restore": 49.74920463562012, "episodes_total": 27, "episode_reward_min": 359.154443295929, "num_metric_batches_dropped": 0, "done": false, "timestamp": 1558430135, "custom_metrics": {"outflow_rate_min": 156.59590909090903, "system_level_velocity_min": 6.625981013994707, "cost1_max": 254.5879795737847, "system_level_velocity_max": 9.742824308850246, "cost2_min": -36.36623979309093, "outflow_rate_max": 529.4192893401015, "system_level_velocity_mean": 7.781668112469153, "cost1_mean": 201.84276242431295, "cost2_mean": -27.319612700498073, "outflow_rate_mean": 352.76683042502907, "cost2_max": -16.683637532879548, "cost1_min": 172.75968047575168}, "info": {"num_steps_trained": 63807, "sample_time_ms": 32508.626, "load_time_ms": 76.7, "grad_time_ms": 16329.249, "update_time_ms": 688.436, "default": {"policy_loss": -0.0015024261083453894, "cur_lr": 0.0005000000237487257, "kl": 0.0024953645188361406, "total_loss": 1.8368455171585083, "cur_kl_coeff": 0.20000003278255463, "vf_loss": 1.8378487825393677, "entropy": 1.4172842502593994, "vf_explained_var": 0.8790425658226013}, "num_steps_sampled": 63807}, "time_total_s": 49.74920463562012, "config": {"output": null, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "max_seq_len": 20, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "lstm_use_prev_action_reward": false, "framestack": true, "grayscale": false, "dim": 84, "free_log_std": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "monitor": false, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "sample_async": false, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bff0eb8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c05d860>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bff03c8>"}, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 700.0, "experiment_id": "49476b8bfa214ea3a002964354a4867e", "hostname": "flow-main", "episodes_this_iter": 27, "date": "2019-05-21_09-15-35"}
{"episode_reward_mean": 465.2224133799622, "timesteps_total": 124457, "iterations_since_restore": 2, "timesteps_since_restore": 124457, "pid": 59695, "time_this_iter_s": 45.14713907241821, "policy_reward_mean": {}, "timesteps_this_iter": 60650, "training_iteration": 2, "episode_reward_max": 665.3867077084799, "node_ip": "10.138.0.2", "time_since_restore": 94.89634370803833, "episodes_total": 55, "episode_reward_min": 359.154443295929, "num_metric_batches_dropped": 0, "done": false, "timestamp": 1558430180, "custom_metrics": {"outflow_rate_min": 156.59590909090903, "system_level_velocity_min": 6.578364522313077, "cost1_max": 271.4833194717459, "system_level_velocity_max": 10.4194015851978, "cost2_min": -36.36623979309093, "outflow_rate_max": 682.348744230463, "system_level_velocity_mean": 8.066761425823316, "cost1_mean": 208.50863262120376, "cost2_mean": -25.57317897477021, "outflow_rate_mean": 369.19401494219585, "cost2_max": -16.683637532879548, "cost1_min": 167.25533175082484}, "info": {"num_steps_trained": 124457, "sample_time_ms": 31286.232, "load_time_ms": 43.218, "grad_time_ms": 15643.913, "update_time_ms": 347.691, "default": {"policy_loss": -0.004705403000116348, "cur_lr": 0.0005000000237487257, "kl": 0.01133759692311287, "total_loss": 2.4150094985961914, "cur_kl_coeff": 0.10000002384185791, "vf_loss": 2.418581008911133, "entropy": 1.4125854969024658, "vf_explained_var": 0.916066586971283}, "num_steps_sampled": 124457}, "time_total_s": 94.89634370803833, "config": {"output": null, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "max_seq_len": 20, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "lstm_use_prev_action_reward": false, "framestack": true, "grayscale": false, "dim": 84, "free_log_std": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "monitor": false, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "sample_async": false, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfbcc88>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfbca58>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfbc518>"}, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 700.0, "experiment_id": "49476b8bfa214ea3a002964354a4867e", "hostname": "flow-main", "episodes_this_iter": 28, "date": "2019-05-21_09-16-20"}
{"episode_reward_mean": 550.2429078521365, "timesteps_total": 185856, "iterations_since_restore": 3, "timesteps_since_restore": 185856, "pid": 59695, "time_this_iter_s": 47.37785744667053, "policy_reward_mean": {}, "timesteps_this_iter": 61399, "training_iteration": 3, "episode_reward_max": 875.2296389250216, "node_ip": "10.138.0.2", "time_since_restore": 142.27420115470886, "episodes_total": 83, "episode_reward_min": 359.154443295929, "num_metric_batches_dropped": 0, "done": false, "timestamp": 1558430228, "custom_metrics": {"outflow_rate_min": 156.59590909090903, "system_level_velocity_min": 6.578364522313077, "cost1_max": 282.15338862102084, "system_level_velocity_max": 10.784005778212888, "cost2_min": -54.480483646092374, "outflow_rate_max": 835.6060865197884, "system_level_velocity_mean": 8.534114917897021, "cost1_mean": 221.62106211337118, "cost2_mean": -28.125830996935473, "outflow_rate_mean": 465.2212546030987, "cost2_max": -16.683637532879548, "cost1_min": 167.25533175082484}, "info": {"num_steps_trained": 185856, "sample_time_ms": 31409.115, "load_time_ms": 31.675, "grad_time_ms": 15619.761, "update_time_ms": 234.459, "default": {"policy_loss": -0.0058810957707464695, "cur_lr": 0.0005000000237487257, "kl": 0.010829133912920952, "total_loss": 5.245532989501953, "cur_kl_coeff": 0.10000001639127731, "vf_loss": 5.250330924987793, "entropy": 1.3922603130340576, "vf_explained_var": 0.881492555141449}, "num_steps_sampled": 185856}, "time_total_s": 142.27420115470886, "config": {"output": null, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "max_seq_len": 20, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "lstm_use_prev_action_reward": false, "framestack": true, "grayscale": false, "dim": 84, "free_log_std": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "monitor": false, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "sample_async": false, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfba748>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfbacc0>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfba0b8>"}, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 700.0, "experiment_id": "49476b8bfa214ea3a002964354a4867e", "hostname": "flow-main", "episodes_this_iter": 28, "date": "2019-05-21_09-17-08"}
{"episode_reward_mean": 661.6808429637639, "timesteps_total": 254134, "iterations_since_restore": 4, "timesteps_since_restore": 254134, "pid": 59695, "time_this_iter_s": 52.92903137207031, "policy_reward_mean": {}, "timesteps_this_iter": 68278, "training_iteration": 4, "episode_reward_max": 1161.7296933285309, "node_ip": "10.138.0.2", "time_since_restore": 195.20323252677917, "episodes_total": 110, "episode_reward_min": 58.07793818199988, "num_metric_batches_dropped": 0, "done": false, "timestamp": 1558430281, "custom_metrics": {"outflow_rate_min": 228.96735851663098, "system_level_velocity_min": 6.578364522313077, "cost1_max": 316.1021323106694, "system_level_velocity_max": 18.07589663282696, "cost2_min": -58.211400388712775, "outflow_rate_max": 1094.7114563416392, "system_level_velocity_mean": 9.010352368473622, "cost1_mean": 230.64843053751432, "cost2_mean": -33.23039267549595, "outflow_rate_mean": 588.4952896757673, "cost2_max": -14.499104997587756, "cost1_min": 22.58229565715659}, "info": {"num_steps_trained": 254134, "sample_time_ms": 32050.818, "load_time_ms": 25.983, "grad_time_ms": 16419.414, "update_time_ms": 178.318, "default": {"policy_loss": -0.002820432186126709, "cur_lr": 0.0005000000237487257, "kl": 0.00713971396908164, "total_loss": 8.557536125183105, "cur_kl_coeff": 0.10000000894069672, "vf_loss": 8.55964183807373, "entropy": 1.381753921508789, "vf_explained_var": 0.8661007285118103}, "num_steps_sampled": 254134}, "time_total_s": 195.20323252677917, "config": {"output": null, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "max_seq_len": 20, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "lstm_use_prev_action_reward": false, "framestack": true, "grayscale": false, "dim": 84, "free_log_std": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "monitor": false, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "sample_async": false, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfbc1d0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfbc908>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfbcac8>"}, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 693.35, "experiment_id": "49476b8bfa214ea3a002964354a4867e", "hostname": "flow-main", "episodes_this_iter": 27, "date": "2019-05-21_09-18-01"}
{"episode_reward_mean": 836.23062503718, "timesteps_total": 325503, "iterations_since_restore": 5, "timesteps_since_restore": 325503, "pid": 59695, "time_this_iter_s": 51.46269917488098, "policy_reward_mean": {}, "timesteps_this_iter": 71369, "training_iteration": 5, "episode_reward_max": 1273.0772290547766, "node_ip": "10.138.0.2", "time_since_restore": 246.66593170166016, "episodes_total": 136, "episode_reward_min": 58.07793818199988, "num_metric_batches_dropped": 0, "done": false, "timestamp": 1558430332, "custom_metrics": {"outflow_rate_min": 228.96735851663098, "system_level_velocity_min": 7.253422560611892, "cost1_max": 324.41313067856095, "system_level_velocity_max": 18.07589663282696, "cost2_min": -88.70435736872324, "outflow_rate_max": 1180.1140683801161, "system_level_velocity_mean": 9.649476895276031, "cost1_mean": 249.05655302641634, "cost2_mean": -42.537009607078, "outflow_rate_mean": 757.1892305034509, "cost2_max": -14.499104997587756, "cost1_min": 22.58229565715659}, "info": {"num_steps_trained": 325503, "sample_time_ms": 32307.507, "load_time_ms": 23.215, "grad_time_ms": 16730.964, "update_time_ms": 144.399, "default": {"policy_loss": -0.003280334873124957, "cur_lr": 0.0005000000237487257, "kl": 0.007420826703310013, "total_loss": 10.0858793258667, "cur_kl_coeff": 0.10000000894069672, "vf_loss": 10.088418006896973, "entropy": 1.3707178831100464, "vf_explained_var": 0.8521445989608765}, "num_steps_sampled": 325503}, "time_total_s": 246.66593170166016, "config": {"output": null, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "max_seq_len": 20, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "lstm_use_prev_action_reward": false, "framestack": true, "grayscale": false, "dim": 84, "free_log_std": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "monitor": false, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "sample_async": false, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfbc630>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfbc6d8>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfbc0b8>"}, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 693.35, "experiment_id": "49476b8bfa214ea3a002964354a4867e", "hostname": "flow-main", "episodes_this_iter": 26, "date": "2019-05-21_09-18-52"}
{"episode_reward_mean": 991.0524424273648, "timesteps_total": 395120, "iterations_since_restore": 6, "timesteps_since_restore": 395120, "pid": 59695, "time_this_iter_s": 50.662498474121094, "policy_reward_mean": {}, "timesteps_this_iter": 69617, "training_iteration": 6, "episode_reward_max": 1277.8453456492375, "node_ip": "10.138.0.2", "time_since_restore": 297.32843017578125, "episodes_total": 161, "episode_reward_min": 58.07793818199988, "num_metric_batches_dropped": 0, "done": false, "timestamp": 1558430383, "custom_metrics": {"outflow_rate_min": 384.9748133399703, "system_level_velocity_min": 7.443607815525206, "cost1_max": 327.20388833165487, "system_level_velocity_max": 18.07589663282696, "cost2_min": -92.14394157778186, "outflow_rate_max": 1180.1140683801161, "system_level_velocity_mean": 10.261638914410877, "cost1_mean": 266.3011152992898, "cost2_mean": -52.0305696050061, "outflow_rate_mean": 912.0504660687232, "cost2_max": -14.499104997587756, "cost1_min": 22.58229565715659}, "info": {"num_steps_trained": 395120, "sample_time_ms": 32613.066, "load_time_ms": 20.918, "grad_time_ms": 16674.766, "update_time_ms": 121.621, "default": {"policy_loss": -0.003213330404832959, "cur_lr": 0.0005000000237487257, "kl": 0.0071014948189258575, "total_loss": 10.457159996032715, "cur_kl_coeff": 0.10000000894069672, "vf_loss": 10.459662437438965, "entropy": 1.3505253791809082, "vf_explained_var": 0.8231479525566101}, "num_steps_sampled": 395120}, "time_total_s": 297.32843017578125, "config": {"output": null, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "max_seq_len": 20, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "lstm_use_prev_action_reward": false, "framestack": true, "grayscale": false, "dim": 84, "free_log_std": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "monitor": false, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "sample_async": false, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfba400>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfba4e0>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfbaba8>"}, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 693.35, "experiment_id": "49476b8bfa214ea3a002964354a4867e", "hostname": "flow-main", "episodes_this_iter": 25, "date": "2019-05-21_09-19-43"}
{"episode_reward_mean": 1097.7235766203607, "timesteps_total": 465170, "iterations_since_restore": 7, "timesteps_since_restore": 465170, "pid": 59695, "time_this_iter_s": 54.741435289382935, "policy_reward_mean": {}, "timesteps_this_iter": 70050, "training_iteration": 7, "episode_reward_max": 1316.138168831184, "node_ip": "10.138.0.2", "time_since_restore": 352.0698654651642, "episodes_total": 188, "episode_reward_min": 58.07793818199988, "num_metric_batches_dropped": 0, "done": false, "timestamp": 1558430438, "custom_metrics": {"outflow_rate_min": 471.5751697424131, "system_level_velocity_min": 7.443607815525206, "cost1_max": 340.18579524145497, "system_level_velocity_max": 18.07589663282696, "cost2_min": -94.51177895889974, "outflow_rate_max": 1234.8067055980669, "system_level_velocity_mean": 10.774205628406753, "cost1_mean": 275.9859777122314, "cost2_mean": -61.977045406490326, "outflow_rate_mean": 1012.5700708637706, "cost2_max": -14.499104997587756, "cost1_min": 22.58229565715659}, "info": {"num_steps_trained": 465170, "sample_time_ms": 33043.337, "load_time_ms": 19.247, "grad_time_ms": 17004.097, "update_time_ms": 105.286, "default": {"policy_loss": -0.0030828011222183704, "cur_lr": 0.0005000000237487257, "kl": 0.007762894965708256, "total_loss": 13.771923065185547, "cur_kl_coeff": 0.10000000894069672, "vf_loss": 13.7742280960083, "entropy": 1.3475027084350586, "vf_explained_var": 0.7921600937843323}, "num_steps_sampled": 465170}, "time_total_s": 352.0698654651642, "config": {"output": null, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "max_seq_len": 20, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "lstm_use_prev_action_reward": false, "framestack": true, "grayscale": false, "dim": 84, "free_log_std": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "monitor": false, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "sample_async": false, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfbc860>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfbcf28>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfbce48>"}, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 686.73, "experiment_id": "49476b8bfa214ea3a002964354a4867e", "hostname": "flow-main", "episodes_this_iter": 27, "date": "2019-05-21_09-20-38"}
{"episode_reward_mean": 1172.028186671712, "timesteps_total": 534140, "iterations_since_restore": 8, "timesteps_since_restore": 534140, "pid": 59695, "time_this_iter_s": 53.817745208740234, "policy_reward_mean": {}, "timesteps_this_iter": 68970, "training_iteration": 8, "episode_reward_max": 1316.138168831184, "node_ip": "10.138.0.2", "time_since_restore": 405.8876106739044, "episodes_total": 215, "episode_reward_min": 59.00037122916034, "num_metric_batches_dropped": 0, "done": false, "timestamp": 1558430492, "custom_metrics": {"outflow_rate_min": 500.62316239572453, "system_level_velocity_min": 8.872191852436426, "cost1_max": 362.81491072452303, "system_level_velocity_max": 18.002670448964803, "cost2_min": -112.98592574065174, "outflow_rate_max": 1234.8067055980669, "system_level_velocity_mean": 11.166246131915019, "cost1_mean": 290.74654811262315, "cost2_mean": -69.88549796901249, "outflow_rate_mean": 1071.3713272935463, "cost2_max": -16.504473324837058, "cost1_min": 24.77725564446505}, "info": {"num_steps_trained": 534140, "sample_time_ms": 33319.092, "load_time_ms": 17.957, "grad_time_ms": 17181.314, "update_time_ms": 93.446, "default": {"policy_loss": -0.0037252961192280054, "cur_lr": 0.0005000000237487257, "kl": 0.007583708502352238, "total_loss": 17.005128860473633, "cur_kl_coeff": 0.10000000894069672, "vf_loss": 17.008094787597656, "entropy": 1.3414762020111084, "vf_explained_var": 0.7603859305381775}, "num_steps_sampled": 534140}, "time_total_s": 405.8876106739044, "config": {"output": null, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "max_seq_len": 20, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "lstm_use_prev_action_reward": false, "framestack": true, "grayscale": false, "dim": 84, "free_log_std": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "monitor": false, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "sample_async": false, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfd4dd8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfd4cf8>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfd46d8>"}, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 693.38, "experiment_id": "49476b8bfa214ea3a002964354a4867e", "hostname": "flow-main", "episodes_this_iter": 27, "date": "2019-05-21_09-21-32"}
{"episode_reward_mean": 1207.0850420010004, "timesteps_total": 604583, "iterations_since_restore": 9, "timesteps_since_restore": 604583, "pid": 59695, "time_this_iter_s": 55.21072459220886, "policy_reward_mean": {}, "timesteps_this_iter": 70443, "training_iteration": 9, "episode_reward_max": 1331.0130683147822, "node_ip": "10.138.0.2", "time_since_restore": 461.0983352661133, "episodes_total": 243, "episode_reward_min": 59.00037122916034, "num_metric_batches_dropped": 0, "done": false, "timestamp": 1558430547, "custom_metrics": {"outflow_rate_min": 500.62316239572453, "system_level_velocity_min": 8.872191852436426, "cost1_max": 362.81491072452303, "system_level_velocity_max": 18.002670448964803, "cost2_min": -114.18667896794594, "outflow_rate_max": 1243.8712449763461, "system_level_velocity_mean": 11.583607174074452, "cost1_mean": 301.58338465266047, "cost2_mean": -74.5223087628572, "outflow_rate_mean": 1103.5752562856633, "cost2_max": -16.504473324837058, "cost1_min": 24.77725564446505}, "info": {"num_steps_trained": 604583, "sample_time_ms": 33569.554, "load_time_ms": 16.98, "grad_time_ms": 17439.211, "update_time_ms": 84.058, "default": {"policy_loss": -0.0037771211937069893, "cur_lr": 0.0005000000237487257, "kl": 0.007797452621161938, "total_loss": 17.079753875732422, "cur_kl_coeff": 0.10000001639127731, "vf_loss": 17.08275032043457, "entropy": 1.3472245931625366, "vf_explained_var": 0.7818975448608398}, "num_steps_sampled": 604583}, "time_total_s": 461.0983352661133, "config": {"output": null, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "max_seq_len": 20, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "lstm_use_prev_action_reward": false, "framestack": true, "grayscale": false, "dim": 84, "free_log_std": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "monitor": false, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "sample_async": false, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfdb198>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfdbda0>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfdbcf8>"}, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 693.38, "experiment_id": "49476b8bfa214ea3a002964354a4867e", "hostname": "flow-main", "episodes_this_iter": 28, "date": "2019-05-21_09-22-27"}
{"episode_reward_mean": 1220.053790060922, "timesteps_total": 674636, "iterations_since_restore": 10, "timesteps_since_restore": 674636, "pid": 59695, "time_this_iter_s": 53.536888122558594, "policy_reward_mean": {}, "timesteps_this_iter": 70053, "training_iteration": 10, "episode_reward_max": 1393.8716043677068, "node_ip": "10.138.0.2", "time_since_restore": 514.6352233886719, "episodes_total": 275, "episode_reward_min": 59.00037122916034, "num_metric_batches_dropped": 0, "done": false, "timestamp": 1558430601, "custom_metrics": {"outflow_rate_min": 500.62316239572453, "system_level_velocity_min": 8.511201898721996, "cost1_max": 388.56858983507686, "system_level_velocity_max": 18.002670448964803, "cost2_min": -114.18667896794594, "outflow_rate_max": 1294.5547940846373, "system_level_velocity_mean": 11.787111827588747, "cost1_mean": 307.04272480178065, "cost2_mean": -75.40786784206485, "outflow_rate_mean": 1113.9987123255012, "cost2_max": -16.504473324837058, "cost1_min": 24.77725564446505}, "info": {"num_steps_trained": 674636, "sample_time_ms": 33778.026, "load_time_ms": 16.366, "grad_time_ms": 17469.548, "update_time_ms": 76.606, "default": {"policy_loss": -0.0036027240566909313, "cur_lr": 0.0005000000237487257, "kl": 0.007222548592835665, "total_loss": 18.805055618286133, "cur_kl_coeff": 0.10000000894069672, "vf_loss": 18.80793571472168, "entropy": 1.3428492546081543, "vf_explained_var": 0.7875609397888184}, "num_steps_sampled": 674636}, "time_total_s": 514.6352233886719, "config": {"output": null, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "max_seq_len": 20, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "lstm_use_prev_action_reward": false, "framestack": true, "grayscale": false, "dim": 84, "free_log_std": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "monitor": false, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "sample_async": false, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfdba90>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfdb7b8>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfdb828>"}, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 693.38, "experiment_id": "49476b8bfa214ea3a002964354a4867e", "hostname": "flow-main", "episodes_this_iter": 32, "date": "2019-05-21_09-23-21"}
{"episode_reward_mean": 1231.8426413879522, "timesteps_total": 745124, "iterations_since_restore": 11, "timesteps_since_restore": 745124, "pid": 59695, "time_this_iter_s": 53.7047004699707, "policy_reward_mean": {}, "timesteps_this_iter": 70488, "training_iteration": 11, "episode_reward_max": 1402.8567674418905, "node_ip": "10.138.0.2", "time_since_restore": 568.3399238586426, "episodes_total": 305, "episode_reward_min": 1059.2956853209946, "num_metric_batches_dropped": 0, "done": false, "timestamp": 1558430654, "custom_metrics": {"outflow_rate_min": 911.4747487993885, "system_level_velocity_min": 8.190735534843567, "cost1_max": 389.48085254985295, "system_level_velocity_max": 14.596957010249477, "cost2_min": -114.18667896794594, "outflow_rate_max": 1318.1752892399581, "system_level_velocity_mean": 11.8613245553103, "cost1_mean": 313.5152148672632, "cost2_mean": -74.77535352482144, "outflow_rate_mean": 1113.576381170825, "cost2_max": -53.36733287806267, "cost1_min": 211.08940976504533}, "info": {"num_steps_trained": 745124, "sample_time_ms": 34098.158, "load_time_ms": 9.755, "grad_time_ms": 17618.806, "update_time_ms": 8.585, "default": {"policy_loss": -0.004816604778170586, "cur_lr": 0.0005000000237487257, "kl": 0.010328363627195358, "total_loss": 17.577499389648438, "cur_kl_coeff": 0.10000001639127731, "vf_loss": 17.58128547668457, "entropy": 1.3323945999145508, "vf_explained_var": 0.8290388584136963}, "num_steps_sampled": 745124}, "time_total_s": 568.3399238586426, "config": {"output": null, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "max_seq_len": 20, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "lstm_use_prev_action_reward": false, "framestack": true, "grayscale": false, "dim": 84, "free_log_std": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "monitor": false, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "sample_async": false, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfc8358>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfc8c50>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfc8128>"}, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 700.0, "experiment_id": "49476b8bfa214ea3a002964354a4867e", "hostname": "flow-main", "episodes_this_iter": 30, "date": "2019-05-21_09-24-14"}
{"episode_reward_mean": 1226.4507659481546, "timesteps_total": 816275, "iterations_since_restore": 12, "timesteps_since_restore": 816275, "pid": 59695, "time_this_iter_s": 57.3284707069397, "policy_reward_mean": {}, "timesteps_this_iter": 71151, "training_iteration": 12, "episode_reward_max": 1405.6625519295344, "node_ip": "10.138.0.2", "time_since_restore": 625.6683945655823, "episodes_total": 334, "episode_reward_min": 1052.6880188083883, "num_metric_batches_dropped": 0, "done": false, "timestamp": 1558430712, "custom_metrics": {"outflow_rate_min": 911.4747487993885, "system_level_velocity_min": 8.190735534843567, "cost1_max": 389.48085254985295, "system_level_velocity_max": 14.596957010249477, "cost2_min": -114.18667896794594, "outflow_rate_max": 1318.1752892399581, "system_level_velocity_mean": 11.740023831202315, "cost1_mean": 310.1621176525161, "cost2_mean": -75.1850806843815, "outflow_rate_mean": 1100.5907536823286, "cost2_max": -53.36733287806267, "cost1_min": 211.08940976504533}, "info": {"num_steps_trained": 816275, "sample_time_ms": 34855.296, "load_time_ms": 9.754, "grad_time_ms": 18078.821, "update_time_ms": 8.938, "default": {"policy_loss": -0.00461958022788167, "cur_lr": 0.0005000000237487257, "kl": 0.009931922890245914, "total_loss": 19.81879234313965, "cur_kl_coeff": 0.10000001639127731, "vf_loss": 19.822416305541992, "entropy": 1.3267531394958496, "vf_explained_var": 0.7995075583457947}, "num_steps_sampled": 816275}, "time_total_s": 625.6683945655823, "config": {"output": null, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "max_seq_len": 20, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "lstm_use_prev_action_reward": false, "framestack": true, "grayscale": false, "dim": 84, "free_log_std": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "monitor": false, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "sample_async": false, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfd4dd8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfd4a20>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfc8ac8>"}, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 700.0, "experiment_id": "49476b8bfa214ea3a002964354a4867e", "hostname": "flow-main", "episodes_this_iter": 29, "date": "2019-05-21_09-25-12"}
{"episode_reward_mean": 1232.2403855853554, "timesteps_total": 884382, "iterations_since_restore": 13, "timesteps_since_restore": 884382, "pid": 59695, "time_this_iter_s": 52.19847130775452, "policy_reward_mean": {}, "timesteps_this_iter": 68107, "training_iteration": 13, "episode_reward_max": 1405.6625519295344, "node_ip": "10.138.0.2", "time_since_restore": 677.8668658733368, "episodes_total": 364, "episode_reward_min": 1052.6880188083883, "num_metric_batches_dropped": 0, "done": false, "timestamp": 1558430764, "custom_metrics": {"outflow_rate_min": 911.4747487993885, "system_level_velocity_min": 8.190735534843567, "cost1_max": 389.48085254985295, "system_level_velocity_max": 14.596957010249477, "cost2_min": -102.93322628507768, "outflow_rate_max": 1318.1752892399581, "system_level_velocity_mean": 11.866353570845467, "cost1_mean": 313.1654668021901, "cost2_mean": -75.8272415496537, "outflow_rate_mean": 1107.1527660393078, "cost2_max": -53.658407568224234, "cost1_min": 211.08940976504533}, "info": {"num_steps_trained": 884382, "sample_time_ms": 35097.89, "load_time_ms": 9.728, "grad_time_ms": 18319.099, "update_time_ms": 9.018, "default": {"policy_loss": -0.006015881430357695, "cur_lr": 0.0005000000237487257, "kl": 0.012415104545652866, "total_loss": 22.126667022705078, "cur_kl_coeff": 0.10000000894069672, "vf_loss": 22.131439208984375, "entropy": 1.3116360902786255, "vf_explained_var": 0.8277219533920288}, "num_steps_sampled": 884382}, "time_total_s": 677.8668658733368, "config": {"output": null, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "max_seq_len": 20, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "lstm_use_prev_action_reward": false, "framestack": true, "grayscale": false, "dim": 84, "free_log_std": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "monitor": false, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "sample_async": false, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfc8c50>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfdb400>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfc8780>"}, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 700.0, "experiment_id": "49476b8bfa214ea3a002964354a4867e", "hostname": "flow-main", "episodes_this_iter": 30, "date": "2019-05-21_09-26-04"}
{"episode_reward_mean": 1248.3061089500643, "timesteps_total": 951443, "iterations_since_restore": 14, "timesteps_since_restore": 951443, "pid": 59695, "time_this_iter_s": 53.19862985610962, "policy_reward_mean": {}, "timesteps_this_iter": 67061, "training_iteration": 14, "episode_reward_max": 1405.6625519295344, "node_ip": "10.138.0.2", "time_since_restore": 731.0654957294464, "episodes_total": 390, "episode_reward_min": 1052.6880188083883, "num_metric_batches_dropped": 0, "done": false, "timestamp": 1558430817, "custom_metrics": {"outflow_rate_min": 925.8404917618152, "system_level_velocity_min": 8.97163094805444, "cost1_max": 389.48085254985295, "system_level_velocity_max": 14.596957010249477, "cost2_min": -102.93322628507768, "outflow_rate_max": 1318.1752892399581, "system_level_velocity_mean": 12.127235429677325, "cost1_mean": 320.132426390667, "cost2_mean": -76.40411722197919, "outflow_rate_mean": 1131.1599243786045, "cost2_max": -57.57165094295503, "cost1_min": 229.82872449227136}, "info": {"num_steps_trained": 951443, "sample_time_ms": 35125.015, "load_time_ms": 9.686, "grad_time_ms": 18320.066, "update_time_ms": 8.868, "default": {"policy_loss": -0.00524676451459527, "cur_lr": 0.0005000000237487257, "kl": 0.011276846751570702, "total_loss": 20.12397003173828, "cur_kl_coeff": 0.10000002384185791, "vf_loss": 20.128087997436523, "entropy": 1.3083027601242065, "vf_explained_var": 0.8491519093513489}, "num_steps_sampled": 951443}, "time_total_s": 731.0654957294464, "config": {"output": null, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "max_seq_len": 20, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "lstm_use_prev_action_reward": false, "framestack": true, "grayscale": false, "dim": 84, "free_log_std": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "monitor": false, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "sample_async": false, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfc8400>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfc8a58>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfc89b0>"}, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 700.0, "experiment_id": "49476b8bfa214ea3a002964354a4867e", "hostname": "flow-main", "episodes_this_iter": 26, "date": "2019-05-21_09-26-57"}
{"episode_reward_mean": 1248.0606095888888, "timesteps_total": 1018756, "iterations_since_restore": 15, "timesteps_since_restore": 1018756, "pid": 59695, "time_this_iter_s": 53.44513249397278, "policy_reward_mean": {}, "timesteps_this_iter": 67313, "training_iteration": 15, "episode_reward_max": 1405.6625519295344, "node_ip": "10.138.0.2", "time_since_restore": 784.5106282234192, "episodes_total": 417, "episode_reward_min": 67.91702823686155, "num_metric_batches_dropped": 0, "done": false, "timestamp": 1558430871, "custom_metrics": {"outflow_rate_min": 506.7625289723731, "system_level_velocity_min": 7.898649444649072, "cost1_max": 386.80720095023355, "system_level_velocity_max": 17.86994635985726, "cost2_min": -107.07672972756751, "outflow_rate_max": 1339.0829804567977, "system_level_velocity_mean": 12.410957692454508, "cost1_mean": 323.2023394478333, "cost2_mean": -76.98361482916395, "outflow_rate_mean": 1143.4186557463854, "cost2_max": -16.931182547914737, "cost1_min": 26.98999720967219}, "info": {"num_steps_trained": 1018756, "sample_time_ms": 35488.641, "load_time_ms": 9.555, "grad_time_ms": 18154.227, "update_time_ms": 8.864, "default": {"policy_loss": -0.005580381955951452, "cur_lr": 0.0005000000237487257, "kl": 0.012783885933458805, "total_loss": 24.263046264648438, "cur_kl_coeff": 0.10000001639127731, "vf_loss": 24.267349243164062, "entropy": 1.3051658868789673, "vf_explained_var": 0.8308619260787964}, "num_steps_sampled": 1018756}, "time_total_s": 784.5106282234192, "config": {"output": null, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "max_seq_len": 20, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "lstm_use_prev_action_reward": false, "framestack": true, "grayscale": false, "dim": 84, "free_log_std": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "monitor": false, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "sample_async": false, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfbc208>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfbcdd8>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfbcef0>"}, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 693.42, "experiment_id": "49476b8bfa214ea3a002964354a4867e", "hostname": "flow-main", "episodes_this_iter": 27, "date": "2019-05-21_09-27-51"}
{"episode_reward_mean": 1262.7502510875963, "timesteps_total": 1087367, "iterations_since_restore": 16, "timesteps_since_restore": 1087367, "pid": 59695, "time_this_iter_s": 54.73895812034607, "policy_reward_mean": {}, "timesteps_this_iter": 68611, "training_iteration": 16, "episode_reward_max": 1397.1617375879207, "node_ip": "10.138.0.2", "time_since_restore": 839.2495863437653, "episodes_total": 443, "episode_reward_min": 67.91702823686155, "num_metric_batches_dropped": 0, "done": false, "timestamp": 1558430926, "custom_metrics": {"outflow_rate_min": 506.7625289723731, "system_level_velocity_min": 7.898649444649072, "cost1_max": 396.18335764553535, "system_level_velocity_max": 17.86994635985726, "cost2_min": -107.07672972756751, "outflow_rate_max": 1351.7222779502406, "system_level_velocity_mean": 12.724255939366815, "cost1_mean": 331.29982213854447, "cost2_mean": -78.88188316417592, "outflow_rate_mean": 1169.82470862571, "cost2_max": -16.931182547914737, "cost1_min": 26.98999720967219}, "info": {"num_steps_trained": 1087367, "sample_time_ms": 35621.957, "load_time_ms": 9.489, "grad_time_ms": 18425.316, "update_time_ms": 8.849, "default": {"policy_loss": -0.006183919496834278, "cur_lr": 0.0005000000237487257, "kl": 0.012867388315498829, "total_loss": 24.199907302856445, "cur_kl_coeff": 0.10000000894069672, "vf_loss": 24.204805374145508, "entropy": 1.2907462120056152, "vf_explained_var": 0.7998871207237244}, "num_steps_sampled": 1087367}, "time_total_s": 839.2495863437653, "config": {"output": null, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "max_seq_len": 20, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "lstm_use_prev_action_reward": false, "framestack": true, "grayscale": false, "dim": 84, "free_log_std": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "monitor": false, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "sample_async": false, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfc8e10>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfdb908>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfc8a90>"}, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 693.42, "experiment_id": "49476b8bfa214ea3a002964354a4867e", "hostname": "flow-main", "episodes_this_iter": 26, "date": "2019-05-21_09-28-46"}
{"episode_reward_mean": 1262.1707996767452, "timesteps_total": 1155456, "iterations_since_restore": 17, "timesteps_since_restore": 1155456, "pid": 59695, "time_this_iter_s": 53.19508504867554, "policy_reward_mean": {}, "timesteps_this_iter": 68089, "training_iteration": 17, "episode_reward_max": 1397.1617375879207, "node_ip": "10.138.0.2", "time_since_restore": 892.4446713924408, "episodes_total": 469, "episode_reward_min": 67.91702823686155, "num_metric_batches_dropped": 0, "done": false, "timestamp": 1558430979, "custom_metrics": {"outflow_rate_min": 506.7625289723731, "system_level_velocity_min": 7.898649444649072, "cost1_max": 399.21713602349894, "system_level_velocity_max": 17.86994635985726, "cost2_min": -129.07377473286414, "outflow_rate_max": 1351.7222779502406, "system_level_velocity_mean": 12.63246290857968, "cost1_mean": 328.0937854775741, "cost2_mean": -82.77280844486698, "outflow_rate_mean": 1183.5153957428793, "cost2_max": -16.931182547914737, "cost1_min": 26.98999720967219}, "info": {"num_steps_trained": 1155456, "sample_time_ms": 35429.868, "load_time_ms": 9.607, "grad_time_ms": 18459.371, "update_time_ms": 9.079, "default": {"policy_loss": -0.005594181828200817, "cur_lr": 0.0005000000237487257, "kl": 0.012517825700342655, "total_loss": 26.103431701660156, "cur_kl_coeff": 0.10000000894069672, "vf_loss": 26.10777473449707, "entropy": 1.2865229845046997, "vf_explained_var": 0.8100153803825378}, "num_steps_sampled": 1155456}, "time_total_s": 892.4446713924408, "config": {"output": null, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "max_seq_len": 20, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "lstm_use_prev_action_reward": false, "framestack": true, "grayscale": false, "dim": 84, "free_log_std": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "monitor": false, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "sample_async": false, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfdbcf8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfdbf98>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfdbac8>"}, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 693.42, "experiment_id": "49476b8bfa214ea3a002964354a4867e", "hostname": "flow-main", "episodes_this_iter": 26, "date": "2019-05-21_09-29-39"}
{"episode_reward_mean": 1270.1295615032145, "timesteps_total": 1222707, "iterations_since_restore": 18, "timesteps_since_restore": 1222707, "pid": 59695, "time_this_iter_s": 50.62043809890747, "policy_reward_mean": {}, "timesteps_this_iter": 67251, "training_iteration": 18, "episode_reward_max": 1414.645277067795, "node_ip": "10.138.0.2", "time_since_restore": 943.0651094913483, "episodes_total": 496, "episode_reward_min": 1081.8940268309736, "num_metric_batches_dropped": 0, "done": false, "timestamp": 1558431029, "custom_metrics": {"outflow_rate_min": 958.9782865899097, "system_level_velocity_min": 7.898649444649072, "cost1_max": 399.21713602349894, "system_level_velocity_max": 15.040710453346243, "cost2_min": -129.07377473286414, "outflow_rate_max": 1405.9318996079296, "system_level_velocity_mean": 12.511968956177828, "cost1_mean": 328.55644528341304, "cost2_mean": -85.37744061571229, "outflow_rate_mean": 1194.6128188310452, "cost2_max": -65.31311616348722, "cost1_min": 202.01135467193012}, "info": {"num_steps_trained": 1222707, "sample_time_ms": 35283.53, "load_time_ms": 9.642, "grad_time_ms": 18287.709, "update_time_ms": 8.843, "default": {"policy_loss": -0.005524703301489353, "cur_lr": 0.0005000000237487257, "kl": 0.014015965163707733, "total_loss": 29.19088363647461, "cur_kl_coeff": 0.10000001639127731, "vf_loss": 29.19500732421875, "entropy": 1.2722102403640747, "vf_explained_var": 0.7774892449378967}, "num_steps_sampled": 1222707}, "time_total_s": 943.0651094913483, "config": {"output": null, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "max_seq_len": 20, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "lstm_use_prev_action_reward": false, "framestack": true, "grayscale": false, "dim": 84, "free_log_std": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "monitor": false, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "sample_async": false, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfd4c50>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfd4a20>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfd4390>"}, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 700.0, "experiment_id": "49476b8bfa214ea3a002964354a4867e", "hostname": "flow-main", "episodes_this_iter": 27, "date": "2019-05-21_09-30-29"}
{"episode_reward_mean": 1268.028242408932, "timesteps_total": 1289229, "iterations_since_restore": 19, "timesteps_since_restore": 1289229, "pid": 59695, "time_this_iter_s": 52.97630834579468, "policy_reward_mean": {}, "timesteps_this_iter": 66522, "training_iteration": 19, "episode_reward_max": 1414.645277067795, "node_ip": "10.138.0.2", "time_since_restore": 996.041417837143, "episodes_total": 522, "episode_reward_min": 1081.8940268309736, "num_metric_batches_dropped": 0, "done": false, "timestamp": 1558431082, "custom_metrics": {"outflow_rate_min": 958.9782865899097, "system_level_velocity_min": 9.403839614388188, "cost1_max": 399.21713602349894, "system_level_velocity_max": 15.040710453346243, "cost2_min": -129.07377473286414, "outflow_rate_max": 1405.9318996079296, "system_level_velocity_mean": 12.49913032987412, "cost1_mean": 327.81310782246953, "cost2_mean": -86.34238550353153, "outflow_rate_mean": 1199.4424896140702, "cost2_max": -65.74079973257862, "cost1_min": 243.9672868833049}, "info": {"num_steps_trained": 1289229, "sample_time_ms": 35106.812, "load_time_ms": 9.68, "grad_time_ms": 18241.927, "update_time_ms": 8.659, "default": {"policy_loss": -0.005778004415333271, "cur_lr": 0.0005000000237487257, "kl": 0.012320687994360924, "total_loss": 25.216066360473633, "cur_kl_coeff": 0.10000001639127731, "vf_loss": 25.220613479614258, "entropy": 1.2767386436462402, "vf_explained_var": 0.8359168171882629}, "num_steps_sampled": 1289229}, "time_total_s": 996.041417837143, "config": {"output": null, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "max_seq_len": 20, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "lstm_use_prev_action_reward": false, "framestack": true, "grayscale": false, "dim": 84, "free_log_std": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "monitor": false, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "sample_async": false, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfdbd68>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfdb470>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfdb668>"}, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 700.0, "experiment_id": "49476b8bfa214ea3a002964354a4867e", "hostname": "flow-main", "episodes_this_iter": 26, "date": "2019-05-21_09-31-22"}
{"episode_reward_mean": 1270.6399713834417, "timesteps_total": 1357148, "iterations_since_restore": 20, "timesteps_since_restore": 1357148, "pid": 59695, "time_this_iter_s": 51.504032135009766, "policy_reward_mean": {}, "timesteps_this_iter": 67919, "training_iteration": 20, "episode_reward_max": 1414.645277067795, "node_ip": "10.138.0.2", "time_since_restore": 1047.5454499721527, "episodes_total": 550, "episode_reward_min": 1103.8899030483253, "num_metric_batches_dropped": 0, "done": false, "timestamp": 1558431134, "custom_metrics": {"outflow_rate_min": 989.3664705882355, "system_level_velocity_min": 9.349227245115797, "cost1_max": 399.21713602349894, "system_level_velocity_max": 15.040710453346243, "cost2_min": -129.07377473286414, "outflow_rate_max": 1405.9318996079296, "system_level_velocity_mean": 12.649568756106468, "cost1_mean": 332.0438522075229, "cost2_mean": -84.92647828644058, "outflow_rate_mean": 1199.2710144688933, "cost2_max": -65.74079973257862, "cost1_min": 241.20520992324415}, "info": {"num_steps_trained": 1357148, "sample_time_ms": 35045.935, "load_time_ms": 9.522, "grad_time_ms": 18099.252, "update_time_ms": 8.528, "default": {"policy_loss": -0.004929023794829845, "cur_lr": 0.0005000000237487257, "kl": 0.011567911133170128, "total_loss": 26.671369552612305, "cur_kl_coeff": 0.10000001639127731, "vf_loss": 26.675140380859375, "entropy": 1.2631845474243164, "vf_explained_var": 0.8250477910041809}, "num_steps_sampled": 1357148}, "time_total_s": 1047.5454499721527, "config": {"output": null, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "max_seq_len": 20, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "lstm_use_prev_action_reward": false, "framestack": true, "grayscale": false, "dim": 84, "free_log_std": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "monitor": false, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "sample_async": false, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfbc358>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfbcda0>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c016eb8>"}, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 700.0, "experiment_id": "49476b8bfa214ea3a002964354a4867e", "hostname": "flow-main", "episodes_this_iter": 28, "date": "2019-05-21_09-32-14"}
{"episode_reward_mean": 1281.9152256100133, "timesteps_total": 1424027, "iterations_since_restore": 21, "timesteps_since_restore": 1424027, "pid": 59695, "time_this_iter_s": 54.56324577331543, "policy_reward_mean": {}, "timesteps_this_iter": 66879, "training_iteration": 21, "episode_reward_max": 1407.281293219478, "node_ip": "10.138.0.2", "time_since_restore": 1102.1086957454681, "episodes_total": 585, "episode_reward_min": 1089.3364308416396, "num_metric_batches_dropped": 0, "done": false, "timestamp": 1558431189, "custom_metrics": {"outflow_rate_min": 945.982494921452, "system_level_velocity_min": 9.349227245115797, "cost1_max": 391.0527516519368, "system_level_velocity_max": 14.806653585672331, "cost2_min": -115.38375077962249, "outflow_rate_max": 1389.5323562183364, "system_level_velocity_mean": 12.72307841983021, "cost1_mean": 334.60884073340384, "cost2_mean": -85.13819944596544, "outflow_rate_mean": 1207.914291917748, "cost2_max": -62.98506807154263, "cost1_min": 241.20520992324415}, "info": {"num_steps_trained": 1424027, "sample_time_ms": 35128.572, "load_time_ms": 9.473, "grad_time_ms": 18105.63, "update_time_ms": 8.472, "default": {"policy_loss": -0.005474308971315622, "cur_lr": 0.0005000000237487257, "kl": 0.012026244774460793, "total_loss": 36.675880432128906, "cur_kl_coeff": 0.10000000894069672, "vf_loss": 36.68014907836914, "entropy": 1.255150318145752, "vf_explained_var": 0.7876038551330566}, "num_steps_sampled": 1424027}, "time_total_s": 1102.1086957454681, "config": {"output": null, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "max_seq_len": 20, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "lstm_use_prev_action_reward": false, "framestack": true, "grayscale": false, "dim": 84, "free_log_std": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "monitor": false, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "sample_async": false, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfdb780>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfdbbe0>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfdb668>"}, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 700.0, "experiment_id": "49476b8bfa214ea3a002964354a4867e", "hostname": "flow-main", "episodes_this_iter": 35, "date": "2019-05-21_09-33-09"}
{"episode_reward_mean": 1294.0204892913107, "timesteps_total": 1490723, "iterations_since_restore": 22, "timesteps_since_restore": 1490723, "pid": 59695, "time_this_iter_s": 53.87114477157593, "policy_reward_mean": {}, "timesteps_this_iter": 66696, "training_iteration": 22, "episode_reward_max": 1480.007498452816, "node_ip": "10.138.0.2", "time_since_restore": 1155.979840517044, "episodes_total": 615, "episode_reward_min": 1089.3364308416396, "num_metric_batches_dropped": 0, "done": false, "timestamp": 1558431243, "custom_metrics": {"outflow_rate_min": 945.982494921452, "system_level_velocity_min": 9.349227245115797, "cost1_max": 422.0347941776978, "system_level_velocity_max": 15.885184789588644, "cost2_min": -115.38375077962249, "outflow_rate_max": 1532.1979214815883, "system_level_velocity_mean": 12.92298545240657, "cost1_mean": 340.1761250550678, "cost2_mean": -83.29042632468666, "outflow_rate_mean": 1225.4483241207179, "cost2_max": -55.797990019042544, "cost1_min": 241.20520992324415}, "info": {"num_steps_trained": 1490723, "sample_time_ms": 34840.963, "load_time_ms": 9.287, "grad_time_ms": 18047.431, "update_time_ms": 8.367, "default": {"policy_loss": -0.006998872850090265, "cur_lr": 0.0005000000237487257, "kl": 0.014972176402807236, "total_loss": 36.162818908691406, "cur_kl_coeff": 0.10000000894069672, "vf_loss": 36.16831970214844, "entropy": 1.2508859634399414, "vf_explained_var": 0.7875469326972961}, "num_steps_sampled": 1490723}, "time_total_s": 1155.979840517044, "config": {"output": null, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "max_seq_len": 20, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "lstm_use_prev_action_reward": false, "framestack": true, "grayscale": false, "dim": 84, "free_log_std": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "monitor": false, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "sample_async": false, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfd4ba8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfd47f0>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfd4390>"}, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 700.0, "experiment_id": "49476b8bfa214ea3a002964354a4867e", "hostname": "flow-main", "episodes_this_iter": 30, "date": "2019-05-21_09-34-03"}
{"episode_reward_mean": 1267.9077570596453, "timesteps_total": 1555451, "iterations_since_restore": 23, "timesteps_since_restore": 1555451, "pid": 59695, "time_this_iter_s": 53.087013244628906, "policy_reward_mean": {}, "timesteps_this_iter": 64728, "training_iteration": 23, "episode_reward_max": 1480.007498452816, "node_ip": "10.138.0.2", "time_since_restore": 1209.066853761673, "episodes_total": 646, "episode_reward_min": 59.50593758981039, "num_metric_batches_dropped": 0, "done": false, "timestamp": 1558431296, "custom_metrics": {"outflow_rate_min": 494.720681943273, "system_level_velocity_min": 9.469295407121491, "cost1_max": 422.0347941776978, "system_level_velocity_max": 18.128976958986183, "cost2_min": -115.38375077962249, "outflow_rate_max": 1532.1979214815883, "system_level_velocity_mean": 12.946459396825778, "cost1_mean": 331.5300097714722, "cost2_mean": -82.39358849146419, "outflow_rate_mean": 1219.242761706631, "cost2_max": -13.297356271806253, "cost1_min": 23.925730141405676}, "info": {"num_steps_trained": 1555451, "sample_time_ms": 34877.138, "load_time_ms": 9.094, "grad_time_ms": 18102.257, "update_time_ms": 8.24, "default": {"policy_loss": -0.006748957559466362, "cur_lr": 0.0005000000237487257, "kl": 0.014552447013556957, "total_loss": 36.39398956298828, "cur_kl_coeff": 0.10000001639127731, "vf_loss": 36.3992805480957, "entropy": 1.237625002861023, "vf_explained_var": 0.788582444190979}, "num_steps_sampled": 1555451}, "time_total_s": 1209.066853761673, "config": {"output": null, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "max_seq_len": 20, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "lstm_use_prev_action_reward": false, "framestack": true, "grayscale": false, "dim": 84, "free_log_std": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "monitor": false, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "sample_async": false, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfbc7f0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfdbc18>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfbcc50>"}, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 686.75, "experiment_id": "49476b8bfa214ea3a002964354a4867e", "hostname": "flow-main", "episodes_this_iter": 31, "date": "2019-05-21_09-34-56"}
{"episode_reward_mean": 1264.4842124797706, "timesteps_total": 1620926, "iterations_since_restore": 24, "timesteps_since_restore": 1620926, "pid": 59695, "time_this_iter_s": 51.78588891029358, "policy_reward_mean": {}, "timesteps_this_iter": 65475, "training_iteration": 24, "episode_reward_max": 1480.007498452816, "node_ip": "10.138.0.2", "time_since_restore": 1260.8527426719666, "episodes_total": 673, "episode_reward_min": 59.50593758981039, "num_metric_batches_dropped": 0, "done": false, "timestamp": 1558431348, "custom_metrics": {"outflow_rate_min": 494.720681943273, "system_level_velocity_min": 9.469295407121491, "cost1_max": 422.0347941776978, "system_level_velocity_max": 18.128976958986183, "cost2_min": -118.82477309419451, "outflow_rate_max": 1532.1979214815883, "system_level_velocity_mean": 12.951953121240082, "cost1_mean": 331.39592734628366, "cost2_mean": -82.89929369733773, "outflow_rate_mean": 1213.413096953533, "cost2_max": -13.297356271806253, "cost1_min": 23.925730141405676}, "info": {"num_steps_trained": 1620926, "sample_time_ms": 34772.443, "load_time_ms": 9.393, "grad_time_ms": 18060.965, "update_time_ms": 8.396, "default": {"policy_loss": -0.005722573958337307, "cur_lr": 0.0005000000237487257, "kl": 0.014209410175681114, "total_loss": 29.2388973236084, "cur_kl_coeff": 0.10000000894069672, "vf_loss": 29.243196487426758, "entropy": 1.2267861366271973, "vf_explained_var": 0.8306398391723633}, "num_steps_sampled": 1620926}, "time_total_s": 1260.8527426719666, "config": {"output": null, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "max_seq_len": 20, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "lstm_use_prev_action_reward": false, "framestack": true, "grayscale": false, "dim": 84, "free_log_std": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "monitor": false, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "sample_async": false, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfe8eb8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfe8b38>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfe8b70>"}, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 686.75, "experiment_id": "49476b8bfa214ea3a002964354a4867e", "hostname": "flow-main", "episodes_this_iter": 27, "date": "2019-05-21_09-35-48"}
{"episode_reward_mean": 1245.7822811831759, "timesteps_total": 1686792, "iterations_since_restore": 25, "timesteps_since_restore": 1686792, "pid": 59695, "time_this_iter_s": 51.264065980911255, "policy_reward_mean": {}, "timesteps_this_iter": 65866, "training_iteration": 25, "episode_reward_max": 1477.2173062194079, "node_ip": "10.138.0.2", "time_since_restore": 1312.1168086528778, "episodes_total": 701, "episode_reward_min": 58.69334461327854, "num_metric_batches_dropped": 0, "done": false, "timestamp": 1558431399, "custom_metrics": {"outflow_rate_min": 492.665104950494, "system_level_velocity_min": 9.469295407121491, "cost1_max": 422.0347941776978, "system_level_velocity_max": 18.2146704019413, "cost2_min": -118.82477309419451, "outflow_rate_max": 1520.6199564350327, "system_level_velocity_mean": 13.015855162148988, "cost1_mean": 328.27144900329455, "cost2_mean": -82.04087630206239, "outflow_rate_mean": 1198.433870002596, "cost2_max": -12.529112077238326, "cost1_min": 22.660061110900134}, "info": {"num_steps_trained": 1686792, "sample_time_ms": 34554.261, "load_time_ms": 9.477, "grad_time_ms": 18061.716, "update_time_ms": 8.304, "default": {"policy_loss": -0.008727740496397018, "cur_lr": 0.0005000000237487257, "kl": 0.01682857796549797, "total_loss": 32.02347946166992, "cur_kl_coeff": 0.10000001639127731, "vf_loss": 32.03052520751953, "entropy": 1.2352867126464844, "vf_explained_var": 0.8067235350608826}, "num_steps_sampled": 1686792}, "time_total_s": 1312.1168086528778, "config": {"output": null, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "max_seq_len": 20, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "lstm_use_prev_action_reward": false, "framestack": true, "grayscale": false, "dim": 84, "free_log_std": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "monitor": false, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "sample_async": false, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfbc6d8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfbc748>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfbc2b0>"}, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 680.1, "experiment_id": "49476b8bfa214ea3a002964354a4867e", "hostname": "flow-main", "episodes_this_iter": 28, "date": "2019-05-21_09-36-39"}
{"episode_reward_mean": 1243.918024499303, "timesteps_total": 1752914, "iterations_since_restore": 26, "timesteps_since_restore": 1752914, "pid": 59695, "time_this_iter_s": 53.408355712890625, "policy_reward_mean": {}, "timesteps_this_iter": 66122, "training_iteration": 26, "episode_reward_max": 1477.2173062194079, "node_ip": "10.138.0.2", "time_since_restore": 1365.5251643657684, "episodes_total": 728, "episode_reward_min": 56.60714421629217, "num_metric_batches_dropped": 0, "done": false, "timestamp": 1558431452, "custom_metrics": {"outflow_rate_min": 492.665104950494, "system_level_velocity_min": 9.469295407121491, "cost1_max": 420.22611714916195, "system_level_velocity_max": 18.517213577141785, "cost2_min": -127.18273427841402, "outflow_rate_max": 1501.990213987381, "system_level_velocity_mean": 13.015988123259428, "cost1_mean": 328.2113724779597, "cost2_mean": -83.30464867162567, "outflow_rate_mean": 1188.2977739844018, "cost2_max": -12.529112077238326, "cost1_min": 22.660061110900134}, "info": {"num_steps_trained": 1752914, "sample_time_ms": 34596.19, "load_time_ms": 9.439, "grad_time_ms": 17886.886, "update_time_ms": 8.278, "default": {"policy_loss": -0.006942126899957657, "cur_lr": 0.0005000000237487257, "kl": 0.014973323792219162, "total_loss": 29.684072494506836, "cur_kl_coeff": 0.10000000894069672, "vf_loss": 29.689517974853516, "entropy": 1.2485969066619873, "vf_explained_var": 0.8464962840080261}, "num_steps_sampled": 1752914}, "time_total_s": 1365.5251643657684, "config": {"output": null, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "max_seq_len": 20, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "lstm_use_prev_action_reward": false, "framestack": true, "grayscale": false, "dim": 84, "free_log_std": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "monitor": false, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "sample_async": false, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfc8e48>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfc8208>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfc8400>"}, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 680.07, "experiment_id": "49476b8bfa214ea3a002964354a4867e", "hostname": "flow-main", "episodes_this_iter": 27, "date": "2019-05-21_09-37-32"}
{"episode_reward_mean": 1254.7938167255622, "timesteps_total": 1819174, "iterations_since_restore": 27, "timesteps_since_restore": 1819174, "pid": 59695, "time_this_iter_s": 54.54425930976868, "policy_reward_mean": {}, "timesteps_this_iter": 66260, "training_iteration": 27, "episode_reward_max": 1423.2216563993995, "node_ip": "10.138.0.2", "time_since_restore": 1420.069423675537, "episodes_total": 754, "episode_reward_min": 56.60714421629217, "num_metric_batches_dropped": 0, "done": false, "timestamp": 1558431507, "custom_metrics": {"outflow_rate_min": 492.665104950494, "system_level_velocity_min": 9.888432102505245, "cost1_max": 414.65173316523055, "system_level_velocity_max": 18.517213577141785, "cost2_min": -127.18273427841402, "outflow_rate_max": 1432.5497288012039, "system_level_velocity_mean": 13.068553371387571, "cost1_mean": 334.0627910992473, "cost2_mean": -81.67660479972282, "outflow_rate_mean": 1194.6850274002486, "cost2_max": -12.529112077238326, "cost1_min": 22.660061110900134}, "info": {"num_steps_trained": 1819174, "sample_time_ms": 34767.178, "load_time_ms": 8.965, "grad_time_ms": 17853.316, "update_time_ms": 8.421, "default": {"policy_loss": -0.009081673808395863, "cur_lr": 0.0005000000237487257, "kl": 0.01711828075349331, "total_loss": 28.995023727416992, "cur_kl_coeff": 0.10000000894069672, "vf_loss": 29.002395629882812, "entropy": 1.2452178001403809, "vf_explained_var": 0.8451765775680542}, "num_steps_sampled": 1819174}, "time_total_s": 1420.069423675537, "config": {"output": null, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "max_seq_len": 20, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "lstm_use_prev_action_reward": false, "framestack": true, "grayscale": false, "dim": 84, "free_log_std": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "monitor": false, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "sample_async": false, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfe8898>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfe8630>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfe88d0>"}, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 686.7, "experiment_id": "49476b8bfa214ea3a002964354a4867e", "hostname": "flow-main", "episodes_this_iter": 26, "date": "2019-05-21_09-38-27"}
{"episode_reward_mean": 1256.7798297579577, "timesteps_total": 1884848, "iterations_since_restore": 28, "timesteps_since_restore": 1884848, "pid": 59695, "time_this_iter_s": 50.55463171005249, "policy_reward_mean": {}, "timesteps_this_iter": 65674, "training_iteration": 28, "episode_reward_max": 1423.2216563993995, "node_ip": "10.138.0.2", "time_since_restore": 1470.6240553855896, "episodes_total": 780, "episode_reward_min": 56.60714421629217, "num_metric_batches_dropped": 0, "done": false, "timestamp": 1558431557, "custom_metrics": {"outflow_rate_min": 492.665104950494, "system_level_velocity_min": 9.888432102505245, "cost1_max": 414.65173316523055, "system_level_velocity_max": 18.517213577141785, "cost2_min": -127.18273427841402, "outflow_rate_max": 1432.5497288012039, "system_level_velocity_mean": 13.148383910857904, "cost1_mean": 336.0159571956605, "cost2_mean": -80.06685178351592, "outflow_rate_mean": 1196.5704876144719, "cost2_max": -12.529112077238326, "cost1_min": 22.660061110900134}, "info": {"num_steps_trained": 1884848, "sample_time_ms": 34708.62, "load_time_ms": 8.919, "grad_time_ms": 17904.679, "update_time_ms": 8.624, "default": {"policy_loss": -0.006856949534267187, "cur_lr": 0.0005000000237487257, "kl": 0.015471488237380981, "total_loss": 31.7158203125, "cur_kl_coeff": 0.10000002384185791, "vf_loss": 31.72113037109375, "entropy": 1.2305803298950195, "vf_explained_var": 0.8393023014068604}, "num_steps_sampled": 1884848}, "time_total_s": 1470.6240553855896, "config": {"output": null, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "max_seq_len": 20, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "lstm_use_prev_action_reward": false, "framestack": true, "grayscale": false, "dim": 84, "free_log_std": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "monitor": false, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "sample_async": false, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfba748>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfbab38>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfbca20>"}, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 686.7, "experiment_id": "49476b8bfa214ea3a002964354a4867e", "hostname": "flow-main", "episodes_this_iter": 26, "date": "2019-05-21_09-39-17"}
{"episode_reward_mean": 1267.0991174334247, "timesteps_total": 1951427, "iterations_since_restore": 29, "timesteps_since_restore": 1951427, "pid": 59695, "time_this_iter_s": 52.888230323791504, "policy_reward_mean": {}, "timesteps_this_iter": 66579, "training_iteration": 29, "episode_reward_max": 1423.2216563993995, "node_ip": "10.138.0.2", "time_since_restore": 1523.512285709381, "episodes_total": 807, "episode_reward_min": 56.60714421629217, "num_metric_batches_dropped": 0, "done": false, "timestamp": 1558431610, "custom_metrics": {"outflow_rate_min": 493.8745706160326, "system_level_velocity_min": 9.938102015223276, "cost1_max": 414.65173316523055, "system_level_velocity_max": 18.517213577141785, "cost2_min": -127.18273427841402, "outflow_rate_max": 1432.5497288012039, "system_level_velocity_mean": 13.117903356019792, "cost1_mean": 339.7035840687746, "cost2_mean": -80.20903839260095, "outflow_rate_mean": 1198.7861764786112, "cost2_max": -16.85297484175032, "cost1_min": 23.040084862107413}, "info": {"num_steps_trained": 1951427, "sample_time_ms": 34725.254, "load_time_ms": 9.068, "grad_time_ms": 17876.641, "update_time_ms": 8.854, "default": {"policy_loss": -0.007087435107678175, "cur_lr": 0.0005000000237487257, "kl": 0.01664404757320881, "total_loss": 33.46349334716797, "cur_kl_coeff": 0.10000001639127731, "vf_loss": 33.46891403198242, "entropy": 1.2346837520599365, "vf_explained_var": 0.8316959142684937}, "num_steps_sampled": 1951427}, "time_total_s": 1523.512285709381, "config": {"output": null, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "max_seq_len": 20, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "lstm_use_prev_action_reward": false, "framestack": true, "grayscale": false, "dim": 84, "free_log_std": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "monitor": false, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "sample_async": false, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfe8278>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfe8710>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfe8860>"}, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 693.35, "experiment_id": "49476b8bfa214ea3a002964354a4867e", "hostname": "flow-main", "episodes_this_iter": 27, "date": "2019-05-21_09-40-10"}
{"episode_reward_mean": 1281.6016130414384, "timesteps_total": 2017913, "iterations_since_restore": 30, "timesteps_since_restore": 2017913, "pid": 59695, "time_this_iter_s": 60.072487592697144, "policy_reward_mean": {}, "timesteps_this_iter": 66486, "training_iteration": 30, "episode_reward_max": 1437.2431725428123, "node_ip": "10.138.0.2", "time_since_restore": 1583.5847733020782, "episodes_total": 833, "episode_reward_min": 1142.258237540257, "num_metric_batches_dropped": 0, "done": false, "timestamp": 1558431671, "custom_metrics": {"outflow_rate_min": 1052.3258357722677, "system_level_velocity_min": 9.870728683706039, "cost1_max": 414.65173316523055, "system_level_velocity_max": 15.72663028950547, "cost2_min": -111.92318106454712, "outflow_rate_max": 1434.092086428801, "system_level_velocity_mean": 13.143600758807006, "cost1_mean": 344.857284819984, "cost2_mean": -80.38746275231789, "outflow_rate_mean": 1212.1192241458211, "cost2_max": -65.41654009504671, "cost1_min": 255.03317344581143}, "info": {"num_steps_trained": 2017913, "sample_time_ms": 34436.479, "load_time_ms": 9.154, "grad_time_ms": 18992.653, "update_time_ms": 8.872, "default": {"policy_loss": -0.008951527066528797, "cur_lr": 0.0005000000237487257, "kl": 0.018823307007551193, "total_loss": 31.514699935913086, "cur_kl_coeff": 0.10000001639127731, "vf_loss": 31.52176856994629, "entropy": 1.236094355583191, "vf_explained_var": 0.8655557632446289}, "num_steps_sampled": 2017913}, "time_total_s": 1583.5847733020782, "config": {"output": null, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "max_seq_len": 20, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "lstm_use_prev_action_reward": false, "framestack": true, "grayscale": false, "dim": 84, "free_log_std": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "monitor": false, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "sample_async": false, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfdb550>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfdb6a0>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfdb320>"}, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 700.0, "experiment_id": "49476b8bfa214ea3a002964354a4867e", "hostname": "flow-main", "episodes_this_iter": 26, "date": "2019-05-21_09-41-11"}
{"episode_reward_mean": 1279.125692368341, "timesteps_total": 2085740, "iterations_since_restore": 31, "timesteps_since_restore": 2085740, "pid": 59695, "time_this_iter_s": 66.26568412780762, "policy_reward_mean": {}, "timesteps_this_iter": 67827, "training_iteration": 31, "episode_reward_max": 1437.2431725428123, "node_ip": "10.138.0.2", "time_since_restore": 1649.8504574298859, "episodes_total": 862, "episode_reward_min": 1137.052822893315, "num_metric_batches_dropped": 0, "done": false, "timestamp": 1558431737, "custom_metrics": {"outflow_rate_min": 1052.3258357722677, "system_level_velocity_min": 9.870728683706039, "cost1_max": 411.3128601711916, "system_level_velocity_max": 15.522857082852674, "cost2_min": -111.92318106454712, "outflow_rate_max": 1434.092086428801, "system_level_velocity_mean": 13.10761010044241, "cost1_mean": 343.6797786596384, "cost2_mean": -82.09342803477732, "outflow_rate_mean": 1205.2223874533952, "cost2_max": -65.41654009504671, "cost1_min": 255.03317344581143}, "info": {"num_steps_trained": 2085740, "sample_time_ms": 35762.712, "load_time_ms": 9.2, "grad_time_ms": 18835.705, "update_time_ms": 11.541, "default": {"policy_loss": -0.00753328250721097, "cur_lr": 0.0005000000237487257, "kl": 0.01871762052178383, "total_loss": 32.678253173828125, "cur_kl_coeff": 0.10000001639127731, "vf_loss": 32.68391036987305, "entropy": 1.241170883178711, "vf_explained_var": 0.8426833748817444}, "num_steps_sampled": 2085740}, "time_total_s": 1649.8504574298859, "config": {"output": null, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "max_seq_len": 20, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "lstm_use_prev_action_reward": false, "framestack": true, "grayscale": false, "dim": 84, "free_log_std": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "monitor": false, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "sample_async": false, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfd4860>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfd4a90>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfd4d30>"}, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 700.0, "experiment_id": "49476b8bfa214ea3a002964354a4867e", "hostname": "flow-main", "episodes_this_iter": 29, "date": "2019-05-21_09-42-17"}
{"episode_reward_mean": 1272.987145214647, "timesteps_total": 2152351, "iterations_since_restore": 32, "timesteps_since_restore": 2152351, "pid": 59695, "time_this_iter_s": 52.04562568664551, "policy_reward_mean": {}, "timesteps_this_iter": 66611, "training_iteration": 32, "episode_reward_max": 1437.2431725428123, "node_ip": "10.138.0.2", "time_since_restore": 1701.8960831165314, "episodes_total": 897, "episode_reward_min": 1137.052822893315, "num_metric_batches_dropped": 0, "done": false, "timestamp": 1558431789, "custom_metrics": {"outflow_rate_min": 1052.3258357722677, "system_level_velocity_min": 9.489627595166985, "cost1_max": 411.3128601711916, "system_level_velocity_max": 15.522857082852674, "cost2_min": -122.59981830902345, "outflow_rate_max": 1434.092086428801, "system_level_velocity_mean": 12.901314844252145, "cost1_mean": 337.62360030452294, "cost2_mean": -85.27024017536515, "outflow_rate_mean": 1201.4152775941889, "cost2_max": -65.41654009504671, "cost1_min": 246.06145038196286}, "info": {"num_steps_trained": 2152351, "sample_time_ms": 35913.267, "load_time_ms": 9.197, "grad_time_ms": 18502.837, "update_time_ms": 11.276, "default": {"policy_loss": -0.008235410787165165, "cur_lr": 0.0005000000237487257, "kl": 0.016543487086892128, "total_loss": 41.249412536621094, "cur_kl_coeff": 0.10000001639127731, "vf_loss": 41.2559928894043, "entropy": 1.2364921569824219, "vf_explained_var": 0.8155623078346252}, "num_steps_sampled": 2152351}, "time_total_s": 1701.8960831165314, "config": {"output": null, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "max_seq_len": 20, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "lstm_use_prev_action_reward": false, "framestack": true, "grayscale": false, "dim": 84, "free_log_std": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "monitor": false, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "sample_async": false, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfded30>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfde278>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfdef28>"}, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 700.0, "experiment_id": "49476b8bfa214ea3a002964354a4867e", "hostname": "flow-main", "episodes_this_iter": 35, "date": "2019-05-21_09-43-09"}
{"episode_reward_mean": 1272.3650248523404, "timesteps_total": 2216365, "iterations_since_restore": 33, "timesteps_since_restore": 2216365, "pid": 59695, "time_this_iter_s": 50.136006593704224, "policy_reward_mean": {}, "timesteps_this_iter": 64014, "training_iteration": 33, "episode_reward_max": 1431.4290424956055, "node_ip": "10.138.0.2", "time_since_restore": 1752.0320897102356, "episodes_total": 925, "episode_reward_min": 1087.2175394552094, "num_metric_batches_dropped": 0, "done": false, "timestamp": 1558431839, "custom_metrics": {"outflow_rate_min": 1050.691836451836, "system_level_velocity_min": 9.033344596378518, "cost1_max": 411.7257878379603, "system_level_velocity_max": 15.648391564575011, "cost2_min": -122.59981830902345, "outflow_rate_max": 1408.2757013021503, "system_level_velocity_mean": 13.031993588936281, "cost1_mean": 340.7287872835015, "cost2_mean": -84.4227464514885, "outflow_rate_mean": 1207.6869206805436, "cost2_max": -65.10160589403445, "cost1_min": 230.52833821979323}, "info": {"num_steps_trained": 2216365, "sample_time_ms": 35915.073, "load_time_ms": 9.32, "grad_time_ms": 18202.072, "update_time_ms": 11.594, "default": {"policy_loss": -0.008828110061585903, "cur_lr": 0.0005000000237487257, "kl": 0.019164780154824257, "total_loss": 34.601131439208984, "cur_kl_coeff": 0.10000001639127731, "vf_loss": 34.60804748535156, "entropy": 1.2419829368591309, "vf_explained_var": 0.8628249168395996}, "num_steps_sampled": 2216365}, "time_total_s": 1752.0320897102356, "config": {"output": null, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "max_seq_len": 20, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "lstm_use_prev_action_reward": false, "framestack": true, "grayscale": false, "dim": 84, "free_log_std": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "monitor": false, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "sample_async": false, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfd4198>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfd4b00>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfd4978>"}, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 700.0, "experiment_id": "49476b8bfa214ea3a002964354a4867e", "hostname": "flow-main", "episodes_this_iter": 28, "date": "2019-05-21_09-43-59"}
{"episode_reward_mean": 1264.2257616857446, "timesteps_total": 2280779, "iterations_since_restore": 34, "timesteps_since_restore": 2280779, "pid": 59695, "time_this_iter_s": 52.38572597503662, "policy_reward_mean": {}, "timesteps_this_iter": 64414, "training_iteration": 34, "episode_reward_max": 1431.4290424956055, "node_ip": "10.138.0.2", "time_since_restore": 1804.4178156852722, "episodes_total": 954, "episode_reward_min": 1061.0059674261165, "num_metric_batches_dropped": 0, "done": false, "timestamp": 1558431892, "custom_metrics": {"outflow_rate_min": 1018.3596559854246, "system_level_velocity_min": 8.933707449035198, "cost1_max": 411.7257878379603, "system_level_velocity_max": 15.648391564575011, "cost2_min": -122.59981830902345, "outflow_rate_max": 1408.2757013021503, "system_level_velocity_mean": 12.955998754075758, "cost1_mean": 338.2796956377577, "cost2_mean": -84.05583143703535, "outflow_rate_mean": 1209.1957866789573, "cost2_max": -63.26913714278354, "cost1_min": 230.52833821979323}, "info": {"num_steps_trained": 2280779, "sample_time_ms": 35972.982, "load_time_ms": 9.225, "grad_time_ms": 18207.002, "update_time_ms": 11.631, "default": {"policy_loss": -0.007999357767403126, "cur_lr": 0.0005000000237487257, "kl": 0.01733311638236046, "total_loss": 34.36545944213867, "cur_kl_coeff": 0.10000000894069672, "vf_loss": 34.37172317504883, "entropy": 1.2358742952346802, "vf_explained_var": 0.8631381988525391}, "num_steps_sampled": 2280779}, "time_total_s": 1804.4178156852722, "config": {"output": null, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "max_seq_len": 20, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "lstm_use_prev_action_reward": false, "framestack": true, "grayscale": false, "dim": 84, "free_log_std": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "monitor": false, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "sample_async": false, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfbc8d0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfbc0b8>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfbce80>"}, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 700.0, "experiment_id": "49476b8bfa214ea3a002964354a4867e", "hostname": "flow-main", "episodes_this_iter": 29, "date": "2019-05-21_09-44-52"}
{"episode_reward_mean": 1268.1328124811098, "timesteps_total": 2344154, "iterations_since_restore": 35, "timesteps_since_restore": 2344154, "pid": 59695, "time_this_iter_s": 48.95179533958435, "policy_reward_mean": {}, "timesteps_this_iter": 63375, "training_iteration": 35, "episode_reward_max": 1441.9801959105516, "node_ip": "10.138.0.2", "time_since_restore": 1853.3696110248566, "episodes_total": 980, "episode_reward_min": 1061.0059674261165, "num_metric_batches_dropped": 0, "done": false, "timestamp": 1558431941, "custom_metrics": {"outflow_rate_min": 1018.3596559854246, "system_level_velocity_min": 8.933707449035198, "cost1_max": 435.8394515686773, "system_level_velocity_max": 16.55271060970747, "cost2_min": -122.59981830902345, "outflow_rate_max": 1481.2817588391586, "system_level_velocity_mean": 13.180768676868338, "cost1_mean": 343.84285947237885, "cost2_mean": -82.62866444555104, "outflow_rate_mean": 1225.2299208436743, "cost2_max": -63.26913714278354, "cost1_min": 230.52833821979323}, "info": {"num_steps_trained": 2344154, "sample_time_ms": 35728.007, "load_time_ms": 9.0, "grad_time_ms": 18222.604, "update_time_ms": 11.695, "default": {"policy_loss": -0.009066922590136528, "cur_lr": 0.0005000000237487257, "kl": 0.018436478450894356, "total_loss": 35.30241012573242, "cur_kl_coeff": 0.10000001639127731, "vf_loss": 35.309635162353516, "entropy": 1.221603274345398, "vf_explained_var": 0.8533694744110107}, "num_steps_sampled": 2344154}, "time_total_s": 1853.3696110248566, "config": {"output": null, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "max_seq_len": 20, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "lstm_use_prev_action_reward": false, "framestack": true, "grayscale": false, "dim": 84, "free_log_std": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "monitor": false, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "sample_async": false, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c0160f0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c0160b8>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c016240>"}, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 700.0, "experiment_id": "49476b8bfa214ea3a002964354a4867e", "hostname": "flow-main", "episodes_this_iter": 26, "date": "2019-05-21_09-45-41"}
{"episode_reward_mean": 1240.771592316534, "timesteps_total": 2408555, "iterations_since_restore": 36, "timesteps_since_restore": 2408555, "pid": 59695, "time_this_iter_s": 50.619675159454346, "policy_reward_mean": {}, "timesteps_this_iter": 64401, "training_iteration": 36, "episode_reward_max": 1441.9801959105516, "node_ip": "10.138.0.2", "time_since_restore": 1903.989286184311, "episodes_total": 1009, "episode_reward_min": 57.31463754265961, "num_metric_batches_dropped": 0, "done": false, "timestamp": 1558431991, "custom_metrics": {"outflow_rate_min": 492.7214808653421, "system_level_velocity_min": 8.933707449035198, "cost1_max": 435.8394515686773, "system_level_velocity_max": 18.764468080484225, "cost2_min": -108.75793708871387, "outflow_rate_max": 1481.2817588391586, "system_level_velocity_mean": 13.338085897326923, "cost1_mean": 338.3157623874394, "cost2_mean": -81.71942692823477, "outflow_rate_mean": 1210.2121257310223, "cost2_max": -15.690292645135258, "cost1_min": 23.044463466161528}, "info": {"num_steps_trained": 2408555, "sample_time_ms": 35535.856, "load_time_ms": 9.134, "grad_time_ms": 18139.34, "update_time_ms": 11.678, "default": {"policy_loss": -0.008826344273984432, "cur_lr": 0.0005000000237487257, "kl": 0.019002115353941917, "total_loss": 38.74509048461914, "cur_kl_coeff": 0.10000000894069672, "vf_loss": 38.75202178955078, "entropy": 1.2185825109481812, "vf_explained_var": 0.8421987891197205}, "num_steps_sampled": 2408555}, "time_total_s": 1903.989286184311, "config": {"output": null, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "max_seq_len": 20, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "lstm_use_prev_action_reward": false, "framestack": true, "grayscale": false, "dim": 84, "free_log_std": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "monitor": false, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "sample_async": false, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfde0b8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfde908>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfde4a8>"}, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 686.72, "experiment_id": "49476b8bfa214ea3a002964354a4867e", "hostname": "flow-main", "episodes_this_iter": 29, "date": "2019-05-21_09-46-31"}
{"episode_reward_mean": 1239.0526259538965, "timesteps_total": 2475797, "iterations_since_restore": 37, "timesteps_since_restore": 2475797, "pid": 59695, "time_this_iter_s": 48.73556351661682, "policy_reward_mean": {}, "timesteps_this_iter": 67242, "training_iteration": 37, "episode_reward_max": 1441.9801959105516, "node_ip": "10.138.0.2", "time_since_restore": 1952.7248497009277, "episodes_total": 1036, "episode_reward_min": 57.31463754265961, "num_metric_batches_dropped": 0, "done": false, "timestamp": 1558432040, "custom_metrics": {"outflow_rate_min": 492.7214808653421, "system_level_velocity_min": 8.933707449035198, "cost1_max": 435.8394515686773, "system_level_velocity_max": 18.764468080484225, "cost2_min": -103.83756500180884, "outflow_rate_max": 1481.2817588391586, "system_level_velocity_mean": 13.318216311762669, "cost1_mean": 337.88163595268816, "cost2_mean": -82.61863363257271, "outflow_rate_mean": 1203.8562989962054, "cost2_max": -15.690292645135258, "cost1_min": 23.044463466161528}, "info": {"num_steps_trained": 2475797, "sample_time_ms": 35209.382, "load_time_ms": 9.557, "grad_time_ms": 17885.282, "update_time_ms": 11.327, "default": {"policy_loss": -0.008303506299853325, "cur_lr": 0.0005000000237487257, "kl": 0.017519375309348106, "total_loss": 33.13665008544922, "cur_kl_coeff": 0.10000001639127731, "vf_loss": 33.1431999206543, "entropy": 1.2336270809173584, "vf_explained_var": 0.8648176193237305}, "num_steps_sampled": 2475797}, "time_total_s": 1952.7248497009277, "config": {"output": null, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "max_seq_len": 20, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "lstm_use_prev_action_reward": false, "framestack": true, "grayscale": false, "dim": 84, "free_log_std": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "monitor": false, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "sample_async": false, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c0312b0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c031da0>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c0318d0>"}, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 686.72, "experiment_id": "49476b8bfa214ea3a002964354a4867e", "hostname": "flow-main", "episodes_this_iter": 27, "date": "2019-05-21_09-47-20"}
{"episode_reward_mean": 1230.1898167982176, "timesteps_total": 2542415, "iterations_since_restore": 38, "timesteps_since_restore": 2542415, "pid": 59695, "time_this_iter_s": 51.94391751289368, "policy_reward_mean": {}, "timesteps_this_iter": 66618, "training_iteration": 38, "episode_reward_max": 1459.6676733834752, "node_ip": "10.138.0.2", "time_since_restore": 2004.6687672138214, "episodes_total": 1063, "episode_reward_min": 57.31463754265961, "num_metric_batches_dropped": 0, "done": false, "timestamp": 1558432092, "custom_metrics": {"outflow_rate_min": 488.78666388887575, "system_level_velocity_min": 9.05663876175109, "cost1_max": 438.09823390616265, "system_level_velocity_max": 18.764468080484225, "cost2_min": -105.52058712210103, "outflow_rate_max": 1508.3042371171366, "system_level_velocity_mean": 13.403978924973657, "cost1_mean": 335.6394946473281, "cost2_mean": -83.1979638764349, "outflow_rate_mean": 1196.5190082691956, "cost2_max": -12.531684031644051, "cost1_min": 22.82294241138802}, "info": {"num_steps_trained": 2542415, "sample_time_ms": 35212.352, "load_time_ms": 9.563, "grad_time_ms": 18022.009, "update_time_ms": 11.062, "default": {"policy_loss": -0.008038610219955444, "cur_lr": 0.0005000000237487257, "kl": 0.017418868839740753, "total_loss": 34.562721252441406, "cur_kl_coeff": 0.10000001639127731, "vf_loss": 34.56901550292969, "entropy": 1.2284685373306274, "vf_explained_var": 0.8628371357917786}, "num_steps_sampled": 2542415}, "time_total_s": 2004.6687672138214, "config": {"output": null, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "max_seq_len": 20, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "lstm_use_prev_action_reward": false, "framestack": true, "grayscale": false, "dim": 84, "free_log_std": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "monitor": false, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "sample_async": false, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfd4c50>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfd4470>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfd4e80>"}, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 680.07, "experiment_id": "49476b8bfa214ea3a002964354a4867e", "hostname": "flow-main", "episodes_this_iter": 27, "date": "2019-05-21_09-48-12"}
{"episode_reward_mean": 1230.0036998555602, "timesteps_total": 2607733, "iterations_since_restore": 39, "timesteps_since_restore": 2607733, "pid": 59695, "time_this_iter_s": 50.3454647064209, "policy_reward_mean": {}, "timesteps_this_iter": 65318, "training_iteration": 39, "episode_reward_max": 1459.6676733834752, "node_ip": "10.138.0.2", "time_since_restore": 2055.0142319202423, "episodes_total": 1089, "episode_reward_min": 59.41586232878976, "num_metric_batches_dropped": 0, "done": false, "timestamp": 1558432143, "custom_metrics": {"outflow_rate_min": 488.78666388887575, "system_level_velocity_min": 9.05663876175109, "cost1_max": 438.09823390616265, "system_level_velocity_max": 18.764468080484225, "cost2_min": -105.52058712210103, "outflow_rate_max": 1508.3042371171366, "system_level_velocity_mean": 13.088605550215137, "cost1_mean": 331.48470841457527, "cost2_mean": -85.20684663989603, "outflow_rate_mean": 1191.4409923829794, "cost2_max": -12.531684031644051, "cost1_min": 22.82294241138802}, "info": {"num_steps_trained": 2607733, "sample_time_ms": 35104.753, "load_time_ms": 9.443, "grad_time_ms": 17877.513, "update_time_ms": 10.909, "default": {"policy_loss": -0.008026277646422386, "cur_lr": 0.0005000000237487257, "kl": 0.017220374196767807, "total_loss": 35.575374603271484, "cur_kl_coeff": 0.10000001639127731, "vf_loss": 35.58168029785156, "entropy": 1.2186124324798584, "vf_explained_var": 0.8553250432014465}, "num_steps_sampled": 2607733}, "time_total_s": 2055.0142319202423, "config": {"output": null, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "max_seq_len": 20, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "lstm_use_prev_action_reward": false, "framestack": true, "grayscale": false, "dim": 84, "free_log_std": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "monitor": false, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "sample_async": false, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfdb8d0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfdb080>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81e4d9cf8>"}, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 686.72, "experiment_id": "49476b8bfa214ea3a002964354a4867e", "hostname": "flow-main", "episodes_this_iter": 26, "date": "2019-05-21_09-49-03"}
{"episode_reward_mean": 1228.826756307437, "timesteps_total": 2675318, "iterations_since_restore": 40, "timesteps_since_restore": 2675318, "pid": 59695, "time_this_iter_s": 53.34747910499573, "policy_reward_mean": {}, "timesteps_this_iter": 67585, "training_iteration": 40, "episode_reward_max": 1459.6676733834752, "node_ip": "10.138.0.2", "time_since_restore": 2108.361711025238, "episodes_total": 1117, "episode_reward_min": 59.77246406274571, "num_metric_batches_dropped": 0, "done": false, "timestamp": 1558432196, "custom_metrics": {"outflow_rate_min": 488.78666388887575, "system_level_velocity_min": 9.002103319338712, "cost1_max": 438.09823390616265, "system_level_velocity_max": 18.328389057603754, "cost2_min": -105.52058712210103, "outflow_rate_max": 1508.3042371171366, "system_level_velocity_mean": 12.937122661782611, "cost1_mean": 331.60954008258994, "cost2_mean": -84.70853787534014, "outflow_rate_mean": 1183.8251452342165, "cost2_max": -12.531684031644051, "cost1_min": 22.82294241138802}, "info": {"num_steps_trained": 2675318, "sample_time_ms": 35321.587, "load_time_ms": 9.274, "grad_time_ms": 17018.652, "update_time_ms": 10.98, "default": {"policy_loss": -0.008249220438301563, "cur_lr": 0.0005000000237487257, "kl": 0.016937201842665672, "total_loss": 34.95752716064453, "cur_kl_coeff": 0.10000001639127731, "vf_loss": 34.964080810546875, "entropy": 1.2370519638061523, "vf_explained_var": 0.8659042119979858}, "num_steps_sampled": 2675318}, "time_total_s": 2108.361711025238, "config": {"output": null, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "max_seq_len": 20, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "lstm_use_prev_action_reward": false, "framestack": true, "grayscale": false, "dim": 84, "free_log_std": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "monitor": false, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "sample_async": false, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfdbba8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfdbd30>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfdb4a8>"}, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 693.35, "experiment_id": "49476b8bfa214ea3a002964354a4867e", "hostname": "flow-main", "episodes_this_iter": 28, "date": "2019-05-21_09-49-56"}
{"episode_reward_mean": 1220.7484626420132, "timesteps_total": 2744062, "iterations_since_restore": 41, "timesteps_since_restore": 2744062, "pid": 59695, "time_this_iter_s": 50.75074529647827, "policy_reward_mean": {}, "timesteps_this_iter": 68744, "training_iteration": 41, "episode_reward_max": 1459.6676733834752, "node_ip": "10.138.0.2", "time_since_restore": 2159.1124563217163, "episodes_total": 1144, "episode_reward_min": 59.77246406274571, "num_metric_batches_dropped": 0, "done": false, "timestamp": 1558432247, "custom_metrics": {"outflow_rate_min": 488.78666388887575, "system_level_velocity_min": 9.002103319338712, "cost1_max": 438.09823390616265, "system_level_velocity_max": 18.328389057603754, "cost2_min": -105.1899455809065, "outflow_rate_max": 1508.3042371171366, "system_level_velocity_mean": 12.85815205896998, "cost1_mean": 329.0106026897754, "cost2_mean": -83.40643533034505, "outflow_rate_mean": 1178.8501399118086, "cost2_max": -12.531684031644051, "cost1_min": 22.82294241138802}, "info": {"num_steps_trained": 2744062, "sample_time_ms": 33646.471, "load_time_ms": 8.833, "grad_time_ms": 17144.255, "update_time_ms": 8.553, "default": {"policy_loss": -0.009170789271593094, "cur_lr": 0.0005000000237487257, "kl": 0.019455038011074066, "total_loss": 32.62797164916992, "cur_kl_coeff": 0.10000000894069672, "vf_loss": 32.635196685791016, "entropy": 1.2359662055969238, "vf_explained_var": 0.8671936988830566}, "num_steps_sampled": 2744062}, "time_total_s": 2159.1124563217163, "config": {"output": null, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "max_seq_len": 20, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "lstm_use_prev_action_reward": false, "framestack": true, "grayscale": false, "dim": 84, "free_log_std": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "monitor": false, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "sample_async": false, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfde0b8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfdecf8>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfde550>"}, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 693.35, "experiment_id": "49476b8bfa214ea3a002964354a4867e", "hostname": "flow-main", "episodes_this_iter": 27, "date": "2019-05-21_09-50-47"}
{"episode_reward_mean": 1214.8178509305321, "timesteps_total": 2810334, "iterations_since_restore": 42, "timesteps_since_restore": 2810334, "pid": 59695, "time_this_iter_s": 50.80885601043701, "policy_reward_mean": {}, "timesteps_this_iter": 66272, "training_iteration": 42, "episode_reward_max": 1423.0788081939475, "node_ip": "10.138.0.2", "time_since_restore": 2209.9213123321533, "episodes_total": 1175, "episode_reward_min": 1042.3091547321878, "num_metric_batches_dropped": 0, "done": false, "timestamp": 1558432298, "custom_metrics": {"outflow_rate_min": 928.1715540333521, "system_level_velocity_min": 9.002103319338712, "cost1_max": 432.81842383256264, "system_level_velocity_max": 16.53471680130209, "cost2_min": -104.95593367593855, "outflow_rate_max": 1465.090696493982, "system_level_velocity_mean": 12.450346317115354, "cost1_mean": 322.41667577365314, "cost2_mean": -83.57513039732707, "outflow_rate_mean": 1161.4430272353754, "cost2_max": -63.2934975897627, "cost1_min": 231.36532792849428}, "info": {"num_steps_trained": 2810334, "sample_time_ms": 33444.648, "load_time_ms": 8.6, "grad_time_ms": 17221.441, "update_time_ms": 8.541, "default": {"policy_loss": -0.009434194304049015, "cur_lr": 0.0005000000237487257, "kl": 0.020479820668697357, "total_loss": 41.768306732177734, "cur_kl_coeff": 0.10000000894069672, "vf_loss": 41.775691986083984, "entropy": 1.2309088706970215, "vf_explained_var": 0.8298919796943665}, "num_steps_sampled": 2810334}, "time_total_s": 2209.9213123321533, "config": {"output": null, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "max_seq_len": 20, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "lstm_use_prev_action_reward": false, "framestack": true, "grayscale": false, "dim": 84, "free_log_std": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "monitor": false, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "sample_async": false, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfde198>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfdec18>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfdee48>"}, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 700.0, "experiment_id": "49476b8bfa214ea3a002964354a4867e", "hostname": "flow-main", "episodes_this_iter": 31, "date": "2019-05-21_09-51-38"}
{"episode_reward_mean": 1226.9126830747593, "timesteps_total": 2876633, "iterations_since_restore": 43, "timesteps_since_restore": 2876633, "pid": 59695, "time_this_iter_s": 50.29916596412659, "policy_reward_mean": {}, "timesteps_this_iter": 66299, "training_iteration": 43, "episode_reward_max": 1423.0788081939475, "node_ip": "10.138.0.2", "time_since_restore": 2260.22047829628, "episodes_total": 1204, "episode_reward_min": 1042.3091547321878, "num_metric_batches_dropped": 0, "done": false, "timestamp": 1558432348, "custom_metrics": {"outflow_rate_min": 928.1715540333521, "system_level_velocity_min": 9.19576818894709, "cost1_max": 432.81842383256264, "system_level_velocity_max": 16.53471680130209, "cost2_min": -98.95603610513126, "outflow_rate_max": 1465.090696493982, "system_level_velocity_mean": 12.603292617584716, "cost1_mean": 326.6150290889513, "cost2_mean": -82.69247932778113, "outflow_rate_mean": 1176.750030858208, "cost2_max": -64.10227972421546, "cost1_min": 233.1333069160735}, "info": {"num_steps_trained": 2876633, "sample_time_ms": 33429.907, "load_time_ms": 8.464, "grad_time_ms": 17253.928, "update_time_ms": 8.356, "default": {"policy_loss": -0.008518083021044731, "cur_lr": 0.0005000000237487257, "kl": 0.01714330166578293, "total_loss": 40.168495178222656, "cur_kl_coeff": 0.15000000596046448, "vf_loss": 40.174434661865234, "entropy": 1.2417329549789429, "vf_explained_var": 0.852707028388977}, "num_steps_sampled": 2876633}, "time_total_s": 2260.22047829628, "config": {"output": null, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "max_seq_len": 20, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "lstm_use_prev_action_reward": false, "framestack": true, "grayscale": false, "dim": 84, "free_log_std": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "monitor": false, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "sample_async": false, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfdeba8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfdeb38>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfdee10>"}, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 700.0, "experiment_id": "49476b8bfa214ea3a002964354a4867e", "hostname": "flow-main", "episodes_this_iter": 29, "date": "2019-05-21_09-52-28"}
{"episode_reward_mean": 1234.3641897223997, "timesteps_total": 2941924, "iterations_since_restore": 44, "timesteps_since_restore": 2941924, "pid": 59695, "time_this_iter_s": 53.21043825149536, "policy_reward_mean": {}, "timesteps_this_iter": 65291, "training_iteration": 44, "episode_reward_max": 1423.0788081939475, "node_ip": "10.138.0.2", "time_since_restore": 2313.4309165477753, "episodes_total": 1233, "episode_reward_min": 1042.3091547321878, "num_metric_batches_dropped": 0, "done": false, "timestamp": 1558432401, "custom_metrics": {"outflow_rate_min": 928.1715540333521, "system_level_velocity_min": 9.19576818894709, "cost1_max": 431.53372980969226, "system_level_velocity_max": 16.472893998884583, "cost2_min": -99.59879435548773, "outflow_rate_max": 1465.090696493982, "system_level_velocity_mean": 12.749401311235824, "cost1_mean": 330.89964293933394, "cost2_mean": -81.40638961492428, "outflow_rate_mean": 1183.2222680552886, "cost2_max": -61.737419050107995, "cost1_min": 233.1333069160735}, "info": {"num_steps_trained": 2941924, "sample_time_ms": 33499.886, "load_time_ms": 8.442, "grad_time_ms": 17263.96, "update_time_ms": 8.059, "default": {"policy_loss": -0.008715689182281494, "cur_lr": 0.0005000000237487257, "kl": 0.015939628705382347, "total_loss": 35.410823822021484, "cur_kl_coeff": 0.15000000596046448, "vf_loss": 35.41714096069336, "entropy": 1.2550418376922607, "vf_explained_var": 0.8793696165084839}, "num_steps_sampled": 2941924}, "time_total_s": 2313.4309165477753, "config": {"output": null, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "max_seq_len": 20, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "lstm_use_prev_action_reward": false, "framestack": true, "grayscale": false, "dim": 84, "free_log_std": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "monitor": false, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "sample_async": false, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfde198>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfdebe0>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfdef28>"}, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 700.0, "experiment_id": "49476b8bfa214ea3a002964354a4867e", "hostname": "flow-main", "episodes_this_iter": 29, "date": "2019-05-21_09-53-21"}
{"episode_reward_mean": 1238.8185497332968, "timesteps_total": 3008857, "iterations_since_restore": 45, "timesteps_since_restore": 3008857, "pid": 59695, "time_this_iter_s": 53.51353359222412, "policy_reward_mean": {}, "timesteps_this_iter": 66933, "training_iteration": 45, "episode_reward_max": 1417.526335812576, "node_ip": "10.138.0.2", "time_since_restore": 2366.9444501399994, "episodes_total": 1262, "episode_reward_min": 1061.5233118045323, "num_metric_batches_dropped": 0, "done": false, "timestamp": 1558432455, "custom_metrics": {"outflow_rate_min": 963.1628640439822, "system_level_velocity_min": 9.429514674183583, "cost1_max": 431.53372980969226, "system_level_velocity_max": 16.472893998884583, "cost2_min": -114.33237724035735, "outflow_rate_max": 1449.3678639001666, "system_level_velocity_mean": 12.731470444521094, "cost1_mean": 330.9595883527855, "cost2_mean": -81.39183316021428, "outflow_rate_mean": 1183.5830634695078, "cost2_max": -60.6866392569561, "cost1_min": 238.1452464046207}, "info": {"num_steps_trained": 3008857, "sample_time_ms": 33734.279, "load_time_ms": 8.446, "grad_time_ms": 17485.154, "update_time_ms": 8.056, "default": {"policy_loss": -0.006750766187906265, "cur_lr": 0.0005000000237487257, "kl": 0.015659987926483154, "total_loss": 37.9944953918457, "cur_kl_coeff": 0.15000000596046448, "vf_loss": 37.9989013671875, "entropy": 1.2603890895843506, "vf_explained_var": 0.8584486246109009}, "num_steps_sampled": 3008857}, "time_total_s": 2366.9444501399994, "config": {"output": null, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "max_seq_len": 20, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "lstm_use_prev_action_reward": false, "framestack": true, "grayscale": false, "dim": 84, "free_log_std": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "monitor": false, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "sample_async": false, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfe8710>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c031f28>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfd4588>"}, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 700.0, "experiment_id": "49476b8bfa214ea3a002964354a4867e", "hostname": "flow-main", "episodes_this_iter": 29, "date": "2019-05-21_09-54-15"}
{"episode_reward_mean": 1240.9377012441123, "timesteps_total": 3074255, "iterations_since_restore": 46, "timesteps_since_restore": 3074255, "pid": 59695, "time_this_iter_s": 50.826075315475464, "policy_reward_mean": {}, "timesteps_this_iter": 65398, "training_iteration": 46, "episode_reward_max": 1417.526335812576, "node_ip": "10.138.0.2", "time_since_restore": 2417.770525455475, "episodes_total": 1288, "episode_reward_min": 1043.761200983189, "num_metric_batches_dropped": 0, "done": false, "timestamp": 1558432506, "custom_metrics": {"outflow_rate_min": 963.1628640439822, "system_level_velocity_min": 9.236430710150547, "cost1_max": 431.53372980969226, "system_level_velocity_max": 16.472893998884583, "cost2_min": -114.33237724035735, "outflow_rate_max": 1449.3678639001666, "system_level_velocity_mean": 12.719029301695844, "cost1_mean": 330.9794245300368, "cost2_mean": -80.3849374940327, "outflow_rate_mean": 1182.6553187868658, "cost2_max": -60.6866392569561, "cost1_min": 235.13911320224065}, "info": {"num_steps_trained": 3074255, "sample_time_ms": 33741.073, "load_time_ms": 8.573, "grad_time_ms": 17497.494, "update_time_ms": 8.12, "default": {"policy_loss": -0.008783590979874134, "cur_lr": 0.0005000000237487257, "kl": 0.018435101956129074, "total_loss": 33.664554595947266, "cur_kl_coeff": 0.15000000596046448, "vf_loss": 33.67057418823242, "entropy": 1.2518117427825928, "vf_explained_var": 0.8682982325553894}, "num_steps_sampled": 3074255}, "time_total_s": 2417.770525455475, "config": {"output": null, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "max_seq_len": 20, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "lstm_use_prev_action_reward": false, "framestack": true, "grayscale": false, "dim": 84, "free_log_std": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "monitor": false, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "sample_async": false, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfdee80>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfd4198>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfde550>"}, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 700.0, "experiment_id": "49476b8bfa214ea3a002964354a4867e", "hostname": "flow-main", "episodes_this_iter": 26, "date": "2019-05-21_09-55-06"}
{"episode_reward_mean": 1233.8146736192502, "timesteps_total": 3139981, "iterations_since_restore": 47, "timesteps_since_restore": 3139981, "pid": 59695, "time_this_iter_s": 51.7255494594574, "policy_reward_mean": {}, "timesteps_this_iter": 65726, "training_iteration": 47, "episode_reward_max": 1417.526335812576, "node_ip": "10.138.0.2", "time_since_restore": 2469.4960749149323, "episodes_total": 1317, "episode_reward_min": 1043.761200983189, "num_metric_batches_dropped": 0, "done": false, "timestamp": 1558432557, "custom_metrics": {"outflow_rate_min": 919.8304581702189, "system_level_velocity_min": 9.236430710150547, "cost1_max": 431.53372980969226, "system_level_velocity_max": 16.472893998884583, "cost2_min": -114.33237724035735, "outflow_rate_max": 1449.3678639001666, "system_level_velocity_mean": 12.576903466993796, "cost1_mean": 327.05494209574135, "cost2_mean": -79.70010644141759, "outflow_rate_mean": 1181.7646704675237, "cost2_max": -60.6866392569561, "cost1_min": 235.13911320224065}, "info": {"num_steps_trained": 3139981, "sample_time_ms": 34088.468, "load_time_ms": 8.404, "grad_time_ms": 17451.033, "update_time_ms": 8.078, "default": {"policy_loss": -0.008589946664869785, "cur_lr": 0.0005000000237487257, "kl": 0.01617828942835331, "total_loss": 40.63243865966797, "cur_kl_coeff": 0.14999999105930328, "vf_loss": 40.63860321044922, "entropy": 1.253763198852539, "vf_explained_var": 0.8366006016731262}, "num_steps_sampled": 3139981}, "time_total_s": 2469.4960749149323, "config": {"output": null, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "max_seq_len": 20, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "lstm_use_prev_action_reward": false, "framestack": true, "grayscale": false, "dim": 84, "free_log_std": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "monitor": false, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "sample_async": false, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfd49e8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfd4c18>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfd4e80>"}, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 700.0, "experiment_id": "49476b8bfa214ea3a002964354a4867e", "hostname": "flow-main", "episodes_this_iter": 29, "date": "2019-05-21_09-55-57"}
{"episode_reward_mean": 1228.4564318970085, "timesteps_total": 3204626, "iterations_since_restore": 48, "timesteps_since_restore": 3204626, "pid": 59695, "time_this_iter_s": 50.42902612686157, "policy_reward_mean": {}, "timesteps_this_iter": 64645, "training_iteration": 48, "episode_reward_max": 1404.7521757018685, "node_ip": "10.138.0.2", "time_since_restore": 2519.925101041794, "episodes_total": 1344, "episode_reward_min": 57.018864762939096, "num_metric_batches_dropped": 0, "done": false, "timestamp": 1558432608, "custom_metrics": {"outflow_rate_min": 498.5745932701786, "system_level_velocity_min": 9.236430710150547, "cost1_max": 419.5800774439481, "system_level_velocity_max": 18.19980861684566, "cost2_min": -114.33237724035735, "outflow_rate_max": 1449.3678639001666, "system_level_velocity_mean": 12.743304659387924, "cost1_mean": 327.17405593752346, "cost2_mean": -77.39984014118144, "outflow_rate_mean": 1179.1867611939422, "cost2_max": -13.618332403725908, "cost1_min": 22.708833127978554}, "info": {"num_steps_trained": 3204626, "sample_time_ms": 34181.968, "load_time_ms": 8.44, "grad_time_ms": 17204.154, "update_time_ms": 8.035, "default": {"policy_loss": -0.007868164218962193, "cur_lr": 0.0005000000237487257, "kl": 0.017277000471949577, "total_loss": 39.238582611083984, "cur_kl_coeff": 0.15000000596046448, "vf_loss": 39.243865966796875, "entropy": 1.2536530494689941, "vf_explained_var": 0.8415707349777222}, "num_steps_sampled": 3204626}, "time_total_s": 2519.925101041794, "config": {"output": null, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "max_seq_len": 20, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "lstm_use_prev_action_reward": false, "framestack": true, "grayscale": false, "dim": 84, "free_log_std": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "monitor": false, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "sample_async": false, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfdbcc0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfdb518>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfbcd30>"}, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 693.35, "experiment_id": "49476b8bfa214ea3a002964354a4867e", "hostname": "flow-main", "episodes_this_iter": 27, "date": "2019-05-21_09-56-48"}
{"episode_reward_mean": 1219.0809732362325, "timesteps_total": 3270145, "iterations_since_restore": 49, "timesteps_since_restore": 3270145, "pid": 59695, "time_this_iter_s": 52.79773497581482, "policy_reward_mean": {}, "timesteps_this_iter": 65519, "training_iteration": 49, "episode_reward_max": 1407.1003720763592, "node_ip": "10.138.0.2", "time_since_restore": 2572.7228360176086, "episodes_total": 1371, "episode_reward_min": 57.018864762939096, "num_metric_batches_dropped": 0, "done": false, "timestamp": 1558432661, "custom_metrics": {"outflow_rate_min": 493.99652697342174, "system_level_velocity_min": 9.280116353122134, "cost1_max": 407.1880994276225, "system_level_velocity_max": 18.19980861684566, "cost2_min": -104.58236722727867, "outflow_rate_max": 1399.8475989683693, "system_level_velocity_mean": 12.866275566419159, "cost1_mean": 326.11390133979853, "cost2_mean": -75.30597672482367, "outflow_rate_mean": 1181.096485553865, "cost2_max": -12.997978979517855, "cost1_min": 22.655841027238225}, "info": {"num_steps_trained": 3270145, "sample_time_ms": 34446.385, "load_time_ms": 8.263, "grad_time_ms": 17185.486, "update_time_ms": 8.02, "default": {"policy_loss": -0.008971893228590488, "cur_lr": 0.0005000000237487257, "kl": 0.01891384832561016, "total_loss": 39.53602600097656, "cur_kl_coeff": 0.14999999105930328, "vf_loss": 39.54216766357422, "entropy": 1.2604386806488037, "vf_explained_var": 0.8340388536453247}, "num_steps_sampled": 3270145}, "time_total_s": 2572.7228360176086, "config": {"output": null, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "max_seq_len": 20, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "lstm_use_prev_action_reward": false, "framestack": true, "grayscale": false, "dim": 84, "free_log_std": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "monitor": false, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "sample_async": false, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfd4b38>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfd4e48>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfd4c50>"}, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 686.7, "experiment_id": "49476b8bfa214ea3a002964354a4867e", "hostname": "flow-main", "episodes_this_iter": 27, "date": "2019-05-21_09-57-41"}
{"episode_reward_mean": 1223.741825788956, "timesteps_total": 3335659, "iterations_since_restore": 50, "timesteps_since_restore": 3335659, "pid": 59695, "time_this_iter_s": 51.74308133125305, "policy_reward_mean": {}, "timesteps_this_iter": 65514, "training_iteration": 50, "episode_reward_max": 1450.4081130735958, "node_ip": "10.138.0.2", "time_since_restore": 2624.4659173488617, "episodes_total": 1398, "episode_reward_min": 57.018864762939096, "num_metric_batches_dropped": 0, "done": false, "timestamp": 1558432713, "custom_metrics": {"outflow_rate_min": 493.99652697342174, "system_level_velocity_min": 9.280116353122134, "cost1_max": 429.2458862876663, "system_level_velocity_max": 18.19980861684566, "cost2_min": -103.28038543076802, "outflow_rate_max": 1542.6559955411376, "system_level_velocity_mean": 12.859724765291435, "cost1_mean": 326.37760750607214, "cost2_mean": -74.84489656288488, "outflow_rate_mean": 1190.3675466524285, "cost2_max": -12.997978979517855, "cost1_min": 22.655841027238225}, "info": {"num_steps_trained": 3335659, "sample_time_ms": 34373.053, "load_time_ms": 8.203, "grad_time_ms": 17097.386, "update_time_ms": 8.084, "default": {"policy_loss": -0.008790086954832077, "cur_lr": 0.0005000000237487257, "kl": 0.018217729404568672, "total_loss": 38.703582763671875, "cur_kl_coeff": 0.14999999105930328, "vf_loss": 38.70963668823242, "entropy": 1.2547277212142944, "vf_explained_var": 0.8307073712348938}, "num_steps_sampled": 3335659}, "time_total_s": 2624.4659173488617, "config": {"output": null, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "max_seq_len": 20, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "lstm_use_prev_action_reward": false, "framestack": true, "grayscale": false, "dim": 84, "free_log_std": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "monitor": false, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "sample_async": false, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81e502cc0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81e5028d0>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81e502da0>"}, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 686.7, "experiment_id": "49476b8bfa214ea3a002964354a4867e", "hostname": "flow-main", "episodes_this_iter": 27, "date": "2019-05-21_09-58-33"}
{"episode_reward_mean": 1227.7135984533734, "timesteps_total": 3401383, "iterations_since_restore": 51, "timesteps_since_restore": 3401383, "pid": 59695, "time_this_iter_s": 47.260619163513184, "policy_reward_mean": {}, "timesteps_this_iter": 65724, "training_iteration": 51, "episode_reward_max": 1450.4081130735958, "node_ip": "10.138.0.2", "time_since_restore": 2671.726536512375, "episodes_total": 1424, "episode_reward_min": 57.018864762939096, "num_metric_batches_dropped": 0, "done": false, "timestamp": 1558432760, "custom_metrics": {"outflow_rate_min": 493.99652697342174, "system_level_velocity_min": 9.280116353122134, "cost1_max": 429.2458862876663, "system_level_velocity_max": 18.19980861684566, "cost2_min": -103.28038543076802, "outflow_rate_max": 1542.6559955411376, "system_level_velocity_mean": 12.839575354851329, "cost1_mean": 326.38101798145385, "cost2_mean": -74.44191269675309, "outflow_rate_mean": 1191.8726933176713, "cost2_max": -12.997978979517855, "cost1_min": 22.655841027238225}, "info": {"num_steps_trained": 3401383, "sample_time_ms": 34216.205, "load_time_ms": 8.207, "grad_time_ms": 16906.43, "update_time_ms": 7.889, "default": {"policy_loss": -0.008471151813864708, "cur_lr": 0.0005000000237487257, "kl": 0.018363380804657936, "total_loss": 39.67795181274414, "cur_kl_coeff": 0.14999999105930328, "vf_loss": 39.68367004394531, "entropy": 1.2781189680099487, "vf_explained_var": 0.8332718014717102}, "num_steps_sampled": 3401383}, "time_total_s": 2671.726536512375, "config": {"output": null, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "max_seq_len": 20, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "lstm_use_prev_action_reward": false, "framestack": true, "grayscale": false, "dim": 84, "free_log_std": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "monitor": false, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "sample_async": false, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfd4b38>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfd4160>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfd4198>"}, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 686.7, "experiment_id": "49476b8bfa214ea3a002964354a4867e", "hostname": "flow-main", "episodes_this_iter": 26, "date": "2019-05-21_09-59-20"}
{"episode_reward_mean": 1240.7993584203077, "timesteps_total": 3464962, "iterations_since_restore": 52, "timesteps_since_restore": 3464962, "pid": 59695, "time_this_iter_s": 45.37360501289368, "policy_reward_mean": {}, "timesteps_this_iter": 63579, "training_iteration": 52, "episode_reward_max": 1460.2078225827563, "node_ip": "10.138.0.2", "time_since_restore": 2717.1001415252686, "episodes_total": 1454, "episode_reward_min": 58.62482870911448, "num_metric_batches_dropped": 0, "done": false, "timestamp": 1558432805, "custom_metrics": {"outflow_rate_min": 493.99652697342174, "system_level_velocity_min": 9.280116353122134, "cost1_max": 430.0364717448446, "system_level_velocity_max": 18.160589405217788, "cost2_min": -103.28038543076802, "outflow_rate_max": 1562.4504766409, "system_level_velocity_mean": 12.8641372321317, "cost1_mean": 331.7322939453149, "cost2_mean": -72.90555550916173, "outflow_rate_mean": 1198.8426311643263, "cost2_max": -12.997978979517855, "cost1_min": 22.655841027238225}, "info": {"num_steps_trained": 3464962, "sample_time_ms": 33791.042, "load_time_ms": 8.698, "grad_time_ms": 16789.487, "update_time_ms": 7.899, "default": {"policy_loss": -0.010596451349556446, "cur_lr": 0.0005000000237487257, "kl": 0.019866900518536568, "total_loss": 41.104759216308594, "cur_kl_coeff": 0.15000000596046448, "vf_loss": 41.11237716674805, "entropy": 1.2755399942398071, "vf_explained_var": 0.848300039768219}, "num_steps_sampled": 3464962}, "time_total_s": 2717.1001415252686, "config": {"output": null, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "max_seq_len": 20, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "lstm_use_prev_action_reward": false, "framestack": true, "grayscale": false, "dim": 84, "free_log_std": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "monitor": false, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "sample_async": false, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfbc0f0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfbc160>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfbc6d8>"}, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 693.35, "experiment_id": "49476b8bfa214ea3a002964354a4867e", "hostname": "flow-main", "episodes_this_iter": 30, "date": "2019-05-21_10-00-05"}
{"episode_reward_mean": 1257.8053663961414, "timesteps_total": 3529830, "iterations_since_restore": 53, "timesteps_since_restore": 3529830, "pid": 59695, "time_this_iter_s": 46.78502893447876, "policy_reward_mean": {}, "timesteps_this_iter": 64868, "training_iteration": 53, "episode_reward_max": 1460.2078225827563, "node_ip": "10.138.0.2", "time_since_restore": 2763.8851704597473, "episodes_total": 1485, "episode_reward_min": 1116.068501644896, "num_metric_batches_dropped": 0, "done": false, "timestamp": 1558432852, "custom_metrics": {"outflow_rate_min": 1022.2712780742405, "system_level_velocity_min": 9.543078849744127, "cost1_max": 430.0364717448446, "system_level_velocity_max": 16.379257105351655, "cost2_min": -101.4063423586515, "outflow_rate_max": 1562.4504766409, "system_level_velocity_mean": 12.8977731653465, "cost1_mean": 337.2035389403283, "cost2_mean": -72.38355925298809, "outflow_rate_mean": 1209.6280399896511, "cost2_max": -47.961737410731985, "cost1_min": 244.18090153536025}, "info": {"num_steps_trained": 3529830, "sample_time_ms": 33400.514, "load_time_ms": 8.753, "grad_time_ms": 16829.806, "update_time_ms": 7.741, "default": {"policy_loss": -0.00845150277018547, "cur_lr": 0.0005000000237487257, "kl": 0.017277317121624947, "total_loss": 40.18726348876953, "cur_kl_coeff": 0.14999999105930328, "vf_loss": 40.19312286376953, "entropy": 1.2845032215118408, "vf_explained_var": 0.8538235425949097}, "num_steps_sampled": 3529830}, "time_total_s": 2763.8851704597473, "config": {"output": null, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "max_seq_len": 20, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "lstm_use_prev_action_reward": false, "framestack": true, "grayscale": false, "dim": 84, "free_log_std": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "monitor": false, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "sample_async": false, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfdea20>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfde630>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfdee10>"}, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 700.0, "experiment_id": "49476b8bfa214ea3a002964354a4867e", "hostname": "flow-main", "episodes_this_iter": 31, "date": "2019-05-21_10-00-52"}
{"episode_reward_mean": 1251.1302461056182, "timesteps_total": 3596177, "iterations_since_restore": 54, "timesteps_since_restore": 3596177, "pid": 59695, "time_this_iter_s": 47.86560392379761, "policy_reward_mean": {}, "timesteps_this_iter": 66347, "training_iteration": 54, "episode_reward_max": 1460.2078225827563, "node_ip": "10.138.0.2", "time_since_restore": 2811.750774383545, "episodes_total": 1513, "episode_reward_min": 1049.2212587088918, "num_metric_batches_dropped": 0, "done": false, "timestamp": 1558432900, "custom_metrics": {"outflow_rate_min": 963.2512741589121, "system_level_velocity_min": 9.628502629645896, "cost1_max": 430.0364717448446, "system_level_velocity_max": 16.379257105351655, "cost2_min": -101.4063423586515, "outflow_rate_max": 1562.4504766409, "system_level_velocity_mean": 12.88689460497329, "cost1_mean": 337.0506005926634, "cost2_mean": -71.2604583789745, "outflow_rate_mean": 1196.3915869285486, "cost2_max": -47.961737410731985, "cost1_min": 248.64086856779124}, "info": {"num_steps_trained": 3596177, "sample_time_ms": 33016.901, "load_time_ms": 8.801, "grad_time_ms": 16683.333, "update_time_ms": 7.751, "default": {"policy_loss": -0.009361927397549152, "cur_lr": 0.0005000000237487257, "kl": 0.017706098034977913, "total_loss": 34.865177154541016, "cur_kl_coeff": 0.14999999105930328, "vf_loss": 34.87188720703125, "entropy": 1.2942978143692017, "vf_explained_var": 0.8677032589912415}, "num_steps_sampled": 3596177}, "time_total_s": 2811.750774383545, "config": {"output": null, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "max_seq_len": 20, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "lstm_use_prev_action_reward": false, "framestack": true, "grayscale": false, "dim": 84, "free_log_std": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "monitor": false, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "sample_async": false, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfbc320>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfbcc18>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfdeda0>"}, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 700.0, "experiment_id": "49476b8bfa214ea3a002964354a4867e", "hostname": "flow-main", "episodes_this_iter": 28, "date": "2019-05-21_10-01-40"}
{"episode_reward_mean": 1252.2862852489475, "timesteps_total": 3662468, "iterations_since_restore": 55, "timesteps_since_restore": 3662468, "pid": 59695, "time_this_iter_s": 46.456931829452515, "policy_reward_mean": {}, "timesteps_this_iter": 66291, "training_iteration": 55, "episode_reward_max": 1434.381081577774, "node_ip": "10.138.0.2", "time_since_restore": 2858.2077062129974, "episodes_total": 1542, "episode_reward_min": 1049.2212587088918, "num_metric_batches_dropped": 0, "done": false, "timestamp": 1558432947, "custom_metrics": {"outflow_rate_min": 963.2512741589121, "system_level_velocity_min": 9.660503592163852, "cost1_max": 426.8177841344749, "system_level_velocity_max": 16.222500761645456, "cost2_min": -99.61868577532579, "outflow_rate_max": 1494.19193741759, "system_level_velocity_mean": 12.905581862688997, "cost1_mean": 337.7318677634102, "cost2_mean": -69.72589747802614, "outflow_rate_mean": 1196.3077130466802, "cost2_max": -47.961737410731985, "cost1_min": 248.98555604941004}, "info": {"num_steps_trained": 3662468, "sample_time_ms": 32566.226, "load_time_ms": 8.893, "grad_time_ms": 16428.134, "update_time_ms": 7.655, "default": {"policy_loss": -0.008678981103003025, "cur_lr": 0.0005000000237487257, "kl": 0.019510233774781227, "total_loss": 39.90453338623047, "cur_kl_coeff": 0.15000000596046448, "vf_loss": 39.9102897644043, "entropy": 1.2946442365646362, "vf_explained_var": 0.862842857837677}, "num_steps_sampled": 3662468}, "time_total_s": 2858.2077062129974, "config": {"output": null, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "max_seq_len": 20, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "lstm_use_prev_action_reward": false, "framestack": true, "grayscale": false, "dim": 84, "free_log_std": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "monitor": false, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "sample_async": false, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfde0f0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfbc6d8>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfdeef0>"}, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 700.0, "experiment_id": "49476b8bfa214ea3a002964354a4867e", "hostname": "flow-main", "episodes_this_iter": 29, "date": "2019-05-21_10-02-27"}
{"episode_reward_mean": 1248.2716137275843, "timesteps_total": 3726367, "iterations_since_restore": 56, "timesteps_since_restore": 3726367, "pid": 59695, "time_this_iter_s": 46.81691598892212, "policy_reward_mean": {}, "timesteps_this_iter": 63899, "training_iteration": 56, "episode_reward_max": 1434.381081577774, "node_ip": "10.138.0.2", "time_since_restore": 2905.0246222019196, "episodes_total": 1570, "episode_reward_min": 1049.2212587088918, "num_metric_batches_dropped": 0, "done": false, "timestamp": 1558432993, "custom_metrics": {"outflow_rate_min": 963.2512741589121, "system_level_velocity_min": 8.829711842100398, "cost1_max": 426.8177841344749, "system_level_velocity_max": 16.222500761645456, "cost2_min": -99.61868577532579, "outflow_rate_max": 1494.19193741759, "system_level_velocity_mean": 12.871942344505586, "cost1_mean": 336.9414232254648, "cost2_mean": -68.38766464163082, "outflow_rate_mean": 1191.2090779418077, "cost2_max": -46.88957352786092, "cost1_min": 228.92491934644772}, "info": {"num_steps_trained": 3726367, "sample_time_ms": 32257.903, "load_time_ms": 8.648, "grad_time_ms": 16337.939, "update_time_ms": 7.607, "default": {"policy_loss": -0.010457804426550865, "cur_lr": 0.0005000000237487257, "kl": 0.02077861689031124, "total_loss": 39.456947326660156, "cur_kl_coeff": 0.14999999105930328, "vf_loss": 39.464290618896484, "entropy": 1.2965173721313477, "vf_explained_var": 0.8622491359710693}, "num_steps_sampled": 3726367}, "time_total_s": 2905.0246222019196, "config": {"output": null, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "max_seq_len": 20, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "lstm_use_prev_action_reward": false, "framestack": true, "grayscale": false, "dim": 84, "free_log_std": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "monitor": false, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "sample_async": false, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfde278>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfde2b0>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfde3c8>"}, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 700.0, "experiment_id": "49476b8bfa214ea3a002964354a4867e", "hostname": "flow-main", "episodes_this_iter": 28, "date": "2019-05-21_10-03-13"}
{"episode_reward_mean": 1255.6232375891168, "timesteps_total": 3791191, "iterations_since_restore": 57, "timesteps_since_restore": 3791191, "pid": 59695, "time_this_iter_s": 46.22278571128845, "policy_reward_mean": {}, "timesteps_this_iter": 64824, "training_iteration": 57, "episode_reward_max": 1434.381081577774, "node_ip": "10.138.0.2", "time_since_restore": 2951.247407913208, "episodes_total": 1597, "episode_reward_min": 1049.2212587088918, "num_metric_batches_dropped": 0, "done": false, "timestamp": 1558433040, "custom_metrics": {"outflow_rate_min": 963.2512741589121, "system_level_velocity_min": 8.829711842100398, "cost1_max": 426.8177841344749, "system_level_velocity_max": 16.222500761645456, "cost2_min": -93.512477009171, "outflow_rate_max": 1494.19193741759, "system_level_velocity_mean": 13.019686847832409, "cost1_mean": 340.94641540734557, "cost2_mean": -66.03192220565442, "outflow_rate_mean": 1201.5649249104417, "cost2_max": -46.424148701241904, "cost1_min": 228.92491934644772}, "info": {"num_steps_trained": 3791191, "sample_time_ms": 31727.853, "load_time_ms": 8.5, "grad_time_ms": 16318.49, "update_time_ms": 7.657, "default": {"policy_loss": -0.009587776847183704, "cur_lr": 0.0005000000237487257, "kl": 0.01480079349130392, "total_loss": 38.2647819519043, "cur_kl_coeff": 0.22499997913837433, "vf_loss": 38.27104568481445, "entropy": 1.2928502559661865, "vf_explained_var": 0.8644933700561523}, "num_steps_sampled": 3791191}, "time_total_s": 2951.247407913208, "config": {"output": null, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "max_seq_len": 20, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "lstm_use_prev_action_reward": false, "framestack": true, "grayscale": false, "dim": 84, "free_log_std": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "monitor": false, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "sample_async": false, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfdb320>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfdb588>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfdb518>"}, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 700.0, "experiment_id": "49476b8bfa214ea3a002964354a4867e", "hostname": "flow-main", "episodes_this_iter": 27, "date": "2019-05-21_10-04-00"}
{"episode_reward_mean": 1259.3429931341286, "timesteps_total": 3856941, "iterations_since_restore": 58, "timesteps_since_restore": 3856941, "pid": 59695, "time_this_iter_s": 46.73053193092346, "policy_reward_mean": {}, "timesteps_this_iter": 65750, "training_iteration": 58, "episode_reward_max": 1434.381081577774, "node_ip": "10.138.0.2", "time_since_restore": 2997.9779398441315, "episodes_total": 1626, "episode_reward_min": 1042.785424139574, "num_metric_batches_dropped": 0, "done": false, "timestamp": 1558433086, "custom_metrics": {"outflow_rate_min": 944.7755042905113, "system_level_velocity_min": 8.829711842100398, "cost1_max": 426.8177841344749, "system_level_velocity_max": 16.222500761645456, "cost2_min": -104.26838972462996, "outflow_rate_max": 1494.19193741759, "system_level_velocity_mean": 13.138623243847508, "cost1_mean": 344.3169560683229, "cost2_mean": -65.40866141423083, "outflow_rate_mean": 1204.131743829715, "cost2_max": -46.424148701241904, "cost1_min": 228.92491934644772}, "info": {"num_steps_trained": 3856941, "sample_time_ms": 31334.661, "load_time_ms": 8.497, "grad_time_ms": 16342.962, "update_time_ms": 7.692, "default": {"policy_loss": -0.009263628162443638, "cur_lr": 0.0005000000237487257, "kl": 0.014624989591538906, "total_loss": 41.266014099121094, "cur_kl_coeff": 0.22499997913837433, "vf_loss": 41.2719841003418, "entropy": 1.3014626502990723, "vf_explained_var": 0.8432196378707886}, "num_steps_sampled": 3856941}, "time_total_s": 2997.9779398441315, "config": {"output": null, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "max_seq_len": 20, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "lstm_use_prev_action_reward": false, "framestack": true, "grayscale": false, "dim": 84, "free_log_std": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "monitor": false, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "sample_async": false, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfc8630>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfc8780>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfbc2e8>"}, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 700.0, "experiment_id": "49476b8bfa214ea3a002964354a4867e", "hostname": "flow-main", "episodes_this_iter": 29, "date": "2019-05-21_10-04-46"}
{"episode_reward_mean": 1248.4818309062318, "timesteps_total": 3920461, "iterations_since_restore": 59, "timesteps_since_restore": 3920461, "pid": 59695, "time_this_iter_s": 46.40738105773926, "policy_reward_mean": {}, "timesteps_this_iter": 63520, "training_iteration": 59, "episode_reward_max": 1436.5962579498396, "node_ip": "10.138.0.2", "time_since_restore": 3044.3853209018707, "episodes_total": 1654, "episode_reward_min": 56.59141541034118, "num_metric_batches_dropped": 0, "done": false, "timestamp": 1558433133, "custom_metrics": {"outflow_rate_min": 499.0173885701168, "system_level_velocity_min": 8.829711842100398, "cost1_max": 433.9940917991841, "system_level_velocity_max": 18.373567286642068, "cost2_min": -104.26838972462996, "outflow_rate_max": 1540.3095319853776, "system_level_velocity_mean": 13.244361505716377, "cost1_mean": 342.46984942629337, "cost2_mean": -64.42214600582062, "outflow_rate_mean": 1198.5164993697838, "cost2_max": -12.899384264331424, "cost1_min": 22.822431869782488}, "info": {"num_steps_trained": 3920461, "sample_time_ms": 30842.239, "load_time_ms": 8.387, "grad_time_ms": 16196.081, "update_time_ms": 7.759, "default": {"policy_loss": -0.008749591186642647, "cur_lr": 0.0005000000237487257, "kl": 0.015195817686617374, "total_loss": 40.911441802978516, "cur_kl_coeff": 0.22499996423721313, "vf_loss": 40.916770935058594, "entropy": 1.2936285734176636, "vf_explained_var": 0.8658535480499268}, "num_steps_sampled": 3920461}, "time_total_s": 3044.3853209018707, "config": {"output": null, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "max_seq_len": 20, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "lstm_use_prev_action_reward": false, "framestack": true, "grayscale": false, "dim": 84, "free_log_std": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "monitor": false, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "sample_async": false, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfd4d30>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfd4438>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfd49e8>"}, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 693.35, "experiment_id": "49476b8bfa214ea3a002964354a4867e", "hostname": "flow-main", "episodes_this_iter": 28, "date": "2019-05-21_10-05-33"}
{"episode_reward_mean": 1244.4069849375364, "timesteps_total": 3987140, "iterations_since_restore": 60, "timesteps_since_restore": 3987140, "pid": 59695, "time_this_iter_s": 47.82974624633789, "policy_reward_mean": {}, "timesteps_this_iter": 66679, "training_iteration": 60, "episode_reward_max": 1436.5962579498396, "node_ip": "10.138.0.2", "time_since_restore": 3092.2150671482086, "episodes_total": 1680, "episode_reward_min": 56.59141541034118, "num_metric_batches_dropped": 0, "done": false, "timestamp": 1558433181, "custom_metrics": {"outflow_rate_min": 499.0173885701168, "system_level_velocity_min": 9.17276040063743, "cost1_max": 433.9940917991841, "system_level_velocity_max": 18.373567286642068, "cost2_min": -104.26838972462996, "outflow_rate_max": 1540.3095319853776, "system_level_velocity_mean": 13.060728191483213, "cost1_mean": 337.4366728392455, "cost2_mean": -66.09186166673231, "outflow_rate_mean": 1191.7539949142765, "cost2_max": -12.899384264331424, "cost1_min": 22.822431869782488}, "info": {"num_steps_trained": 3987140, "sample_time_ms": 30602.744, "load_time_ms": 8.627, "grad_time_ms": 16046.222, "update_time_ms": 7.469, "default": {"policy_loss": -0.008397392928600311, "cur_lr": 0.0005000000237487257, "kl": 0.01519469078630209, "total_loss": 37.63519287109375, "cur_kl_coeff": 0.22499996423721313, "vf_loss": 37.640174865722656, "entropy": 1.2958937883377075, "vf_explained_var": 0.8586010932922363}, "num_steps_sampled": 3987140}, "time_total_s": 3092.2150671482086, "config": {"output": null, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "max_seq_len": 20, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "lstm_use_prev_action_reward": false, "framestack": true, "grayscale": false, "dim": 84, "free_log_std": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "monitor": false, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "sample_async": false, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfdbf28>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfdb748>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfdbb70>"}, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 693.35, "experiment_id": "49476b8bfa214ea3a002964354a4867e", "hostname": "flow-main", "episodes_this_iter": 26, "date": "2019-05-21_10-06-21"}
{"episode_reward_mean": 1244.2542975971708, "timesteps_total": 4051926, "iterations_since_restore": 61, "timesteps_since_restore": 4051926, "pid": 59695, "time_this_iter_s": 48.14834451675415, "policy_reward_mean": {}, "timesteps_this_iter": 64786, "training_iteration": 61, "episode_reward_max": 1436.5962579498396, "node_ip": "10.138.0.2", "time_since_restore": 3140.3634116649628, "episodes_total": 1708, "episode_reward_min": 56.59141541034118, "num_metric_batches_dropped": 0, "done": false, "timestamp": 1558433229, "custom_metrics": {"outflow_rate_min": 499.0173885701168, "system_level_velocity_min": 9.224809693079434, "cost1_max": 433.9940917991841, "system_level_velocity_max": 18.373567286642068, "cost2_min": -104.26838972462996, "outflow_rate_max": 1540.3095319853776, "system_level_velocity_mean": 12.96284929988889, "cost1_mean": 334.87460018836873, "cost2_mean": -67.96989822783782, "outflow_rate_mean": 1189.9424220986532, "cost2_max": -12.899384264331424, "cost1_min": 22.822431869782488}, "info": {"num_steps_trained": 4051926, "sample_time_ms": 30663.24, "load_time_ms": 9.029, "grad_time_ms": 16074.506, "update_time_ms": 7.307, "default": {"policy_loss": -0.008240957744419575, "cur_lr": 0.0005000000237487257, "kl": 0.015357935801148415, "total_loss": 41.660438537597656, "cur_kl_coeff": 0.22499997913837433, "vf_loss": 41.66522216796875, "entropy": 1.2871407270431519, "vf_explained_var": 0.8560689687728882}, "num_steps_sampled": 4051926}, "time_total_s": 3140.3634116649628, "config": {"output": null, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "max_seq_len": 20, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "lstm_use_prev_action_reward": false, "framestack": true, "grayscale": false, "dim": 84, "free_log_std": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "monitor": false, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "sample_async": false, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfbca20>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfbc9b0>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfbc6d8>"}, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 693.35, "experiment_id": "49476b8bfa214ea3a002964354a4867e", "hostname": "flow-main", "episodes_this_iter": 28, "date": "2019-05-21_10-07-09"}
{"episode_reward_mean": 1239.80850707275, "timesteps_total": 4117295, "iterations_since_restore": 62, "timesteps_since_restore": 4117295, "pid": 59695, "time_this_iter_s": 46.4557147026062, "policy_reward_mean": {}, "timesteps_this_iter": 65369, "training_iteration": 62, "episode_reward_max": 1428.450411025753, "node_ip": "10.138.0.2", "time_since_restore": 3186.819126367569, "episodes_total": 1736, "episode_reward_min": 56.59141541034118, "num_metric_batches_dropped": 0, "done": false, "timestamp": 1558433275, "custom_metrics": {"outflow_rate_min": 499.0173885701168, "system_level_velocity_min": 9.224809693079434, "cost1_max": 430.40646947600646, "system_level_velocity_max": 18.373567286642068, "cost2_min": -100.10976935500868, "outflow_rate_max": 1520.086297297297, "system_level_velocity_mean": 12.912731098344375, "cost1_mean": 333.0821891001179, "cost2_mean": -68.15832590403556, "outflow_rate_mean": 1182.3577774774558, "cost2_max": -12.899384264331424, "cost1_min": 22.822431869782488}, "info": {"num_steps_trained": 4117295, "sample_time_ms": 30684.319, "load_time_ms": 8.896, "grad_time_ms": 16161.19, "update_time_ms": 7.285, "default": {"policy_loss": -0.008929222822189331, "cur_lr": 0.0005000000237487257, "kl": 0.015090602450072765, "total_loss": 39.81891632080078, "cur_kl_coeff": 0.22499996423721313, "vf_loss": 39.82444763183594, "entropy": 1.2828212976455688, "vf_explained_var": 0.8570509552955627}, "num_steps_sampled": 4117295}, "time_total_s": 3186.819126367569, "config": {"output": null, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "max_seq_len": 20, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "lstm_use_prev_action_reward": false, "framestack": true, "grayscale": false, "dim": 84, "free_log_std": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "monitor": false, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "sample_async": false, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfd4ac8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfdb748>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c0167f0>"}, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 693.35, "experiment_id": "49476b8bfa214ea3a002964354a4867e", "hostname": "flow-main", "episodes_this_iter": 28, "date": "2019-05-21_10-07-55"}
{"episode_reward_mean": 1264.991852459465, "timesteps_total": 4182720, "iterations_since_restore": 63, "timesteps_since_restore": 4182720, "pid": 59695, "time_this_iter_s": 50.09997868537903, "policy_reward_mean": {}, "timesteps_this_iter": 65425, "training_iteration": 63, "episode_reward_max": 1444.1215055112036, "node_ip": "10.138.0.2", "time_since_restore": 3236.919105052948, "episodes_total": 1766, "episode_reward_min": 1080.0149755241773, "num_metric_batches_dropped": 0, "done": false, "timestamp": 1558433326, "custom_metrics": {"outflow_rate_min": 974.1576921235851, "system_level_velocity_min": 9.224809693079434, "cost1_max": 424.46100751831636, "system_level_velocity_max": 16.045977968535198, "cost2_min": -102.4488541434887, "outflow_rate_max": 1472.1268997265613, "system_level_velocity_mean": 12.943213936390334, "cost1_mean": 338.91367951146634, "cost2_mean": -69.4841654341023, "outflow_rate_mean": 1203.7629602568327, "cost2_max": -49.49929335476845, "cost1_min": 239.03334960928822}, "info": {"num_steps_trained": 4182720, "sample_time_ms": 30825.883, "load_time_ms": 9.02, "grad_time_ms": 16352.302, "update_time_ms": 7.394, "default": {"policy_loss": -0.008449448272585869, "cur_lr": 0.0005000000237487257, "kl": 0.014230867847800255, "total_loss": 42.22409439086914, "cur_kl_coeff": 0.22499997913837433, "vf_loss": 42.22933578491211, "entropy": 1.2942270040512085, "vf_explained_var": 0.8603796362876892}, "num_steps_sampled": 4182720}, "time_total_s": 3236.919105052948, "config": {"output": null, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "max_seq_len": 20, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "lstm_use_prev_action_reward": false, "framestack": true, "grayscale": false, "dim": 84, "free_log_std": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "monitor": false, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "sample_async": false, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfd4ba8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfd4518>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfd4be0>"}, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 700.0, "experiment_id": "49476b8bfa214ea3a002964354a4867e", "hostname": "flow-main", "episodes_this_iter": 30, "date": "2019-05-21_10-08-46"}
{"episode_reward_mean": 1274.1135154743215, "timesteps_total": 4247467, "iterations_since_restore": 64, "timesteps_since_restore": 4247467, "pid": 59695, "time_this_iter_s": 46.43252158164978, "policy_reward_mean": {}, "timesteps_this_iter": 64747, "training_iteration": 64, "episode_reward_max": 1444.1215055112036, "node_ip": "10.138.0.2", "time_since_restore": 3283.351626634598, "episodes_total": 1795, "episode_reward_min": 1108.2416133731265, "num_metric_batches_dropped": 0, "done": false, "timestamp": 1558433372, "custom_metrics": {"outflow_rate_min": 974.1576921235851, "system_level_velocity_min": 9.44544849608229, "cost1_max": 424.46100751831636, "system_level_velocity_max": 16.045977968535198, "cost2_min": -103.2124306881901, "outflow_rate_max": 1472.1268997265613, "system_level_velocity_mean": 13.177474279145118, "cost1_mean": 345.3688579275666, "cost2_mean": -68.77046583583308, "outflow_rate_mean": 1214.5985119228603, "cost2_max": -46.10187011159539, "cost1_min": 240.19366585232086}, "info": {"num_steps_trained": 4247467, "sample_time_ms": 30705.659, "load_time_ms": 8.865, "grad_time_ms": 16328.935, "update_time_ms": 7.391, "default": {"policy_loss": -0.00986000057309866, "cur_lr": 0.0005000000237487257, "kl": 0.015866946429014206, "total_loss": 41.58592224121094, "cur_kl_coeff": 0.22499996423721313, "vf_loss": 41.59220886230469, "entropy": 1.3000578880310059, "vf_explained_var": 0.8561281561851501}, "num_steps_sampled": 4247467}, "time_total_s": 3283.351626634598, "config": {"output": null, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "max_seq_len": 20, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "lstm_use_prev_action_reward": false, "framestack": true, "grayscale": false, "dim": 84, "free_log_std": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "monitor": false, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "sample_async": false, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfdbb00>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfdbfd0>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfdb2b0>"}, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 700.0, "experiment_id": "49476b8bfa214ea3a002964354a4867e", "hostname": "flow-main", "episodes_this_iter": 29, "date": "2019-05-21_10-09-32"}
{"episode_reward_mean": 1274.5278859718135, "timesteps_total": 4312235, "iterations_since_restore": 65, "timesteps_since_restore": 4312235, "pid": 59695, "time_this_iter_s": 48.62206983566284, "policy_reward_mean": {}, "timesteps_this_iter": 64768, "training_iteration": 65, "episode_reward_max": 1444.1215055112036, "node_ip": "10.138.0.2", "time_since_restore": 3331.9736964702606, "episodes_total": 1823, "episode_reward_min": 1095.5646799926867, "num_metric_batches_dropped": 0, "done": false, "timestamp": 1558433421, "custom_metrics": {"outflow_rate_min": 962.8771349717316, "system_level_velocity_min": 9.44544849608229, "cost1_max": 424.46100751831636, "system_level_velocity_max": 16.045977968535198, "cost2_min": -103.2124306881901, "outflow_rate_max": 1472.1268997265613, "system_level_velocity_mean": 13.110284306418068, "cost1_mean": 343.8689066603142, "cost2_mean": -68.69647223993694, "outflow_rate_mean": 1216.8768869862743, "cost2_max": -46.10187011159539, "cost1_min": 240.19366585232086}, "info": {"num_steps_trained": 4312235, "sample_time_ms": 30795.414, "load_time_ms": 8.748, "grad_time_ms": 16456.954, "update_time_ms": 7.547, "default": {"policy_loss": -0.010230659507215023, "cur_lr": 0.0005000000237487257, "kl": 0.015126672573387623, "total_loss": 38.08684158325195, "cur_kl_coeff": 0.22499997913837433, "vf_loss": 38.093666076660156, "entropy": 1.2998536825180054, "vf_explained_var": 0.866389811038971}, "num_steps_sampled": 4312235}, "time_total_s": 3331.9736964702606, "config": {"output": null, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "max_seq_len": 20, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "lstm_use_prev_action_reward": false, "framestack": true, "grayscale": false, "dim": 84, "free_log_std": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "monitor": false, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "sample_async": false, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfde278>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfc8780>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfdeac8>"}, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 700.0, "experiment_id": "49476b8bfa214ea3a002964354a4867e", "hostname": "flow-main", "episodes_this_iter": 28, "date": "2019-05-21_10-10-21"}
{"episode_reward_mean": 1260.8967822042196, "timesteps_total": 4376374, "iterations_since_restore": 66, "timesteps_since_restore": 4376374, "pid": 59695, "time_this_iter_s": 46.37227487564087, "policy_reward_mean": {}, "timesteps_this_iter": 64139, "training_iteration": 66, "episode_reward_max": 1446.0713219721556, "node_ip": "10.138.0.2", "time_since_restore": 3378.3459713459015, "episodes_total": 1852, "episode_reward_min": 61.37225543598929, "num_metric_batches_dropped": 0, "done": false, "timestamp": 1558433467, "custom_metrics": {"outflow_rate_min": 497.50637466738357, "system_level_velocity_min": 9.47077195435803, "cost1_max": 424.46100751831636, "system_level_velocity_max": 18.132584278848302, "cost2_min": -103.2124306881901, "outflow_rate_max": 1490.734407537987, "system_level_velocity_mean": 13.165642406225174, "cost1_mean": 341.0005277600189, "cost2_mean": -67.50994008320662, "outflow_rate_mean": 1210.2540621288308, "cost2_max": -11.222102151137873, "cost1_min": 23.753306606022647}, "info": {"num_steps_trained": 4376374, "sample_time_ms": 30661.072, "load_time_ms": 8.844, "grad_time_ms": 16546.28, "update_time_ms": 7.541, "default": {"policy_loss": -0.008797981776297092, "cur_lr": 0.0005000000237487257, "kl": 0.014567379839718342, "total_loss": 42.10665512084961, "cur_kl_coeff": 0.22499997913837433, "vf_loss": 42.11217498779297, "entropy": 1.284206748008728, "vf_explained_var": 0.8548232316970825}, "num_steps_sampled": 4376374}, "time_total_s": 3378.3459713459015, "config": {"output": null, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "max_seq_len": 20, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "lstm_use_prev_action_reward": false, "framestack": true, "grayscale": false, "dim": 84, "free_log_std": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "monitor": false, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "sample_async": false, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfd4dd8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfd4b38>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfd4198>"}, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 693.37, "experiment_id": "49476b8bfa214ea3a002964354a4867e", "hostname": "flow-main", "episodes_this_iter": 29, "date": "2019-05-21_10-11-07"}
{"episode_reward_mean": 1239.2579200398632, "timesteps_total": 4442004, "iterations_since_restore": 67, "timesteps_since_restore": 4442004, "pid": 59695, "time_this_iter_s": 46.825417041778564, "policy_reward_mean": {}, "timesteps_this_iter": 65630, "training_iteration": 67, "episode_reward_max": 1446.0713219721556, "node_ip": "10.138.0.2", "time_since_restore": 3425.17138838768, "episodes_total": 1879, "episode_reward_min": 56.6072342713884, "num_metric_batches_dropped": 0, "done": false, "timestamp": 1558433514, "custom_metrics": {"outflow_rate_min": 497.50637466738357, "system_level_velocity_min": 9.47077195435803, "cost1_max": 422.80270000411616, "system_level_velocity_max": 18.361684177749964, "cost2_min": -98.54403220213955, "outflow_rate_max": 1490.734407537987, "system_level_velocity_mean": 12.98971597613794, "cost1_mean": 331.42007207777556, "cost2_mean": -68.32582093050274, "outflow_rate_mean": 1194.7569432094447, "cost2_max": -11.222102151137873, "cost1_min": 22.843609747817087}, "info": {"num_steps_trained": 4442004, "sample_time_ms": 30588.256, "load_time_ms": 9.152, "grad_time_ms": 16677.406, "update_time_ms": 7.482, "default": {"policy_loss": -0.008614971302449703, "cur_lr": 0.0005000000237487257, "kl": 0.01569286361336708, "total_loss": 40.88176727294922, "cur_kl_coeff": 0.22499996423721313, "vf_loss": 40.88685607910156, "entropy": 1.2776939868927002, "vf_explained_var": 0.8447509407997131}, "num_steps_sampled": 4442004}, "time_total_s": 3425.17138838768, "config": {"output": null, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "max_seq_len": 20, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "lstm_use_prev_action_reward": false, "framestack": true, "grayscale": false, "dim": 84, "free_log_std": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "monitor": false, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "sample_async": false, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c016278>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c0160b8>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c0167f0>"}, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 686.72, "experiment_id": "49476b8bfa214ea3a002964354a4867e", "hostname": "flow-main", "episodes_this_iter": 27, "date": "2019-05-21_10-11-54"}
{"episode_reward_mean": 1241.7434753647728, "timesteps_total": 4506623, "iterations_since_restore": 68, "timesteps_since_restore": 4506623, "pid": 59695, "time_this_iter_s": 46.13261604309082, "policy_reward_mean": {}, "timesteps_this_iter": 64619, "training_iteration": 68, "episode_reward_max": 1451.1711449726276, "node_ip": "10.138.0.2", "time_since_restore": 3471.304004430771, "episodes_total": 1908, "episode_reward_min": 56.6072342713884, "num_metric_batches_dropped": 0, "done": false, "timestamp": 1558433560, "custom_metrics": {"outflow_rate_min": 497.50637466738357, "system_level_velocity_min": 9.47077195435803, "cost1_max": 425.34955829780904, "system_level_velocity_max": 18.361684177749964, "cost2_min": -97.26715421679961, "outflow_rate_max": 1516.948070608125, "system_level_velocity_mean": 13.012661543515645, "cost1_mean": 331.64017645390095, "cost2_mean": -68.48487917069014, "outflow_rate_mean": 1211.2146840653786, "cost2_max": -11.222102151137873, "cost1_min": 22.843609747817087}, "info": {"num_steps_trained": 4506623, "sample_time_ms": 30548.659, "load_time_ms": 9.3, "grad_time_ms": 16657.485, "update_time_ms": 7.392, "default": {"policy_loss": -0.009923149831593037, "cur_lr": 0.0005000000237487257, "kl": 0.01557970978319645, "total_loss": 50.31299591064453, "cur_kl_coeff": 0.22499996423721313, "vf_loss": 50.31941223144531, "entropy": 1.2668064832687378, "vf_explained_var": 0.8153195977210999}, "num_steps_sampled": 4506623}, "time_total_s": 3471.304004430771, "config": {"output": null, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "max_seq_len": 20, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "lstm_use_prev_action_reward": false, "framestack": true, "grayscale": false, "dim": 84, "free_log_std": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "monitor": false, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "sample_async": false, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfbab38>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfba6a0>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfbc5f8>"}, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 686.72, "experiment_id": "49476b8bfa214ea3a002964354a4867e", "hostname": "flow-main", "episodes_this_iter": 29, "date": "2019-05-21_10-12-40"}
{"episode_reward_mean": 1249.8341299346157, "timesteps_total": 4570559, "iterations_since_restore": 69, "timesteps_since_restore": 4570559, "pid": 59695, "time_this_iter_s": 45.8267936706543, "policy_reward_mean": {}, "timesteps_this_iter": 63936, "training_iteration": 69, "episode_reward_max": 1451.1711449726276, "node_ip": "10.138.0.2", "time_since_restore": 3517.130798101425, "episodes_total": 1936, "episode_reward_min": 56.6072342713884, "num_metric_batches_dropped": 0, "done": false, "timestamp": 1558433606, "custom_metrics": {"outflow_rate_min": 475.3770657418198, "system_level_velocity_min": 9.529879292943752, "cost1_max": 425.34955829780904, "system_level_velocity_max": 18.361684177749964, "cost2_min": -97.26715421679961, "outflow_rate_max": 1516.948070608125, "system_level_velocity_mean": 13.092977198146777, "cost1_mean": 334.04737584541056, "cost2_mean": -69.90312247694239, "outflow_rate_mean": 1223.7781081531982, "cost2_max": -13.342078082094995, "cost1_min": 22.494564759527915}, "info": {"num_steps_trained": 4570559, "sample_time_ms": 30459.762, "load_time_ms": 9.249, "grad_time_ms": 16688.916, "update_time_ms": 7.285, "default": {"policy_loss": -0.010795746929943562, "cur_lr": 0.0005000000237487257, "kl": 0.016705304384231567, "total_loss": 45.74607467651367, "cur_kl_coeff": 0.22499999403953552, "vf_loss": 45.753108978271484, "entropy": 1.2884234189987183, "vf_explained_var": 0.8183487057685852}, "num_steps_sampled": 4570559}, "time_total_s": 3517.130798101425, "config": {"output": null, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "max_seq_len": 20, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "lstm_use_prev_action_reward": false, "framestack": true, "grayscale": false, "dim": 84, "free_log_std": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "monitor": false, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "sample_async": false, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfd49e8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfd4c50>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfd4b38>"}, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 686.7, "experiment_id": "49476b8bfa214ea3a002964354a4867e", "hostname": "flow-main", "episodes_this_iter": 28, "date": "2019-05-21_10-13-26"}
{"episode_reward_mean": 1268.2155897364214, "timesteps_total": 4634447, "iterations_since_restore": 70, "timesteps_since_restore": 4634447, "pid": 59695, "time_this_iter_s": 48.32705068588257, "policy_reward_mean": {}, "timesteps_this_iter": 63888, "training_iteration": 70, "episode_reward_max": 1451.1711449726276, "node_ip": "10.138.0.2", "time_since_restore": 3565.4578487873077, "episodes_total": 1965, "episode_reward_min": 58.69514017510818, "num_metric_batches_dropped": 0, "done": false, "timestamp": 1558433654, "custom_metrics": {"outflow_rate_min": 475.3770657418198, "system_level_velocity_min": 9.529879292943752, "cost1_max": 425.34955829780904, "system_level_velocity_max": 17.97767877773996, "cost2_min": -115.13141917917781, "outflow_rate_max": 1516.948070608125, "system_level_velocity_mean": 12.994640884535785, "cost1_mean": 336.447369287089, "cost2_mean": -72.47125584495461, "outflow_rate_mean": 1238.1703778098972, "cost2_max": -13.342078082094995, "cost1_min": 22.494564759527915}, "info": {"num_steps_trained": 4634447, "sample_time_ms": 30577.362, "load_time_ms": 8.586, "grad_time_ms": 16621.035, "update_time_ms": 7.308, "default": {"policy_loss": -0.00913682859390974, "cur_lr": 0.0005000000237487257, "kl": 0.01601986028254032, "total_loss": 44.59629440307617, "cur_kl_coeff": 0.22499999403953552, "vf_loss": 44.60182571411133, "entropy": 1.2929505109786987, "vf_explained_var": 0.8271870017051697}, "num_steps_sampled": 4634447}, "time_total_s": 3565.4578487873077, "config": {"output": null, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "max_seq_len": 20, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "lstm_use_prev_action_reward": false, "framestack": true, "grayscale": false, "dim": 84, "free_log_std": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "monitor": false, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "sample_async": false, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfdee10>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfdef98>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfde940>"}, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 693.35, "experiment_id": "49476b8bfa214ea3a002964354a4867e", "hostname": "flow-main", "episodes_this_iter": 29, "date": "2019-05-21_10-14-14"}
{"episode_reward_mean": 1280.2040760988432, "timesteps_total": 4700945, "iterations_since_restore": 71, "timesteps_since_restore": 4700945, "pid": 59695, "time_this_iter_s": 48.22721076011658, "policy_reward_mean": {}, "timesteps_this_iter": 66498, "training_iteration": 71, "episode_reward_max": 1451.1711449726276, "node_ip": "10.138.0.2", "time_since_restore": 3613.6850595474243, "episodes_total": 1994, "episode_reward_min": 58.69514017510818, "num_metric_batches_dropped": 0, "done": false, "timestamp": 1558433703, "custom_metrics": {"outflow_rate_min": 475.3770657418198, "system_level_velocity_min": 9.980652054479298, "cost1_max": 425.14700913422683, "system_level_velocity_max": 17.97767877773996, "cost2_min": -116.25725160365519, "outflow_rate_max": 1516.948070608125, "system_level_velocity_mean": 13.16424079273921, "cost1_mean": 341.4435152241377, "cost2_mean": -72.81446386624431, "outflow_rate_mean": 1253.6501684720085, "cost2_max": -13.342078082094995, "cost1_min": 22.494564759527915}, "info": {"num_steps_trained": 4700945, "sample_time_ms": 30470.482, "load_time_ms": 8.586, "grad_time_ms": 16735.52, "update_time_ms": 7.432, "default": {"policy_loss": -0.00985823106020689, "cur_lr": 0.0005000000237487257, "kl": 0.015549948439002037, "total_loss": 47.10325622558594, "cur_kl_coeff": 0.22499999403953552, "vf_loss": 47.109615325927734, "entropy": 1.3002426624298096, "vf_explained_var": 0.8210663199424744}, "num_steps_sampled": 4700945}, "time_total_s": 3613.6850595474243, "config": {"output": null, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "max_seq_len": 20, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "lstm_use_prev_action_reward": false, "framestack": true, "grayscale": false, "dim": 84, "free_log_std": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "monitor": false, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "sample_async": false, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfbc320>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfbca90>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81e4d9cf8>"}, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 693.35, "experiment_id": "49476b8bfa214ea3a002964354a4867e", "hostname": "flow-main", "episodes_this_iter": 29, "date": "2019-05-21_10-15-03"}
{"episode_reward_mean": 1280.7255621735876, "timesteps_total": 4764640, "iterations_since_restore": 72, "timesteps_since_restore": 4764640, "pid": 59695, "time_this_iter_s": 46.08905339241028, "policy_reward_mean": {}, "timesteps_this_iter": 63695, "training_iteration": 72, "episode_reward_max": 1433.7082676689977, "node_ip": "10.138.0.2", "time_since_restore": 3659.7741129398346, "episodes_total": 2022, "episode_reward_min": 58.69514017510818, "num_metric_batches_dropped": 0, "done": false, "timestamp": 1558433749, "custom_metrics": {"outflow_rate_min": 475.3770657418198, "system_level_velocity_min": 9.980652054479298, "cost1_max": 425.14700913422683, "system_level_velocity_max": 17.97767877773996, "cost2_min": -116.25725160365519, "outflow_rate_max": 1489.9267354126146, "system_level_velocity_mean": 13.136514767748832, "cost1_mean": 341.1684640451045, "cost2_mean": -74.17587556949407, "outflow_rate_mean": 1248.669191180565, "cost2_max": -13.342078082094995, "cost1_min": 22.494564759527915}, "info": {"num_steps_trained": 4764640, "sample_time_ms": 30351.246, "load_time_ms": 8.687, "grad_time_ms": 16818.066, "update_time_ms": 7.506, "default": {"policy_loss": -0.01098435278981924, "cur_lr": 0.0005000000237487257, "kl": 0.016509775072336197, "total_loss": 42.17448425292969, "cur_kl_coeff": 0.22499997913837433, "vf_loss": 42.1817512512207, "entropy": 1.3003828525543213, "vf_explained_var": 0.8324335813522339}, "num_steps_sampled": 4764640}, "time_total_s": 3659.7741129398346, "config": {"output": null, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "max_seq_len": 20, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "lstm_use_prev_action_reward": false, "framestack": true, "grayscale": false, "dim": 84, "free_log_std": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "monitor": false, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "sample_async": false, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfbcf28>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfbcb38>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfbc748>"}, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 693.35, "experiment_id": "49476b8bfa214ea3a002964354a4867e", "hostname": "flow-main", "episodes_this_iter": 28, "date": "2019-05-21_10-15-49"}
{"episode_reward_mean": 1293.6908867539494, "timesteps_total": 4827507, "iterations_since_restore": 73, "timesteps_since_restore": 4827507, "pid": 59695, "time_this_iter_s": 46.79121971130371, "policy_reward_mean": {}, "timesteps_this_iter": 62867, "training_iteration": 73, "episode_reward_max": 1433.7082676689977, "node_ip": "10.138.0.2", "time_since_restore": 3706.5653326511383, "episodes_total": 2051, "episode_reward_min": 1113.7033790951366, "num_metric_batches_dropped": 0, "done": false, "timestamp": 1558433796, "custom_metrics": {"outflow_rate_min": 1007.4526902599434, "system_level_velocity_min": 9.905768855273836, "cost1_max": 425.6125500702718, "system_level_velocity_max": 16.16461025249532, "cost2_min": -116.25725160365519, "outflow_rate_max": 1528.126110618121, "system_level_velocity_mean": 13.099101338381418, "cost1_mean": 344.6506289275068, "cost2_mean": -75.59039522397134, "outflow_rate_mean": 1257.5440870780749, "cost2_max": -43.494039120381515, "cost1_min": 258.0203156228204}, "info": {"num_steps_trained": 4827507, "sample_time_ms": 30174.691, "load_time_ms": 8.757, "grad_time_ms": 16664.462, "update_time_ms": 7.476, "default": {"policy_loss": -0.009686470031738281, "cur_lr": 0.0005000000237487257, "kl": 0.01570386067032814, "total_loss": 50.509300231933594, "cur_kl_coeff": 0.22499997913837433, "vf_loss": 50.51545333862305, "entropy": 1.3056745529174805, "vf_explained_var": 0.8061800599098206}, "num_steps_sampled": 4827507}, "time_total_s": 3706.5653326511383, "config": {"output": null, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "max_seq_len": 20, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "lstm_use_prev_action_reward": false, "framestack": true, "grayscale": false, "dim": 84, "free_log_std": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "monitor": false, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "sample_async": false, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c000b00>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c0008d0>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c031c88>"}, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 700.0, "experiment_id": "49476b8bfa214ea3a002964354a4867e", "hostname": "flow-main", "episodes_this_iter": 29, "date": "2019-05-21_10-16-36"}
{"episode_reward_mean": 1290.6954299035544, "timesteps_total": 4892190, "iterations_since_restore": 74, "timesteps_since_restore": 4892190, "pid": 59695, "time_this_iter_s": 45.864827156066895, "policy_reward_mean": {}, "timesteps_this_iter": 64683, "training_iteration": 74, "episode_reward_max": 1429.4579254779317, "node_ip": "10.138.0.2", "time_since_restore": 3752.430159807205, "episodes_total": 2079, "episode_reward_min": 1113.7033790951366, "num_metric_batches_dropped": 0, "done": false, "timestamp": 1558433842, "custom_metrics": {"outflow_rate_min": 1007.4526902599434, "system_level_velocity_min": 9.905768855273836, "cost1_max": 425.6125500702718, "system_level_velocity_max": 16.126002318936845, "cost2_min": -119.45662415730182, "outflow_rate_max": 1528.126110618121, "system_level_velocity_mean": 13.023720991835846, "cost1_mean": 342.52768558008654, "cost2_mean": -76.4524282396999, "outflow_rate_mean": 1257.3024195413468, "cost2_max": -43.494039120381515, "cost1_min": 258.0203156228204}, "info": {"num_steps_trained": 4892190, "sample_time_ms": 30141.273, "load_time_ms": 8.768, "grad_time_ms": 16640.705, "update_time_ms": 7.594, "default": {"policy_loss": -0.00971337128430605, "cur_lr": 0.0005000000237487257, "kl": 0.015842922031879425, "total_loss": 43.165950775146484, "cur_kl_coeff": 0.22499996423721313, "vf_loss": 43.17210006713867, "entropy": 1.320162057876587, "vf_explained_var": 0.832859456539154}, "num_steps_sampled": 4892190}, "time_total_s": 3752.430159807205, "config": {"output": null, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "max_seq_len": 20, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "lstm_use_prev_action_reward": false, "framestack": true, "grayscale": false, "dim": 84, "free_log_std": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "monitor": false, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "sample_async": false, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfbc7b8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfbca90>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfbc668>"}, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 700.0, "experiment_id": "49476b8bfa214ea3a002964354a4867e", "hostname": "flow-main", "episodes_this_iter": 28, "date": "2019-05-21_10-17-22"}
{"episode_reward_mean": 1297.713001784506, "timesteps_total": 4957048, "iterations_since_restore": 75, "timesteps_since_restore": 4957048, "pid": 59695, "time_this_iter_s": 46.14281225204468, "policy_reward_mean": {}, "timesteps_this_iter": 64858, "training_iteration": 75, "episode_reward_max": 1458.9834792845347, "node_ip": "10.138.0.2", "time_since_restore": 3798.57297205925, "episodes_total": 2108, "episode_reward_min": 1182.5617343481856, "num_metric_batches_dropped": 0, "done": false, "timestamp": 1558433888, "custom_metrics": {"outflow_rate_min": 1132.719495991813, "system_level_velocity_min": 9.905768855273836, "cost1_max": 427.95842497667115, "system_level_velocity_max": 16.245476506597488, "cost2_min": -119.45662415730182, "outflow_rate_max": 1576.2935245375359, "system_level_velocity_mean": 13.190588608029243, "cost1_mean": 346.762411764932, "cost2_mean": -75.67819737407736, "outflow_rate_mean": 1269.2056701187457, "cost2_max": -43.494039120381515, "cost1_min": 258.0203156228204}, "info": {"num_steps_trained": 4957048, "sample_time_ms": 30032.376, "load_time_ms": 8.845, "grad_time_ms": 16502.497, "update_time_ms": 7.405, "default": {"policy_loss": -0.011209583841264248, "cur_lr": 0.0005000000237487257, "kl": 0.01643390767276287, "total_loss": 46.46054458618164, "cur_kl_coeff": 0.22499997913837433, "vf_loss": 46.468055725097656, "entropy": 1.3111807107925415, "vf_explained_var": 0.8123010993003845}, "num_steps_sampled": 4957048}, "time_total_s": 3798.57297205925, "config": {"output": null, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "max_seq_len": 20, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "lstm_use_prev_action_reward": false, "framestack": true, "grayscale": false, "dim": 84, "free_log_std": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "monitor": false, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "sample_async": false, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfde978>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfbccc0>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfde198>"}, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 700.0, "experiment_id": "49476b8bfa214ea3a002964354a4867e", "hostname": "flow-main", "episodes_this_iter": 29, "date": "2019-05-21_10-18-08"}
{"episode_reward_mean": 1297.8790728010601, "timesteps_total": 5022109, "iterations_since_restore": 76, "timesteps_since_restore": 5022109, "pid": 59695, "time_this_iter_s": 46.0492901802063, "policy_reward_mean": {}, "timesteps_this_iter": 65061, "training_iteration": 76, "episode_reward_max": 1458.9834792845347, "node_ip": "10.138.0.2", "time_since_restore": 3844.622262239456, "episodes_total": 2136, "episode_reward_min": 1168.4505648308443, "num_metric_batches_dropped": 0, "done": false, "timestamp": 1558433934, "custom_metrics": {"outflow_rate_min": 1124.785488530161, "system_level_velocity_min": 9.905768855273836, "cost1_max": 427.95842497667115, "system_level_velocity_max": 16.245476506597488, "cost2_min": -119.45662415730182, "outflow_rate_max": 1576.2935245375359, "system_level_velocity_mean": 13.149733369008896, "cost1_mean": 345.194948171464, "cost2_mean": -77.37395859137176, "outflow_rate_mean": 1278.7804301987953, "cost2_max": -43.494039120381515, "cost1_min": 258.0203156228204}, "info": {"num_steps_trained": 5022109, "sample_time_ms": 30074.203, "load_time_ms": 8.939, "grad_time_ms": 16428.229, "update_time_ms": 7.373, "default": {"policy_loss": -0.009220518171787262, "cur_lr": 0.0005000000237487257, "kl": 0.01504544448107481, "total_loss": 47.334373474121094, "cur_kl_coeff": 0.22499997913837433, "vf_loss": 47.340206146240234, "entropy": 1.3192394971847534, "vf_explained_var": 0.8032178282737732}, "num_steps_sampled": 5022109}, "time_total_s": 3844.622262239456, "config": {"output": null, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "max_seq_len": 20, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "lstm_use_prev_action_reward": false, "framestack": true, "grayscale": false, "dim": 84, "free_log_std": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "monitor": false, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "sample_async": false, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfdb048>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81e5028d0>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfdbc50>"}, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 700.0, "experiment_id": "49476b8bfa214ea3a002964354a4867e", "hostname": "flow-main", "episodes_this_iter": 28, "date": "2019-05-21_10-18-54"}
{"episode_reward_mean": 1305.0302161873292, "timesteps_total": 5086903, "iterations_since_restore": 77, "timesteps_since_restore": 5086903, "pid": 59695, "time_this_iter_s": 47.34034204483032, "policy_reward_mean": {}, "timesteps_this_iter": 64794, "training_iteration": 77, "episode_reward_max": 1458.9834792845347, "node_ip": "10.138.0.2", "time_since_restore": 3891.9626042842865, "episodes_total": 2164, "episode_reward_min": 1168.4505648308443, "num_metric_batches_dropped": 0, "done": false, "timestamp": 1558433981, "custom_metrics": {"outflow_rate_min": 1124.785488530161, "system_level_velocity_min": 10.272046878503335, "cost1_max": 428.5540280098511, "system_level_velocity_max": 16.245476506597488, "cost2_min": -115.65276415984657, "outflow_rate_max": 1576.2935245375359, "system_level_velocity_mean": 13.29467085670242, "cost1_mean": 348.91446504867633, "cost2_mean": -77.1788241129132, "outflow_rate_mean": 1287.3949750575657, "cost2_max": -45.04476466890427, "cost1_min": 262.8374174828683}, "info": {"num_steps_trained": 5086903, "sample_time_ms": 30221.03, "load_time_ms": 8.748, "grad_time_ms": 16334.04, "update_time_ms": 7.426, "default": {"policy_loss": -0.009297733195126057, "cur_lr": 0.0005000000237487257, "kl": 0.01607562229037285, "total_loss": 48.393585205078125, "cur_kl_coeff": 0.22499997913837433, "vf_loss": 48.399269104003906, "entropy": 1.325627326965332, "vf_explained_var": 0.8085185289382935}, "num_steps_sampled": 5086903}, "time_total_s": 3891.9626042842865, "config": {"output": null, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "max_seq_len": 20, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "lstm_use_prev_action_reward": false, "framestack": true, "grayscale": false, "dim": 84, "free_log_std": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "monitor": false, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "sample_async": false, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfbc8d0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfbc5c0>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfbc048>"}, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 700.0, "experiment_id": "49476b8bfa214ea3a002964354a4867e", "hostname": "flow-main", "episodes_this_iter": 28, "date": "2019-05-21_10-19-41"}
{"episode_reward_mean": 1298.241126381518, "timesteps_total": 5150929, "iterations_since_restore": 78, "timesteps_since_restore": 5150929, "pid": 59695, "time_this_iter_s": 48.875311613082886, "policy_reward_mean": {}, "timesteps_this_iter": 64026, "training_iteration": 78, "episode_reward_max": 1458.9834792845347, "node_ip": "10.138.0.2", "time_since_restore": 3940.8379158973694, "episodes_total": 2193, "episode_reward_min": 1118.6282832780512, "num_metric_batches_dropped": 0, "done": false, "timestamp": 1558434030, "custom_metrics": {"outflow_rate_min": 1032.9796672869516, "system_level_velocity_min": 9.778783333407965, "cost1_max": 431.3187947662951, "system_level_velocity_max": 16.416636171199702, "cost2_min": -120.4933167681132, "outflow_rate_max": 1576.2935245375359, "system_level_velocity_mean": 13.14689510396041, "cost1_mean": 344.48332598242246, "cost2_mean": -78.6806094813566, "outflow_rate_mean": 1285.251577596266, "cost2_max": -45.04476466890427, "cost1_min": 250.59750931842905}, "info": {"num_steps_trained": 5150929, "sample_time_ms": 30469.12, "load_time_ms": 8.645, "grad_time_ms": 16361.284, "update_time_ms": 7.654, "default": {"policy_loss": -0.010656381957232952, "cur_lr": 0.0005000000237487257, "kl": 0.016160840168595314, "total_loss": 45.485740661621094, "cur_kl_coeff": 0.22499996423721313, "vf_loss": 45.49276351928711, "entropy": 1.3431764841079712, "vf_explained_var": 0.8146793842315674}, "num_steps_sampled": 5150929}, "time_total_s": 3940.8379158973694, "config": {"output": null, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "max_seq_len": 20, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "lstm_use_prev_action_reward": false, "framestack": true, "grayscale": false, "dim": 84, "free_log_std": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "monitor": false, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "sample_async": false, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfe83c8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfe8a58>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfe8d30>"}, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 700.0, "experiment_id": "49476b8bfa214ea3a002964354a4867e", "hostname": "flow-main", "episodes_this_iter": 29, "date": "2019-05-21_10-20-30"}
{"episode_reward_mean": 1298.6767747324586, "timesteps_total": 5213389, "iterations_since_restore": 79, "timesteps_since_restore": 5213389, "pid": 59695, "time_this_iter_s": 46.604275703430176, "policy_reward_mean": {}, "timesteps_this_iter": 62460, "training_iteration": 79, "episode_reward_max": 1458.1591102696927, "node_ip": "10.138.0.2", "time_since_restore": 3987.4421916007996, "episodes_total": 2221, "episode_reward_min": 1118.6282832780512, "num_metric_batches_dropped": 0, "done": false, "timestamp": 1558434077, "custom_metrics": {"outflow_rate_min": 1032.9796672869516, "system_level_velocity_min": 9.778783333407965, "cost1_max": 431.3187947662951, "system_level_velocity_max": 16.416636171199702, "cost2_min": -120.4933167681132, "outflow_rate_max": 1552.6960256081206, "system_level_velocity_mean": 13.251775518568834, "cost1_mean": 347.09909230997664, "cost2_mean": -77.37597178252682, "outflow_rate_mean": 1280.7540838044486, "cost2_max": -45.04476466890427, "cost1_min": 250.59750931842905}, "info": {"num_steps_trained": 5213389, "sample_time_ms": 30481.006, "load_time_ms": 8.563, "grad_time_ms": 16427.202, "update_time_ms": 7.683, "default": {"policy_loss": -0.009557598270475864, "cur_lr": 0.0005000000237487257, "kl": 0.015496363863348961, "total_loss": 46.859439849853516, "cur_kl_coeff": 0.22499997913837433, "vf_loss": 46.865501403808594, "entropy": 1.3321926593780518, "vf_explained_var": 0.813807487487793}, "num_steps_sampled": 5213389}, "time_total_s": 3987.4421916007996, "config": {"output": null, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "max_seq_len": 20, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "lstm_use_prev_action_reward": false, "framestack": true, "grayscale": false, "dim": 84, "free_log_std": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "monitor": false, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "sample_async": false, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81e502710>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81e502ac8>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81e502cc0>"}, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 700.0, "experiment_id": "49476b8bfa214ea3a002964354a4867e", "hostname": "flow-main", "episodes_this_iter": 28, "date": "2019-05-21_10-21-17"}
{"episode_reward_mean": 1290.867595737194, "timesteps_total": 5275855, "iterations_since_restore": 80, "timesteps_since_restore": 5275855, "pid": 59695, "time_this_iter_s": 45.23301386833191, "policy_reward_mean": {}, "timesteps_this_iter": 62466, "training_iteration": 80, "episode_reward_max": 1458.1591102696927, "node_ip": "10.138.0.2", "time_since_restore": 4032.6752054691315, "episodes_total": 2249, "episode_reward_min": 1118.6282832780512, "num_metric_batches_dropped": 0, "done": false, "timestamp": 1558434122, "custom_metrics": {"outflow_rate_min": 1032.9796672869516, "system_level_velocity_min": 9.778783333407965, "cost1_max": 431.3187947662951, "system_level_velocity_max": 16.416636171199702, "cost2_min": -120.4933167681132, "outflow_rate_max": 1552.6960256081206, "system_level_velocity_mean": 13.114785735426073, "cost1_mean": 343.33883934733353, "cost2_mean": -77.26199344934433, "outflow_rate_mean": 1267.1104940434773, "cost2_max": -46.878648396220726, "cost1_min": 250.59750931842905}, "info": {"num_steps_trained": 5275855, "sample_time_ms": 30039.578, "load_time_ms": 9.203, "grad_time_ms": 16558.632, "update_time_ms": 7.692, "default": {"policy_loss": -0.009759340435266495, "cur_lr": 0.0005000000237487257, "kl": 0.01725948415696621, "total_loss": 48.99775314331055, "cur_kl_coeff": 0.22499997913837433, "vf_loss": 49.00362777709961, "entropy": 1.3326056003570557, "vf_explained_var": 0.804585874080658}, "num_steps_sampled": 5275855}, "time_total_s": 4032.6752054691315, "config": {"output": null, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "max_seq_len": 20, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "lstm_use_prev_action_reward": false, "framestack": true, "grayscale": false, "dim": 84, "free_log_std": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "monitor": false, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "sample_async": false, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfde940>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfde3c8>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfdedd8>"}, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 700.0, "experiment_id": "49476b8bfa214ea3a002964354a4867e", "hostname": "flow-main", "episodes_this_iter": 28, "date": "2019-05-21_10-22-02"}
{"episode_reward_mean": 1294.3725609623107, "timesteps_total": 5339710, "iterations_since_restore": 81, "timesteps_since_restore": 5339710, "pid": 59695, "time_this_iter_s": 45.70255494117737, "policy_reward_mean": {}, "timesteps_this_iter": 63855, "training_iteration": 81, "episode_reward_max": 1448.2297889580184, "node_ip": "10.138.0.2", "time_since_restore": 4078.377760410309, "episodes_total": 2279, "episode_reward_min": 1118.6282832780512, "num_metric_batches_dropped": 0, "done": false, "timestamp": 1558434168, "custom_metrics": {"outflow_rate_min": 1032.9796672869516, "system_level_velocity_min": 9.778783333407965, "cost1_max": 431.3187947662951, "system_level_velocity_max": 16.416636171199702, "cost2_min": -108.99443599614243, "outflow_rate_max": 1552.6960256081206, "system_level_velocity_mean": 13.293501683942008, "cost1_mean": 347.97055962285447, "cost2_mean": -75.18708299452497, "outflow_rate_mean": 1269.5591755477894, "cost2_max": -46.878648396220726, "cost1_min": 250.59750931842905}, "info": {"num_steps_trained": 5339710, "sample_time_ms": 29883.61, "load_time_ms": 9.228, "grad_time_ms": 16460.832, "update_time_ms": 7.734, "default": {"policy_loss": -0.011318080127239227, "cur_lr": 0.0005000000237487257, "kl": 0.0176076702773571, "total_loss": 47.38549041748047, "cur_kl_coeff": 0.22499997913837433, "vf_loss": 47.392852783203125, "entropy": 1.3396703004837036, "vf_explained_var": 0.812997043132782}, "num_steps_sampled": 5339710}, "time_total_s": 4078.377760410309, "config": {"output": null, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "max_seq_len": 20, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "lstm_use_prev_action_reward": false, "framestack": true, "grayscale": false, "dim": 84, "free_log_std": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "monitor": false, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "sample_async": false, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfc8128>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfc80f0>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfc8a90>"}, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 700.0, "experiment_id": "49476b8bfa214ea3a002964354a4867e", "hostname": "flow-main", "episodes_this_iter": 30, "date": "2019-05-21_10-22-48"}
{"episode_reward_mean": 1298.6103457925092, "timesteps_total": 5402508, "iterations_since_restore": 82, "timesteps_since_restore": 5402508, "pid": 59695, "time_this_iter_s": 44.10282254219055, "policy_reward_mean": {}, "timesteps_this_iter": 62798, "training_iteration": 82, "episode_reward_max": 1448.2297889580184, "node_ip": "10.138.0.2", "time_since_restore": 4122.480582952499, "episodes_total": 2307, "episode_reward_min": 1142.4962589096856, "num_metric_batches_dropped": 0, "done": false, "timestamp": 1558434212, "custom_metrics": {"outflow_rate_min": 1112.772399183123, "system_level_velocity_min": 10.182310341864252, "cost1_max": 429.147538435015, "system_level_velocity_max": 16.287756394318247, "cost2_min": -108.99443599614243, "outflow_rate_max": 1516.84765226834, "system_level_velocity_mean": 13.458435219038126, "cost1_mean": 352.34980554392, "cost2_mean": -74.12067612478933, "outflow_rate_mean": 1273.3309765535728, "cost2_max": -43.34718921464784, "cost1_min": 261.4159395012848}, "info": {"num_steps_trained": 5402508, "sample_time_ms": 29805.808, "load_time_ms": 9.063, "grad_time_ms": 16340.51, "update_time_ms": 7.706, "default": {"policy_loss": -0.01043698564171791, "cur_lr": 0.0005000000237487257, "kl": 0.01584850437939167, "total_loss": 47.33519744873047, "cur_kl_coeff": 0.22499997913837433, "vf_loss": 47.34206771850586, "entropy": 1.3418214321136475, "vf_explained_var": 0.8141790628433228}, "num_steps_sampled": 5402508}, "time_total_s": 4122.480582952499, "config": {"output": null, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "max_seq_len": 20, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "lstm_use_prev_action_reward": false, "framestack": true, "grayscale": false, "dim": 84, "free_log_std": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "monitor": false, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "sample_async": false, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfe8a58>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81e502710>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfdb710>"}, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 700.0, "experiment_id": "49476b8bfa214ea3a002964354a4867e", "hostname": "flow-main", "episodes_this_iter": 28, "date": "2019-05-21_10-23-32"}
{"episode_reward_mean": 1284.0604343804205, "timesteps_total": 5467450, "iterations_since_restore": 83, "timesteps_since_restore": 5467450, "pid": 59695, "time_this_iter_s": 47.124778032302856, "policy_reward_mean": {}, "timesteps_this_iter": 64942, "training_iteration": 83, "episode_reward_max": 1469.89459776572, "node_ip": "10.138.0.2", "time_since_restore": 4169.605360984802, "episodes_total": 2337, "episode_reward_min": 60.34820489741893, "num_metric_batches_dropped": 0, "done": false, "timestamp": 1558434259, "custom_metrics": {"outflow_rate_min": 486.3106025341379, "system_level_velocity_min": 9.99839455426982, "cost1_max": 432.12132554092284, "system_level_velocity_max": 18.098655142738806, "cost2_min": -108.99443599614243, "outflow_rate_max": 1565.0470795200245, "system_level_velocity_mean": 13.553064067050126, "cost1_mean": 349.94543453192387, "cost2_mean": -72.46779577581077, "outflow_rate_mean": 1262.620794775421, "cost2_max": -13.664187649509762, "cost1_min": 23.790368284835914}, "info": {"num_steps_trained": 5467450, "sample_time_ms": 29770.076, "load_time_ms": 9.074, "grad_time_ms": 16408.328, "update_time_ms": 7.612, "default": {"policy_loss": -0.010435554198920727, "cur_lr": 0.0005000000237487257, "kl": 0.016644753515720367, "total_loss": 47.021934509277344, "cur_kl_coeff": 0.22499997913837433, "vf_loss": 47.028629302978516, "entropy": 1.3444792032241821, "vf_explained_var": 0.8178459405899048}, "num_steps_sampled": 5467450}, "time_total_s": 4169.605360984802, "config": {"output": null, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "max_seq_len": 20, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "lstm_use_prev_action_reward": false, "framestack": true, "grayscale": false, "dim": 84, "free_log_std": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "monitor": false, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "sample_async": false, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfdef98>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfdedd8>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfde7f0>"}, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 693.37, "experiment_id": "49476b8bfa214ea3a002964354a4867e", "hostname": "flow-main", "episodes_this_iter": 30, "date": "2019-05-21_10-24-19"}
{"episode_reward_mean": 1277.9057902877937, "timesteps_total": 5532500, "iterations_since_restore": 84, "timesteps_since_restore": 5532500, "pid": 59695, "time_this_iter_s": 48.309157848358154, "policy_reward_mean": {}, "timesteps_this_iter": 65050, "training_iteration": 84, "episode_reward_max": 1469.89459776572, "node_ip": "10.138.0.2", "time_since_restore": 4217.91451883316, "episodes_total": 2365, "episode_reward_min": 60.34820489741893, "num_metric_batches_dropped": 0, "done": false, "timestamp": 1558434308, "custom_metrics": {"outflow_rate_min": 486.3106025341379, "system_level_velocity_min": 9.99839455426982, "cost1_max": 432.12132554092284, "system_level_velocity_max": 18.098655142738806, "cost2_min": -105.47373092240323, "outflow_rate_max": 1565.0470795200245, "system_level_velocity_mean": 13.546084132207579, "cost1_mean": 349.3277913300401, "cost2_mean": -72.78485804966408, "outflow_rate_mean": 1258.596931688004, "cost2_max": -13.664187649509762, "cost1_min": 23.790368284835914}, "info": {"num_steps_trained": 5532500, "sample_time_ms": 30004.572, "load_time_ms": 9.227, "grad_time_ms": 16418.021, "update_time_ms": 7.419, "default": {"policy_loss": -0.011730382218956947, "cur_lr": 0.0005000000237487257, "kl": 0.017567463219165802, "total_loss": 42.115516662597656, "cur_kl_coeff": 0.22499997913837433, "vf_loss": 42.123294830322266, "entropy": 1.3393864631652832, "vf_explained_var": 0.8240265846252441}, "num_steps_sampled": 5532500}, "time_total_s": 4217.91451883316, "config": {"output": null, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "max_seq_len": 20, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "lstm_use_prev_action_reward": false, "framestack": true, "grayscale": false, "dim": 84, "free_log_std": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "monitor": false, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "sample_async": false, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c0009e8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c018da0>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c000b00>"}, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 693.37, "experiment_id": "49476b8bfa214ea3a002964354a4867e", "hostname": "flow-main", "episodes_this_iter": 28, "date": "2019-05-21_10-25-08"}
{"episode_reward_mean": 1271.594086800256, "timesteps_total": 5594786, "iterations_since_restore": 85, "timesteps_since_restore": 5594786, "pid": 59695, "time_this_iter_s": 46.239343881607056, "policy_reward_mean": {}, "timesteps_this_iter": 62286, "training_iteration": 85, "episode_reward_max": 1469.89459776572, "node_ip": "10.138.0.2", "time_since_restore": 4264.1538627147675, "episodes_total": 2393, "episode_reward_min": 60.34820489741893, "num_metric_batches_dropped": 0, "done": false, "timestamp": 1558434354, "custom_metrics": {"outflow_rate_min": 486.3106025341379, "system_level_velocity_min": 9.64370193383547, "cost1_max": 432.12132554092284, "system_level_velocity_max": 18.098655142738806, "cost2_min": -105.47373092240323, "outflow_rate_max": 1565.0470795200245, "system_level_velocity_mean": 13.469888639050094, "cost1_mean": 347.0054494292062, "cost2_mean": -72.10779849689528, "outflow_rate_mean": 1254.236382520344, "cost2_max": -13.664187649509762, "cost1_min": 23.790368284835914}, "info": {"num_steps_trained": 5594786, "sample_time_ms": 29969.494, "load_time_ms": 9.156, "grad_time_ms": 16462.116, "update_time_ms": 7.474, "default": {"policy_loss": -0.009971304796636105, "cur_lr": 0.0005000000237487257, "kl": 0.015893232077360153, "total_loss": 46.301273345947266, "cur_kl_coeff": 0.22499997913837433, "vf_loss": 46.30767059326172, "entropy": 1.3575433492660522, "vf_explained_var": 0.8099313974380493}, "num_steps_sampled": 5594786}, "time_total_s": 4264.1538627147675, "config": {"output": null, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "max_seq_len": 20, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "lstm_use_prev_action_reward": false, "framestack": true, "grayscale": false, "dim": 84, "free_log_std": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "monitor": false, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "sample_async": false, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfc8400>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfc8208>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfc8f60>"}, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 693.37, "experiment_id": "49476b8bfa214ea3a002964354a4867e", "hostname": "flow-main", "episodes_this_iter": 28, "date": "2019-05-21_10-25-54"}
{"episode_reward_mean": 1257.1931332058562, "timesteps_total": 5658539, "iterations_since_restore": 86, "timesteps_since_restore": 5658539, "pid": 59695, "time_this_iter_s": 45.2431161403656, "policy_reward_mean": {}, "timesteps_this_iter": 63753, "training_iteration": 86, "episode_reward_max": 1443.3352775398353, "node_ip": "10.138.0.2", "time_since_restore": 4309.396978855133, "episodes_total": 2422, "episode_reward_min": 56.50399111559602, "num_metric_batches_dropped": 0, "done": false, "timestamp": 1558434399, "custom_metrics": {"outflow_rate_min": 486.3106025341379, "system_level_velocity_min": 9.64370193383547, "cost1_max": 431.55333588998826, "system_level_velocity_max": 18.098655142738806, "cost2_min": -104.10529917265288, "outflow_rate_max": 1477.9355846253422, "system_level_velocity_mean": 13.560671087100113, "cost1_mean": 345.0885963970705, "cost2_mean": -70.12273583940956, "outflow_rate_mean": 1245.9256405958567, "cost2_max": -13.664187649509762, "cost1_min": 23.21241314392585}, "info": {"num_steps_trained": 5658539, "sample_time_ms": 29829.63, "load_time_ms": 9.075, "grad_time_ms": 16520.743, "update_time_ms": 7.566, "default": {"policy_loss": -0.011097392998635769, "cur_lr": 0.0005000000237487257, "kl": 0.017326390370726585, "total_loss": 42.19304275512695, "cur_kl_coeff": 0.22499997913837433, "vf_loss": 42.20024108886719, "entropy": 1.3689327239990234, "vf_explained_var": 0.8309563398361206}, "num_steps_sampled": 5658539}, "time_total_s": 4309.396978855133, "config": {"output": null, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "max_seq_len": 20, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "lstm_use_prev_action_reward": false, "framestack": true, "grayscale": false, "dim": 84, "free_log_std": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "monitor": false, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "sample_async": false, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfdef98>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfde3c8>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfde630>"}, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 686.73, "experiment_id": "49476b8bfa214ea3a002964354a4867e", "hostname": "flow-main", "episodes_this_iter": 29, "date": "2019-05-21_10-26-39"}
{"episode_reward_mean": 1263.0404689747488, "timesteps_total": 5721790, "iterations_since_restore": 87, "timesteps_since_restore": 5721790, "pid": 59695, "time_this_iter_s": 45.684391021728516, "policy_reward_mean": {}, "timesteps_this_iter": 63251, "training_iteration": 87, "episode_reward_max": 1443.3352775398353, "node_ip": "10.138.0.2", "time_since_restore": 4355.081369876862, "episodes_total": 2449, "episode_reward_min": 56.50399111559602, "num_metric_batches_dropped": 0, "done": false, "timestamp": 1558434445, "custom_metrics": {"outflow_rate_min": 501.42438521542175, "system_level_velocity_min": 9.428596366592407, "cost1_max": 447.8025903823956, "system_level_velocity_max": 18.016368202446063, "cost2_min": -103.96932247922396, "outflow_rate_max": 1538.4834061319261, "system_level_velocity_mean": 13.422765156797585, "cost1_mean": 345.8519494285709, "cost2_mean": -69.63595452022207, "outflow_rate_mean": 1253.9950620795234, "cost2_max": -14.146180924841278, "cost1_min": 23.21241314392585}, "info": {"num_steps_trained": 5721790, "sample_time_ms": 29686.614, "load_time_ms": 9.164, "grad_time_ms": 16497.996, "update_time_ms": 7.561, "default": {"policy_loss": -0.009921417571604252, "cur_lr": 0.0005000000237487257, "kl": 0.016495849937200546, "total_loss": 44.4374885559082, "cur_kl_coeff": 0.22499999403953552, "vf_loss": 44.44369888305664, "entropy": 1.3763223886489868, "vf_explained_var": 0.8074629306793213}, "num_steps_sampled": 5721790}, "time_total_s": 4355.081369876862, "config": {"output": null, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "max_seq_len": 20, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "lstm_use_prev_action_reward": false, "framestack": true, "grayscale": false, "dim": 84, "free_log_std": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "monitor": false, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "sample_async": false, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfc8588>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c018da0>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfc8e80>"}, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 693.36, "experiment_id": "49476b8bfa214ea3a002964354a4867e", "hostname": "flow-main", "episodes_this_iter": 27, "date": "2019-05-21_10-27-25"}
{"episode_reward_mean": 1262.971911308098, "timesteps_total": 5783172, "iterations_since_restore": 88, "timesteps_since_restore": 5783172, "pid": 59695, "time_this_iter_s": 44.566869258880615, "policy_reward_mean": {}, "timesteps_this_iter": 61382, "training_iteration": 88, "episode_reward_max": 1443.3352775398353, "node_ip": "10.138.0.2", "time_since_restore": 4399.648239135742, "episodes_total": 2477, "episode_reward_min": 56.50399111559602, "num_metric_batches_dropped": 0, "done": false, "timestamp": 1558434489, "custom_metrics": {"outflow_rate_min": 501.42438521542175, "system_level_velocity_min": 9.428596366592407, "cost1_max": 447.8025903823956, "system_level_velocity_max": 18.016368202446063, "cost2_min": -104.92406486379008, "outflow_rate_max": 1538.4834061319261, "system_level_velocity_mean": 13.381911349553626, "cost1_mean": 344.9668549076162, "cost2_mean": -70.14649319349353, "outflow_rate_mean": 1252.7211011338602, "cost2_max": -14.146180924841278, "cost1_min": 23.21241314392585}, "info": {"num_steps_trained": 5783172, "sample_time_ms": 29382.071, "load_time_ms": 9.186, "grad_time_ms": 16370.732, "update_time_ms": 7.404, "default": {"policy_loss": -0.01097921933978796, "cur_lr": 0.0005000000237487257, "kl": 0.01673736236989498, "total_loss": 47.19681167602539, "cur_kl_coeff": 0.22499999403953552, "vf_loss": 47.20402526855469, "entropy": 1.3625060319900513, "vf_explained_var": 0.8064943552017212}, "num_steps_sampled": 5783172}, "time_total_s": 4399.648239135742, "config": {"output": null, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "max_seq_len": 20, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "lstm_use_prev_action_reward": false, "framestack": true, "grayscale": false, "dim": 84, "free_log_std": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "monitor": false, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "sample_async": false, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfde470>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfde780>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfde1d0>"}, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 693.36, "experiment_id": "49476b8bfa214ea3a002964354a4867e", "hostname": "flow-main", "episodes_this_iter": 28, "date": "2019-05-21_10-28-09"}
{"episode_reward_mean": 1276.7968101613658, "timesteps_total": 5847911, "iterations_since_restore": 89, "timesteps_since_restore": 5847911, "pid": 59695, "time_this_iter_s": 46.44847846031189, "policy_reward_mean": {}, "timesteps_this_iter": 64739, "training_iteration": 89, "episode_reward_max": 1443.3352775398353, "node_ip": "10.138.0.2", "time_since_restore": 4446.096717596054, "episodes_total": 2503, "episode_reward_min": 1085.4228525594842, "num_metric_batches_dropped": 0, "done": false, "timestamp": 1558434536, "custom_metrics": {"outflow_rate_min": 1022.6887596500256, "system_level_velocity_min": 9.011289099815913, "cost1_max": 447.8025903823956, "system_level_velocity_max": 17.066067922834304, "cost2_min": -104.92406486379008, "outflow_rate_max": 1538.4834061319261, "system_level_velocity_mean": 13.418135874494785, "cost1_mean": 350.5231840303555, "cost2_mean": -71.12963990430029, "outflow_rate_mean": 1256.7249700216717, "cost2_max": -43.38499115649816, "cost1_min": 228.98192465607477}, "info": {"num_steps_trained": 5847911, "sample_time_ms": 29390.917, "load_time_ms": 9.605, "grad_time_ms": 16343.047, "update_time_ms": 7.363, "default": {"policy_loss": -0.011823010630905628, "cur_lr": 0.0005000000237487257, "kl": 0.0178679171949625, "total_loss": 40.51704406738281, "cur_kl_coeff": 0.22499996423721313, "vf_loss": 40.52484893798828, "entropy": 1.38959538936615, "vf_explained_var": 0.8268653750419617}, "num_steps_sampled": 5847911}, "time_total_s": 4446.096717596054, "config": {"output": null, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "max_seq_len": 20, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "lstm_use_prev_action_reward": false, "framestack": true, "grayscale": false, "dim": 84, "free_log_std": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "monitor": false, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "sample_async": false, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bf32c50>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bf32b00>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bf321d0>"}, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 700.0, "experiment_id": "49476b8bfa214ea3a002964354a4867e", "hostname": "flow-main", "episodes_this_iter": 26, "date": "2019-05-21_10-28-56"}
{"episode_reward_mean": 1280.6841233414468, "timesteps_total": 5912955, "iterations_since_restore": 90, "timesteps_since_restore": 5912955, "pid": 59695, "time_this_iter_s": 47.933573484420776, "policy_reward_mean": {}, "timesteps_this_iter": 65044, "training_iteration": 90, "episode_reward_max": 1444.2233379690583, "node_ip": "10.138.0.2", "time_since_restore": 4494.030291080475, "episodes_total": 2533, "episode_reward_min": 1085.4228525594842, "num_metric_batches_dropped": 0, "done": false, "timestamp": 1558434584, "custom_metrics": {"outflow_rate_min": 1022.6887596500256, "system_level_velocity_min": 9.011289099815913, "cost1_max": 439.6313198762026, "system_level_velocity_max": 16.86556009348281, "cost2_min": -104.92406486379008, "outflow_rate_max": 1561.8482967032965, "system_level_velocity_mean": 13.351888742189344, "cost1_mean": 348.6166169285498, "cost2_mean": -73.23779699765933, "outflow_rate_mean": 1256.6807289537644, "cost2_max": -45.647958916144404, "cost1_min": 228.98192465607477}, "info": {"num_steps_trained": 5912955, "sample_time_ms": 29677.086, "load_time_ms": 9.138, "grad_time_ms": 16326.452, "update_time_ms": 7.658, "default": {"policy_loss": -0.010179832577705383, "cur_lr": 0.0005000000237487257, "kl": 0.017161309719085693, "total_loss": 47.13597106933594, "cur_kl_coeff": 0.22499997913837433, "vf_loss": 47.14228820800781, "entropy": 1.3858834505081177, "vf_explained_var": 0.8127660155296326}, "num_steps_sampled": 5912955}, "time_total_s": 4494.030291080475, "config": {"output": null, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "max_seq_len": 20, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "lstm_use_prev_action_reward": false, "framestack": true, "grayscale": false, "dim": 84, "free_log_std": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "monitor": false, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "sample_async": false, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfbc048>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfbc320>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfbc860>"}, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 700.0, "experiment_id": "49476b8bfa214ea3a002964354a4867e", "hostname": "flow-main", "episodes_this_iter": 30, "date": "2019-05-21_10-29-44"}
{"episode_reward_mean": 1289.2120646849141, "timesteps_total": 5976315, "iterations_since_restore": 91, "timesteps_since_restore": 5976315, "pid": 59695, "time_this_iter_s": 45.81605505943298, "policy_reward_mean": {}, "timesteps_this_iter": 63360, "training_iteration": 91, "episode_reward_max": 1444.2233379690583, "node_ip": "10.138.0.2", "time_since_restore": 4539.846346139908, "episodes_total": 2566, "episode_reward_min": 1085.4228525594842, "num_metric_batches_dropped": 0, "done": false, "timestamp": 1558434630, "custom_metrics": {"outflow_rate_min": 1022.6887596500256, "system_level_velocity_min": 9.011289099815913, "cost1_max": 439.6313198762026, "system_level_velocity_max": 16.86556009348281, "cost2_min": -106.37770386079217, "outflow_rate_max": 1561.8482967032965, "system_level_velocity_mean": 13.481216954265824, "cost1_mean": 352.1854415998888, "cost2_mean": -73.56822370413589, "outflow_rate_mean": 1257.1227995891923, "cost2_max": -46.72898803161975, "cost1_min": 228.98192465607477}, "info": {"num_steps_trained": 5976315, "sample_time_ms": 29585.843, "load_time_ms": 8.659, "grad_time_ms": 16429.796, "update_time_ms": 7.677, "default": {"policy_loss": -0.010252229869365692, "cur_lr": 0.0005000000237487257, "kl": 0.016823485493659973, "total_loss": 48.53489685058594, "cur_kl_coeff": 0.22499997913837433, "vf_loss": 48.541358947753906, "entropy": 1.386673092842102, "vf_explained_var": 0.8247724771499634}, "num_steps_sampled": 5976315}, "time_total_s": 4539.846346139908, "config": {"output": null, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "max_seq_len": 20, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "lstm_use_prev_action_reward": false, "framestack": true, "grayscale": false, "dim": 84, "free_log_std": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "monitor": false, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "sample_async": false, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfded68>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfde780>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfde9b0>"}, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 700.0, "experiment_id": "49476b8bfa214ea3a002964354a4867e", "hostname": "flow-main", "episodes_this_iter": 33, "date": "2019-05-21_10-30-30"}
{"episode_reward_mean": 1283.605162667315, "timesteps_total": 6039954, "iterations_since_restore": 92, "timesteps_since_restore": 6039954, "pid": 59695, "time_this_iter_s": 44.35024952888489, "policy_reward_mean": {}, "timesteps_this_iter": 63639, "training_iteration": 92, "episode_reward_max": 1444.2233379690583, "node_ip": "10.138.0.2", "time_since_restore": 4584.196595668793, "episodes_total": 2594, "episode_reward_min": 388.8417584708634, "num_metric_batches_dropped": 0, "done": false, "timestamp": 1558434674, "custom_metrics": {"outflow_rate_min": 1030.078358712636, "system_level_velocity_min": 9.695973483896282, "cost1_max": 439.6313198762026, "system_level_velocity_max": 16.86556009348281, "cost2_min": -106.37770386079217, "outflow_rate_max": 1561.8482967032965, "system_level_velocity_mean": 13.628630861249464, "cost1_mean": 353.0583810821515, "cost2_mean": -71.36596515273196, "outflow_rate_mean": 1263.590657778615, "cost2_max": -29.52006353705299, "cost1_min": 136.00309400349602}, "info": {"num_steps_trained": 6039954, "sample_time_ms": 29543.449, "load_time_ms": 8.694, "grad_time_ms": 16497.737, "update_time_ms": 7.651, "default": {"policy_loss": -0.011062956415116787, "cur_lr": 0.0005000000237487257, "kl": 0.017108717933297157, "total_loss": 44.69599533081055, "cur_kl_coeff": 0.22499997913837433, "vf_loss": 44.703208923339844, "entropy": 1.3840795755386353, "vf_explained_var": 0.8343781232833862}, "num_steps_sampled": 6039954}, "time_total_s": 4584.196595668793, "config": {"output": null, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "max_seq_len": 20, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "lstm_use_prev_action_reward": false, "framestack": true, "grayscale": false, "dim": 84, "free_log_std": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "monitor": false, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "sample_async": false, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bf32908>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bf32128>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bf32438>"}, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 695.15, "experiment_id": "49476b8bfa214ea3a002964354a4867e", "hostname": "flow-main", "episodes_this_iter": 28, "date": "2019-05-21_10-31-14"}
{"episode_reward_mean": 1279.9333822879605, "timesteps_total": 6102747, "iterations_since_restore": 93, "timesteps_since_restore": 6102747, "pid": 59695, "time_this_iter_s": 46.087502241134644, "policy_reward_mean": {}, "timesteps_this_iter": 62793, "training_iteration": 93, "episode_reward_max": 1441.168918770575, "node_ip": "10.138.0.2", "time_since_restore": 4630.284097909927, "episodes_total": 2623, "episode_reward_min": 388.8417584708634, "num_metric_batches_dropped": 0, "done": false, "timestamp": 1558434720, "custom_metrics": {"outflow_rate_min": 1030.078358712636, "system_level_velocity_min": 9.695973483896282, "cost1_max": 438.9831655977131, "system_level_velocity_max": 16.83245932533173, "cost2_min": -106.37770386079217, "outflow_rate_max": 1520.018604456293, "system_level_velocity_mean": 13.629136457119266, "cost1_mean": 353.07713949810955, "cost2_mean": -70.36325931848047, "outflow_rate_mean": 1260.1122411473984, "cost2_max": -29.52006353705299, "cost1_min": 136.00309400349602}, "info": {"num_steps_trained": 6102747, "sample_time_ms": 29660.364, "load_time_ms": 8.645, "grad_time_ms": 16277.221, "update_time_ms": 7.639, "default": {"policy_loss": -0.01118963211774826, "cur_lr": 0.0005000000237487257, "kl": 0.016063671559095383, "total_loss": 41.30207443237305, "cur_kl_coeff": 0.22499997913837433, "vf_loss": 41.30964660644531, "entropy": 1.3899099826812744, "vf_explained_var": 0.8354409337043762}, "num_steps_sampled": 6102747}, "time_total_s": 4630.284097909927, "config": {"output": null, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "max_seq_len": 20, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "lstm_use_prev_action_reward": false, "framestack": true, "grayscale": false, "dim": 84, "free_log_std": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "monitor": false, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "sample_async": false, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81e4e6978>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfde828>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81e4e6f98>"}, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 695.15, "experiment_id": "49476b8bfa214ea3a002964354a4867e", "hostname": "flow-main", "episodes_this_iter": 29, "date": "2019-05-21_10-32-00"}
{"episode_reward_mean": 1267.9194833553133, "timesteps_total": 6165967, "iterations_since_restore": 94, "timesteps_since_restore": 6165967, "pid": 59695, "time_this_iter_s": 45.938145875930786, "policy_reward_mean": {}, "timesteps_this_iter": 63220, "training_iteration": 94, "episode_reward_max": 1439.442633869843, "node_ip": "10.138.0.2", "time_since_restore": 4676.222243785858, "episodes_total": 2653, "episode_reward_min": 46.25284080906323, "num_metric_batches_dropped": 0, "done": false, "timestamp": 1558434766, "custom_metrics": {"outflow_rate_min": 454.1881787896761, "system_level_velocity_min": 9.793956543012333, "cost1_max": 442.1108110239916, "system_level_velocity_max": 16.89511098240592, "cost2_min": -102.18782816843853, "outflow_rate_max": 1520.3610366300363, "system_level_velocity_mean": 13.75869954794378, "cost1_mean": 352.4292712881554, "cost2_mean": -68.82212176167994, "outflow_rate_mean": 1254.4628711828452, "cost2_max": -12.952767659712473, "cost1_min": 17.60938416631397}, "info": {"num_steps_trained": 6165967, "sample_time_ms": 29476.19, "load_time_ms": 8.128, "grad_time_ms": 16226.002, "update_time_ms": 7.692, "default": {"policy_loss": -0.0124245285987854, "cur_lr": 0.0005000000237487257, "kl": 0.01759648323059082, "total_loss": 46.825904846191406, "cur_kl_coeff": 0.22499997913837433, "vf_loss": 46.83436965942383, "entropy": 1.3952832221984863, "vf_explained_var": 0.8276709914207458}, "num_steps_sampled": 6165967}, "time_total_s": 4676.222243785858, "config": {"output": null, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "max_seq_len": 20, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "lstm_use_prev_action_reward": false, "framestack": true, "grayscale": false, "dim": 84, "free_log_std": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "monitor": false, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "sample_async": false, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bf32828>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bf32908>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bf32080>"}, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 688.42, "experiment_id": "49476b8bfa214ea3a002964354a4867e", "hostname": "flow-main", "episodes_this_iter": 30, "date": "2019-05-21_10-32-46"}
{"episode_reward_mean": 1265.6550732190074, "timesteps_total": 6229379, "iterations_since_restore": 95, "timesteps_since_restore": 6229379, "pid": 59695, "time_this_iter_s": 45.44628405570984, "policy_reward_mean": {}, "timesteps_this_iter": 63412, "training_iteration": 95, "episode_reward_max": 1445.6902861872643, "node_ip": "10.138.0.2", "time_since_restore": 4721.668527841568, "episodes_total": 2681, "episode_reward_min": 46.25284080906323, "num_metric_batches_dropped": 0, "done": false, "timestamp": 1558434812, "custom_metrics": {"outflow_rate_min": 454.1881787896761, "system_level_velocity_min": 9.793956543012333, "cost1_max": 442.1108110239916, "system_level_velocity_max": 16.89511098240592, "cost2_min": -100.03389849086344, "outflow_rate_max": 1520.3610366300363, "system_level_velocity_mean": 13.648840825636707, "cost1_mean": 349.56287015251587, "cost2_mean": -69.32448015432743, "outflow_rate_mean": 1254.1753978891288, "cost2_max": -12.952767659712473, "cost1_min": 17.60938416631397}, "info": {"num_steps_trained": 6229379, "sample_time_ms": 29379.31, "load_time_ms": 7.696, "grad_time_ms": 16243.588, "update_time_ms": 7.701, "default": {"policy_loss": -0.011037525720894337, "cur_lr": 0.0005000000237487257, "kl": 0.017487220466136932, "total_loss": 43.5772819519043, "cur_kl_coeff": 0.22499997913837433, "vf_loss": 43.584381103515625, "entropy": 1.393487811088562, "vf_explained_var": 0.8349021673202515}, "num_steps_sampled": 6229379}, "time_total_s": 4721.668527841568, "config": {"output": null, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "max_seq_len": 20, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "lstm_use_prev_action_reward": false, "framestack": true, "grayscale": false, "dim": 84, "free_log_std": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "monitor": false, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "sample_async": false, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfc8a90>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfc8e48>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfc8e80>"}, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 688.42, "experiment_id": "49476b8bfa214ea3a002964354a4867e", "hostname": "flow-main", "episodes_this_iter": 28, "date": "2019-05-21_10-33-32"}
{"episode_reward_mean": 1271.0133553226235, "timesteps_total": 6292504, "iterations_since_restore": 96, "timesteps_since_restore": 6292504, "pid": 59695, "time_this_iter_s": 46.40316152572632, "policy_reward_mean": {}, "timesteps_this_iter": 63125, "training_iteration": 96, "episode_reward_max": 1445.6902861872643, "node_ip": "10.138.0.2", "time_since_restore": 4768.071689367294, "episodes_total": 2711, "episode_reward_min": 46.25284080906323, "num_metric_batches_dropped": 0, "done": false, "timestamp": 1558434858, "custom_metrics": {"outflow_rate_min": 454.1881787896761, "system_level_velocity_min": 10.31923449432109, "cost1_max": 442.1108110239916, "system_level_velocity_max": 16.89511098240592, "cost2_min": -104.53904688246828, "outflow_rate_max": 1520.3610366300363, "system_level_velocity_mean": 13.74537535414673, "cost1_mean": 352.1643160098556, "cost2_mean": -69.22037624058626, "outflow_rate_mean": 1262.9669877058757, "cost2_max": -12.952767659712473, "cost1_min": 17.60938416631397}, "info": {"num_steps_trained": 6292504, "sample_time_ms": 29521.069, "load_time_ms": 7.614, "grad_time_ms": 16218.461, "update_time_ms": 7.624, "default": {"policy_loss": -0.012027605436742306, "cur_lr": 0.0005000000237487257, "kl": 0.018444973975419998, "total_loss": 53.72306823730469, "cur_kl_coeff": 0.22499997913837433, "vf_loss": 53.7309455871582, "entropy": 1.4033640623092651, "vf_explained_var": 0.7977696657180786}, "num_steps_sampled": 6292504}, "time_total_s": 4768.071689367294, "config": {"output": null, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "max_seq_len": 20, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "lstm_use_prev_action_reward": false, "framestack": true, "grayscale": false, "dim": 84, "free_log_std": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "monitor": false, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "sample_async": false, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfbc320>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfbc0b8>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfbc860>"}, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 688.42, "experiment_id": "49476b8bfa214ea3a002964354a4867e", "hostname": "flow-main", "episodes_this_iter": 30, "date": "2019-05-21_10-34-18"}
{"episode_reward_mean": 1277.6967142052406, "timesteps_total": 6356843, "iterations_since_restore": 97, "timesteps_since_restore": 6356843, "pid": 59695, "time_this_iter_s": 46.662840843200684, "policy_reward_mean": {}, "timesteps_this_iter": 64339, "training_iteration": 97, "episode_reward_max": 1446.2784678768323, "node_ip": "10.138.0.2", "time_since_restore": 4814.734530210495, "episodes_total": 2739, "episode_reward_min": 46.25284080906323, "num_metric_batches_dropped": 0, "done": false, "timestamp": 1558434905, "custom_metrics": {"outflow_rate_min": 454.1881787896761, "system_level_velocity_min": 9.925603873901027, "cost1_max": 442.1108110239916, "system_level_velocity_max": 16.89511098240592, "cost2_min": -104.53904688246828, "outflow_rate_max": 1520.3610366300363, "system_level_velocity_mean": 13.842002227247399, "cost1_mean": 354.8939833175836, "cost2_mean": -68.43743259621115, "outflow_rate_mean": 1271.706306993874, "cost2_max": -12.952767659712473, "cost1_min": 17.60938416631397}, "info": {"num_steps_trained": 6356843, "sample_time_ms": 29606.156, "load_time_ms": 7.589, "grad_time_ms": 16231.861, "update_time_ms": 7.557, "default": {"policy_loss": -0.011034886352717876, "cur_lr": 0.0005000000237487257, "kl": 0.017499707639217377, "total_loss": 47.606788635253906, "cur_kl_coeff": 0.22499999403953552, "vf_loss": 47.6138801574707, "entropy": 1.412001371383667, "vf_explained_var": 0.8287909030914307}, "num_steps_sampled": 6356843}, "time_total_s": 4814.734530210495, "config": {"output": null, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "max_seq_len": 20, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "lstm_use_prev_action_reward": false, "framestack": true, "grayscale": false, "dim": 84, "free_log_std": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "monitor": false, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "sample_async": false, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bf32710>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bf32ac8>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bf32a20>"}, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 688.42, "experiment_id": "49476b8bfa214ea3a002964354a4867e", "hostname": "flow-main", "episodes_this_iter": 28, "date": "2019-05-21_10-35-05"}
{"episode_reward_mean": 1283.8430580782322, "timesteps_total": 6419962, "iterations_since_restore": 98, "timesteps_since_restore": 6419962, "pid": 59695, "time_this_iter_s": 45.45370817184448, "policy_reward_mean": {}, "timesteps_this_iter": 63119, "training_iteration": 98, "episode_reward_max": 1446.2784678768323, "node_ip": "10.138.0.2", "time_since_restore": 4860.1882383823395, "episodes_total": 2767, "episode_reward_min": 386.5882211619634, "num_metric_batches_dropped": 0, "done": false, "timestamp": 1558434950, "custom_metrics": {"outflow_rate_min": 1010.6211804973203, "system_level_velocity_min": 9.925603873901027, "cost1_max": 435.17292949241283, "system_level_velocity_max": 16.626950277593757, "cost2_min": -104.53904688246828, "outflow_rate_max": 1518.7153929436627, "system_level_velocity_mean": 13.634090787457037, "cost1_mean": 353.4670370462528, "cost2_mean": -70.74253436822927, "outflow_rate_mean": 1276.9967928401834, "cost2_max": -26.607312199595228, "cost1_min": 134.33348481622386}, "info": {"num_steps_trained": 6419962, "sample_time_ms": 29575.468, "load_time_ms": 7.523, "grad_time_ms": 16351.522, "update_time_ms": 7.523, "default": {"policy_loss": -0.0106024956330657, "cur_lr": 0.0005000000237487257, "kl": 0.021133199334144592, "total_loss": 48.25482940673828, "cur_kl_coeff": 0.22499997913837433, "vf_loss": 48.26068115234375, "entropy": 1.4114500284194946, "vf_explained_var": 0.8140685558319092}, "num_steps_sampled": 6419962}, "time_total_s": 4860.1882383823395, "config": {"output": null, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "max_seq_len": 20, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "lstm_use_prev_action_reward": false, "framestack": true, "grayscale": false, "dim": 84, "free_log_std": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "monitor": false, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "sample_async": false, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfbcb38>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfbc320>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c000c18>"}, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 695.15, "experiment_id": "49476b8bfa214ea3a002964354a4867e", "hostname": "flow-main", "episodes_this_iter": 28, "date": "2019-05-21_10-35-50"}
{"episode_reward_mean": 1295.913076768552, "timesteps_total": 6483112, "iterations_since_restore": 99, "timesteps_since_restore": 6483112, "pid": 59695, "time_this_iter_s": 45.11063766479492, "policy_reward_mean": {}, "timesteps_this_iter": 63150, "training_iteration": 99, "episode_reward_max": 1446.2784678768323, "node_ip": "10.138.0.2", "time_since_restore": 4905.298876047134, "episodes_total": 2795, "episode_reward_min": 1121.6799109642216, "num_metric_batches_dropped": 0, "done": false, "timestamp": 1558434996, "custom_metrics": {"outflow_rate_min": 1012.0771481166812, "system_level_velocity_min": 9.925603873901027, "cost1_max": 435.17292949241283, "system_level_velocity_max": 16.508861828416222, "cost2_min": -100.18458517682575, "outflow_rate_max": 1518.7153929436627, "system_level_velocity_mean": 13.617658838890003, "cost1_mean": 356.1730249965439, "cost2_mean": -71.79031073104441, "outflow_rate_mean": 1286.8804339631392, "cost2_max": -43.94731059452669, "cost1_min": 253.4509747612584}, "info": {"num_steps_trained": 6483112, "sample_time_ms": 29433.208, "load_time_ms": 7.214, "grad_time_ms": 16361.486, "update_time_ms": 7.847, "default": {"policy_loss": -0.010965396650135517, "cur_lr": 0.0005000000237487257, "kl": 0.014744056388735771, "total_loss": 48.655250549316406, "cur_kl_coeff": 0.33750006556510925, "vf_loss": 48.66123962402344, "entropy": 1.3985280990600586, "vf_explained_var": 0.8067808747291565}, "num_steps_sampled": 6483112}, "time_total_s": 4905.298876047134, "config": {"output": null, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "max_seq_len": 20, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "lstm_use_prev_action_reward": false, "framestack": true, "grayscale": false, "dim": 84, "free_log_std": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "monitor": false, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "sample_async": false, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfdb1d0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfdb940>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfdb588>"}, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 700.0, "experiment_id": "49476b8bfa214ea3a002964354a4867e", "hostname": "flow-main", "episodes_this_iter": 28, "date": "2019-05-21_10-36-36"}
{"episode_reward_mean": 1295.962738825375, "timesteps_total": 6546480, "iterations_since_restore": 100, "timesteps_since_restore": 6546480, "pid": 59695, "time_this_iter_s": 44.15829014778137, "policy_reward_mean": {}, "timesteps_this_iter": 63368, "training_iteration": 100, "episode_reward_max": 1446.2784678768323, "node_ip": "10.138.0.2", "time_since_restore": 4949.457166194916, "episodes_total": 2824, "episode_reward_min": 1135.4137797847768, "num_metric_batches_dropped": 0, "done": false, "timestamp": 1558435040, "custom_metrics": {"outflow_rate_min": 1075.4166133866136, "system_level_velocity_min": 10.532742841530828, "cost1_max": 436.9860921234143, "system_level_velocity_max": 16.669481811504888, "cost2_min": -105.64000874180158, "outflow_rate_max": 1518.7153929436627, "system_level_velocity_mean": 13.641036515557728, "cost1_mean": 356.69301386270934, "cost2_mean": -71.59011290204715, "outflow_rate_mean": 1288.70075203036, "cost2_max": -43.94731059452669, "cost1_min": 265.71425359412814}, "info": {"num_steps_trained": 6546480, "sample_time_ms": 29168.649, "load_time_ms": 7.254, "grad_time_ms": 16250.447, "update_time_ms": 7.594, "default": {"policy_loss": -0.010923326015472412, "cur_lr": 0.0005000000237487257, "kl": 0.013203893788158894, "total_loss": 49.56391906738281, "cur_kl_coeff": 0.33750006556510925, "vf_loss": 49.57038879394531, "entropy": 1.4124627113342285, "vf_explained_var": 0.8082996606826782}, "num_steps_sampled": 6546480}, "time_total_s": 4949.457166194916, "config": {"output": null, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "max_seq_len": 20, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "lstm_use_prev_action_reward": false, "framestack": true, "grayscale": false, "dim": 84, "free_log_std": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "monitor": false, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "sample_async": false, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bf32cc0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfdee10>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bf324e0>"}, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 700.0, "experiment_id": "49476b8bfa214ea3a002964354a4867e", "hostname": "flow-main", "episodes_this_iter": 29, "date": "2019-05-21_10-37-20"}
{"episode_reward_mean": 1292.7607140736532, "timesteps_total": 6610087, "iterations_since_restore": 101, "timesteps_since_restore": 6610087, "pid": 59695, "time_this_iter_s": 49.27565145492554, "policy_reward_mean": {}, "timesteps_this_iter": 63607, "training_iteration": 101, "episode_reward_max": 1444.3863014642725, "node_ip": "10.138.0.2", "time_since_restore": 4998.732817649841, "episodes_total": 2857, "episode_reward_min": 1135.4137797847768, "num_metric_batches_dropped": 0, "done": false, "timestamp": 1558435089, "custom_metrics": {"outflow_rate_min": 1108.8605628400232, "system_level_velocity_min": 10.508694291133493, "cost1_max": 436.9860921234143, "system_level_velocity_max": 16.669481811504888, "cost2_min": -105.64000874180158, "outflow_rate_max": 1515.740961065277, "system_level_velocity_mean": 13.581927420503835, "cost1_mean": 355.2045547373189, "cost2_mean": -71.97190232716189, "outflow_rate_mean": 1280.7279080754076, "cost2_max": -46.487535699005534, "cost1_min": 265.71425359412814}, "info": {"num_steps_trained": 6610087, "sample_time_ms": 29503.5, "load_time_ms": 7.605, "grad_time_ms": 16260.934, "update_time_ms": 7.354, "default": {"policy_loss": -0.010857321321964264, "cur_lr": 0.0005000000237487257, "kl": 0.01436365582048893, "total_loss": 57.00727844238281, "cur_kl_coeff": 0.33750003576278687, "vf_loss": 57.01328659057617, "entropy": 1.4151860475540161, "vf_explained_var": 0.7854029536247253}, "num_steps_sampled": 6610087}, "time_total_s": 4998.732817649841, "config": {"output": null, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "max_seq_len": 20, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "lstm_use_prev_action_reward": false, "framestack": true, "grayscale": false, "dim": 84, "free_log_std": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "monitor": false, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "sample_async": false, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfde7b8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfde208>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfde470>"}, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 700.0, "experiment_id": "49476b8bfa214ea3a002964354a4867e", "hostname": "flow-main", "episodes_this_iter": 33, "date": "2019-05-21_10-38-09"}
{"episode_reward_mean": 1277.2232202963942, "timesteps_total": 6674297, "iterations_since_restore": 102, "timesteps_since_restore": 6674297, "pid": 59695, "time_this_iter_s": 46.63322877883911, "policy_reward_mean": {}, "timesteps_this_iter": 64210, "training_iteration": 102, "episode_reward_max": 1444.3863014642725, "node_ip": "10.138.0.2", "time_since_restore": 5045.36604642868, "episodes_total": 2885, "episode_reward_min": 58.712408145852294, "num_metric_batches_dropped": 0, "done": false, "timestamp": 1558435136, "custom_metrics": {"outflow_rate_min": 488.1106938443588, "system_level_velocity_min": 8.977258882489947, "cost1_max": 436.9860921234143, "system_level_velocity_max": 18.222040124820428, "cost2_min": -105.64000874180158, "outflow_rate_max": 1515.740961065277, "system_level_velocity_mean": 13.530716894890954, "cost1_mean": 349.3025113674427, "cost2_mean": -71.92258436412624, "outflow_rate_mean": 1264.8959089311525, "cost2_max": -11.171290139181293, "cost1_min": 22.601230484005253}, "info": {"num_steps_trained": 6674297, "sample_time_ms": 29722.667, "load_time_ms": 7.984, "grad_time_ms": 16267.067, "update_time_ms": 7.462, "default": {"policy_loss": -0.011136633343994617, "cur_lr": 0.0005000000237487257, "kl": 0.014109121635556221, "total_loss": 45.72275924682617, "cur_kl_coeff": 0.33750003576278687, "vf_loss": 45.72913360595703, "entropy": 1.4243372678756714, "vf_explained_var": 0.8316728472709656}, "num_steps_sampled": 6674297}, "time_total_s": 5045.36604642868, "config": {"output": null, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "max_seq_len": 20, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "lstm_use_prev_action_reward": false, "framestack": true, "grayscale": false, "dim": 84, "free_log_std": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "monitor": false, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "sample_async": false, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfbc400>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfbc048>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfbcbe0>"}, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 693.35, "experiment_id": "49476b8bfa214ea3a002964354a4867e", "hostname": "flow-main", "episodes_this_iter": 28, "date": "2019-05-21_10-38-56"}
{"episode_reward_mean": 1275.033364214996, "timesteps_total": 6738423, "iterations_since_restore": 103, "timesteps_since_restore": 6738423, "pid": 59695, "time_this_iter_s": 47.03351664543152, "policy_reward_mean": {}, "timesteps_this_iter": 64126, "training_iteration": 103, "episode_reward_max": 1444.3863014642725, "node_ip": "10.138.0.2", "time_since_restore": 5092.399563074112, "episodes_total": 2914, "episode_reward_min": 58.712408145852294, "num_metric_batches_dropped": 0, "done": false, "timestamp": 1558435183, "custom_metrics": {"outflow_rate_min": 488.1106938443588, "system_level_velocity_min": 8.977258882489947, "cost1_max": 436.9860921234143, "system_level_velocity_max": 18.222040124820428, "cost2_min": -105.64000874180158, "outflow_rate_max": 1518.2383876964095, "system_level_velocity_mean": 13.459334061396671, "cost1_mean": 347.56983480879893, "cost2_mean": -71.57553085154348, "outflow_rate_mean": 1263.0940442929016, "cost2_max": -11.171290139181293, "cost1_min": 22.601230484005253}, "info": {"num_steps_trained": 6738423, "sample_time_ms": 29581.299, "load_time_ms": 8.007, "grad_time_ms": 16501.653, "update_time_ms": 7.511, "default": {"policy_loss": -0.010167041793465614, "cur_lr": 0.0005000000237487257, "kl": 0.014016717672348022, "total_loss": 49.106082916259766, "cur_kl_coeff": 0.33750006556510925, "vf_loss": 49.111515045166016, "entropy": 1.4207981824874878, "vf_explained_var": 0.8106353878974915}, "num_steps_sampled": 6738423}, "time_total_s": 5092.399563074112, "config": {"output": null, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "max_seq_len": 20, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "lstm_use_prev_action_reward": false, "framestack": true, "grayscale": false, "dim": 84, "free_log_std": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "monitor": false, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "sample_async": false, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfd4e80>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfd4c50>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfd4278>"}, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 693.35, "experiment_id": "49476b8bfa214ea3a002964354a4867e", "hostname": "flow-main", "episodes_this_iter": 29, "date": "2019-05-21_10-39-43"}
{"episode_reward_mean": 1272.9144457313673, "timesteps_total": 6802536, "iterations_since_restore": 104, "timesteps_since_restore": 6802536, "pid": 59695, "time_this_iter_s": 46.19901776313782, "policy_reward_mean": {}, "timesteps_this_iter": 64113, "training_iteration": 104, "episode_reward_max": 1442.117956212209, "node_ip": "10.138.0.2", "time_since_restore": 5138.59858083725, "episodes_total": 2941, "episode_reward_min": 58.712408145852294, "num_metric_batches_dropped": 0, "done": false, "timestamp": 1558435229, "custom_metrics": {"outflow_rate_min": 488.1106938443588, "system_level_velocity_min": 8.977258882489947, "cost1_max": 431.0377384913706, "system_level_velocity_max": 18.222040124820428, "cost2_min": -95.8219579447982, "outflow_rate_max": 1551.0041263161818, "system_level_velocity_mean": 13.515372504852628, "cost1_mean": 348.83419303768875, "cost2_mean": -71.34956592745962, "outflow_rate_mean": 1260.937348328385, "cost2_max": -11.171290139181293, "cost1_min": 22.601230484005253}, "info": {"num_steps_trained": 6802536, "sample_time_ms": 29590.931, "load_time_ms": 8.162, "grad_time_ms": 16516.414, "update_time_ms": 7.866, "default": {"policy_loss": -0.011997638270258904, "cur_lr": 0.0005000000237487257, "kl": 0.015328207053244114, "total_loss": 45.63091278076172, "cur_kl_coeff": 0.33750006556510925, "vf_loss": 45.63773727416992, "entropy": 1.4263488054275513, "vf_explained_var": 0.8130502700805664}, "num_steps_sampled": 6802536}, "time_total_s": 5138.59858083725, "config": {"output": null, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "max_seq_len": 20, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "lstm_use_prev_action_reward": false, "framestack": true, "grayscale": false, "dim": 84, "free_log_std": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "monitor": false, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "sample_async": false, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bf32940>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bf327b8>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bf32860>"}, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 693.35, "experiment_id": "49476b8bfa214ea3a002964354a4867e", "hostname": "flow-main", "episodes_this_iter": 27, "date": "2019-05-21_10-40-29"}
{"episode_reward_mean": 1268.4722956483563, "timesteps_total": 6867825, "iterations_since_restore": 105, "timesteps_since_restore": 6867825, "pid": 59695, "time_this_iter_s": 46.76234245300293, "policy_reward_mean": {}, "timesteps_this_iter": 65289, "training_iteration": 105, "episode_reward_max": 1442.117956212209, "node_ip": "10.138.0.2", "time_since_restore": 5185.360923290253, "episodes_total": 2971, "episode_reward_min": 58.712408145852294, "num_metric_batches_dropped": 0, "done": false, "timestamp": 1558435276, "custom_metrics": {"outflow_rate_min": 488.1106938443588, "system_level_velocity_min": 8.977258882489947, "cost1_max": 431.0377384913706, "system_level_velocity_max": 18.222040124820428, "cost2_min": -106.50431920152971, "outflow_rate_max": 1551.0041263161818, "system_level_velocity_mean": 13.41200342174439, "cost1_mean": 346.04739087169963, "cost2_mean": -72.83979893519918, "outflow_rate_mean": 1255.416382132217, "cost2_max": -11.171290139181293, "cost1_min": 22.601230484005253}, "info": {"num_steps_trained": 6867825, "sample_time_ms": 29740.394, "load_time_ms": 8.742, "grad_time_ms": 16497.435, "update_time_ms": 7.822, "default": {"policy_loss": -0.01115221343934536, "cur_lr": 0.0005000000237487257, "kl": 0.014242825098335743, "total_loss": 48.249900817871094, "cur_kl_coeff": 0.33750006556510925, "vf_loss": 48.25624084472656, "entropy": 1.427590012550354, "vf_explained_var": 0.8114618062973022}, "num_steps_sampled": 6867825}, "time_total_s": 5185.360923290253, "config": {"output": null, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "max_seq_len": 20, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "lstm_use_prev_action_reward": false, "framestack": true, "grayscale": false, "dim": 84, "free_log_std": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "monitor": false, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "sample_async": false, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c0184a8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c018a20>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81e5026a0>"}, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 693.35, "experiment_id": "49476b8bfa214ea3a002964354a4867e", "hostname": "flow-main", "episodes_this_iter": 30, "date": "2019-05-21_10-41-16"}
{"episode_reward_mean": 1284.9478725783615, "timesteps_total": 6930247, "iterations_since_restore": 106, "timesteps_since_restore": 6930247, "pid": 59695, "time_this_iter_s": 45.9099702835083, "policy_reward_mean": {}, "timesteps_this_iter": 62422, "training_iteration": 106, "episode_reward_max": 1442.117956212209, "node_ip": "10.138.0.2", "time_since_restore": 5231.270893573761, "episodes_total": 2999, "episode_reward_min": 1114.9113156724256, "num_metric_batches_dropped": 0, "done": false, "timestamp": 1558435322, "custom_metrics": {"outflow_rate_min": 1098.9949580736006, "system_level_velocity_min": 10.115183332533997, "cost1_max": 435.35212408178904, "system_level_velocity_max": 16.57446864189374, "cost2_min": -106.50431920152971, "outflow_rate_max": 1551.0041263161818, "system_level_velocity_mean": 13.497448529938245, "cost1_mean": 352.491062451842, "cost2_mean": -73.54660625028824, "outflow_rate_mean": 1276.6659155116083, "cost2_max": -43.655830447423405, "cost1_min": 258.0137249761202}, "info": {"num_steps_trained": 6930247, "sample_time_ms": 29657.438, "load_time_ms": 8.784, "grad_time_ms": 16531.458, "update_time_ms": 7.849, "default": {"policy_loss": -0.010796203278005123, "cur_lr": 0.0005000000237487257, "kl": 0.015062903054058552, "total_loss": 48.28284454345703, "cur_kl_coeff": 0.33750009536743164, "vf_loss": 48.28855895996094, "entropy": 1.4097325801849365, "vf_explained_var": 0.7987432479858398}, "num_steps_sampled": 6930247}, "time_total_s": 5231.270893573761, "config": {"output": null, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "max_seq_len": 20, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "lstm_use_prev_action_reward": false, "framestack": true, "grayscale": false, "dim": 84, "free_log_std": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "monitor": false, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "sample_async": false, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bf326d8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bf32c88>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bf32160>"}, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 700.0, "experiment_id": "49476b8bfa214ea3a002964354a4867e", "hostname": "flow-main", "episodes_this_iter": 28, "date": "2019-05-21_10-42-02"}
{"episode_reward_mean": 1275.921941361331, "timesteps_total": 6991896, "iterations_since_restore": 107, "timesteps_since_restore": 6991896, "pid": 59695, "time_this_iter_s": 44.21717858314514, "policy_reward_mean": {}, "timesteps_this_iter": 61649, "training_iteration": 107, "episode_reward_max": 1438.6517168124965, "node_ip": "10.138.0.2", "time_since_restore": 5275.488072156906, "episodes_total": 3027, "episode_reward_min": 1120.543822871569, "num_metric_batches_dropped": 0, "done": false, "timestamp": 1558435366, "custom_metrics": {"outflow_rate_min": 1082.4668983957222, "system_level_velocity_min": 10.115183332533997, "cost1_max": 435.35212408178904, "system_level_velocity_max": 16.57446864189374, "cost2_min": -106.50431920152971, "outflow_rate_max": 1486.9133005251224, "system_level_velocity_mean": 13.43485609152751, "cost1_mean": 350.502762769947, "cost2_mean": -73.25793725178133, "outflow_rate_mean": 1265.124960885808, "cost2_max": -47.54044183873502, "cost1_min": 258.0137249761202}, "info": {"num_steps_trained": 6991896, "sample_time_ms": 29468.859, "load_time_ms": 8.923, "grad_time_ms": 16475.161, "update_time_ms": 7.872, "default": {"policy_loss": -0.013406400568783283, "cur_lr": 0.0005000000237487257, "kl": 0.014870808459818363, "total_loss": 45.457984924316406, "cur_kl_coeff": 0.33750006556510925, "vf_loss": 45.466373443603516, "entropy": 1.4220871925354004, "vf_explained_var": 0.8199587464332581}, "num_steps_sampled": 6991896}, "time_total_s": 5275.488072156906, "config": {"output": null, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "max_seq_len": 20, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "lstm_use_prev_action_reward": false, "framestack": true, "grayscale": false, "dim": 84, "free_log_std": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "monitor": false, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "sample_async": false, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bf32c18>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bf32400>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bf32748>"}, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 700.0, "experiment_id": "49476b8bfa214ea3a002964354a4867e", "hostname": "flow-main", "episodes_this_iter": 28, "date": "2019-05-21_10-42-46"}
{"episode_reward_mean": 1274.3385207576764, "timesteps_total": 7056310, "iterations_since_restore": 108, "timesteps_since_restore": 7056310, "pid": 59695, "time_this_iter_s": 45.35543942451477, "policy_reward_mean": {}, "timesteps_this_iter": 64414, "training_iteration": 108, "episode_reward_max": 1457.4102389572427, "node_ip": "10.138.0.2", "time_since_restore": 5320.843511581421, "episodes_total": 3056, "episode_reward_min": 1120.543822871569, "num_metric_batches_dropped": 0, "done": false, "timestamp": 1558435412, "custom_metrics": {"outflow_rate_min": 1066.0152610142648, "system_level_velocity_min": 10.115183332533997, "cost1_max": 435.35212408178904, "system_level_velocity_max": 16.57446864189374, "cost2_min": -105.89222158917222, "outflow_rate_max": 1563.0312138104723, "system_level_velocity_mean": 13.480147704410035, "cost1_mean": 351.4633855976957, "cost2_mean": -72.9203309785237, "outflow_rate_mean": 1259.6917789289903, "cost2_max": -43.227372360938965, "cost1_min": 258.0137249761202}, "info": {"num_steps_trained": 7056310, "sample_time_ms": 29436.368, "load_time_ms": 9.031, "grad_time_ms": 16497.679, "update_time_ms": 8.001, "default": {"policy_loss": -0.01102808304131031, "cur_lr": 0.0005000000237487257, "kl": 0.014774857088923454, "total_loss": 47.52534103393555, "cur_kl_coeff": 0.33750003576278687, "vf_loss": 47.5313835144043, "entropy": 1.4353444576263428, "vf_explained_var": 0.8253693580627441}, "num_steps_sampled": 7056310}, "time_total_s": 5320.843511581421, "config": {"output": null, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "max_seq_len": 20, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "lstm_use_prev_action_reward": false, "framestack": true, "grayscale": false, "dim": 84, "free_log_std": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "monitor": false, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "sample_async": false, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfdbb38>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfdb7b8>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfdbe80>"}, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 700.0, "experiment_id": "49476b8bfa214ea3a002964354a4867e", "hostname": "flow-main", "episodes_this_iter": 29, "date": "2019-05-21_10-43-32"}
{"episode_reward_mean": 1277.182831576497, "timesteps_total": 7118615, "iterations_since_restore": 109, "timesteps_since_restore": 7118615, "pid": 59695, "time_this_iter_s": 47.062687158584595, "policy_reward_mean": {}, "timesteps_this_iter": 62305, "training_iteration": 109, "episode_reward_max": 1457.4102389572427, "node_ip": "10.138.0.2", "time_since_restore": 5367.9061987400055, "episodes_total": 3084, "episode_reward_min": 1120.543822871569, "num_metric_batches_dropped": 0, "done": false, "timestamp": 1558435459, "custom_metrics": {"outflow_rate_min": 1066.0152610142648, "system_level_velocity_min": 10.115183332533997, "cost1_max": 435.35212408178904, "system_level_velocity_max": 16.579948591930837, "cost2_min": -105.89222158917222, "outflow_rate_max": 1563.0312138104723, "system_level_velocity_mean": 13.581019730220568, "cost1_mean": 353.95495792610996, "cost2_mean": -72.80897323824149, "outflow_rate_mean": 1262.9796681733815, "cost2_max": -43.227372360938965, "cost1_min": 258.0137249761202}, "info": {"num_steps_trained": 7118615, "sample_time_ms": 29630.939, "load_time_ms": 9.504, "grad_time_ms": 16497.788, "update_time_ms": 7.698, "default": {"policy_loss": -0.011542067863047123, "cur_lr": 0.0005000000237487257, "kl": 0.014182097278535366, "total_loss": 51.35658264160156, "cur_kl_coeff": 0.33750009536743164, "vf_loss": 51.363338470458984, "entropy": 1.4235328435897827, "vf_explained_var": 0.7786898612976074}, "num_steps_sampled": 7118615}, "time_total_s": 5367.9061987400055, "config": {"output": null, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "max_seq_len": 20, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "lstm_use_prev_action_reward": false, "framestack": true, "grayscale": false, "dim": 84, "free_log_std": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "monitor": false, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "sample_async": false, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bf32fd0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bf326d8>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bf32860>"}, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 700.0, "experiment_id": "49476b8bfa214ea3a002964354a4867e", "hostname": "flow-main", "episodes_this_iter": 28, "date": "2019-05-21_10-44-19"}
{"episode_reward_mean": 1272.0998845665135, "timesteps_total": 7183408, "iterations_since_restore": 110, "timesteps_since_restore": 7183408, "pid": 59695, "time_this_iter_s": 46.62039136886597, "policy_reward_mean": {}, "timesteps_this_iter": 64793, "training_iteration": 110, "episode_reward_max": 1457.4102389572427, "node_ip": "10.138.0.2", "time_since_restore": 5414.5265901088715, "episodes_total": 3114, "episode_reward_min": 1133.2594875523357, "num_metric_batches_dropped": 0, "done": false, "timestamp": 1558435505, "custom_metrics": {"outflow_rate_min": 1066.0152610142648, "system_level_velocity_min": 10.39064688051405, "cost1_max": 449.5254444038663, "system_level_velocity_max": 17.20722589416447, "cost2_min": -110.03058400276936, "outflow_rate_max": 1573.9338221550483, "system_level_velocity_mean": 13.318754725706992, "cost1_mean": 346.9022233441849, "cost2_mean": -76.66784034051736, "outflow_rate_mean": 1256.9371340368068, "cost2_max": -43.227372360938965, "cost1_min": 265.61125104598824}, "info": {"num_steps_trained": 7183408, "sample_time_ms": 29727.587, "load_time_ms": 9.855, "grad_time_ms": 16647.175, "update_time_ms": 7.664, "default": {"policy_loss": -0.012236222624778748, "cur_lr": 0.0005000000237487257, "kl": 0.014608945697546005, "total_loss": 50.36931228637695, "cur_kl_coeff": 0.33750003576278687, "vf_loss": 50.37661361694336, "entropy": 1.4473536014556885, "vf_explained_var": 0.7930102348327637}, "num_steps_sampled": 7183408}, "time_total_s": 5414.5265901088715, "config": {"output": null, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "max_seq_len": 20, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "lstm_use_prev_action_reward": false, "framestack": true, "grayscale": false, "dim": 84, "free_log_std": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "monitor": false, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "sample_async": false, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfbcb38>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bf32940>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfdb208>"}, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 700.0, "experiment_id": "49476b8bfa214ea3a002964354a4867e", "hostname": "flow-main", "episodes_this_iter": 30, "date": "2019-05-21_10-45-05"}
{"episode_reward_mean": 1254.7289391061393, "timesteps_total": 7246377, "iterations_since_restore": 111, "timesteps_since_restore": 7246377, "pid": 59695, "time_this_iter_s": 46.39269423484802, "policy_reward_mean": {}, "timesteps_this_iter": 62969, "training_iteration": 111, "episode_reward_max": 1457.4102389572427, "node_ip": "10.138.0.2", "time_since_restore": 5460.9192843437195, "episodes_total": 3144, "episode_reward_min": 57.7423566505195, "num_metric_batches_dropped": 0, "done": false, "timestamp": 1558435552, "custom_metrics": {"outflow_rate_min": 462.21698479420866, "system_level_velocity_min": 10.39064688051405, "cost1_max": 449.5254444038663, "system_level_velocity_max": 17.882693771213674, "cost2_min": -113.22287588854454, "outflow_rate_max": 1574.54045405297, "system_level_velocity_mean": 13.531796266705555, "cost1_mean": 343.94810266133186, "cost2_mean": -76.26251625407572, "outflow_rate_mean": 1251.6330931234738, "cost2_max": -13.87961730259955, "cost1_min": 22.397700356539897}, "info": {"num_steps_trained": 7246377, "sample_time_ms": 29504.698, "load_time_ms": 9.811, "grad_time_ms": 16582.303, "update_time_ms": 7.756, "default": {"policy_loss": -0.011175843887031078, "cur_lr": 0.0005000000237487257, "kl": 0.015196450985968113, "total_loss": 53.387821197509766, "cur_kl_coeff": 0.33750003576278687, "vf_loss": 53.393863677978516, "entropy": 1.4412059783935547, "vf_explained_var": 0.7858204245567322}, "num_steps_sampled": 7246377}, "time_total_s": 5460.9192843437195, "config": {"output": null, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "max_seq_len": 20, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "lstm_use_prev_action_reward": false, "framestack": true, "grayscale": false, "dim": 84, "free_log_std": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "monitor": false, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "sample_async": false, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfd4ba8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfd4f60>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c000c18>"}, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 686.71, "experiment_id": "49476b8bfa214ea3a002964354a4867e", "hostname": "flow-main", "episodes_this_iter": 30, "date": "2019-05-21_10-45-52"}
{"episode_reward_mean": 1247.4158333662779, "timesteps_total": 7309504, "iterations_since_restore": 112, "timesteps_since_restore": 7309504, "pid": 59695, "time_this_iter_s": 46.05043959617615, "policy_reward_mean": {}, "timesteps_this_iter": 63127, "training_iteration": 112, "episode_reward_max": 1447.5766518044973, "node_ip": "10.138.0.2", "time_since_restore": 5506.969723939896, "episodes_total": 3173, "episode_reward_min": 57.7423566505195, "num_metric_batches_dropped": 0, "done": false, "timestamp": 1558435598, "custom_metrics": {"outflow_rate_min": 462.21698479420866, "system_level_velocity_min": 10.253494217948798, "cost1_max": 449.5254444038663, "system_level_velocity_max": 17.882693771213674, "cost2_min": -113.22287588854454, "outflow_rate_max": 1574.54045405297, "system_level_velocity_mean": 13.492190984028062, "cost1_mean": 342.8188635038647, "cost2_mean": -76.28785143232525, "outflow_rate_mean": 1244.2249205674727, "cost2_max": -13.87961730259955, "cost1_min": 22.397700356539897}, "info": {"num_steps_trained": 7309504, "sample_time_ms": 29501.348, "load_time_ms": 9.534, "grad_time_ms": 16530.26, "update_time_ms": 7.825, "default": {"policy_loss": -0.011512129567563534, "cur_lr": 0.0005000000237487257, "kl": 0.01392500288784504, "total_loss": 48.774269104003906, "cur_kl_coeff": 0.33750006556510925, "vf_loss": 48.78108215332031, "entropy": 1.460351586341858, "vf_explained_var": 0.774056077003479}, "num_steps_sampled": 7309504}, "time_total_s": 5506.969723939896, "config": {"output": null, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "max_seq_len": 20, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "lstm_use_prev_action_reward": false, "framestack": true, "grayscale": false, "dim": 84, "free_log_std": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "monitor": false, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "sample_async": false, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfbc8d0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfbcda0>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfbc400>"}, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 686.71, "experiment_id": "49476b8bfa214ea3a002964354a4867e", "hostname": "flow-main", "episodes_this_iter": 29, "date": "2019-05-21_10-46-38"}
{"episode_reward_mean": 1237.5063363348459, "timesteps_total": 7373558, "iterations_since_restore": 113, "timesteps_since_restore": 7373558, "pid": 59695, "time_this_iter_s": 46.94047021865845, "policy_reward_mean": {}, "timesteps_this_iter": 64054, "training_iteration": 113, "episode_reward_max": 1447.5766518044973, "node_ip": "10.138.0.2", "time_since_restore": 5553.910194158554, "episodes_total": 3202, "episode_reward_min": 57.7423566505195, "num_metric_batches_dropped": 0, "done": false, "timestamp": 1558435645, "custom_metrics": {"outflow_rate_min": 462.21698479420866, "system_level_velocity_min": 10.167639805633984, "cost1_max": 448.3531032358187, "system_level_velocity_max": 17.882693771213674, "cost2_min": -113.22287588854454, "outflow_rate_max": 1574.54045405297, "system_level_velocity_mean": 13.194307828134605, "cost1_mean": 334.9011763179387, "cost2_mean": -78.77529317496275, "outflow_rate_mean": 1234.0467588345373, "cost2_max": -13.87961730259955, "cost1_min": 22.397700356539897}, "info": {"num_steps_trained": 7373558, "sample_time_ms": 29566.946, "load_time_ms": 9.724, "grad_time_ms": 16456.939, "update_time_ms": 7.848, "default": {"policy_loss": -0.010844177566468716, "cur_lr": 0.0005000000237487257, "kl": 0.016189053654670715, "total_loss": 50.743804931640625, "cur_kl_coeff": 0.33750006556510925, "vf_loss": 50.74918746948242, "entropy": 1.4627212285995483, "vf_explained_var": 0.7637521028518677}, "num_steps_sampled": 7373558}, "time_total_s": 5553.910194158554, "config": {"output": null, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "max_seq_len": 20, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "lstm_use_prev_action_reward": false, "framestack": true, "grayscale": false, "dim": 84, "free_log_std": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "monitor": false, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "sample_async": false, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfc8d68>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfc8128>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81e4e6978>"}, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 686.71, "experiment_id": "49476b8bfa214ea3a002964354a4867e", "hostname": "flow-main", "episodes_this_iter": 29, "date": "2019-05-21_10-47-25"}
{"episode_reward_mean": 1239.8501083349408, "timesteps_total": 7437171, "iterations_since_restore": 114, "timesteps_since_restore": 7437171, "pid": 59695, "time_this_iter_s": 45.912428855895996, "policy_reward_mean": {}, "timesteps_this_iter": 63613, "training_iteration": 114, "episode_reward_max": 1449.6483188602767, "node_ip": "10.138.0.2", "time_since_restore": 5599.82262301445, "episodes_total": 3232, "episode_reward_min": 57.7423566505195, "num_metric_batches_dropped": 0, "done": false, "timestamp": 1558435691, "custom_metrics": {"outflow_rate_min": 462.21698479420866, "system_level_velocity_min": 9.984589539581222, "cost1_max": 441.88370561209086, "system_level_velocity_max": 17.882693771213674, "cost2_min": -108.49647353257643, "outflow_rate_max": 1551.9806782239275, "system_level_velocity_mean": 13.294677371956691, "cost1_mean": 337.6228409245619, "cost2_mean": -76.95692196525765, "outflow_rate_mean": 1234.5561823387552, "cost2_max": -13.87961730259955, "cost1_min": 22.397700356539897}, "info": {"num_steps_trained": 7437171, "sample_time_ms": 29568.255, "load_time_ms": 9.85, "grad_time_ms": 16428.219, "update_time_ms": 7.564, "default": {"policy_loss": -0.011343725025653839, "cur_lr": 0.0005000000237487257, "kl": 0.015754643827676773, "total_loss": 49.648460388183594, "cur_kl_coeff": 0.33750003576278687, "vf_loss": 49.65448760986328, "entropy": 1.4508599042892456, "vf_explained_var": 0.7920798063278198}, "num_steps_sampled": 7437171}, "time_total_s": 5599.82262301445, "config": {"output": null, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "max_seq_len": 20, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "lstm_use_prev_action_reward": false, "framestack": true, "grayscale": false, "dim": 84, "free_log_std": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "monitor": false, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "sample_async": false, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bf32c18>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bf325c0>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bf329e8>"}, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 686.71, "experiment_id": "49476b8bfa214ea3a002964354a4867e", "hostname": "flow-main", "episodes_this_iter": 30, "date": "2019-05-21_10-48-11"}
{"episode_reward_mean": 1264.4607271308955, "timesteps_total": 7501836, "iterations_since_restore": 115, "timesteps_since_restore": 7501836, "pid": 59695, "time_this_iter_s": 46.44324207305908, "policy_reward_mean": {}, "timesteps_this_iter": 64665, "training_iteration": 115, "episode_reward_max": 1449.6483188602767, "node_ip": "10.138.0.2", "time_since_restore": 5646.265865087509, "episodes_total": 3260, "episode_reward_min": 1002.7225285175834, "num_metric_batches_dropped": 0, "done": false, "timestamp": 1558435737, "custom_metrics": {"outflow_rate_min": 1025.776822960306, "system_level_velocity_min": 9.785682559111562, "cost1_max": 441.88370561209086, "system_level_velocity_max": 16.828243906997695, "cost2_min": -110.30639736166297, "outflow_rate_max": 1551.9806782239275, "system_level_velocity_mean": 13.154652981836172, "cost1_mean": 342.68249122241207, "cost2_mean": -78.66215766411335, "outflow_rate_mean": 1248.0410671211218, "cost2_max": -49.180457501431036, "cost1_min": 252.03831641948085}, "info": {"num_steps_trained": 7501836, "sample_time_ms": 29522.414, "load_time_ms": 9.777, "grad_time_ms": 16442.096, "update_time_ms": 7.601, "default": {"policy_loss": -0.01042375061661005, "cur_lr": 0.0005000000237487257, "kl": 0.014188199304044247, "total_loss": 46.576419830322266, "cur_kl_coeff": 0.33750006556510925, "vf_loss": 46.58205795288086, "entropy": 1.4656909704208374, "vf_explained_var": 0.8014328479766846}, "num_steps_sampled": 7501836}, "time_total_s": 5646.265865087509, "config": {"output": null, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "max_seq_len": 20, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "lstm_use_prev_action_reward": false, "framestack": true, "grayscale": false, "dim": 84, "free_log_std": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "monitor": false, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "sample_async": false, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfd4c18>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfd4b38>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfba6a0>"}, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 699.57, "experiment_id": "49476b8bfa214ea3a002964354a4867e", "hostname": "flow-main", "episodes_this_iter": 28, "date": "2019-05-21_10-48-57"}
{"episode_reward_mean": 1265.079014852277, "timesteps_total": 7564868, "iterations_since_restore": 116, "timesteps_since_restore": 7564868, "pid": 59695, "time_this_iter_s": 45.637595653533936, "policy_reward_mean": {}, "timesteps_this_iter": 63032, "training_iteration": 116, "episode_reward_max": 1458.6544450778013, "node_ip": "10.138.0.2", "time_since_restore": 5691.903460741043, "episodes_total": 3287, "episode_reward_min": 1002.7225285175834, "num_metric_batches_dropped": 0, "done": false, "timestamp": 1558435783, "custom_metrics": {"outflow_rate_min": 1025.776822960306, "system_level_velocity_min": 9.785682559111562, "cost1_max": 441.88370561209086, "system_level_velocity_max": 16.828243906997695, "cost2_min": -111.62593534394762, "outflow_rate_max": 1551.9806782239275, "system_level_velocity_mean": 13.252012108532588, "cost1_mean": 345.479065485287, "cost2_mean": -77.25862994583474, "outflow_rate_mean": 1248.1642777605493, "cost2_max": -49.068138560078296, "cost1_min": 252.03831641948085}, "info": {"num_steps_trained": 7564868, "sample_time_ms": 29535.427, "load_time_ms": 9.394, "grad_time_ms": 16400.659, "update_time_ms": 7.585, "default": {"policy_loss": -0.011533993296325207, "cur_lr": 0.0005000000237487257, "kl": 0.015087143518030643, "total_loss": 44.629913330078125, "cur_kl_coeff": 0.33750003576278687, "vf_loss": 44.6363525390625, "entropy": 1.4522444009780884, "vf_explained_var": 0.8256368637084961}, "num_steps_sampled": 7564868}, "time_total_s": 5691.903460741043, "config": {"output": null, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "max_seq_len": 20, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "lstm_use_prev_action_reward": false, "framestack": true, "grayscale": false, "dim": 84, "free_log_std": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "monitor": false, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "sample_async": false, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfde978>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfde198>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bf32470>"}, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 699.57, "experiment_id": "49476b8bfa214ea3a002964354a4867e", "hostname": "flow-main", "episodes_this_iter": 27, "date": "2019-05-21_10-49-43"}
{"episode_reward_mean": 1274.4034384608126, "timesteps_total": 7627217, "iterations_since_restore": 117, "timesteps_since_restore": 7627217, "pid": 59695, "time_this_iter_s": 45.384113788604736, "policy_reward_mean": {}, "timesteps_this_iter": 62349, "training_iteration": 117, "episode_reward_max": 1458.6544450778013, "node_ip": "10.138.0.2", "time_since_restore": 5737.287574529648, "episodes_total": 3316, "episode_reward_min": 1002.7225285175834, "num_metric_batches_dropped": 0, "done": false, "timestamp": 1558435828, "custom_metrics": {"outflow_rate_min": 1025.776822960306, "system_level_velocity_min": 9.785682559111562, "cost1_max": 440.5581636284837, "system_level_velocity_max": 16.77922507057098, "cost2_min": -111.62593534394762, "outflow_rate_max": 1541.5198217476957, "system_level_velocity_mean": 13.593099589295718, "cost1_mean": 354.52219438361425, "cost2_mean": -74.4715521697728, "outflow_rate_mean": 1259.1942353091952, "cost2_max": -45.894390656850106, "cost1_min": 252.03831641948085}, "info": {"num_steps_trained": 7627217, "sample_time_ms": 29627.261, "load_time_ms": 9.188, "grad_time_ms": 16425.833, "update_time_ms": 7.659, "default": {"policy_loss": -0.010932029224932194, "cur_lr": 0.0005000000237487257, "kl": 0.014473287388682365, "total_loss": 48.52415084838867, "cur_kl_coeff": 0.33750009536743164, "vf_loss": 48.53019332885742, "entropy": 1.4481372833251953, "vf_explained_var": 0.8078479766845703}, "num_steps_sampled": 7627217}, "time_total_s": 5737.287574529648, "config": {"output": null, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "max_seq_len": 20, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "lstm_use_prev_action_reward": false, "framestack": true, "grayscale": false, "dim": 84, "free_log_std": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "monitor": false, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "sample_async": false, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bf2f9b0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bf2f6d8>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bf2f0b8>"}, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 699.57, "experiment_id": "49476b8bfa214ea3a002964354a4867e", "hostname": "flow-main", "episodes_this_iter": 29, "date": "2019-05-21_10-50-28"}
{"episode_reward_mean": 1274.377282280142, "timesteps_total": 7691173, "iterations_since_restore": 118, "timesteps_since_restore": 7691173, "pid": 59695, "time_this_iter_s": 45.864912271499634, "policy_reward_mean": {}, "timesteps_this_iter": 63956, "training_iteration": 118, "episode_reward_max": 1458.6544450778013, "node_ip": "10.138.0.2", "time_since_restore": 5783.1524868011475, "episodes_total": 3345, "episode_reward_min": 1002.7225285175834, "num_metric_batches_dropped": 0, "done": false, "timestamp": 1558435874, "custom_metrics": {"outflow_rate_min": 1074.0616045152183, "system_level_velocity_min": 10.446839994787263, "cost1_max": 440.5581636284837, "system_level_velocity_max": 16.77922507057098, "cost2_min": -111.62593534394762, "outflow_rate_max": 1541.5198217476957, "system_level_velocity_mean": 13.684202819567943, "cost1_mean": 356.61672964920416, "cost2_mean": -73.25608381636394, "outflow_rate_mean": 1266.6495591092857, "cost2_max": -45.894390656850106, "cost1_min": 261.8560985695483}, "info": {"num_steps_trained": 7691173, "sample_time_ms": 29729.945, "load_time_ms": 8.723, "grad_time_ms": 16374.417, "update_time_ms": 7.757, "default": {"policy_loss": -0.011397705413401127, "cur_lr": 0.0005000000237487257, "kl": 0.014378347434103489, "total_loss": 46.619998931884766, "cur_kl_coeff": 0.33750003576278687, "vf_loss": 46.62654495239258, "entropy": 1.4636636972427368, "vf_explained_var": 0.800449550151825}, "num_steps_sampled": 7691173}, "time_total_s": 5783.1524868011475, "config": {"output": null, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "max_seq_len": 20, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "lstm_use_prev_action_reward": false, "framestack": true, "grayscale": false, "dim": 84, "free_log_std": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "monitor": false, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "sample_async": false, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bf322e8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bf324a8>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bf32240>"}, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 699.57, "experiment_id": "49476b8bfa214ea3a002964354a4867e", "hostname": "flow-main", "episodes_this_iter": 29, "date": "2019-05-21_10-51-14"}
{"episode_reward_mean": 1266.2991027112591, "timesteps_total": 7754614, "iterations_since_restore": 119, "timesteps_since_restore": 7754614, "pid": 59695, "time_this_iter_s": 44.662609815597534, "policy_reward_mean": {}, "timesteps_this_iter": 63441, "training_iteration": 119, "episode_reward_max": 1430.527791306756, "node_ip": "10.138.0.2", "time_since_restore": 5827.815096616745, "episodes_total": 3375, "episode_reward_min": 1088.2585680841714, "num_metric_batches_dropped": 0, "done": false, "timestamp": 1558435919, "custom_metrics": {"outflow_rate_min": 1088.7479056573188, "system_level_velocity_min": 10.446839994787263, "cost1_max": 437.96699798665946, "system_level_velocity_max": 16.77922507057098, "cost2_min": -104.87876616614047, "outflow_rate_max": 1507.1550338031539, "system_level_velocity_mean": 13.562487492249893, "cost1_mean": 352.97750775441784, "cost2_mean": -73.02014023949532, "outflow_rate_mean": 1263.7680004590327, "cost2_max": -44.35755691195992, "cost1_min": 268.2606554088932}, "info": {"num_steps_trained": 7754614, "sample_time_ms": 29571.339, "load_time_ms": 8.518, "grad_time_ms": 16293.22, "update_time_ms": 7.755, "default": {"policy_loss": -0.011775669641792774, "cur_lr": 0.0005000000237487257, "kl": 0.015120583586394787, "total_loss": 46.98630905151367, "cur_kl_coeff": 0.33750006556510925, "vf_loss": 46.99298095703125, "entropy": 1.4652003049850464, "vf_explained_var": 0.7975161075592041}, "num_steps_sampled": 7754614}, "time_total_s": 5827.815096616745, "config": {"output": null, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "max_seq_len": 20, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "lstm_use_prev_action_reward": false, "framestack": true, "grayscale": false, "dim": 84, "free_log_std": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "monitor": false, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "sample_async": false, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bf2f9b0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bf2f7f0>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bf2fd68>"}, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 700.0, "experiment_id": "49476b8bfa214ea3a002964354a4867e", "hostname": "flow-main", "episodes_this_iter": 30, "date": "2019-05-21_10-51-59"}
{"episode_reward_mean": 1259.7847593626373, "timesteps_total": 7818227, "iterations_since_restore": 120, "timesteps_since_restore": 7818227, "pid": 59695, "time_this_iter_s": 48.024054288864136, "policy_reward_mean": {}, "timesteps_this_iter": 63613, "training_iteration": 120, "episode_reward_max": 1430.527791306756, "node_ip": "10.138.0.2", "time_since_restore": 5875.839150905609, "episodes_total": 3403, "episode_reward_min": 1088.2585680841714, "num_metric_batches_dropped": 0, "done": false, "timestamp": 1558435967, "custom_metrics": {"outflow_rate_min": 1088.7479056573188, "system_level_velocity_min": 10.446839994787263, "cost1_max": 437.96699798665946, "system_level_velocity_max": 16.77922507057098, "cost2_min": -104.87876616614047, "outflow_rate_max": 1507.1550338031539, "system_level_velocity_mean": 13.269425962121876, "cost1_mean": 345.54570108947655, "cost2_mean": -74.50046820178144, "outflow_rate_mean": 1249.3544919285503, "cost2_max": -44.35755691195992, "cost1_min": 268.2606554088932}, "info": {"num_steps_trained": 7818227, "sample_time_ms": 29720.438, "load_time_ms": 8.587, "grad_time_ms": 16282.853, "update_time_ms": 8.011, "default": {"policy_loss": -0.01122218370437622, "cur_lr": 0.0005000000237487257, "kl": 0.015169920399785042, "total_loss": 43.872684478759766, "cur_kl_coeff": 0.33750003576278687, "vf_loss": 43.8787841796875, "entropy": 1.4832407236099243, "vf_explained_var": 0.8015595078468323}, "num_steps_sampled": 7818227}, "time_total_s": 5875.839150905609, "config": {"output": null, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "max_seq_len": 20, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "lstm_use_prev_action_reward": false, "framestack": true, "grayscale": false, "dim": 84, "free_log_std": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "monitor": false, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "sample_async": false, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bf329b0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bf32748>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bf32c50>"}, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 700.0, "experiment_id": "49476b8bfa214ea3a002964354a4867e", "hostname": "flow-main", "episodes_this_iter": 28, "date": "2019-05-21_10-52-47"}
{"episode_reward_mean": 1250.0699796463298, "timesteps_total": 7884030, "iterations_since_restore": 121, "timesteps_since_restore": 7884030, "pid": 59695, "time_this_iter_s": 46.2581250667572, "policy_reward_mean": {}, "timesteps_this_iter": 65803, "training_iteration": 121, "episode_reward_max": 1428.6580525947347, "node_ip": "10.138.0.2", "time_since_restore": 5922.097275972366, "episodes_total": 3432, "episode_reward_min": 1088.2585680841714, "num_metric_batches_dropped": 0, "done": false, "timestamp": 1558436013, "custom_metrics": {"outflow_rate_min": 1082.9795698051944, "system_level_velocity_min": 9.861074790249639, "cost1_max": 435.61902801693026, "system_level_velocity_max": 16.645137951616793, "cost2_min": -114.33566316712417, "outflow_rate_max": 1467.0965365371949, "system_level_velocity_mean": 13.025400986552848, "cost1_mean": 339.4942201338538, "cost2_mean": -74.80089324951979, "outflow_rate_mean": 1232.9682095727262, "cost2_max": -44.35755691195992, "cost1_min": 253.92040671514295}, "info": {"num_steps_trained": 7884030, "sample_time_ms": 29720.431, "load_time_ms": 8.762, "grad_time_ms": 16270.078, "update_time_ms": 8.145, "default": {"policy_loss": -0.010434950701892376, "cur_lr": 0.0005000000237487257, "kl": 0.014607732184231281, "total_loss": 43.85475540161133, "cur_kl_coeff": 0.33750006556510925, "vf_loss": 43.86026382446289, "entropy": 1.4818038940429688, "vf_explained_var": 0.8133888244628906}, "num_steps_sampled": 7884030}, "time_total_s": 5922.097275972366, "config": {"output": null, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "max_seq_len": 20, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "lstm_use_prev_action_reward": false, "framestack": true, "grayscale": false, "dim": 84, "free_log_std": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "monitor": false, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "sample_async": false, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bf321d0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bf32a58>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bf325f8>"}, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 700.0, "experiment_id": "49476b8bfa214ea3a002964354a4867e", "hostname": "flow-main", "episodes_this_iter": 29, "date": "2019-05-21_10-53-33"}
{"episode_reward_mean": 1242.1731412794297, "timesteps_total": 7946775, "iterations_since_restore": 122, "timesteps_since_restore": 7946775, "pid": 59695, "time_this_iter_s": 46.828357219696045, "policy_reward_mean": {}, "timesteps_this_iter": 62745, "training_iteration": 122, "episode_reward_max": 1422.7828111233825, "node_ip": "10.138.0.2", "time_since_restore": 5968.925633192062, "episodes_total": 3460, "episode_reward_min": 392.94512942813463, "num_metric_batches_dropped": 0, "done": false, "timestamp": 1558436060, "custom_metrics": {"outflow_rate_min": 1047.2621930767014, "system_level_velocity_min": 9.861074790249639, "cost1_max": 429.079132597216, "system_level_velocity_max": 17.238879907492496, "cost2_min": -114.33566316712417, "outflow_rate_max": 1465.678017854129, "system_level_velocity_mean": 13.029243608386103, "cost1_mean": 336.7594280669557, "cost2_mean": -74.26127460827962, "outflow_rate_mean": 1231.2963531354135, "cost2_max": -30.41713548917175, "cost1_min": 137.60712801381555}, "info": {"num_steps_trained": 7946775, "sample_time_ms": 29736.149, "load_time_ms": 8.715, "grad_time_ms": 16331.012, "update_time_ms": 7.983, "default": {"policy_loss": -0.010788599960505962, "cur_lr": 0.0005000000237487257, "kl": 0.015365127474069595, "total_loss": 45.18302917480469, "cur_kl_coeff": 0.33750006556510925, "vf_loss": 45.188636779785156, "entropy": 1.455019235610962, "vf_explained_var": 0.8168352842330933}, "num_steps_sampled": 7946775}, "time_total_s": 5968.925633192062, "config": {"output": null, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "max_seq_len": 20, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "lstm_use_prev_action_reward": false, "framestack": true, "grayscale": false, "dim": 84, "free_log_std": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "monitor": false, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "sample_async": false, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c000b00>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c000fd0>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c0004e0>"}, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 695.15, "experiment_id": "49476b8bfa214ea3a002964354a4867e", "hostname": "flow-main", "episodes_this_iter": 28, "date": "2019-05-21_10-54-20"}
{"episode_reward_mean": 1244.1398287114512, "timesteps_total": 8008336, "iterations_since_restore": 123, "timesteps_since_restore": 8008336, "pid": 59695, "time_this_iter_s": 45.71953821182251, "policy_reward_mean": {}, "timesteps_this_iter": 61561, "training_iteration": 123, "episode_reward_max": 1422.7828111233825, "node_ip": "10.138.0.2", "time_since_restore": 6014.645171403885, "episodes_total": 3491, "episode_reward_min": 392.94512942813463, "num_metric_batches_dropped": 0, "done": false, "timestamp": 1558436106, "custom_metrics": {"outflow_rate_min": 1040.8427088970238, "system_level_velocity_min": 9.861074790249639, "cost1_max": 429.079132597216, "system_level_velocity_max": 17.418847475737632, "cost2_min": -114.33566316712417, "outflow_rate_max": 1459.1507523229143, "system_level_velocity_mean": 13.279497628626096, "cost1_mean": 340.5987581837902, "cost2_mean": -72.05400071779201, "outflow_rate_mean": 1237.1149159420456, "cost2_max": -28.255356468406447, "cost1_min": 137.60712801381555}, "info": {"num_steps_trained": 8008336, "sample_time_ms": 29737.568, "load_time_ms": 8.533, "grad_time_ms": 16207.14, "update_time_ms": 8.04, "default": {"policy_loss": -0.012083979323506355, "cur_lr": 0.0005000000237487257, "kl": 0.014690160751342773, "total_loss": 48.97864532470703, "cur_kl_coeff": 0.33750006556510925, "vf_loss": 48.98576736450195, "entropy": 1.473634958267212, "vf_explained_var": 0.803428053855896}, "num_steps_sampled": 8008336}, "time_total_s": 6014.645171403885, "config": {"output": null, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "max_seq_len": 20, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "lstm_use_prev_action_reward": false, "framestack": true, "grayscale": false, "dim": 84, "free_log_std": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "monitor": false, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "sample_async": false, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bf2ff98>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bf2f9b0>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bf2fef0>"}, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 690.33, "experiment_id": "49476b8bfa214ea3a002964354a4867e", "hostname": "flow-main", "episodes_this_iter": 31, "date": "2019-05-21_10-55-06"}
{"episode_reward_mean": 1246.669523933259, "timesteps_total": 8072011, "iterations_since_restore": 124, "timesteps_since_restore": 8072011, "pid": 59695, "time_this_iter_s": 47.24075984954834, "policy_reward_mean": {}, "timesteps_this_iter": 63675, "training_iteration": 124, "episode_reward_max": 1422.7828111233825, "node_ip": "10.138.0.2", "time_since_restore": 6061.885931253433, "episodes_total": 3522, "episode_reward_min": 392.94512942813463, "num_metric_batches_dropped": 0, "done": false, "timestamp": 1558436153, "custom_metrics": {"outflow_rate_min": 1040.8427088970238, "system_level_velocity_min": 9.88593611534714, "cost1_max": 429.079132597216, "system_level_velocity_max": 17.418847475737632, "cost2_min": -102.88658981380205, "outflow_rate_max": 1459.1507523229143, "system_level_velocity_mean": 13.362420728643615, "cost1_mean": 342.86417121124975, "cost2_mean": -71.18653779269937, "outflow_rate_mean": 1240.319597234679, "cost2_max": -28.255356468406447, "cost1_min": 137.60712801381555}, "info": {"num_steps_trained": 8072011, "sample_time_ms": 29813.905, "load_time_ms": 8.656, "grad_time_ms": 16262.393, "update_time_ms": 7.972, "default": {"policy_loss": -0.009779348969459534, "cur_lr": 0.0005000000237487257, "kl": 0.013430578634142876, "total_loss": 50.96527099609375, "cur_kl_coeff": 0.33750003576278687, "vf_loss": 50.97052001953125, "entropy": 1.4775346517562866, "vf_explained_var": 0.787219226360321}, "num_steps_sampled": 8072011}, "time_total_s": 6061.885931253433, "config": {"output": null, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "max_seq_len": 20, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "lstm_use_prev_action_reward": false, "framestack": true, "grayscale": false, "dim": 84, "free_log_std": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "monitor": false, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "sample_async": false, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfbc7b8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bf327f0>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfbc860>"}, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 690.33, "experiment_id": "49476b8bfa214ea3a002964354a4867e", "hostname": "flow-main", "episodes_this_iter": 31, "date": "2019-05-21_10-55-53"}
{"episode_reward_mean": 1245.1320757562892, "timesteps_total": 8135261, "iterations_since_restore": 125, "timesteps_since_restore": 8135261, "pid": 59695, "time_this_iter_s": 44.589245557785034, "policy_reward_mean": {}, "timesteps_this_iter": 63250, "training_iteration": 125, "episode_reward_max": 1417.2739979668736, "node_ip": "10.138.0.2", "time_since_restore": 6106.475176811218, "episodes_total": 3549, "episode_reward_min": 392.94512942813463, "num_metric_batches_dropped": 0, "done": false, "timestamp": 1558436198, "custom_metrics": {"outflow_rate_min": 1040.8427088970238, "system_level_velocity_min": 9.88593611534714, "cost1_max": 437.01331366268914, "system_level_velocity_max": 17.418847475737632, "cost2_min": -98.68028777283928, "outflow_rate_max": 1491.96800810537, "system_level_velocity_mean": 13.61874292330044, "cost1_mean": 346.2555570912731, "cost2_mean": -68.67367986026174, "outflow_rate_mean": 1246.8823075050695, "cost2_max": -28.255356468406447, "cost1_min": 137.60712801381555}, "info": {"num_steps_trained": 8135261, "sample_time_ms": 29719.488, "load_time_ms": 8.632, "grad_time_ms": 16171.444, "update_time_ms": 8.165, "default": {"policy_loss": -0.012614232487976551, "cur_lr": 0.0005000000237487257, "kl": 0.016268644481897354, "total_loss": 45.87821960449219, "cur_kl_coeff": 0.33750003576278687, "vf_loss": 45.885337829589844, "entropy": 1.4611579179763794, "vf_explained_var": 0.7905769944190979}, "num_steps_sampled": 8135261}, "time_total_s": 6106.475176811218, "config": {"output": null, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "max_seq_len": 20, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "lstm_use_prev_action_reward": false, "framestack": true, "grayscale": false, "dim": 84, "free_log_std": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "monitor": false, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "sample_async": false, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfde0f0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bf32be0>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81e502c18>"}, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 685.48, "experiment_id": "49476b8bfa214ea3a002964354a4867e", "hostname": "flow-main", "episodes_this_iter": 27, "date": "2019-05-21_10-56-38"}
{"episode_reward_mean": 1257.1262080966421, "timesteps_total": 8195207, "iterations_since_restore": 126, "timesteps_since_restore": 8195207, "pid": 59695, "time_this_iter_s": 41.970173835754395, "policy_reward_mean": {}, "timesteps_this_iter": 59946, "training_iteration": 126, "episode_reward_max": 1421.7005891130877, "node_ip": "10.138.0.2", "time_since_restore": 6148.445350646973, "episodes_total": 3576, "episode_reward_min": 395.8324175576876, "num_metric_batches_dropped": 0, "done": false, "timestamp": 1558436240, "custom_metrics": {"outflow_rate_min": 1045.822554053306, "system_level_velocity_min": 10.106424703196854, "cost1_max": 442.51064731933093, "system_level_velocity_max": 17.418847475737632, "cost2_min": -102.02591819667863, "outflow_rate_max": 1544.6012011252064, "system_level_velocity_mean": 13.560227045028553, "cost1_mean": 347.9383868761364, "cost2_mean": -69.37566790923931, "outflow_rate_mean": 1263.1447199636489, "cost2_max": -28.255356468406447, "cost1_min": 137.69867482899903}, "info": {"num_steps_trained": 8195207, "sample_time_ms": 29498.883, "load_time_ms": 8.86, "grad_time_ms": 16025.0, "update_time_ms": 8.183, "default": {"policy_loss": -0.011496075429022312, "cur_lr": 0.0005000000237487257, "kl": 0.016023479402065277, "total_loss": 48.95100402832031, "cur_kl_coeff": 0.33750009536743164, "vf_loss": 48.95709991455078, "entropy": 1.4641973972320557, "vf_explained_var": 0.8012456893920898}, "num_steps_sampled": 8195207}, "time_total_s": 6148.445350646973, "config": {"output": null, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "max_seq_len": 20, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "lstm_use_prev_action_reward": false, "framestack": true, "grayscale": false, "dim": 84, "free_log_std": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "monitor": false, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "sample_async": false, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfdef28>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfde048>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfde780>"}, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 690.33, "experiment_id": "49476b8bfa214ea3a002964354a4867e", "hostname": "flow-main", "episodes_this_iter": 27, "date": "2019-05-21_10-57-20"}
{"episode_reward_mean": 1276.869526365918, "timesteps_total": 8257769, "iterations_since_restore": 127, "timesteps_since_restore": 8257769, "pid": 59695, "time_this_iter_s": 46.68619465827942, "policy_reward_mean": {}, "timesteps_this_iter": 62562, "training_iteration": 127, "episode_reward_max": 1428.7045661896507, "node_ip": "10.138.0.2", "time_since_restore": 6195.131545305252, "episodes_total": 3605, "episode_reward_min": 395.8324175576876, "num_metric_batches_dropped": 0, "done": false, "timestamp": 1558436287, "custom_metrics": {"outflow_rate_min": 1045.822554053306, "system_level_velocity_min": 10.106424703196854, "cost1_max": 442.51064731933093, "system_level_velocity_max": 17.213589656521652, "cost2_min": -102.02591819667863, "outflow_rate_max": 1544.6012011252064, "system_level_velocity_mean": 13.748218852444193, "cost1_mean": 355.99410004757965, "cost2_mean": -67.6086642528595, "outflow_rate_mean": 1280.6528572667598, "cost2_max": -30.00107152069172, "cost1_min": 137.69867482899903}, "info": {"num_steps_trained": 8257769, "sample_time_ms": 29576.944, "load_time_ms": 9.048, "grad_time_ms": 16073.443, "update_time_ms": 8.174, "default": {"policy_loss": -0.011443118564784527, "cur_lr": 0.0005000000237487257, "kl": 0.014875098131597042, "total_loss": 46.05581283569336, "cur_kl_coeff": 0.33750006556510925, "vf_loss": 46.06223678588867, "entropy": 1.4460179805755615, "vf_explained_var": 0.8086348176002502}, "num_steps_sampled": 8257769}, "time_total_s": 6195.131545305252, "config": {"output": null, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "max_seq_len": 20, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "lstm_use_prev_action_reward": false, "framestack": true, "grayscale": false, "dim": 84, "free_log_std": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "monitor": false, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "sample_async": false, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bf2fac8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bf2fcf8>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bf2fef0>"}, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 695.15, "experiment_id": "49476b8bfa214ea3a002964354a4867e", "hostname": "flow-main", "episodes_this_iter": 29, "date": "2019-05-21_10-58-07"}
{"episode_reward_mean": 1292.6284885256575, "timesteps_total": 8321438, "iterations_since_restore": 128, "timesteps_since_restore": 8321438, "pid": 59695, "time_this_iter_s": 45.85830497741699, "policy_reward_mean": {}, "timesteps_this_iter": 63669, "training_iteration": 128, "episode_reward_max": 1428.7045661896507, "node_ip": "10.138.0.2", "time_since_restore": 6240.989850282669, "episodes_total": 3633, "episode_reward_min": 1109.7072063803075, "num_metric_batches_dropped": 0, "done": false, "timestamp": 1558436333, "custom_metrics": {"outflow_rate_min": 1071.2394012125985, "system_level_velocity_min": 9.577372042363619, "cost1_max": 442.51064731933093, "system_level_velocity_max": 16.920270746750408, "cost2_min": -102.02591819667863, "outflow_rate_max": 1544.6012011252064, "system_level_velocity_mean": 13.768411307586268, "cost1_mean": 359.82449477814504, "cost2_mean": -67.76467793464312, "outflow_rate_mean": 1289.2566048054448, "cost2_max": -39.354161143343035, "cost1_min": 248.5046361209139}, "info": {"num_steps_trained": 8321438, "sample_time_ms": 29580.189, "load_time_ms": 9.428, "grad_time_ms": 16069.863, "update_time_ms": 8.391, "default": {"policy_loss": -0.0107639255002141, "cur_lr": 0.0005000000237487257, "kl": 0.015297211706638336, "total_loss": 43.246368408203125, "cur_kl_coeff": 0.33750003576278687, "vf_loss": 43.25197219848633, "entropy": 1.4775499105453491, "vf_explained_var": 0.8195463418960571}, "num_steps_sampled": 8321438}, "time_total_s": 6240.989850282669, "config": {"output": null, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "max_seq_len": 20, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "lstm_use_prev_action_reward": false, "framestack": true, "grayscale": false, "dim": 84, "free_log_std": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "monitor": false, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "sample_async": false, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfdef28>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfbc860>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bf32438>"}, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 700.0, "experiment_id": "49476b8bfa214ea3a002964354a4867e", "hostname": "flow-main", "episodes_this_iter": 28, "date": "2019-05-21_10-58-53"}
{"episode_reward_mean": 1285.531928365472, "timesteps_total": 8385571, "iterations_since_restore": 129, "timesteps_since_restore": 8385571, "pid": 59695, "time_this_iter_s": 48.94273066520691, "policy_reward_mean": {}, "timesteps_this_iter": 64133, "training_iteration": 129, "episode_reward_max": 1428.7045661896507, "node_ip": "10.138.0.2", "time_since_restore": 6289.932580947876, "episodes_total": 3665, "episode_reward_min": 1109.7072063803075, "num_metric_batches_dropped": 0, "done": false, "timestamp": 1558436382, "custom_metrics": {"outflow_rate_min": 1071.2394012125985, "system_level_velocity_min": 9.577372042363619, "cost1_max": 434.1361378408941, "system_level_velocity_max": 16.68580859987037, "cost2_min": -96.4592165002405, "outflow_rate_max": 1519.8376307940007, "system_level_velocity_mean": 13.621068107733507, "cost1_mean": 355.86080315040533, "cost2_mean": -68.45795086900927, "outflow_rate_mean": 1272.4326422168754, "cost2_max": -40.42209722837407, "cost1_min": 248.5046361209139}, "info": {"num_steps_trained": 8385571, "sample_time_ms": 29913.384, "load_time_ms": 9.402, "grad_time_ms": 16165.216, "update_time_ms": 8.354, "default": {"policy_loss": -0.011771127581596375, "cur_lr": 0.0005000000237487257, "kl": 0.018690628930926323, "total_loss": 50.2722282409668, "cur_kl_coeff": 0.33750003576278687, "vf_loss": 50.27769088745117, "entropy": 1.5034254789352417, "vf_explained_var": 0.8032842874526978}, "num_steps_sampled": 8385571}, "time_total_s": 6289.932580947876, "config": {"output": null, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "max_seq_len": 20, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "lstm_use_prev_action_reward": false, "framestack": true, "grayscale": false, "dim": 84, "free_log_std": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "monitor": false, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "sample_async": false, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bf2fcf8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bf2ff98>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bf2fef0>"}, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 700.0, "experiment_id": "49476b8bfa214ea3a002964354a4867e", "hostname": "flow-main", "episodes_this_iter": 32, "date": "2019-05-21_10-59-42"}
{"episode_reward_mean": 1285.1265585499655, "timesteps_total": 8448861, "iterations_since_restore": 130, "timesteps_since_restore": 8448861, "pid": 59695, "time_this_iter_s": 46.15404534339905, "policy_reward_mean": {}, "timesteps_this_iter": 63290, "training_iteration": 130, "episode_reward_max": 1428.7045661896507, "node_ip": "10.138.0.2", "time_since_restore": 6336.086626291275, "episodes_total": 3693, "episode_reward_min": 1109.7072063803075, "num_metric_batches_dropped": 0, "done": false, "timestamp": 1558436428, "custom_metrics": {"outflow_rate_min": 1071.2394012125985, "system_level_velocity_min": 9.577372042363619, "cost1_max": 434.1361378408941, "system_level_velocity_max": 16.554998547345537, "cost2_min": -96.4592165002405, "outflow_rate_max": 1519.8376307940007, "system_level_velocity_mean": 13.61121400083206, "cost1_mean": 355.5253201436765, "cost2_mean": -68.35465304598111, "outflow_rate_mean": 1273.1789661850066, "cost2_max": -40.42209722837407, "cost1_min": 248.5046361209139}, "info": {"num_steps_trained": 8448861, "sample_time_ms": 29747.05, "load_time_ms": 9.441, "grad_time_ms": 16144.318, "update_time_ms": 8.447, "default": {"policy_loss": -0.012359291315078735, "cur_lr": 0.0005000000237487257, "kl": 0.015261564403772354, "total_loss": 43.816802978515625, "cur_kl_coeff": 0.33750003576278687, "vf_loss": 43.824012756347656, "entropy": 1.491318941116333, "vf_explained_var": 0.8256129026412964}, "num_steps_sampled": 8448861}, "time_total_s": 6336.086626291275, "config": {"output": null, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "max_seq_len": 20, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "lstm_use_prev_action_reward": false, "framestack": true, "grayscale": false, "dim": 84, "free_log_std": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "monitor": false, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "sample_async": false, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfde630>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfde7f0>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfde588>"}, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 700.0, "experiment_id": "49476b8bfa214ea3a002964354a4867e", "hostname": "flow-main", "episodes_this_iter": 28, "date": "2019-05-21_11-00-28"}
{"episode_reward_mean": 1282.0035361241314, "timesteps_total": 8511233, "iterations_since_restore": 131, "timesteps_since_restore": 8511233, "pid": 59695, "time_this_iter_s": 45.0722873210907, "policy_reward_mean": {}, "timesteps_this_iter": 62372, "training_iteration": 131, "episode_reward_max": 1422.1494410575801, "node_ip": "10.138.0.2", "time_since_restore": 6381.158913612366, "episodes_total": 3721, "episode_reward_min": 1109.7072063803075, "num_metric_batches_dropped": 0, "done": false, "timestamp": 1558436473, "custom_metrics": {"outflow_rate_min": 1071.2394012125985, "system_level_velocity_min": 9.577372042363619, "cost1_max": 435.9133552298873, "system_level_velocity_max": 16.68706772921501, "cost2_min": -96.4592165002405, "outflow_rate_max": 1519.8376307940007, "system_level_velocity_mean": 13.554131778992852, "cost1_mean": 353.8778529529081, "cost2_mean": -68.17510912399477, "outflow_rate_mean": 1272.3524925485403, "cost2_max": -39.274137171293276, "cost1_min": 248.5046361209139}, "info": {"num_steps_trained": 8511233, "sample_time_ms": 29690.716, "load_time_ms": 9.064, "grad_time_ms": 16082.509, "update_time_ms": 8.451, "default": {"policy_loss": -0.011638598516583443, "cur_lr": 0.0005000000237487257, "kl": 0.01605057343840599, "total_loss": 47.99372100830078, "cur_kl_coeff": 0.33750009536743164, "vf_loss": 47.999942779541016, "entropy": 1.485397219657898, "vf_explained_var": 0.8104038238525391}, "num_steps_sampled": 8511233}, "time_total_s": 6381.158913612366, "config": {"output": null, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "max_seq_len": 20, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "lstm_use_prev_action_reward": false, "framestack": true, "grayscale": false, "dim": 84, "free_log_std": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "monitor": false, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "sample_async": false, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bf2fb70>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bf2f780>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bf2f128>"}, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 700.0, "experiment_id": "49476b8bfa214ea3a002964354a4867e", "hostname": "flow-main", "episodes_this_iter": 28, "date": "2019-05-21_11-01-13"}
{"episode_reward_mean": 1280.9801749029407, "timesteps_total": 8575215, "iterations_since_restore": 132, "timesteps_since_restore": 8575215, "pid": 59695, "time_this_iter_s": 46.44742941856384, "policy_reward_mean": {}, "timesteps_this_iter": 63982, "training_iteration": 132, "episode_reward_max": 1415.505591492971, "node_ip": "10.138.0.2", "time_since_restore": 6427.60634303093, "episodes_total": 3750, "episode_reward_min": 1131.4181753330138, "num_metric_batches_dropped": 0, "done": false, "timestamp": 1558436520, "custom_metrics": {"outflow_rate_min": 1080.007075026315, "system_level_velocity_min": 10.386458035521404, "cost1_max": 441.55668864548244, "system_level_velocity_max": 16.928025851243543, "cost2_min": -96.4592165002405, "outflow_rate_max": 1493.5375496079048, "system_level_velocity_mean": 13.670188125522438, "cost1_mean": 356.7077605810146, "cost2_mean": -67.84152760061342, "outflow_rate_mean": 1273.5593086127112, "cost2_max": -39.274137171293276, "cost1_min": 269.4620444355337}, "info": {"num_steps_trained": 8575215, "sample_time_ms": 29647.571, "load_time_ms": 9.039, "grad_time_ms": 16086.812, "update_time_ms": 8.86, "default": {"policy_loss": -0.010758906602859497, "cur_lr": 0.0005000000237487257, "kl": 0.014783811755478382, "total_loss": 41.9324836730957, "cur_kl_coeff": 0.33750003576278687, "vf_loss": 41.93825149536133, "entropy": 1.5030947923660278, "vf_explained_var": 0.8392143249511719}, "num_steps_sampled": 8575215}, "time_total_s": 6427.60634303093, "config": {"output": null, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "max_seq_len": 20, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "lstm_use_prev_action_reward": false, "framestack": true, "grayscale": false, "dim": 84, "free_log_std": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "monitor": false, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "sample_async": false, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bf32048>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bf32da0>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bf32cc0>"}, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 700.0, "experiment_id": "49476b8bfa214ea3a002964354a4867e", "hostname": "flow-main", "episodes_this_iter": 29, "date": "2019-05-21_11-02-00"}
{"episode_reward_mean": 1262.5698368824137, "timesteps_total": 8636706, "iterations_since_restore": 133, "timesteps_since_restore": 8636706, "pid": 59695, "time_this_iter_s": 44.437703371047974, "policy_reward_mean": {}, "timesteps_this_iter": 61491, "training_iteration": 133, "episode_reward_max": 1444.4537098690023, "node_ip": "10.138.0.2", "time_since_restore": 6472.0440464019775, "episodes_total": 3780, "episode_reward_min": 64.77252009951106, "num_metric_batches_dropped": 0, "done": false, "timestamp": 1558436564, "custom_metrics": {"outflow_rate_min": 480.93468085403487, "system_level_velocity_min": 10.670737538806321, "cost1_max": 442.0269321350571, "system_level_velocity_max": 17.566988317169915, "cost2_min": -92.94233782335178, "outflow_rate_max": 1560.4467357533183, "system_level_velocity_mean": 13.606089303592462, "cost1_mean": 350.52124928137863, "cost2_mean": -67.49101018371071, "outflow_rate_mean": 1266.6124344012828, "cost2_max": -10.885999163176733, "cost1_min": 24.1747404208306}, "info": {"num_steps_trained": 8636706, "sample_time_ms": 29493.001, "load_time_ms": 9.075, "grad_time_ms": 16113.497, "update_time_ms": 8.784, "default": {"policy_loss": -0.011152774095535278, "cur_lr": 0.0005000000237487257, "kl": 0.015369858592748642, "total_loss": 50.35274887084961, "cur_kl_coeff": 0.33750006556510925, "vf_loss": 50.35871505737305, "entropy": 1.4748443365097046, "vf_explained_var": 0.7987991571426392}, "num_steps_sampled": 8636706}, "time_total_s": 6472.0440464019775, "config": {"output": null, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "max_seq_len": 20, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "lstm_use_prev_action_reward": false, "framestack": true, "grayscale": false, "dim": 84, "free_log_std": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "monitor": false, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "sample_async": false, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81e4e6978>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfde588>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bf320f0>"}, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 692.95, "experiment_id": "49476b8bfa214ea3a002964354a4867e", "hostname": "flow-main", "episodes_this_iter": 30, "date": "2019-05-21_11-02-44"}
{"episode_reward_mean": 1266.0991519216986, "timesteps_total": 8699722, "iterations_since_restore": 134, "timesteps_since_restore": 8699722, "pid": 59695, "time_this_iter_s": 46.50969886779785, "policy_reward_mean": {}, "timesteps_this_iter": 63016, "training_iteration": 134, "episode_reward_max": 1444.4537098690023, "node_ip": "10.138.0.2", "time_since_restore": 6518.553745269775, "episodes_total": 3809, "episode_reward_min": 64.77252009951106, "num_metric_batches_dropped": 0, "done": false, "timestamp": 1558436611, "custom_metrics": {"outflow_rate_min": 480.93468085403487, "system_level_velocity_min": 10.629907243978122, "cost1_max": 442.0269321350571, "system_level_velocity_max": 17.566988317169915, "cost2_min": -102.95838294571423, "outflow_rate_max": 1560.4467357533183, "system_level_velocity_mean": 13.687761220121216, "cost1_mean": 352.5762138890066, "cost2_mean": -68.16062522648218, "outflow_rate_mean": 1271.9596379035931, "cost2_max": -10.885999163176733, "cost1_min": 24.1747404208306}, "info": {"num_steps_trained": 8699722, "sample_time_ms": 29432.502, "load_time_ms": 8.597, "grad_time_ms": 16101.791, "update_time_ms": 8.824, "default": {"policy_loss": -0.011107781901955605, "cur_lr": 0.0005000000237487257, "kl": 0.01602070778608322, "total_loss": 49.19076156616211, "cur_kl_coeff": 0.33750003576278687, "vf_loss": 49.196468353271484, "entropy": 1.4939522743225098, "vf_explained_var": 0.7930397391319275}, "num_steps_sampled": 8699722}, "time_total_s": 6518.553745269775, "config": {"output": null, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "max_seq_len": 20, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "lstm_use_prev_action_reward": false, "framestack": true, "grayscale": false, "dim": 84, "free_log_std": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "monitor": false, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "sample_async": false, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bf32ef0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bf32f60>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bf32198>"}, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 692.95, "experiment_id": "49476b8bfa214ea3a002964354a4867e", "hostname": "flow-main", "episodes_this_iter": 29, "date": "2019-05-21_11-03-31"}
{"episode_reward_mean": 1256.1044437717828, "timesteps_total": 8763121, "iterations_since_restore": 135, "timesteps_since_restore": 8763121, "pid": 59695, "time_this_iter_s": 45.04818654060364, "policy_reward_mean": {}, "timesteps_this_iter": 63399, "training_iteration": 135, "episode_reward_max": 1444.4537098690023, "node_ip": "10.138.0.2", "time_since_restore": 6563.601931810379, "episodes_total": 3839, "episode_reward_min": 64.77252009951106, "num_metric_batches_dropped": 0, "done": false, "timestamp": 1558436656, "custom_metrics": {"outflow_rate_min": 480.93468085403487, "system_level_velocity_min": 10.629907243978122, "cost1_max": 442.0269321350571, "system_level_velocity_max": 17.566988317169915, "cost2_min": -102.95838294571423, "outflow_rate_max": 1560.4467357533183, "system_level_velocity_mean": 13.650357143340376, "cost1_mean": 348.82014694523133, "cost2_mean": -68.85397715895019, "outflow_rate_mean": 1264.3913075347718, "cost2_max": -10.885999163176733, "cost1_min": 24.1747404208306}, "info": {"num_steps_trained": 8763121, "sample_time_ms": 29422.393, "load_time_ms": 8.577, "grad_time_ms": 16158.824, "update_time_ms": 8.64, "default": {"policy_loss": -0.011734215542674065, "cur_lr": 0.0005000000237487257, "kl": 0.015519626438617706, "total_loss": 46.220821380615234, "cur_kl_coeff": 0.33750006556510925, "vf_loss": 46.22732162475586, "entropy": 1.5157113075256348, "vf_explained_var": 0.8110520243644714}, "num_steps_sampled": 8763121}, "time_total_s": 6563.601931810379, "config": {"output": null, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "max_seq_len": 20, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "lstm_use_prev_action_reward": false, "framestack": true, "grayscale": false, "dim": 84, "free_log_std": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "monitor": false, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "sample_async": false, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bf2f278>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bf2f400>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bf2f470>"}, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 688.12, "experiment_id": "49476b8bfa214ea3a002964354a4867e", "hostname": "flow-main", "episodes_this_iter": 30, "date": "2019-05-21_11-04-16"}
{"episode_reward_mean": 1266.1556722790601, "timesteps_total": 8826778, "iterations_since_restore": 136, "timesteps_since_restore": 8826778, "pid": 59695, "time_this_iter_s": 47.11562943458557, "policy_reward_mean": {}, "timesteps_this_iter": 63657, "training_iteration": 136, "episode_reward_max": 1444.4537098690023, "node_ip": "10.138.0.2", "time_since_restore": 6610.717561244965, "episodes_total": 3869, "episode_reward_min": 393.08513049904985, "num_metric_batches_dropped": 0, "done": false, "timestamp": 1558436703, "custom_metrics": {"outflow_rate_min": 1047.257655635518, "system_level_velocity_min": 10.629907243978122, "cost1_max": 442.0269321350571, "system_level_velocity_max": 17.553857694272686, "cost2_min": -102.95838294571423, "outflow_rate_max": 1560.4467357533183, "system_level_velocity_mean": 13.42392076999621, "cost1_mean": 347.28175425840413, "cost2_mean": -70.87703046557085, "outflow_rate_mean": 1272.3274016534597, "cost2_max": -25.850596063721905, "cost1_min": 140.38917061592957}, "info": {"num_steps_trained": 8826778, "sample_time_ms": 29729.127, "load_time_ms": 8.725, "grad_time_ms": 16366.766, "update_time_ms": 8.574, "default": {"policy_loss": -0.012425096705555916, "cur_lr": 0.0005000000237487257, "kl": 0.01592760905623436, "total_loss": 48.33802795410156, "cur_kl_coeff": 0.33750003576278687, "vf_loss": 48.34507751464844, "entropy": 1.518294095993042, "vf_explained_var": 0.7929137945175171}, "num_steps_sampled": 8826778}, "time_total_s": 6610.717561244965, "config": {"output": null, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "max_seq_len": 20, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "lstm_use_prev_action_reward": false, "framestack": true, "grayscale": false, "dim": 84, "free_log_std": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "monitor": false, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "sample_async": false, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfde470>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfdebe0>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfde128>"}, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 694.74, "experiment_id": "49476b8bfa214ea3a002964354a4867e", "hostname": "flow-main", "episodes_this_iter": 30, "date": "2019-05-21_11-05-03"}
{"episode_reward_mean": 1257.7550084970055, "timesteps_total": 8890304, "iterations_since_restore": 137, "timesteps_since_restore": 8890304, "pid": 59695, "time_this_iter_s": 46.98518514633179, "policy_reward_mean": {}, "timesteps_this_iter": 63526, "training_iteration": 137, "episode_reward_max": 1440.1570074309634, "node_ip": "10.138.0.2", "time_since_restore": 6657.702746391296, "episodes_total": 3898, "episode_reward_min": 45.84764426828804, "num_metric_batches_dropped": 0, "done": false, "timestamp": 1558436750, "custom_metrics": {"outflow_rate_min": 437.2949997643919, "system_level_velocity_min": 10.143827290775839, "cost1_max": 437.3899948265997, "system_level_velocity_max": 17.553857694272686, "cost2_min": -100.74984060156521, "outflow_rate_max": 1536.0827791353713, "system_level_velocity_mean": 13.43366443257987, "cost1_mean": 343.7074783312721, "cost2_mean": -71.10932339465828, "outflow_rate_mean": 1259.8696272593265, "cost2_max": -14.893554903304072, "cost1_min": 17.612274942359885}, "info": {"num_steps_trained": 8890304, "sample_time_ms": 29651.096, "load_time_ms": 8.675, "grad_time_ms": 16478.199, "update_time_ms": 8.581, "default": {"policy_loss": -0.00995791144669056, "cur_lr": 0.0005000000237487257, "kl": 0.015087791718542576, "total_loss": 49.813934326171875, "cur_kl_coeff": 0.33750003576278687, "vf_loss": 49.81880187988281, "entropy": 1.4972161054611206, "vf_explained_var": 0.7986828088760376}, "num_steps_sampled": 8890304}, "time_total_s": 6657.702746391296, "config": {"output": null, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "max_seq_len": 20, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "lstm_use_prev_action_reward": false, "framestack": true, "grayscale": false, "dim": 84, "free_log_std": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "monitor": false, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "sample_async": false, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bf32dd8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bf32860>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bf32208>"}, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 688.44, "experiment_id": "49476b8bfa214ea3a002964354a4867e", "hostname": "flow-main", "episodes_this_iter": 29, "date": "2019-05-21_11-05-50"}
{"episode_reward_mean": 1266.5848579309568, "timesteps_total": 8953224, "iterations_since_restore": 138, "timesteps_since_restore": 8953224, "pid": 59695, "time_this_iter_s": 45.18018627166748, "policy_reward_mean": {}, "timesteps_this_iter": 62920, "training_iteration": 138, "episode_reward_max": 1440.1570074309634, "node_ip": "10.138.0.2", "time_since_restore": 6702.882932662964, "episodes_total": 3927, "episode_reward_min": 45.84764426828804, "num_metric_batches_dropped": 0, "done": false, "timestamp": 1558436795, "custom_metrics": {"outflow_rate_min": 437.2949997643919, "system_level_velocity_min": 9.948529567855562, "cost1_max": 437.3899948265997, "system_level_velocity_max": 16.835978072298936, "cost2_min": -103.19310350844103, "outflow_rate_max": 1536.0827791353713, "system_level_velocity_mean": 13.340563405055217, "cost1_mean": 344.5312011385055, "cost2_mean": -72.4891641903284, "outflow_rate_mean": 1259.281175384624, "cost2_max": -14.893554903304072, "cost1_min": 17.612274942359885}, "info": {"num_steps_trained": 8953224, "sample_time_ms": 29606.738, "load_time_ms": 8.275, "grad_time_ms": 16455.586, "update_time_ms": 8.104, "default": {"policy_loss": -0.011243529617786407, "cur_lr": 0.0005000000237487257, "kl": 0.015380066819489002, "total_loss": 43.54384231567383, "cur_kl_coeff": 0.33750003576278687, "vf_loss": 43.54990005493164, "entropy": 1.5132757425308228, "vf_explained_var": 0.8235666155815125}, "num_steps_sampled": 8953224}, "time_total_s": 6702.882932662964, "config": {"output": null, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "max_seq_len": 20, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "lstm_use_prev_action_reward": false, "framestack": true, "grayscale": false, "dim": 84, "free_log_std": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "monitor": false, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "sample_async": false, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfd4160>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfd4ac8>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfd4dd8>"}, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 693.27, "experiment_id": "49476b8bfa214ea3a002964354a4867e", "hostname": "flow-main", "episodes_this_iter": 29, "date": "2019-05-21_11-06-35"}
{"episode_reward_mean": 1270.056082964246, "timesteps_total": 9015512, "iterations_since_restore": 139, "timesteps_since_restore": 9015512, "pid": 59695, "time_this_iter_s": 45.068151235580444, "policy_reward_mean": {}, "timesteps_this_iter": 62288, "training_iteration": 139, "episode_reward_max": 1440.1570074309634, "node_ip": "10.138.0.2", "time_since_restore": 6747.951083898544, "episodes_total": 3955, "episode_reward_min": 45.84764426828804, "num_metric_batches_dropped": 0, "done": false, "timestamp": 1558436840, "custom_metrics": {"outflow_rate_min": 437.2949997643919, "system_level_velocity_min": 9.948529567855562, "cost1_max": 437.3899948265997, "system_level_velocity_max": 16.835978072298936, "cost2_min": -103.19310350844103, "outflow_rate_max": 1536.0827791353713, "system_level_velocity_mean": 13.494588863222749, "cost1_mean": 348.5734860748988, "cost2_mean": -71.84030884484773, "outflow_rate_mean": 1266.8950236464984, "cost2_max": -14.893554903304072, "cost1_min": 17.612274942359885}, "info": {"num_steps_trained": 9015512, "sample_time_ms": 29262.417, "load_time_ms": 7.968, "grad_time_ms": 16412.315, "update_time_ms": 8.094, "default": {"policy_loss": -0.011283811181783676, "cur_lr": 0.0005000000237487257, "kl": 0.015388855710625648, "total_loss": 47.565284729003906, "cur_kl_coeff": 0.33750009536743164, "vf_loss": 47.57137680053711, "entropy": 1.517651081085205, "vf_explained_var": 0.8028709292411804}, "num_steps_sampled": 9015512}, "time_total_s": 6747.951083898544, "config": {"output": null, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "max_seq_len": 20, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "lstm_use_prev_action_reward": false, "framestack": true, "grayscale": false, "dim": 84, "free_log_std": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "monitor": false, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "sample_async": false, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bf2ff98>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bf2f780>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bf2fc88>"}, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 693.27, "experiment_id": "49476b8bfa214ea3a002964354a4867e", "hostname": "flow-main", "episodes_this_iter": 28, "date": "2019-05-21_11-07-20"}
{"episode_reward_mean": 1265.53490627985, "timesteps_total": 9078306, "iterations_since_restore": 140, "timesteps_since_restore": 9078306, "pid": 59695, "time_this_iter_s": 45.771066427230835, "policy_reward_mean": {}, "timesteps_this_iter": 62794, "training_iteration": 140, "episode_reward_max": 1429.0066454982148, "node_ip": "10.138.0.2", "time_since_restore": 6793.722150325775, "episodes_total": 3985, "episode_reward_min": 45.84764426828804, "num_metric_batches_dropped": 0, "done": false, "timestamp": 1558436886, "custom_metrics": {"outflow_rate_min": 437.2949997643919, "system_level_velocity_min": 9.948529567855562, "cost1_max": 436.1969788974974, "system_level_velocity_max": 16.835978072298936, "cost2_min": -103.19310350844103, "outflow_rate_max": 1529.939985568939, "system_level_velocity_mean": 13.49867248769787, "cost1_mean": 348.60141421985566, "cost2_mean": -72.15539605480733, "outflow_rate_mean": 1259.34484807606, "cost2_max": -14.893554903304072, "cost1_min": 17.612274942359885}, "info": {"num_steps_trained": 9078306, "sample_time_ms": 29347.959, "load_time_ms": 7.992, "grad_time_ms": 16290.28, "update_time_ms": 7.793, "default": {"policy_loss": -0.01145561970770359, "cur_lr": 0.0005000000237487257, "kl": 0.015018071979284286, "total_loss": 51.25330352783203, "cur_kl_coeff": 0.33750006556510925, "vf_loss": 51.25968933105469, "entropy": 1.537036657333374, "vf_explained_var": 0.7892318964004517}, "num_steps_sampled": 9078306}, "time_total_s": 6793.722150325775, "config": {"output": null, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "max_seq_len": 20, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "lstm_use_prev_action_reward": false, "framestack": true, "grayscale": false, "dim": 84, "free_log_std": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "monitor": false, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "sample_async": false, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bf32ef0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bf32160>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bf32860>"}, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 693.27, "experiment_id": "49476b8bfa214ea3a002964354a4867e", "hostname": "flow-main", "episodes_this_iter": 30, "date": "2019-05-21_11-08-06"}
{"episode_reward_mean": 1279.5810598256335, "timesteps_total": 9140214, "iterations_since_restore": 141, "timesteps_since_restore": 9140214, "pid": 59695, "time_this_iter_s": 45.453455209732056, "policy_reward_mean": {}, "timesteps_this_iter": 61908, "training_iteration": 141, "episode_reward_max": 1436.4173064310085, "node_ip": "10.138.0.2", "time_since_restore": 6839.175605535507, "episodes_total": 4014, "episode_reward_min": 1094.3230699769317, "num_metric_batches_dropped": 0, "done": false, "timestamp": 1558436931, "custom_metrics": {"outflow_rate_min": 1100.0327158376213, "system_level_velocity_min": 10.009151625318502, "cost1_max": 436.92685368300636, "system_level_velocity_max": 16.69981164942384, "cost2_min": -103.19310350844103, "outflow_rate_max": 1521.3207017930836, "system_level_velocity_mean": 13.500303437301666, "cost1_mean": 353.09945921304853, "cost2_mean": -71.14956167731614, "outflow_rate_mean": 1270.5869072102519, "cost2_max": -44.12759209655472, "cost1_min": 261.6968533716571}, "info": {"num_steps_trained": 9140214, "sample_time_ms": 29340.036, "load_time_ms": 7.925, "grad_time_ms": 16336.719, "update_time_ms": 7.735, "default": {"policy_loss": -0.01261630468070507, "cur_lr": 0.0005000000237487257, "kl": 0.017018340528011322, "total_loss": 53.11270523071289, "cur_kl_coeff": 0.33750009536743164, "vf_loss": 53.11958694458008, "entropy": 1.5196740627288818, "vf_explained_var": 0.7864031791687012}, "num_steps_sampled": 9140214}, "time_total_s": 6839.175605535507, "config": {"output": null, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "max_seq_len": 20, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "lstm_use_prev_action_reward": false, "framestack": true, "grayscale": false, "dim": 84, "free_log_std": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "monitor": false, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "sample_async": false, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfdbcc0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfdb5f8>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfdb390>"}, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 700.0, "experiment_id": "49476b8bfa214ea3a002964354a4867e", "hostname": "flow-main", "episodes_this_iter": 29, "date": "2019-05-21_11-08-51"}
{"episode_reward_mean": 1283.6890259485076, "timesteps_total": 9203458, "iterations_since_restore": 142, "timesteps_since_restore": 9203458, "pid": 59695, "time_this_iter_s": 44.13906645774841, "policy_reward_mean": {}, "timesteps_this_iter": 63244, "training_iteration": 142, "episode_reward_max": 1436.4173064310085, "node_ip": "10.138.0.2", "time_since_restore": 6883.314671993256, "episodes_total": 4041, "episode_reward_min": 1094.3230699769317, "num_metric_batches_dropped": 0, "done": false, "timestamp": 1558436976, "custom_metrics": {"outflow_rate_min": 1100.0327158376213, "system_level_velocity_min": 10.113556531412474, "cost1_max": 436.92685368300636, "system_level_velocity_max": 16.69981164942384, "cost2_min": -97.86301713695097, "outflow_rate_max": 1521.3207017930836, "system_level_velocity_mean": 13.667158207149326, "cost1_mean": 357.5305905463634, "cost2_mean": -69.0802233941625, "outflow_rate_mean": 1273.8246242975342, "cost2_max": -42.99754247274747, "cost1_min": 260.0208348666829}, "info": {"num_steps_trained": 9203458, "sample_time_ms": 29188.32, "load_time_ms": 7.543, "grad_time_ms": 16259.717, "update_time_ms": 7.368, "default": {"policy_loss": -0.012213836424052715, "cur_lr": 0.0005000000237487257, "kl": 0.014923565089702606, "total_loss": 45.82257080078125, "cur_kl_coeff": 0.33750003576278687, "vf_loss": 45.82974624633789, "entropy": 1.5470037460327148, "vf_explained_var": 0.8218896985054016}, "num_steps_sampled": 9203458}, "time_total_s": 6883.314671993256, "config": {"output": null, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "max_seq_len": 20, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "lstm_use_prev_action_reward": false, "framestack": true, "grayscale": false, "dim": 84, "free_log_std": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "monitor": false, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "sample_async": false, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81e502710>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c031c88>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81e4e6978>"}, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 700.0, "experiment_id": "49476b8bfa214ea3a002964354a4867e", "hostname": "flow-main", "episodes_this_iter": 27, "date": "2019-05-21_11-09-36"}
{"episode_reward_mean": 1284.9024248731162, "timesteps_total": 9266516, "iterations_since_restore": 143, "timesteps_since_restore": 9266516, "pid": 59695, "time_this_iter_s": 46.793357849121094, "policy_reward_mean": {}, "timesteps_this_iter": 63058, "training_iteration": 143, "episode_reward_max": 1436.4173064310085, "node_ip": "10.138.0.2", "time_since_restore": 6930.108029842377, "episodes_total": 4071, "episode_reward_min": 1094.3230699769317, "num_metric_batches_dropped": 0, "done": false, "timestamp": 1558437023, "custom_metrics": {"outflow_rate_min": 1110.8274106448685, "system_level_velocity_min": 10.193425347059602, "cost1_max": 436.92685368300636, "system_level_velocity_max": 16.69981164942384, "cost2_min": -92.05905859581277, "outflow_rate_max": 1521.3207017930836, "system_level_velocity_mean": 13.716527338966639, "cost1_mean": 359.02925590444596, "cost2_mean": -67.9976719528709, "outflow_rate_mean": 1272.123533623533, "cost2_max": -42.99754247274747, "cost1_min": 260.0208348666829}, "info": {"num_steps_trained": 9266516, "sample_time_ms": 29328.18, "load_time_ms": 7.504, "grad_time_ms": 16355.274, "update_time_ms": 7.348, "default": {"policy_loss": -0.011485818773508072, "cur_lr": 0.0005000000237487257, "kl": 0.014611953869462013, "total_loss": 45.34632110595703, "cur_kl_coeff": 0.33750003576278687, "vf_loss": 45.35287857055664, "entropy": 1.5325347185134888, "vf_explained_var": 0.8150575160980225}, "num_steps_sampled": 9266516}, "time_total_s": 6930.108029842377, "config": {"output": null, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "max_seq_len": 20, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "lstm_use_prev_action_reward": false, "framestack": true, "grayscale": false, "dim": 84, "free_log_std": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "monitor": false, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "sample_async": false, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bf2fd30>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bf2f198>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bf2fa58>"}, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 700.0, "experiment_id": "49476b8bfa214ea3a002964354a4867e", "hostname": "flow-main", "episodes_this_iter": 30, "date": "2019-05-21_11-10-23"}
{"episode_reward_mean": 1280.937622554653, "timesteps_total": 9331419, "iterations_since_restore": 144, "timesteps_since_restore": 9331419, "pid": 59695, "time_this_iter_s": 45.8162944316864, "policy_reward_mean": {}, "timesteps_this_iter": 64903, "training_iteration": 144, "episode_reward_max": 1432.1907404322592, "node_ip": "10.138.0.2", "time_since_restore": 6975.924324274063, "episodes_total": 4100, "episode_reward_min": 1119.720368705088, "num_metric_batches_dropped": 0, "done": false, "timestamp": 1558437068, "custom_metrics": {"outflow_rate_min": 1115.6772572224156, "system_level_velocity_min": 10.193425347059602, "cost1_max": 435.95665397363814, "system_level_velocity_max": 16.636058681178554, "cost2_min": -95.99780365878036, "outflow_rate_max": 1479.1739707229356, "system_level_velocity_mean": 13.568633227134741, "cost1_mean": 355.00814288605585, "cost2_mean": -69.35190681334124, "outflow_rate_mean": 1263.4456285972942, "cost2_max": -42.99754247274747, "cost1_min": 260.0208348666829}, "info": {"num_steps_trained": 9331419, "sample_time_ms": 29251.471, "load_time_ms": 7.981, "grad_time_ms": 16362.545, "update_time_ms": 7.325, "default": {"policy_loss": -0.012768774293363094, "cur_lr": 0.0005000000237487257, "kl": 0.014987881295382977, "total_loss": 43.560142517089844, "cur_kl_coeff": 0.33750003576278687, "vf_loss": 43.56785583496094, "entropy": 1.5671056509017944, "vf_explained_var": 0.8172585368156433}, "num_steps_sampled": 9331419}, "time_total_s": 6975.924324274063, "config": {"output": null, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "max_seq_len": 20, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "lstm_use_prev_action_reward": false, "framestack": true, "grayscale": false, "dim": 84, "free_log_std": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "monitor": false, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "sample_async": false, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfde978>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfde198>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfde048>"}, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 700.0, "experiment_id": "49476b8bfa214ea3a002964354a4867e", "hostname": "flow-main", "episodes_this_iter": 29, "date": "2019-05-21_11-11-08"}
{"episode_reward_mean": 1275.1878948732624, "timesteps_total": 9394196, "iterations_since_restore": 145, "timesteps_since_restore": 9394196, "pid": 59695, "time_this_iter_s": 46.12128186225891, "policy_reward_mean": {}, "timesteps_this_iter": 62777, "training_iteration": 145, "episode_reward_max": 1432.1907404322592, "node_ip": "10.138.0.2", "time_since_restore": 7022.045606136322, "episodes_total": 4129, "episode_reward_min": 1119.720368705088, "num_metric_batches_dropped": 0, "done": false, "timestamp": 1558437115, "custom_metrics": {"outflow_rate_min": 1114.5017770464829, "system_level_velocity_min": 10.193425347059602, "cost1_max": 435.95665397363814, "system_level_velocity_max": 16.636058681178554, "cost2_min": -95.99780365878036, "outflow_rate_max": 1479.1739707229356, "system_level_velocity_mean": 13.591750561012091, "cost1_mean": 355.4490746039869, "cost2_mean": -69.44246567570836, "outflow_rate_mean": 1255.574742180427, "cost2_max": -45.007562120972736, "cost1_min": 260.0208348666829}, "info": {"num_steps_trained": 9394196, "sample_time_ms": 29299.379, "load_time_ms": 7.919, "grad_time_ms": 16421.775, "update_time_ms": 7.224, "default": {"policy_loss": -0.01243913359940052, "cur_lr": 0.0005000000237487257, "kl": 0.014535263180732727, "total_loss": 41.79054641723633, "cur_kl_coeff": 0.33750006556510925, "vf_loss": 41.79808044433594, "entropy": 1.552545428276062, "vf_explained_var": 0.8243606686592102}, "num_steps_sampled": 9394196}, "time_total_s": 7022.045606136322, "config": {"output": null, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "max_seq_len": 20, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "lstm_use_prev_action_reward": false, "framestack": true, "grayscale": false, "dim": 84, "free_log_std": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "monitor": false, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "sample_async": false, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfdb048>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bf32dd8>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfdb5f8>"}, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 700.0, "experiment_id": "49476b8bfa214ea3a002964354a4867e", "hostname": "flow-main", "episodes_this_iter": 29, "date": "2019-05-21_11-11-55"}
{"episode_reward_mean": 1268.9258480530493, "timesteps_total": 9458362, "iterations_since_restore": 146, "timesteps_since_restore": 9458362, "pid": 59695, "time_this_iter_s": 45.520498275756836, "policy_reward_mean": {}, "timesteps_this_iter": 64166, "training_iteration": 146, "episode_reward_max": 1434.4399488811437, "node_ip": "10.138.0.2", "time_since_restore": 7067.566104412079, "episodes_total": 4157, "episode_reward_min": 1119.720368705088, "num_metric_batches_dropped": 0, "done": false, "timestamp": 1558437160, "custom_metrics": {"outflow_rate_min": 1101.563069334361, "system_level_velocity_min": 10.34579912209792, "cost1_max": 449.26551707320135, "system_level_velocity_max": 17.145488413725545, "cost2_min": -98.04394516634073, "outflow_rate_max": 1542.9738495680022, "system_level_velocity_mean": 13.401998963660276, "cost1_mean": 350.30106288363254, "cost2_mean": -71.39267278826824, "outflow_rate_mean": 1248.2756957763502, "cost2_max": -38.08334091546822, "cost1_min": 263.9021660727317}, "info": {"num_steps_trained": 9458362, "sample_time_ms": 29171.031, "load_time_ms": 7.95, "grad_time_ms": 16390.753, "update_time_ms": 7.365, "default": {"policy_loss": -0.009747372008860111, "cur_lr": 0.0005000000237487257, "kl": 0.015957653522491455, "total_loss": 49.56515884399414, "cur_kl_coeff": 0.33750003576278687, "vf_loss": 49.56951904296875, "entropy": 1.5641322135925293, "vf_explained_var": 0.7833288311958313}, "num_steps_sampled": 9458362}, "time_total_s": 7067.566104412079, "config": {"output": null, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "max_seq_len": 20, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "lstm_use_prev_action_reward": false, "framestack": true, "grayscale": false, "dim": 84, "free_log_std": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "monitor": false, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "sample_async": false, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bf324a8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bf32a90>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bf32438>"}, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 700.0, "experiment_id": "49476b8bfa214ea3a002964354a4867e", "hostname": "flow-main", "episodes_this_iter": 28, "date": "2019-05-21_11-12-40"}
{"episode_reward_mean": 1264.437534655508, "timesteps_total": 9521135, "iterations_since_restore": 147, "timesteps_since_restore": 9521135, "pid": 59695, "time_this_iter_s": 46.28115153312683, "policy_reward_mean": {}, "timesteps_this_iter": 62773, "training_iteration": 147, "episode_reward_max": 1434.4399488811437, "node_ip": "10.138.0.2", "time_since_restore": 7113.847255945206, "episodes_total": 4187, "episode_reward_min": 1123.470668557995, "num_metric_batches_dropped": 0, "done": false, "timestamp": 1558437206, "custom_metrics": {"outflow_rate_min": 1069.3666198738736, "system_level_velocity_min": 10.444745315134814, "cost1_max": 449.26551707320135, "system_level_velocity_max": 17.145488413725545, "cost2_min": -99.67034557114224, "outflow_rate_max": 1542.9738495680022, "system_level_velocity_mean": 13.357577818038164, "cost1_mean": 349.10761986857227, "cost2_mean": -72.08132730885777, "outflow_rate_mean": 1238.0526045273225, "cost2_max": -38.08334091546822, "cost1_min": 273.22407911504}, "info": {"num_steps_trained": 9521135, "sample_time_ms": 29240.031, "load_time_ms": 7.808, "grad_time_ms": 16251.527, "update_time_ms": 7.327, "default": {"policy_loss": -0.011773829348385334, "cur_lr": 0.0005000000237487257, "kl": 0.014337069354951382, "total_loss": 46.691925048828125, "cur_kl_coeff": 0.33750006556510925, "vf_loss": 46.69886016845703, "entropy": 1.5815331935882568, "vf_explained_var": 0.8150476217269897}, "num_steps_sampled": 9521135}, "time_total_s": 7113.847255945206, "config": {"output": null, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "max_seq_len": 20, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "lstm_use_prev_action_reward": false, "framestack": true, "grayscale": false, "dim": 84, "free_log_std": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "monitor": false, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "sample_async": false, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfbc048>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bf2f390>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bf3ce10>"}, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 700.0, "experiment_id": "49476b8bfa214ea3a002964354a4867e", "hostname": "flow-main", "episodes_this_iter": 30, "date": "2019-05-21_11-13-26"}
{"episode_reward_mean": 1269.4594737765008, "timesteps_total": 9584490, "iterations_since_restore": 148, "timesteps_since_restore": 9584490, "pid": 59695, "time_this_iter_s": 46.01164507865906, "policy_reward_mean": {}, "timesteps_this_iter": 63355, "training_iteration": 148, "episode_reward_max": 1434.4399488811437, "node_ip": "10.138.0.2", "time_since_restore": 7159.858901023865, "episodes_total": 4216, "episode_reward_min": 1123.470668557995, "num_metric_batches_dropped": 0, "done": false, "timestamp": 1558437252, "custom_metrics": {"outflow_rate_min": 1069.3666198738736, "system_level_velocity_min": 10.22666612519128, "cost1_max": 449.26551707320135, "system_level_velocity_max": 17.145488413725545, "cost2_min": -109.02895162231513, "outflow_rate_max": 1542.9738495680022, "system_level_velocity_mean": 13.380705177230686, "cost1_mean": 349.8826345085304, "cost2_mean": -72.59655048600267, "outflow_rate_mean": 1237.623885461581, "cost2_max": -38.08334091546822, "cost1_min": 265.75292742454303}, "info": {"num_steps_trained": 9584490, "sample_time_ms": 29216.134, "load_time_ms": 8.214, "grad_time_ms": 16357.978, "update_time_ms": 7.367, "default": {"policy_loss": -0.00976597610861063, "cur_lr": 0.0005000000237487257, "kl": 0.016239311546087265, "total_loss": 45.83515548706055, "cur_kl_coeff": 0.33750003576278687, "vf_loss": 45.839439392089844, "entropy": 1.5754746198654175, "vf_explained_var": 0.8422359824180603}, "num_steps_sampled": 9584490}, "time_total_s": 7159.858901023865, "config": {"output": null, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "max_seq_len": 20, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "lstm_use_prev_action_reward": false, "framestack": true, "grayscale": false, "dim": 84, "free_log_std": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "monitor": false, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "sample_async": false, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfdebe0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfde780>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81e4e6978>"}, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 700.0, "experiment_id": "49476b8bfa214ea3a002964354a4867e", "hostname": "flow-main", "episodes_this_iter": 29, "date": "2019-05-21_11-14-12"}
{"episode_reward_mean": 1281.7453122621785, "timesteps_total": 9646849, "iterations_since_restore": 149, "timesteps_since_restore": 9646849, "pid": 59695, "time_this_iter_s": 44.55818033218384, "policy_reward_mean": {}, "timesteps_this_iter": 62359, "training_iteration": 149, "episode_reward_max": 1439.8180949043513, "node_ip": "10.138.0.2", "time_since_restore": 7204.417081356049, "episodes_total": 4245, "episode_reward_min": 1092.86431955978, "num_metric_batches_dropped": 0, "done": false, "timestamp": 1558437297, "custom_metrics": {"outflow_rate_min": 1069.3666198738736, "system_level_velocity_min": 9.999607203772786, "cost1_max": 449.26551707320135, "system_level_velocity_max": 17.145488413725545, "cost2_min": -109.02895162231513, "outflow_rate_max": 1566.4120143635612, "system_level_velocity_mean": 13.642243439445151, "cost1_mean": 357.21375486717784, "cost2_mean": -71.66134251146477, "outflow_rate_mean": 1249.2635046060357, "cost2_max": -38.08334091546822, "cost1_min": 262.0635641954606}, "info": {"num_steps_trained": 9646849, "sample_time_ms": 29221.537, "load_time_ms": 8.405, "grad_time_ms": 16302.704, "update_time_ms": 7.356, "default": {"policy_loss": -0.01261662133038044, "cur_lr": 0.0005000000237487257, "kl": 0.015318133868277073, "total_loss": 44.826576232910156, "cur_kl_coeff": 0.33750009536743164, "vf_loss": 44.83403015136719, "entropy": 1.5469725131988525, "vf_explained_var": 0.8463267683982849}, "num_steps_sampled": 9646849}, "time_total_s": 7204.417081356049, "config": {"output": null, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "max_seq_len": 20, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "lstm_use_prev_action_reward": false, "framestack": true, "grayscale": false, "dim": 84, "free_log_std": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "monitor": false, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "sample_async": false, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bf32cc0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bf2f390>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bf326d8>"}, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 700.0, "experiment_id": "49476b8bfa214ea3a002964354a4867e", "hostname": "flow-main", "episodes_this_iter": 29, "date": "2019-05-21_11-14-57"}
{"episode_reward_mean": 1297.3081121649163, "timesteps_total": 9708399, "iterations_since_restore": 150, "timesteps_since_restore": 9708399, "pid": 59695, "time_this_iter_s": 45.5215744972229, "policy_reward_mean": {}, "timesteps_this_iter": 61550, "training_iteration": 150, "episode_reward_max": 1448.5836693677115, "node_ip": "10.138.0.2", "time_since_restore": 7249.9386558532715, "episodes_total": 4274, "episode_reward_min": 1092.86431955978, "num_metric_batches_dropped": 0, "done": false, "timestamp": 1558437343, "custom_metrics": {"outflow_rate_min": 1081.9335452074267, "system_level_velocity_min": 9.999607203772786, "cost1_max": 443.3761031872987, "system_level_velocity_max": 16.939463907992206, "cost2_min": -109.02895162231513, "outflow_rate_max": 1566.4120143635612, "system_level_velocity_mean": 13.845694927632245, "cost1_mean": 362.628327415885, "cost2_mean": -69.90407358669363, "outflow_rate_mean": 1274.1238279210875, "cost2_max": -38.20979893951745, "cost1_min": 262.0635641954606}, "info": {"num_steps_trained": 9708399, "sample_time_ms": 29161.33, "load_time_ms": 8.217, "grad_time_ms": 16336.892, "update_time_ms": 7.383, "default": {"policy_loss": -0.010776618495583534, "cur_lr": 0.0005000000237487257, "kl": 0.016368109732866287, "total_loss": 50.68498611450195, "cur_kl_coeff": 0.33750006556510925, "vf_loss": 50.69023513793945, "entropy": 1.5607147216796875, "vf_explained_var": 0.8266039490699768}, "num_steps_sampled": 9708399}, "time_total_s": 7249.9386558532715, "config": {"output": null, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "max_seq_len": 20, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "lstm_use_prev_action_reward": false, "framestack": true, "grayscale": false, "dim": 84, "free_log_std": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "monitor": false, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "sample_async": false, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfde9b0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfdedd8>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfde080>"}, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 700.0, "experiment_id": "49476b8bfa214ea3a002964354a4867e", "hostname": "flow-main", "episodes_this_iter": 29, "date": "2019-05-21_11-15-43"}
{"episode_reward_mean": 1307.2057934304173, "timesteps_total": 9772060, "iterations_since_restore": 151, "timesteps_since_restore": 9772060, "pid": 59695, "time_this_iter_s": 45.4000985622406, "policy_reward_mean": {}, "timesteps_this_iter": 63661, "training_iteration": 151, "episode_reward_max": 1448.5836693677115, "node_ip": "10.138.0.2", "time_since_restore": 7295.338754415512, "episodes_total": 4303, "episode_reward_min": 1092.86431955978, "num_metric_batches_dropped": 0, "done": false, "timestamp": 1558437388, "custom_metrics": {"outflow_rate_min": 1081.9335452074267, "system_level_velocity_min": 9.999607203772786, "cost1_max": 443.3761031872987, "system_level_velocity_max": 16.939463907992206, "cost2_min": -109.82926130549282, "outflow_rate_max": 1566.4120143635612, "system_level_velocity_mean": 14.058366568186713, "cost1_mean": 368.4680308923791, "cost2_mean": -68.64403180486819, "outflow_rate_mean": 1283.2607822051425, "cost2_max": -38.20979893951745, "cost1_min": 262.0635641954606}, "info": {"num_steps_trained": 9772060, "sample_time_ms": 29208.403, "load_time_ms": 8.621, "grad_time_ms": 16283.263, "update_time_ms": 7.351, "default": {"policy_loss": -0.010348208248615265, "cur_lr": 0.0005000000237487257, "kl": 0.014004163444042206, "total_loss": 44.8581657409668, "cur_kl_coeff": 0.33750003576278687, "vf_loss": 44.86378479003906, "entropy": 1.5604604482650757, "vf_explained_var": 0.8429003953933716}, "num_steps_sampled": 9772060}, "time_total_s": 7295.338754415512, "config": {"output": null, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "max_seq_len": 20, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "lstm_use_prev_action_reward": false, "framestack": true, "grayscale": false, "dim": 84, "free_log_std": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "monitor": false, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "sample_async": false, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bf2fd68>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bf2fe48>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bf2fbe0>"}, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 700.0, "experiment_id": "49476b8bfa214ea3a002964354a4867e", "hostname": "flow-main", "episodes_this_iter": 29, "date": "2019-05-21_11-16-28"}
{"episode_reward_mean": 1305.1245309448768, "timesteps_total": 9835120, "iterations_since_restore": 152, "timesteps_since_restore": 9835120, "pid": 59695, "time_this_iter_s": 45.85081648826599, "policy_reward_mean": {}, "timesteps_this_iter": 63060, "training_iteration": 152, "episode_reward_max": 1448.5836693677115, "node_ip": "10.138.0.2", "time_since_restore": 7341.189570903778, "episodes_total": 4329, "episode_reward_min": 1092.86431955978, "num_metric_batches_dropped": 0, "done": false, "timestamp": 1558437434, "custom_metrics": {"outflow_rate_min": 1095.3482326032174, "system_level_velocity_min": 9.999607203772786, "cost1_max": 443.3487440969167, "system_level_velocity_max": 16.89543214657672, "cost2_min": -117.40074593035968, "outflow_rate_max": 1544.5123384052235, "system_level_velocity_mean": 13.94002464738493, "cost1_mean": 365.288099452138, "cost2_mean": -71.12153646014916, "outflow_rate_mean": 1274.8269806780997, "cost2_max": -38.20979893951745, "cost1_min": 262.0635641954606}, "info": {"num_steps_trained": 9835120, "sample_time_ms": 29347.053, "load_time_ms": 8.798, "grad_time_ms": 16315.673, "update_time_ms": 7.463, "default": {"policy_loss": -0.011588944122195244, "cur_lr": 0.0005000000237487257, "kl": 0.015182876959443092, "total_loss": 44.88865661621094, "cur_kl_coeff": 0.33750003576278687, "vf_loss": 44.895118713378906, "entropy": 1.5816017389297485, "vf_explained_var": 0.8431084156036377}, "num_steps_sampled": 9835120}, "time_total_s": 7341.189570903778, "config": {"output": null, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "max_seq_len": 20, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "lstm_use_prev_action_reward": false, "framestack": true, "grayscale": false, "dim": 84, "free_log_std": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "monitor": false, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "sample_async": false, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bf3ca20>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bf3c198>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bf3c208>"}, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 700.0, "experiment_id": "49476b8bfa214ea3a002964354a4867e", "hostname": "flow-main", "episodes_this_iter": 26, "date": "2019-05-21_11-17-14"}
{"episode_reward_mean": 1307.8468478791067, "timesteps_total": 9899749, "iterations_since_restore": 153, "timesteps_since_restore": 9899749, "pid": 59695, "time_this_iter_s": 46.404693365097046, "policy_reward_mean": {}, "timesteps_this_iter": 64629, "training_iteration": 153, "episode_reward_max": 1448.5836693677115, "node_ip": "10.138.0.2", "time_since_restore": 7387.594264268875, "episodes_total": 4357, "episode_reward_min": 1152.6685484044397, "num_metric_batches_dropped": 0, "done": false, "timestamp": 1558437480, "custom_metrics": {"outflow_rate_min": 1061.9629268292679, "system_level_velocity_min": 10.040663695208183, "cost1_max": 443.3487440969167, "system_level_velocity_max": 16.89543214657672, "cost2_min": -117.40074593035968, "outflow_rate_max": 1544.5123384052235, "system_level_velocity_mean": 13.863062959193682, "cost1_mean": 363.2763633202462, "cost2_mean": -73.15429767533607, "outflow_rate_mean": 1273.6083722285541, "cost2_max": -38.20979893951745, "cost1_min": 262.80636414376295}, "info": {"num_steps_trained": 9899749, "sample_time_ms": 29281.06, "load_time_ms": 8.799, "grad_time_ms": 16339.482, "update_time_ms": 7.426, "default": {"policy_loss": -0.011751161888241768, "cur_lr": 0.0005000000237487257, "kl": 0.014614885672926903, "total_loss": 45.45280075073242, "cur_kl_coeff": 0.33750006556510925, "vf_loss": 45.45961380004883, "entropy": 1.5887078046798706, "vf_explained_var": 0.8518506288528442}, "num_steps_sampled": 9899749}, "time_total_s": 7387.594264268875, "config": {"output": null, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "max_seq_len": 20, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "lstm_use_prev_action_reward": false, "framestack": true, "grayscale": false, "dim": 84, "free_log_std": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "monitor": false, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "sample_async": false, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bf2f668>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bf2fc50>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bf2f438>"}, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 700.0, "experiment_id": "49476b8bfa214ea3a002964354a4867e", "hostname": "flow-main", "episodes_this_iter": 28, "date": "2019-05-21_11-18-00"}
{"episode_reward_mean": 1288.1731267768455, "timesteps_total": 9963930, "iterations_since_restore": 154, "timesteps_since_restore": 9963930, "pid": 59695, "time_this_iter_s": 46.41663432121277, "policy_reward_mean": {}, "timesteps_this_iter": 64181, "training_iteration": 154, "episode_reward_max": 1440.5177881043442, "node_ip": "10.138.0.2", "time_since_restore": 7434.010898590088, "episodes_total": 4386, "episode_reward_min": 56.57150447876795, "num_metric_batches_dropped": 0, "done": false, "timestamp": 1558437527, "custom_metrics": {"outflow_rate_min": 489.948572949577, "system_level_velocity_min": 10.040663695208183, "cost1_max": 438.42927319968, "system_level_velocity_max": 18.461532832014374, "cost2_min": -117.40074593035968, "outflow_rate_max": 1544.5123384052235, "system_level_velocity_mean": 13.79674197590084, "cost1_mean": 356.99524239797324, "cost2_mean": -74.90520056533035, "outflow_rate_mean": 1250.958022488795, "cost2_max": -16.95404246226434, "cost1_min": 23.047403276014585}, "info": {"num_steps_trained": 9963930, "sample_time_ms": 29365.411, "load_time_ms": 8.785, "grad_time_ms": 16315.647, "update_time_ms": 7.489, "default": {"policy_loss": -0.010833456180989742, "cur_lr": 0.0005000000237487257, "kl": 0.014264803379774094, "total_loss": 46.61812210083008, "cur_kl_coeff": 0.33750003576278687, "vf_loss": 46.624141693115234, "entropy": 1.5955547094345093, "vf_explained_var": 0.8411934971809387}, "num_steps_sampled": 9963930}, "time_total_s": 7434.010898590088, "config": {"output": null, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "max_seq_len": 20, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "lstm_use_prev_action_reward": false, "framestack": true, "grayscale": false, "dim": 84, "free_log_std": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "monitor": false, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "sample_async": false, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bf32cc0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bf322e8>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bf32f98>"}, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 693.35, "experiment_id": "49476b8bfa214ea3a002964354a4867e", "hostname": "flow-main", "episodes_this_iter": 29, "date": "2019-05-21_11-18-47"}
{"episode_reward_mean": 1269.9607272800015, "timesteps_total": 10026150, "iterations_since_restore": 155, "timesteps_since_restore": 10026150, "pid": 59695, "time_this_iter_s": 45.459115982055664, "policy_reward_mean": {}, "timesteps_this_iter": 62220, "training_iteration": 155, "episode_reward_max": 1449.2069958576271, "node_ip": "10.138.0.2", "time_since_restore": 7479.470014572144, "episodes_total": 4415, "episode_reward_min": 56.57150447876795, "num_metric_batches_dropped": 0, "done": false, "timestamp": 1558437572, "custom_metrics": {"outflow_rate_min": 482.013025210353, "system_level_velocity_min": 10.057647472998484, "cost1_max": 432.7186658255433, "system_level_velocity_max": 18.461532832014374, "cost2_min": -117.40074593035968, "outflow_rate_max": 1514.2810817189413, "system_level_velocity_mean": 13.663443235344397, "cost1_mean": 348.8232589188286, "cost2_mean": -76.24779063900594, "outflow_rate_mean": 1240.423312892575, "cost2_max": -13.216733956683832, "cost1_min": 22.45797140418441}, "info": {"num_steps_trained": 10026150, "sample_time_ms": 29413.506, "load_time_ms": 8.494, "grad_time_ms": 16201.482, "update_time_ms": 7.536, "default": {"policy_loss": -0.011651002801954746, "cur_lr": 0.0005000000237487257, "kl": 0.014855828136205673, "total_loss": 45.42764663696289, "cur_kl_coeff": 0.33750009536743164, "vf_loss": 45.43428039550781, "entropy": 1.5827500820159912, "vf_explained_var": 0.8460602760314941}, "num_steps_sampled": 10026150}, "time_total_s": 7479.470014572144, "config": {"output": null, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "max_seq_len": 20, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "lstm_use_prev_action_reward": false, "framestack": true, "grayscale": false, "dim": 84, "free_log_std": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "monitor": false, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "sample_async": false, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bf2f828>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bf2f940>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bf2f278>"}, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 686.7, "experiment_id": "49476b8bfa214ea3a002964354a4867e", "hostname": "flow-main", "episodes_this_iter": 29, "date": "2019-05-21_11-19-32"}
{"episode_reward_mean": 1261.2837609917922, "timesteps_total": 10090915, "iterations_since_restore": 156, "timesteps_since_restore": 10090915, "pid": 59695, "time_this_iter_s": 46.94961166381836, "policy_reward_mean": {}, "timesteps_this_iter": 64765, "training_iteration": 156, "episode_reward_max": 1449.2069958576271, "node_ip": "10.138.0.2", "time_since_restore": 7526.419626235962, "episodes_total": 4445, "episode_reward_min": 56.57150447876795, "num_metric_batches_dropped": 0, "done": false, "timestamp": 1558437619, "custom_metrics": {"outflow_rate_min": 482.013025210353, "system_level_velocity_min": 10.057647472998484, "cost1_max": 441.10072381316553, "system_level_velocity_max": 18.461532832014374, "cost2_min": -107.94065641045614, "outflow_rate_max": 1533.5353087063156, "system_level_velocity_mean": 13.582921707205935, "cost1_mean": 346.54909239988257, "cost2_mean": -76.18487212585389, "outflow_rate_mean": 1238.5192885616736, "cost2_max": -13.216733956683832, "cost1_min": 22.45797140418441}, "info": {"num_steps_trained": 10090915, "sample_time_ms": 29511.257, "load_time_ms": 8.439, "grad_time_ms": 16247.534, "update_time_ms": 7.56, "default": {"policy_loss": -0.011333249509334564, "cur_lr": 0.0005000000237487257, "kl": 0.01536412350833416, "total_loss": 50.12323760986328, "cur_kl_coeff": 0.33750006556510925, "vf_loss": 50.12937927246094, "entropy": 1.5947608947753906, "vf_explained_var": 0.8241231441497803}, "num_steps_sampled": 10090915}, "time_total_s": 7526.419626235962, "config": {"output": null, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "max_seq_len": 20, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "lstm_use_prev_action_reward": false, "framestack": true, "grayscale": false, "dim": 84, "free_log_std": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "monitor": false, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "sample_async": false, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bf2f898>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bf2f390>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bf2f080>"}, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 686.7, "experiment_id": "49476b8bfa214ea3a002964354a4867e", "hostname": "flow-main", "episodes_this_iter": 30, "date": "2019-05-21_11-20-19"}
{"episode_reward_mean": 1257.910415193077, "timesteps_total": 10154803, "iterations_since_restore": 157, "timesteps_since_restore": 10154803, "pid": 59695, "time_this_iter_s": 43.992058515548706, "policy_reward_mean": {}, "timesteps_this_iter": 63888, "training_iteration": 157, "episode_reward_max": 1449.2069958576271, "node_ip": "10.138.0.2", "time_since_restore": 7570.411684751511, "episodes_total": 4473, "episode_reward_min": 56.57150447876795, "num_metric_batches_dropped": 0, "done": false, "timestamp": 1558437663, "custom_metrics": {"outflow_rate_min": 482.013025210353, "system_level_velocity_min": 10.057647472998484, "cost1_max": 441.10072381316553, "system_level_velocity_max": 18.461532832014374, "cost2_min": -109.68896320742127, "outflow_rate_max": 1534.7054828150567, "system_level_velocity_mean": 13.484274182805278, "cost1_mean": 343.76926048056345, "cost2_mean": -77.2738783878975, "outflow_rate_mean": 1240.6759937056363, "cost2_max": -13.216733956683832, "cost1_min": 22.45797140418441}, "info": {"num_steps_trained": 10154803, "sample_time_ms": 29334.875, "load_time_ms": 8.341, "grad_time_ms": 16194.791, "update_time_ms": 7.58, "default": {"policy_loss": -0.010569837875664234, "cur_lr": 0.0005000000237487257, "kl": 0.014641428366303444, "total_loss": 52.219791412353516, "cur_kl_coeff": 0.33750003576278687, "vf_loss": 52.22541809082031, "entropy": 1.5792858600616455, "vf_explained_var": 0.811159074306488}, "num_steps_sampled": 10154803}, "time_total_s": 7570.411684751511, "config": {"output": null, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "max_seq_len": 20, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "lstm_use_prev_action_reward": false, "framestack": true, "grayscale": false, "dim": 84, "free_log_std": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "monitor": false, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "sample_async": false, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bf2f320>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bf2f2b0>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bf2f278>"}, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 686.7, "experiment_id": "49476b8bfa214ea3a002964354a4867e", "hostname": "flow-main", "episodes_this_iter": 28, "date": "2019-05-21_11-21-03"}
{"episode_reward_mean": 1275.9862711640806, "timesteps_total": 10220027, "iterations_since_restore": 158, "timesteps_since_restore": 10220027, "pid": 59695, "time_this_iter_s": 48.018439531326294, "policy_reward_mean": {}, "timesteps_this_iter": 65224, "training_iteration": 158, "episode_reward_max": 1449.2069958576271, "node_ip": "10.138.0.2", "time_since_restore": 7618.430124282837, "episodes_total": 4503, "episode_reward_min": 58.64780308865534, "num_metric_batches_dropped": 0, "done": false, "timestamp": 1558437712, "custom_metrics": {"outflow_rate_min": 482.013025210353, "system_level_velocity_min": 10.232712802216195, "cost1_max": 443.93143995585865, "system_level_velocity_max": 17.946892255524517, "cost2_min": -109.68896320742127, "outflow_rate_max": 1572.1410934805053, "system_level_velocity_mean": 13.530208651622662, "cost1_mean": 349.46303264540535, "cost2_mean": -77.9412075788823, "outflow_rate_mean": 1254.9569404339186, "cost2_max": -13.216733956683832, "cost1_min": 22.45797140418441}, "info": {"num_steps_trained": 10220027, "sample_time_ms": 29491.008, "load_time_ms": 8.02, "grad_time_ms": 16238.346, "update_time_ms": 7.959, "default": {"policy_loss": -0.00981496088206768, "cur_lr": 0.0005000000237487257, "kl": 0.014189711771905422, "total_loss": 49.7961311340332, "cur_kl_coeff": 0.33750003576278687, "vf_loss": 49.8011589050293, "entropy": 1.6323992013931274, "vf_explained_var": 0.8192721605300903}, "num_steps_sampled": 10220027}, "time_total_s": 7618.430124282837, "config": {"output": null, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "max_seq_len": 20, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "lstm_use_prev_action_reward": false, "framestack": true, "grayscale": false, "dim": 84, "free_log_std": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "monitor": false, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "sample_async": false, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bf32438>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bf32a58>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bf3c198>"}, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 693.35, "experiment_id": "49476b8bfa214ea3a002964354a4867e", "hostname": "flow-main", "episodes_this_iter": 30, "date": "2019-05-21_11-21-52"}
{"episode_reward_mean": 1279.5174566758963, "timesteps_total": 10283896, "iterations_since_restore": 159, "timesteps_since_restore": 10283896, "pid": 59695, "time_this_iter_s": 46.70858955383301, "policy_reward_mean": {}, "timesteps_this_iter": 63869, "training_iteration": 159, "episode_reward_max": 1447.8818983064932, "node_ip": "10.138.0.2", "time_since_restore": 7665.13871383667, "episodes_total": 4534, "episode_reward_min": 1121.0062025720579, "num_metric_batches_dropped": 0, "done": false, "timestamp": 1558437758, "custom_metrics": {"outflow_rate_min": 994.133032021045, "system_level_velocity_min": 9.807231011904621, "cost1_max": 443.93143995585865, "system_level_velocity_max": 16.920269836053475, "cost2_min": -109.68896320742127, "outflow_rate_max": 1572.1410934805053, "system_level_velocity_mean": 13.355598537980526, "cost1_mean": 349.214396270877, "cost2_mean": -79.00711876919549, "outflow_rate_mean": 1248.9847752888415, "cost2_max": -45.15060761289053, "cost1_min": 251.37253250939756}, "info": {"num_steps_trained": 10283896, "sample_time_ms": 29693.818, "load_time_ms": 8.2, "grad_time_ms": 16248.781, "update_time_ms": 8.278, "default": {"policy_loss": -0.011346814222633839, "cur_lr": 0.0005000000237487257, "kl": 0.01420766580849886, "total_loss": 43.490150451660156, "cur_kl_coeff": 0.33750006556510925, "vf_loss": 43.4967041015625, "entropy": 1.6170563697814941, "vf_explained_var": 0.8533638119697571}, "num_steps_sampled": 10283896}, "time_total_s": 7665.13871383667, "config": {"output": null, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "max_seq_len": 20, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "lstm_use_prev_action_reward": false, "framestack": true, "grayscale": false, "dim": 84, "free_log_std": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "monitor": false, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "sample_async": false, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bf3c518>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bf32ac8>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bf3c2e8>"}, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 700.0, "experiment_id": "49476b8bfa214ea3a002964354a4867e", "hostname": "flow-main", "episodes_this_iter": 31, "date": "2019-05-21_11-22-38"}
{"episode_reward_mean": 1277.6815253198915, "timesteps_total": 10347168, "iterations_since_restore": 160, "timesteps_since_restore": 10347168, "pid": 59695, "time_this_iter_s": 46.269739866256714, "policy_reward_mean": {}, "timesteps_this_iter": 63272, "training_iteration": 160, "episode_reward_max": 1455.9332595772228, "node_ip": "10.138.0.2", "time_since_restore": 7711.408453702927, "episodes_total": 4562, "episode_reward_min": 396.4949148001869, "num_metric_batches_dropped": 0, "done": false, "timestamp": 1558437805, "custom_metrics": {"outflow_rate_min": 994.133032021045, "system_level_velocity_min": 9.807231011904621, "cost1_max": 445.88494121427084, "system_level_velocity_max": 17.38354561390117, "cost2_min": -109.12204549684299, "outflow_rate_max": 1572.1410934805053, "system_level_velocity_mean": 13.483970183812808, "cost1_mean": 349.62107363276283, "cost2_mean": -77.0471992724163, "outflow_rate_mean": 1263.1802300341742, "cost2_max": -31.490080085784463, "cost1_min": 138.58846281060562}, "info": {"num_steps_trained": 10347168, "sample_time_ms": 29724.31, "load_time_ms": 7.934, "grad_time_ms": 16292.618, "update_time_ms": 8.243, "default": {"policy_loss": -0.010845355689525604, "cur_lr": 0.0005000000237487257, "kl": 0.014785896055400372, "total_loss": 48.33279037475586, "cur_kl_coeff": 0.33750003576278687, "vf_loss": 48.33864212036133, "entropy": 1.596944808959961, "vf_explained_var": 0.8299343585968018}, "num_steps_sampled": 10347168}, "time_total_s": 7711.408453702927, "config": {"output": null, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "max_seq_len": 20, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "lstm_use_prev_action_reward": false, "framestack": true, "grayscale": false, "dim": 84, "free_log_std": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "monitor": false, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "sample_async": false, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bf3c748>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bf3cc50>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bf3c2b0>"}, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 695.15, "experiment_id": "49476b8bfa214ea3a002964354a4867e", "hostname": "flow-main", "episodes_this_iter": 28, "date": "2019-05-21_11-23-25"}
{"episode_reward_mean": 1275.258736794718, "timesteps_total": 10410703, "iterations_since_restore": 161, "timesteps_since_restore": 10410703, "pid": 59695, "time_this_iter_s": 45.01393151283264, "policy_reward_mean": {}, "timesteps_this_iter": 63535, "training_iteration": 161, "episode_reward_max": 1455.9332595772228, "node_ip": "10.138.0.2", "time_since_restore": 7756.422385215759, "episodes_total": 4590, "episode_reward_min": 396.4949148001869, "num_metric_batches_dropped": 0, "done": false, "timestamp": 1558437850, "custom_metrics": {"outflow_rate_min": 994.133032021045, "system_level_velocity_min": 9.807231011904621, "cost1_max": 445.88494121427084, "system_level_velocity_max": 17.38354561390117, "cost2_min": -107.99923049632488, "outflow_rate_max": 1571.8423848145303, "system_level_velocity_mean": 13.457968812433654, "cost1_mean": 348.99259804814625, "cost2_mean": -76.95505521579128, "outflow_rate_mean": 1252.4357208836764, "cost2_max": -31.490080085784463, "cost1_min": 138.58846281060562}, "info": {"num_steps_trained": 10410703, "sample_time_ms": 29685.003, "load_time_ms": 7.946, "grad_time_ms": 16292.53, "update_time_ms": 8.217, "default": {"policy_loss": -0.010690531693398952, "cur_lr": 0.0005000000237487257, "kl": 0.015739241614937782, "total_loss": 51.18117904663086, "cur_kl_coeff": 0.33750003576278687, "vf_loss": 51.18655776977539, "entropy": 1.641528606414795, "vf_explained_var": 0.817028284072876}, "num_steps_sampled": 10410703}, "time_total_s": 7756.422385215759, "config": {"output": null, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "max_seq_len": 20, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "lstm_use_prev_action_reward": false, "framestack": true, "grayscale": false, "dim": 84, "free_log_std": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "monitor": false, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "sample_async": false, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bf2feb8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bf2f6a0>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bf2fda0>"}, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 695.15, "experiment_id": "49476b8bfa214ea3a002964354a4867e", "hostname": "flow-main", "episodes_this_iter": 28, "date": "2019-05-21_11-24-10"}
{"episode_reward_mean": 1268.6880648689948, "timesteps_total": 10472829, "iterations_since_restore": 162, "timesteps_since_restore": 10472829, "pid": 59695, "time_this_iter_s": 45.89893913269043, "policy_reward_mean": {}, "timesteps_this_iter": 62126, "training_iteration": 162, "episode_reward_max": 1455.9332595772228, "node_ip": "10.138.0.2", "time_since_restore": 7802.32132434845, "episodes_total": 4619, "episode_reward_min": 396.47752643328784, "num_metric_batches_dropped": 0, "done": false, "timestamp": 1558437896, "custom_metrics": {"outflow_rate_min": 1051.1389937406743, "system_level_velocity_min": 9.980458983728875, "cost1_max": 445.88494121427084, "system_level_velocity_max": 17.76871788497436, "cost2_min": -107.99923049632488, "outflow_rate_max": 1571.8423848145303, "system_level_velocity_mean": 13.513299411540956, "cost1_mean": 347.48190148272727, "cost2_mean": -75.97298781902086, "outflow_rate_mean": 1248.7433439004133, "cost2_max": -31.490080085784463, "cost1_min": 138.58846281060562}, "info": {"num_steps_trained": 10472829, "sample_time_ms": 29663.586, "load_time_ms": 8.248, "grad_time_ms": 16318.821, "update_time_ms": 8.135, "default": {"policy_loss": -0.010729686357080936, "cur_lr": 0.0005000000237487257, "kl": 0.014493373222649097, "total_loss": 49.454341888427734, "cur_kl_coeff": 0.33750006556510925, "vf_loss": 49.460182189941406, "entropy": 1.6492677927017212, "vf_explained_var": 0.8288074731826782}, "num_steps_sampled": 10472829}, "time_total_s": 7802.32132434845, "config": {"output": null, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "max_seq_len": 20, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "lstm_use_prev_action_reward": false, "framestack": true, "grayscale": false, "dim": 84, "free_log_std": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "monitor": false, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "sample_async": false, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bf32898>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfbcda0>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bf32e80>"}, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 690.3, "experiment_id": "49476b8bfa214ea3a002964354a4867e", "hostname": "flow-main", "episodes_this_iter": 29, "date": "2019-05-21_11-24-56"}
{"episode_reward_mean": 1272.6622690309787, "timesteps_total": 10536821, "iterations_since_restore": 163, "timesteps_since_restore": 10536821, "pid": 59695, "time_this_iter_s": 45.26164174079895, "policy_reward_mean": {}, "timesteps_this_iter": 63992, "training_iteration": 163, "episode_reward_max": 1455.9332595772228, "node_ip": "10.138.0.2", "time_since_restore": 7847.582966089249, "episodes_total": 4646, "episode_reward_min": 396.47752643328784, "num_metric_batches_dropped": 0, "done": false, "timestamp": 1558437941, "custom_metrics": {"outflow_rate_min": 1051.1389937406743, "system_level_velocity_min": 9.980458983728875, "cost1_max": 444.11545384472174, "system_level_velocity_max": 17.76871788497436, "cost2_min": -107.99923049632488, "outflow_rate_max": 1571.8423848145303, "system_level_velocity_mean": 13.526618276272751, "cost1_mean": 347.8996914031627, "cost2_mean": -75.83190971376717, "outflow_rate_mean": 1252.7009095678097, "cost2_max": -31.490080085784463, "cost1_min": 138.58846281060562}, "info": {"num_steps_trained": 10536821, "sample_time_ms": 29650.807, "load_time_ms": 8.034, "grad_time_ms": 16219.065, "update_time_ms": 8.206, "default": {"policy_loss": -0.011718574911355972, "cur_lr": 0.0005000000237487257, "kl": 0.014602839015424252, "total_loss": 45.60908126831055, "cur_kl_coeff": 0.33750003576278687, "vf_loss": 45.61587142944336, "entropy": 1.6208723783493042, "vf_explained_var": 0.8397911190986633}, "num_steps_sampled": 10536821}, "time_total_s": 7847.582966089249, "config": {"output": null, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "max_seq_len": 20, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "lstm_use_prev_action_reward": false, "framestack": true, "grayscale": false, "dim": 84, "free_log_std": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "monitor": false, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "sample_async": false, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bf2f908>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bf2fdd8>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bf2f940>"}, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 690.3, "experiment_id": "49476b8bfa214ea3a002964354a4867e", "hostname": "flow-main", "episodes_this_iter": 27, "date": "2019-05-21_11-25-41"}
{"episode_reward_mean": 1288.0315028340788, "timesteps_total": 10602992, "iterations_since_restore": 164, "timesteps_since_restore": 10602992, "pid": 59695, "time_this_iter_s": 49.09177851676941, "policy_reward_mean": {}, "timesteps_this_iter": 66171, "training_iteration": 164, "episode_reward_max": 1449.3984473561356, "node_ip": "10.138.0.2", "time_since_restore": 7896.674744606018, "episodes_total": 4675, "episode_reward_min": 396.47752643328784, "num_metric_batches_dropped": 0, "done": false, "timestamp": 1558437990, "custom_metrics": {"outflow_rate_min": 1051.1389937406743, "system_level_velocity_min": 9.980458983728875, "cost1_max": 434.74645910680493, "system_level_velocity_max": 17.76871788497436, "cost2_min": -104.83068804884768, "outflow_rate_max": 1525.2102871929103, "system_level_velocity_mean": 13.675082397174016, "cost1_mean": 355.12032778832327, "cost2_mean": -75.69136308822088, "outflow_rate_mean": 1259.2396105610098, "cost2_max": -31.627168275995878, "cost1_min": 141.84037004508747}, "info": {"num_steps_trained": 10602992, "sample_time_ms": 29653.097, "load_time_ms": 8.01, "grad_time_ms": 16483.503, "update_time_ms": 8.216, "default": {"policy_loss": -0.011184805072844028, "cur_lr": 0.0005000000237487257, "kl": 0.0146228838711977, "total_loss": 48.869808197021484, "cur_kl_coeff": 0.33750003576278687, "vf_loss": 48.87605667114258, "entropy": 1.6512888669967651, "vf_explained_var": 0.8284727931022644}, "num_steps_sampled": 10602992}, "time_total_s": 7896.674744606018, "config": {"output": null, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "max_seq_len": 20, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "lstm_use_prev_action_reward": false, "framestack": true, "grayscale": false, "dim": 84, "free_log_std": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "monitor": false, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "sample_async": false, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bf32898>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bf32f28>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bf32a58>"}, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 695.15, "experiment_id": "49476b8bfa214ea3a002964354a4867e", "hostname": "flow-main", "episodes_this_iter": 29, "date": "2019-05-21_11-26-30"}
{"episode_reward_mean": 1284.6474584028701, "timesteps_total": 10666624, "iterations_since_restore": 165, "timesteps_since_restore": 10666624, "pid": 59695, "time_this_iter_s": 45.334739446640015, "policy_reward_mean": {}, "timesteps_this_iter": 63632, "training_iteration": 165, "episode_reward_max": 1445.7398120759306, "node_ip": "10.138.0.2", "time_since_restore": 7942.009484052658, "episodes_total": 4705, "episode_reward_min": 396.47752643328784, "num_metric_batches_dropped": 0, "done": false, "timestamp": 1558438035, "custom_metrics": {"outflow_rate_min": 1018.5415329768268, "system_level_velocity_min": 10.198216158015233, "cost1_max": 439.0974225655867, "system_level_velocity_max": 17.76871788497436, "cost2_min": -104.83068804884768, "outflow_rate_max": 1556.1146186801163, "system_level_velocity_mean": 13.727932302675379, "cost1_mean": 354.31498893083415, "cost2_mean": -75.04611690528678, "outflow_rate_mean": 1265.8403752720383, "cost2_max": -31.627168275995878, "cost1_min": 141.84037004508747}, "info": {"num_steps_trained": 10666624, "sample_time_ms": 29625.168, "load_time_ms": 7.969, "grad_time_ms": 16499.209, "update_time_ms": 8.179, "default": {"policy_loss": -0.009996979497373104, "cur_lr": 0.0005000000237487257, "kl": 0.014859422110021114, "total_loss": 51.29701614379883, "cur_kl_coeff": 0.33750003576278687, "vf_loss": 51.301998138427734, "entropy": 1.6369832754135132, "vf_explained_var": 0.8206347823143005}, "num_steps_sampled": 10666624}, "time_total_s": 7942.009484052658, "config": {"output": null, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "max_seq_len": 20, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "lstm_use_prev_action_reward": false, "framestack": true, "grayscale": false, "dim": 84, "free_log_std": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "monitor": false, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "sample_async": false, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81e502c18>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bf2f198>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bf3c550>"}, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 691.23, "experiment_id": "49476b8bfa214ea3a002964354a4867e", "hostname": "flow-main", "episodes_this_iter": 30, "date": "2019-05-21_11-27-15"}
{"episode_reward_mean": 1290.6190880104396, "timesteps_total": 10730703, "iterations_since_restore": 166, "timesteps_since_restore": 10730703, "pid": 59695, "time_this_iter_s": 46.38802409172058, "policy_reward_mean": {}, "timesteps_this_iter": 64079, "training_iteration": 166, "episode_reward_max": 1445.0646778590194, "node_ip": "10.138.0.2", "time_since_restore": 7988.397508144379, "episodes_total": 4734, "episode_reward_min": 592.3805599634863, "num_metric_batches_dropped": 0, "done": false, "timestamp": 1558438082, "custom_metrics": {"outflow_rate_min": 1018.5415329768268, "system_level_velocity_min": 10.198216158015233, "cost1_max": 439.0974225655867, "system_level_velocity_max": 16.978723338646585, "cost2_min": -104.83068804884768, "outflow_rate_max": 1556.1146186801163, "system_level_velocity_mean": 13.634637975396865, "cost1_mean": 355.0029673444115, "cost2_mean": -75.66305302702719, "outflow_rate_mean": 1265.733664589257, "cost2_max": -36.8561479025756, "cost1_min": 194.58364478660067}, "info": {"num_steps_trained": 10730703, "sample_time_ms": 29596.33, "load_time_ms": 7.977, "grad_time_ms": 16471.551, "update_time_ms": 8.168, "default": {"policy_loss": -0.01091198530048132, "cur_lr": 0.0005000000237487257, "kl": 0.01457262597978115, "total_loss": 45.09983825683594, "cur_kl_coeff": 0.33750006556510925, "vf_loss": 45.1058349609375, "entropy": 1.6404567956924438, "vf_explained_var": 0.835188090801239}, "num_steps_sampled": 10730703}, "time_total_s": 7988.397508144379, "config": {"output": null, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "max_seq_len": 20, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "lstm_use_prev_action_reward": false, "framestack": true, "grayscale": false, "dim": 84, "free_log_std": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "monitor": false, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "sample_async": false, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bf3c080>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bf3c0b8>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bf3cdd8>"}, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 696.08, "experiment_id": "49476b8bfa214ea3a002964354a4867e", "hostname": "flow-main", "episodes_this_iter": 29, "date": "2019-05-21_11-28-02"}
{"episode_reward_mean": 1283.8759727179222, "timesteps_total": 10793515, "iterations_since_restore": 167, "timesteps_since_restore": 10793515, "pid": 59695, "time_this_iter_s": 45.48970103263855, "policy_reward_mean": {}, "timesteps_this_iter": 62812, "training_iteration": 167, "episode_reward_max": 1445.0646778590194, "node_ip": "10.138.0.2", "time_since_restore": 8033.887209177017, "episodes_total": 4763, "episode_reward_min": 592.3805599634863, "num_metric_batches_dropped": 0, "done": false, "timestamp": 1558438127, "custom_metrics": {"outflow_rate_min": 1018.5415329768268, "system_level_velocity_min": 10.172899232806895, "cost1_max": 439.0974225655867, "system_level_velocity_max": 16.978723338646585, "cost2_min": -104.47049389739946, "outflow_rate_max": 1556.1146186801163, "system_level_velocity_mean": 13.477789768462731, "cost1_mean": 351.0146022076548, "cost2_mean": -74.92038717630068, "outflow_rate_mean": 1257.1568976125848, "cost2_max": -36.8561479025756, "cost1_min": 194.58364478660067}, "info": {"num_steps_trained": 10793515, "sample_time_ms": 29744.976, "load_time_ms": 7.853, "grad_time_ms": 16472.791, "update_time_ms": 8.28, "default": {"policy_loss": -0.011449630372226238, "cur_lr": 0.0005000000237487257, "kl": 0.015496639534831047, "total_loss": 48.819828033447266, "cur_kl_coeff": 0.33750006556510925, "vf_loss": 48.826045989990234, "entropy": 1.6741843223571777, "vf_explained_var": 0.8211663365364075}, "num_steps_sampled": 10793515}, "time_total_s": 8033.887209177017, "config": {"output": null, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "max_seq_len": 20, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "lstm_use_prev_action_reward": false, "framestack": true, "grayscale": false, "dim": 84, "free_log_std": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "monitor": false, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "sample_async": false, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bf2f0f0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bf2fb38>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bf32550>"}, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 696.08, "experiment_id": "49476b8bfa214ea3a002964354a4867e", "hostname": "flow-main", "episodes_this_iter": 29, "date": "2019-05-21_11-28-47"}
{"episode_reward_mean": 1288.447678749611, "timesteps_total": 10858170, "iterations_since_restore": 168, "timesteps_since_restore": 10858170, "pid": 59695, "time_this_iter_s": 46.82408428192139, "policy_reward_mean": {}, "timesteps_this_iter": 64655, "training_iteration": 168, "episode_reward_max": 1445.0646778590194, "node_ip": "10.138.0.2", "time_since_restore": 8080.711293458939, "episodes_total": 4792, "episode_reward_min": 1149.9858327240695, "num_metric_batches_dropped": 0, "done": false, "timestamp": 1558438174, "custom_metrics": {"outflow_rate_min": 1094.3080021724602, "system_level_velocity_min": 10.172899232806895, "cost1_max": 439.0974225655867, "system_level_velocity_max": 16.716642333508936, "cost2_min": -104.47049389739946, "outflow_rate_max": 1556.1146186801163, "system_level_velocity_mean": 13.475814538264029, "cost1_mean": 353.3532907190288, "cost2_mean": -73.44768019485932, "outflow_rate_mean": 1258.7662194133254, "cost2_max": -46.21709211651462, "cost1_min": 265.5335125396995}, "info": {"num_steps_trained": 10858170, "sample_time_ms": 29692.525, "load_time_ms": 8.06, "grad_time_ms": 16406.757, "update_time_ms": 7.986, "default": {"policy_loss": -0.011606255546212196, "cur_lr": 0.0005000000237487257, "kl": 0.01450824923813343, "total_loss": 46.428611755371094, "cur_kl_coeff": 0.33750006556510925, "vf_loss": 46.435325622558594, "entropy": 1.6702057123184204, "vf_explained_var": 0.8209834694862366}, "num_steps_sampled": 10858170}, "time_total_s": 8080.711293458939, "config": {"output": null, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "max_seq_len": 20, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "lstm_use_prev_action_reward": false, "framestack": true, "grayscale": false, "dim": 84, "free_log_std": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "monitor": false, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "sample_async": false, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bf2ffd0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bf2ff28>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bf2ff98>"}, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 700.0, "experiment_id": "49476b8bfa214ea3a002964354a4867e", "hostname": "flow-main", "episodes_this_iter": 29, "date": "2019-05-21_11-29-34"}
{"episode_reward_mean": 1285.8692311400569, "timesteps_total": 10922480, "iterations_since_restore": 169, "timesteps_since_restore": 10922480, "pid": 59695, "time_this_iter_s": 46.41186451911926, "policy_reward_mean": {}, "timesteps_this_iter": 64310, "training_iteration": 169, "episode_reward_max": 1441.6435593126803, "node_ip": "10.138.0.2", "time_since_restore": 8127.123157978058, "episodes_total": 4821, "episode_reward_min": 1149.9858327240695, "num_metric_batches_dropped": 0, "done": false, "timestamp": 1558438221, "custom_metrics": {"outflow_rate_min": 1094.3080021724602, "system_level_velocity_min": 10.172899232806895, "cost1_max": 430.41973917903596, "system_level_velocity_max": 16.436625210843797, "cost2_min": -111.61303305603562, "outflow_rate_max": 1483.775026009209, "system_level_velocity_mean": 13.408707357238068, "cost1_mean": 351.56857504117966, "cost2_mean": -72.82774998081454, "outflow_rate_mean": 1254.5742404623568, "cost2_max": -44.56643933164443, "cost1_min": 265.5335125396995}, "info": {"num_steps_trained": 10922480, "sample_time_ms": 29573.812, "load_time_ms": 8.2, "grad_time_ms": 16496.838, "update_time_ms": 7.654, "default": {"policy_loss": -0.010971065610647202, "cur_lr": 0.0005000000237487257, "kl": 0.014231439679861069, "total_loss": 48.60028076171875, "cur_kl_coeff": 0.33750003576278687, "vf_loss": 48.6064453125, "entropy": 1.6606800556182861, "vf_explained_var": 0.8077272176742554}, "num_steps_sampled": 10922480}, "time_total_s": 8127.123157978058, "config": {"output": null, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "max_seq_len": 20, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "lstm_use_prev_action_reward": false, "framestack": true, "grayscale": false, "dim": 84, "free_log_std": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "monitor": false, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "sample_async": false, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bf2f898>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bf2fda0>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bf2f080>"}, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 700.0, "experiment_id": "49476b8bfa214ea3a002964354a4867e", "hostname": "flow-main", "episodes_this_iter": 29, "date": "2019-05-21_11-30-21"}
{"episode_reward_mean": 1280.3216890632898, "timesteps_total": 10987020, "iterations_since_restore": 170, "timesteps_since_restore": 10987020, "pid": 59695, "time_this_iter_s": 45.6877806186676, "policy_reward_mean": {}, "timesteps_this_iter": 64540, "training_iteration": 170, "episode_reward_max": 1441.6435593126803, "node_ip": "10.138.0.2", "time_since_restore": 8172.8109385967255, "episodes_total": 4849, "episode_reward_min": 1106.1231797103292, "num_metric_batches_dropped": 0, "done": false, "timestamp": 1558438266, "custom_metrics": {"outflow_rate_min": 1098.1509270115973, "system_level_velocity_min": 9.860693900527076, "cost1_max": 428.2079937623639, "system_level_velocity_max": 16.281993777816513, "cost2_min": -111.61303305603562, "outflow_rate_max": 1483.775026009209, "system_level_velocity_mean": 13.265346828571142, "cost1_mean": 347.9596369784763, "cost2_mean": -73.99370166356707, "outflow_rate_mean": 1244.464050552598, "cost2_max": -44.56643933164443, "cost1_min": 256.18096791173616}, "info": {"num_steps_trained": 10987020, "sample_time_ms": 29549.218, "load_time_ms": 8.242, "grad_time_ms": 16463.188, "update_time_ms": 7.919, "default": {"policy_loss": -0.010788130573928356, "cur_lr": 0.0005000000237487257, "kl": 0.013923745602369308, "total_loss": 46.23152160644531, "cur_kl_coeff": 0.33750006556510925, "vf_loss": 46.23760986328125, "entropy": 1.6664519309997559, "vf_explained_var": 0.8204825520515442}, "num_steps_sampled": 10987020}, "time_total_s": 8172.8109385967255, "config": {"output": null, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "max_seq_len": 20, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "lstm_use_prev_action_reward": false, "framestack": true, "grayscale": false, "dim": 84, "free_log_std": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "monitor": false, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "sample_async": false, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bf3c748>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bf3cda0>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bf3c470>"}, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 700.0, "experiment_id": "49476b8bfa214ea3a002964354a4867e", "hostname": "flow-main", "episodes_this_iter": 28, "date": "2019-05-21_11-31-06"}
{"episode_reward_mean": 1283.744867612428, "timesteps_total": 11050243, "iterations_since_restore": 171, "timesteps_since_restore": 11050243, "pid": 59695, "time_this_iter_s": 47.02530550956726, "policy_reward_mean": {}, "timesteps_this_iter": 63223, "training_iteration": 171, "episode_reward_max": 1441.6435593126803, "node_ip": "10.138.0.2", "time_since_restore": 8219.836244106293, "episodes_total": 4879, "episode_reward_min": 391.98118859452194, "num_metric_batches_dropped": 0, "done": false, "timestamp": 1558438314, "custom_metrics": {"outflow_rate_min": 1038.5423145867699, "system_level_velocity_min": 9.860693900527076, "cost1_max": 431.9197829504284, "system_level_velocity_max": 17.201439811698002, "cost2_min": -111.61303305603562, "outflow_rate_max": 1498.4063917165947, "system_level_velocity_mean": 13.558694640839324, "cost1_mean": 352.43065519217447, "cost2_mean": -72.55713539939141, "outflow_rate_mean": 1259.4534548895056, "cost2_max": -27.602620792740503, "cost1_min": 138.40125754030896}, "info": {"num_steps_trained": 11050243, "sample_time_ms": 29652.151, "load_time_ms": 8.38, "grad_time_ms": 16558.58, "update_time_ms": 7.932, "default": {"policy_loss": -0.011731665581464767, "cur_lr": 0.0005000000237487257, "kl": 0.015689454972743988, "total_loss": 52.330989837646484, "cur_kl_coeff": 0.33750006556510925, "vf_loss": 52.33742141723633, "entropy": 1.6683942079544067, "vf_explained_var": 0.7988119721412659}, "num_steps_sampled": 11050243}, "time_total_s": 8219.836244106293, "config": {"output": null, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "max_seq_len": 20, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "lstm_use_prev_action_reward": false, "framestack": true, "grayscale": false, "dim": 84, "free_log_std": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "monitor": false, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "sample_async": false, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bf2f0b8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bf2f940>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bf2f6d8>"}, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 695.17, "experiment_id": "49476b8bfa214ea3a002964354a4867e", "hostname": "flow-main", "episodes_this_iter": 30, "date": "2019-05-21_11-31-54"}
{"episode_reward_mean": 1281.7720009255397, "timesteps_total": 11113456, "iterations_since_restore": 172, "timesteps_since_restore": 11113456, "pid": 59695, "time_this_iter_s": 45.64647579193115, "policy_reward_mean": {}, "timesteps_this_iter": 63213, "training_iteration": 172, "episode_reward_max": 1431.544483900721, "node_ip": "10.138.0.2", "time_since_restore": 8265.482719898224, "episodes_total": 4908, "episode_reward_min": 391.98118859452194, "num_metric_batches_dropped": 0, "done": false, "timestamp": 1558438359, "custom_metrics": {"outflow_rate_min": 1038.5423145867699, "system_level_velocity_min": 9.860693900527076, "cost1_max": 431.9197829504284, "system_level_velocity_max": 17.201439811698002, "cost2_min": -103.83505171149788, "outflow_rate_max": 1498.4063917165947, "system_level_velocity_mean": 13.591151238762928, "cost1_mean": 353.23092609335015, "cost2_mean": -71.69498010271563, "outflow_rate_mean": 1260.1905082159565, "cost2_max": -27.602620792740503, "cost1_min": 138.40125754030896}, "info": {"num_steps_trained": 11113456, "sample_time_ms": 29667.345, "load_time_ms": 8.09, "grad_time_ms": 16516.843, "update_time_ms": 8.124, "default": {"policy_loss": -0.01176194567233324, "cur_lr": 0.0005000000237487257, "kl": 0.01663503237068653, "total_loss": 44.4465217590332, "cur_kl_coeff": 0.33750006556510925, "vf_loss": 44.452667236328125, "entropy": 1.6883771419525146, "vf_explained_var": 0.8184425234794617}, "num_steps_sampled": 11113456}, "time_total_s": 8265.482719898224, "config": {"output": null, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "max_seq_len": 20, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "lstm_use_prev_action_reward": false, "framestack": true, "grayscale": false, "dim": 84, "free_log_std": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "monitor": false, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "sample_async": false, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bf3c748>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bf3c400>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bf32518>"}, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 695.17, "experiment_id": "49476b8bfa214ea3a002964354a4867e", "hostname": "flow-main", "episodes_this_iter": 29, "date": "2019-05-21_11-32-39"}
{"episode_reward_mean": 1289.0047362712871, "timesteps_total": 11178026, "iterations_since_restore": 173, "timesteps_since_restore": 11178026, "pid": 59695, "time_this_iter_s": 47.136637449264526, "policy_reward_mean": {}, "timesteps_this_iter": 64570, "training_iteration": 173, "episode_reward_max": 1431.544483900721, "node_ip": "10.138.0.2", "time_since_restore": 8312.619357347488, "episodes_total": 4936, "episode_reward_min": 391.98118859452194, "num_metric_batches_dropped": 0, "done": false, "timestamp": 1558438406, "custom_metrics": {"outflow_rate_min": 1038.5423145867699, "system_level_velocity_min": 10.247661310214495, "cost1_max": 432.515194279663, "system_level_velocity_max": 17.201439811698002, "cost2_min": -109.16046225201336, "outflow_rate_max": 1498.4063917165947, "system_level_velocity_mean": 13.763765248939746, "cost1_mean": 357.67359758120205, "cost2_mean": -72.76127480039614, "outflow_rate_mean": 1272.4837563819208, "cost2_max": -27.602620792740503, "cost1_min": 138.40125754030896}, "info": {"num_steps_trained": 11178026, "sample_time_ms": 29730.419, "load_time_ms": 8.431, "grad_time_ms": 16642.75, "update_time_ms": 8.078, "default": {"policy_loss": -0.010860208421945572, "cur_lr": 0.0005000000237487257, "kl": 0.015216336585581303, "total_loss": 47.994327545166016, "cur_kl_coeff": 0.33750006556510925, "vf_loss": 48.00004959106445, "entropy": 1.6669318675994873, "vf_explained_var": 0.8085623979568481}, "num_steps_sampled": 11178026}, "time_total_s": 8312.619357347488, "config": {"output": null, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "max_seq_len": 20, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "lstm_use_prev_action_reward": false, "framestack": true, "grayscale": false, "dim": 84, "free_log_std": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "monitor": false, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "sample_async": false, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bf32828>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bf32a58>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bf32f28>"}, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 695.17, "experiment_id": "49476b8bfa214ea3a002964354a4867e", "hostname": "flow-main", "episodes_this_iter": 28, "date": "2019-05-21_11-33-26"}
{"episode_reward_mean": 1286.2400894972207, "timesteps_total": 11241310, "iterations_since_restore": 174, "timesteps_since_restore": 11241310, "pid": 59695, "time_this_iter_s": 44.20089364051819, "policy_reward_mean": {}, "timesteps_this_iter": 63284, "training_iteration": 174, "episode_reward_max": 1438.105051254856, "node_ip": "10.138.0.2", "time_since_restore": 8356.820250988007, "episodes_total": 4964, "episode_reward_min": 391.98118859452194, "num_metric_batches_dropped": 0, "done": false, "timestamp": 1558438451, "custom_metrics": {"outflow_rate_min": 1038.5423145867699, "system_level_velocity_min": 9.992949393122336, "cost1_max": 433.25127994909724, "system_level_velocity_max": 17.201439811698002, "cost2_min": -114.47159742049608, "outflow_rate_max": 1498.4063917165947, "system_level_velocity_mean": 13.531251863747896, "cost1_mean": 351.60053786802894, "cost2_mean": -76.4041418494314, "outflow_rate_mean": 1264.2982139259543, "cost2_max": -27.602620792740503, "cost1_min": 138.40125754030896}, "info": {"num_steps_trained": 11241310, "sample_time_ms": 29616.574, "load_time_ms": 8.176, "grad_time_ms": 16268.917, "update_time_ms": 8.024, "default": {"policy_loss": -0.011503253132104874, "cur_lr": 0.0005000000237487257, "kl": 0.014640659093856812, "total_loss": 47.65616226196289, "cur_kl_coeff": 0.33750003576278687, "vf_loss": 47.66272735595703, "entropy": 1.6728895902633667, "vf_explained_var": 0.8033149242401123}, "num_steps_sampled": 11241310}, "time_total_s": 8356.820250988007, "config": {"output": null, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "max_seq_len": 20, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "lstm_use_prev_action_reward": false, "framestack": true, "grayscale": false, "dim": 84, "free_log_std": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "monitor": false, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "sample_async": false, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bf3c8d0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bf3c518>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bf3c9b0>"}, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 695.17, "experiment_id": "49476b8bfa214ea3a002964354a4867e", "hostname": "flow-main", "episodes_this_iter": 28, "date": "2019-05-21_11-34-11"}
{"episode_reward_mean": 1293.3759131483805, "timesteps_total": 11307018, "iterations_since_restore": 175, "timesteps_since_restore": 11307018, "pid": 59695, "time_this_iter_s": 50.26875448226929, "policy_reward_mean": {}, "timesteps_this_iter": 65708, "training_iteration": 175, "episode_reward_max": 1462.3031236132567, "node_ip": "10.138.0.2", "time_since_restore": 8407.089005470276, "episodes_total": 4993, "episode_reward_min": 1107.9501427693533, "num_metric_batches_dropped": 0, "done": false, "timestamp": 1558438501, "custom_metrics": {"outflow_rate_min": 1098.6252106430152, "system_level_velocity_min": 9.992949393122336, "cost1_max": 440.4052299841168, "system_level_velocity_max": 16.807023533729325, "cost2_min": -114.47159742049608, "outflow_rate_max": 1544.6121530898881, "system_level_velocity_mean": 13.348840231672652, "cost1_mean": 350.3225884070889, "cost2_mean": -79.4569312511348, "outflow_rate_mean": 1263.4471039817954, "cost2_max": -44.73012053300985, "cost1_min": 259.7876079280535}, "info": {"num_steps_trained": 11307018, "sample_time_ms": 29975.307, "load_time_ms": 8.196, "grad_time_ms": 16402.881, "update_time_ms": 8.041, "default": {"policy_loss": -0.012191182933747768, "cur_lr": 0.0005000000237487257, "kl": 0.015273049473762512, "total_loss": 47.06321716308594, "cur_kl_coeff": 0.33750009536743164, "vf_loss": 47.070255279541016, "entropy": 1.7153065204620361, "vf_explained_var": 0.7858837246894836}, "num_steps_sampled": 11307018}, "time_total_s": 8407.089005470276, "config": {"output": null, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "max_seq_len": 20, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "lstm_use_prev_action_reward": false, "framestack": true, "grayscale": false, "dim": 84, "free_log_std": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "monitor": false, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "sample_async": false, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bf323c8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bf32940>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bf32a58>"}, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 700.0, "experiment_id": "49476b8bfa214ea3a002964354a4867e", "hostname": "flow-main", "episodes_this_iter": 29, "date": "2019-05-21_11-35-01"}
{"episode_reward_mean": 1285.1898077824696, "timesteps_total": 11372245, "iterations_since_restore": 176, "timesteps_since_restore": 11372245, "pid": 59695, "time_this_iter_s": 47.63026547431946, "policy_reward_mean": {}, "timesteps_this_iter": 65227, "training_iteration": 176, "episode_reward_max": 1462.3031236132567, "node_ip": "10.138.0.2", "time_since_restore": 8454.719270944595, "episodes_total": 5024, "episode_reward_min": 1107.9501427693533, "num_metric_batches_dropped": 0, "done": false, "timestamp": 1558438549, "custom_metrics": {"outflow_rate_min": 1092.892926829268, "system_level_velocity_min": 9.992949393122336, "cost1_max": 440.4052299841168, "system_level_velocity_max": 16.807023533729325, "cost2_min": -114.47159742049608, "outflow_rate_max": 1544.6121530898881, "system_level_velocity_mean": 13.06002075569193, "cost1_mean": 342.74173792481196, "cost2_mean": -81.77882200886137, "outflow_rate_mean": 1249.0727903386546, "cost2_max": -47.42677766593775, "cost1_min": 259.7876079280535}, "info": {"num_steps_trained": 11372245, "sample_time_ms": 30126.788, "load_time_ms": 8.446, "grad_time_ms": 16374.857, "update_time_ms": 7.973, "default": {"policy_loss": -0.011347220279276371, "cur_lr": 0.0005000000237487257, "kl": 0.014812550507485867, "total_loss": 49.76229476928711, "cur_kl_coeff": 0.33750003576278687, "vf_loss": 49.76864242553711, "entropy": 1.7073960304260254, "vf_explained_var": 0.7891974449157715}, "num_steps_sampled": 11372245}, "time_total_s": 8454.719270944595, "config": {"output": null, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "max_seq_len": 20, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "lstm_use_prev_action_reward": false, "framestack": true, "grayscale": false, "dim": 84, "free_log_std": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "monitor": false, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "sample_async": false, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfd4278>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfd4160>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfd4ac8>"}, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 700.0, "experiment_id": "49476b8bfa214ea3a002964354a4867e", "hostname": "flow-main", "episodes_this_iter": 31, "date": "2019-05-21_11-35-49"}
{"episode_reward_mean": 1286.4661134220205, "timesteps_total": 11435947, "iterations_since_restore": 177, "timesteps_since_restore": 11435947, "pid": 59695, "time_this_iter_s": 46.41338229179382, "policy_reward_mean": {}, "timesteps_this_iter": 63702, "training_iteration": 177, "episode_reward_max": 1462.3031236132567, "node_ip": "10.138.0.2", "time_since_restore": 8501.13265323639, "episodes_total": 5051, "episode_reward_min": 1107.9501427693533, "num_metric_batches_dropped": 0, "done": false, "timestamp": 1558438595, "custom_metrics": {"outflow_rate_min": 1092.892926829268, "system_level_velocity_min": 9.992949393122336, "cost1_max": 440.4052299841168, "system_level_velocity_max": 16.807023533729325, "cost2_min": -111.85747456670472, "outflow_rate_max": 1544.6121530898881, "system_level_velocity_mean": 13.20687358824108, "cost1_mean": 346.2890951374806, "cost2_mean": -80.08636473719883, "outflow_rate_mean": 1253.5607673231132, "cost2_max": -42.441732792417405, "cost1_min": 259.7876079280535}, "info": {"num_steps_trained": 11435947, "sample_time_ms": 30133.83, "load_time_ms": 8.773, "grad_time_ms": 16460.294, "update_time_ms": 7.835, "default": {"policy_loss": -0.01095710601657629, "cur_lr": 0.0005000000237487257, "kl": 0.015363349579274654, "total_loss": 47.47541427612305, "cur_kl_coeff": 0.33750003576278687, "vf_loss": 47.48118209838867, "entropy": 1.6736502647399902, "vf_explained_var": 0.8049249053001404}, "num_steps_sampled": 11435947}, "time_total_s": 8501.13265323639, "config": {"output": null, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "max_seq_len": 20, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "lstm_use_prev_action_reward": false, "framestack": true, "grayscale": false, "dim": 84, "free_log_std": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "monitor": false, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "sample_async": false, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfdef98>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfde7f0>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfde978>"}, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 700.0, "experiment_id": "49476b8bfa214ea3a002964354a4867e", "hostname": "flow-main", "episodes_this_iter": 27, "date": "2019-05-21_11-36-35"}
{"episode_reward_mean": 1296.7412939940507, "timesteps_total": 11500289, "iterations_since_restore": 178, "timesteps_since_restore": 11500289, "pid": 59695, "time_this_iter_s": 46.874324321746826, "policy_reward_mean": {}, "timesteps_this_iter": 64342, "training_iteration": 178, "episode_reward_max": 1462.3031236132567, "node_ip": "10.138.0.2", "time_since_restore": 8548.006977558136, "episodes_total": 5081, "episode_reward_min": 1125.0562791228413, "num_metric_batches_dropped": 0, "done": false, "timestamp": 1558438642, "custom_metrics": {"outflow_rate_min": 1092.892926829268, "system_level_velocity_min": 10.214649067766619, "cost1_max": 434.55075041180453, "system_level_velocity_max": 16.51798836582968, "cost2_min": -111.85747456670472, "outflow_rate_max": 1542.902072136677, "system_level_velocity_mean": 13.398982395064216, "cost1_mean": 351.0717981061872, "cost2_mean": -79.28759555968078, "outflow_rate_mean": 1262.0427763025803, "cost2_max": -42.441732792417405, "cost1_min": 265.82427810500155}, "info": {"num_steps_trained": 11500289, "sample_time_ms": 30149.981, "load_time_ms": 9.208, "grad_time_ms": 16447.386, "update_time_ms": 7.744, "default": {"policy_loss": -0.011970297433435917, "cur_lr": 0.0005000000237487257, "kl": 0.014455793425440788, "total_loss": 50.039588928222656, "cur_kl_coeff": 0.33750003576278687, "vf_loss": 50.04667282104492, "entropy": 1.687557339668274, "vf_explained_var": 0.8057482242584229}, "num_steps_sampled": 11500289}, "time_total_s": 8548.006977558136, "config": {"output": null, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "max_seq_len": 20, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "lstm_use_prev_action_reward": false, "framestack": true, "grayscale": false, "dim": 84, "free_log_std": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "monitor": false, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "sample_async": false, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bf3aef0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bf3aa90>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bf3ac88>"}, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 700.0, "experiment_id": "49476b8bfa214ea3a002964354a4867e", "hostname": "flow-main", "episodes_this_iter": 30, "date": "2019-05-21_11-37-22"}
{"episode_reward_mean": 1297.399783601797, "timesteps_total": 11565612, "iterations_since_restore": 179, "timesteps_since_restore": 11565612, "pid": 59695, "time_this_iter_s": 46.69153928756714, "policy_reward_mean": {}, "timesteps_this_iter": 65323, "training_iteration": 179, "episode_reward_max": 1441.7917920262985, "node_ip": "10.138.0.2", "time_since_restore": 8594.698516845703, "episodes_total": 5110, "episode_reward_min": 379.1618942067741, "num_metric_batches_dropped": 0, "done": false, "timestamp": 1558438689, "custom_metrics": {"outflow_rate_min": 1021.7525045619691, "system_level_velocity_min": 10.486173195017967, "cost1_max": 431.07141333942167, "system_level_velocity_max": 17.63998102377573, "cost2_min": -111.85747456670472, "outflow_rate_max": 1541.5038755010005, "system_level_velocity_mean": 13.716707583495355, "cost1_mean": 356.2730888940078, "cost2_mean": -77.24378083717953, "outflow_rate_mean": 1268.537880932012, "cost2_max": -29.975446384191343, "cost1_min": 135.20764657125272}, "info": {"num_steps_trained": 11565612, "sample_time_ms": 30168.872, "load_time_ms": 9.193, "grad_time_ms": 16455.726, "update_time_ms": 8.121, "default": {"policy_loss": -0.010917389765381813, "cur_lr": 0.0005000000237487257, "kl": 0.014781354926526546, "total_loss": 46.33895492553711, "cur_kl_coeff": 0.33750006556510925, "vf_loss": 46.34488296508789, "entropy": 1.7051894664764404, "vf_explained_var": 0.8254491686820984}, "num_steps_sampled": 11565612}, "time_total_s": 8594.698516845703, "config": {"output": null, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "max_seq_len": 20, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "lstm_use_prev_action_reward": false, "framestack": true, "grayscale": false, "dim": 84, "free_log_std": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "monitor": false, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "sample_async": false, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfdb390>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bf2f780>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bf3afd0>"}, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 695.07, "experiment_id": "49476b8bfa214ea3a002964354a4867e", "hostname": "flow-main", "episodes_this_iter": 29, "date": "2019-05-21_11-38-09"}
{"episode_reward_mean": 1290.574750130923, "timesteps_total": 11630104, "iterations_since_restore": 180, "timesteps_since_restore": 11630104, "pid": 59695, "time_this_iter_s": 47.05124568939209, "policy_reward_mean": {}, "timesteps_this_iter": 64492, "training_iteration": 180, "episode_reward_max": 1441.7917920262985, "node_ip": "10.138.0.2", "time_since_restore": 8641.749762535095, "episodes_total": 5140, "episode_reward_min": 379.1618942067741, "num_metric_batches_dropped": 0, "done": false, "timestamp": 1558438736, "custom_metrics": {"outflow_rate_min": 1021.7525045619691, "system_level_velocity_min": 10.274383956691123, "cost1_max": 431.07141333942167, "system_level_velocity_max": 17.63998102377573, "cost2_min": -103.87437429871517, "outflow_rate_max": 1541.5038755010005, "system_level_velocity_mean": 13.530261478792436, "cost1_mean": 351.4267046293247, "cost2_mean": -77.88967485809698, "outflow_rate_mean": 1260.1587151850154, "cost2_max": -29.975446384191343, "cost1_min": 135.20764657125272}, "info": {"num_steps_trained": 11630104, "sample_time_ms": 30236.118, "load_time_ms": 9.275, "grad_time_ms": 16524.612, "update_time_ms": 7.813, "default": {"policy_loss": -0.012219004333019257, "cur_lr": 0.0005000000237487257, "kl": 0.014918231405317783, "total_loss": 41.870201110839844, "cur_kl_coeff": 0.33750003576278687, "vf_loss": 41.877384185791016, "entropy": 1.708950161933899, "vf_explained_var": 0.851694643497467}, "num_steps_sampled": 11630104}, "time_total_s": 8641.749762535095, "config": {"output": null, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "max_seq_len": 20, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "lstm_use_prev_action_reward": false, "framestack": true, "grayscale": false, "dim": 84, "free_log_std": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "monitor": false, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "sample_async": false, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bf32240>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bf32588>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bf32390>"}, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 695.07, "experiment_id": "49476b8bfa214ea3a002964354a4867e", "hostname": "flow-main", "episodes_this_iter": 30, "date": "2019-05-21_11-38-56"}
{"episode_reward_mean": 1279.0509078714053, "timesteps_total": 11694650, "iterations_since_restore": 181, "timesteps_since_restore": 11694650, "pid": 59695, "time_this_iter_s": 46.43781805038452, "policy_reward_mean": {}, "timesteps_this_iter": 64546, "training_iteration": 181, "episode_reward_max": 1437.3640308751728, "node_ip": "10.138.0.2", "time_since_restore": 8688.18758058548, "episodes_total": 5169, "episode_reward_min": 58.66163247185804, "num_metric_batches_dropped": 0, "done": false, "timestamp": 1558438782, "custom_metrics": {"outflow_rate_min": 464.3417965711157, "system_level_velocity_min": 10.274383956691123, "cost1_max": 431.07141333942167, "system_level_velocity_max": 18.12514017249591, "cost2_min": -103.87437429871517, "outflow_rate_max": 1474.1310319148938, "system_level_velocity_mean": 13.581768466052315, "cost1_mean": 348.3433896656677, "cost2_mean": -76.84253867070191, "outflow_rate_mean": 1254.8375386452572, "cost2_max": -16.55160285380239, "cost1_min": 22.693543307440827}, "info": {"num_steps_trained": 11694650, "sample_time_ms": 30198.576, "load_time_ms": 9.076, "grad_time_ms": 16506.685, "update_time_ms": 7.849, "default": {"policy_loss": -0.011952130123972893, "cur_lr": 0.0005000000237487257, "kl": 0.015218385495245457, "total_loss": 41.464134216308594, "cur_kl_coeff": 0.33750006556510925, "vf_loss": 41.470951080322266, "entropy": 1.7117692232131958, "vf_explained_var": 0.8403981924057007}, "num_steps_sampled": 11694650}, "time_total_s": 8688.18758058548, "config": {"output": null, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "max_seq_len": 20, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "lstm_use_prev_action_reward": false, "framestack": true, "grayscale": false, "dim": 84, "free_log_std": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "monitor": false, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "sample_async": false, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfde080>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfdeba8>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfde9b0>"}, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 688.42, "experiment_id": "49476b8bfa214ea3a002964354a4867e", "hostname": "flow-main", "episodes_this_iter": 29, "date": "2019-05-21_11-39-42"}
{"episode_reward_mean": 1282.0496424588405, "timesteps_total": 11757384, "iterations_since_restore": 182, "timesteps_since_restore": 11757384, "pid": 59695, "time_this_iter_s": 46.02259421348572, "policy_reward_mean": {}, "timesteps_this_iter": 62734, "training_iteration": 182, "episode_reward_max": 1451.5931654681438, "node_ip": "10.138.0.2", "time_since_restore": 8734.210174798965, "episodes_total": 5196, "episode_reward_min": 58.66163247185804, "num_metric_batches_dropped": 0, "done": false, "timestamp": 1558438828, "custom_metrics": {"outflow_rate_min": 464.3417965711157, "system_level_velocity_min": 10.274383956691123, "cost1_max": 438.9402960751256, "system_level_velocity_max": 18.12514017249591, "cost2_min": -103.4556612027566, "outflow_rate_max": 1552.4115824175824, "system_level_velocity_mean": 13.417726111962848, "cost1_mean": 347.1754583163691, "cost2_mean": -77.88117313007804, "outflow_rate_mean": 1255.9554259372526, "cost2_max": -16.55160285380239, "cost1_min": 22.693543307440827}, "info": {"num_steps_trained": 11757384, "sample_time_ms": 30216.633, "load_time_ms": 9.269, "grad_time_ms": 16526.223, "update_time_ms": 7.623, "default": {"policy_loss": -0.011379535309970379, "cur_lr": 0.0005000000237487257, "kl": 0.0145442308858037, "total_loss": 44.52165222167969, "cur_kl_coeff": 0.33750006556510925, "vf_loss": 44.52812576293945, "entropy": 1.7229186296463013, "vf_explained_var": 0.8399510979652405}, "num_steps_sampled": 11757384}, "time_total_s": 8734.210174798965, "config": {"output": null, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "max_seq_len": 20, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "lstm_use_prev_action_reward": false, "framestack": true, "grayscale": false, "dim": 84, "free_log_std": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "monitor": false, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "sample_async": false, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bf32588>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bf320f0>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bf2f240>"}, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 693.35, "experiment_id": "49476b8bfa214ea3a002964354a4867e", "hostname": "flow-main", "episodes_this_iter": 27, "date": "2019-05-21_11-40-28"}
{"episode_reward_mean": 1282.566687123256, "timesteps_total": 11819673, "iterations_since_restore": 183, "timesteps_since_restore": 11819673, "pid": 59695, "time_this_iter_s": 45.71111989021301, "policy_reward_mean": {}, "timesteps_this_iter": 62289, "training_iteration": 183, "episode_reward_max": 1451.5931654681438, "node_ip": "10.138.0.2", "time_since_restore": 8779.921294689178, "episodes_total": 5223, "episode_reward_min": 58.66163247185804, "num_metric_batches_dropped": 0, "done": false, "timestamp": 1558438874, "custom_metrics": {"outflow_rate_min": 464.3417965711157, "system_level_velocity_min": 9.632034910861627, "cost1_max": 438.9402960751256, "system_level_velocity_max": 18.12514017249591, "cost2_min": -106.44932931002526, "outflow_rate_max": 1552.4115824175824, "system_level_velocity_mean": 13.451545558263081, "cost1_mean": 347.86548310817255, "cost2_mean": -77.10142045237993, "outflow_rate_mean": 1261.8311393344736, "cost2_max": -16.55160285380239, "cost1_min": 22.693543307440827}, "info": {"num_steps_trained": 11819673, "sample_time_ms": 30206.672, "load_time_ms": 9.117, "grad_time_ms": 16393.587, "update_time_ms": 7.699, "default": {"policy_loss": -0.010684274137020111, "cur_lr": 0.0005000000237487257, "kl": 0.017182903364300728, "total_loss": 42.59899139404297, "cur_kl_coeff": 0.33750009536743164, "vf_loss": 42.603878021240234, "entropy": 1.7132999897003174, "vf_explained_var": 0.831630527973175}, "num_steps_sampled": 11819673}, "time_total_s": 8779.921294689178, "config": {"output": null, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "max_seq_len": 20, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "lstm_use_prev_action_reward": false, "framestack": true, "grayscale": false, "dim": 84, "free_log_std": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "monitor": false, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "sample_async": false, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bf3a908>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bf3a5c0>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bf3a208>"}, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 693.35, "experiment_id": "49476b8bfa214ea3a002964354a4867e", "hostname": "flow-main", "episodes_this_iter": 27, "date": "2019-05-21_11-41-14"}
{"episode_reward_mean": 1281.8321831308617, "timesteps_total": 11882448, "iterations_since_restore": 184, "timesteps_since_restore": 11882448, "pid": 59695, "time_this_iter_s": 45.74009680747986, "policy_reward_mean": {}, "timesteps_this_iter": 62775, "training_iteration": 184, "episode_reward_max": 1451.5931654681438, "node_ip": "10.138.0.2", "time_since_restore": 8825.661391496658, "episodes_total": 5251, "episode_reward_min": 58.66163247185804, "num_metric_batches_dropped": 0, "done": false, "timestamp": 1558438920, "custom_metrics": {"outflow_rate_min": 464.3417965711157, "system_level_velocity_min": 9.632034910861627, "cost1_max": 438.9402960751256, "system_level_velocity_max": 18.12514017249591, "cost2_min": -118.77920470610064, "outflow_rate_max": 1552.4115824175824, "system_level_velocity_mean": 13.321873117281502, "cost1_mean": 344.6362759011761, "cost2_mean": -78.55071533396612, "outflow_rate_mean": 1260.1256068457028, "cost2_max": -16.55160285380239, "cost1_min": 22.693543307440827}, "info": {"num_steps_trained": 11882448, "sample_time_ms": 30253.069, "load_time_ms": 9.394, "grad_time_ms": 16499.384, "update_time_ms": 7.612, "default": {"policy_loss": -0.010580991394817829, "cur_lr": 0.0005000000237487257, "kl": 0.014651905745267868, "total_loss": 44.833438873291016, "cur_kl_coeff": 0.33750006556510925, "vf_loss": 44.83906936645508, "entropy": 1.730457067489624, "vf_explained_var": 0.8247416615486145}, "num_steps_sampled": 11882448}, "time_total_s": 8825.661391496658, "config": {"output": null, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "max_seq_len": 20, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "lstm_use_prev_action_reward": false, "framestack": true, "grayscale": false, "dim": 84, "free_log_std": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "monitor": false, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "sample_async": false, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfe8ba8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfe8e10>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfe82e8>"}, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 693.35, "experiment_id": "49476b8bfa214ea3a002964354a4867e", "hostname": "flow-main", "episodes_this_iter": 28, "date": "2019-05-21_11-42-00"}
{"episode_reward_mean": 1282.2780018897654, "timesteps_total": 11944928, "iterations_since_restore": 185, "timesteps_since_restore": 11944928, "pid": 59695, "time_this_iter_s": 41.81950879096985, "policy_reward_mean": {}, "timesteps_this_iter": 62480, "training_iteration": 185, "episode_reward_max": 1421.6177555721601, "node_ip": "10.138.0.2", "time_since_restore": 8867.480900287628, "episodes_total": 5280, "episode_reward_min": 45.63052014824233, "num_metric_batches_dropped": 0, "done": false, "timestamp": 1558438962, "custom_metrics": {"outflow_rate_min": 451.264202181489, "system_level_velocity_min": 9.632034910861627, "cost1_max": 433.8402538013478, "system_level_velocity_max": 16.647408073544934, "cost2_min": -118.77920470610064, "outflow_rate_max": 1498.3837719044218, "system_level_velocity_mean": 13.368963716894337, "cost1_mean": 346.40968193365114, "cost2_mean": -77.88069092885891, "outflow_rate_mean": 1255.7897104709552, "cost2_max": -12.435956566252539, "cost1_min": 17.343469924974844}, "info": {"num_steps_trained": 11944928, "sample_time_ms": 29643.15, "load_time_ms": 9.302, "grad_time_ms": 16265.534, "update_time_ms": 7.632, "default": {"policy_loss": -0.010861851274967194, "cur_lr": 0.0005000000237487257, "kl": 0.015151182189583778, "total_loss": 49.648555755615234, "cur_kl_coeff": 0.33750006556510925, "vf_loss": 49.65430450439453, "entropy": 1.735079288482666, "vf_explained_var": 0.7972015738487244}, "num_steps_sampled": 11944928}, "time_total_s": 8867.480900287628, "config": {"output": null, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "max_seq_len": 20, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "lstm_use_prev_action_reward": false, "framestack": true, "grayscale": false, "dim": 84, "free_log_std": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "monitor": false, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "sample_async": false, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfd4278>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfd4b38>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfd4f60>"}, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 693.27, "experiment_id": "49476b8bfa214ea3a002964354a4867e", "hostname": "flow-main", "episodes_this_iter": 29, "date": "2019-05-21_11-42-42"}
{"episode_reward_mean": 1268.1442043661582, "timesteps_total": 12009061, "iterations_since_restore": 186, "timesteps_since_restore": 12009061, "pid": 59695, "time_this_iter_s": 43.188899993896484, "policy_reward_mean": {}, "timesteps_this_iter": 64133, "training_iteration": 186, "episode_reward_max": 1435.8374133811785, "node_ip": "10.138.0.2", "time_since_restore": 8910.669800281525, "episodes_total": 5311, "episode_reward_min": 45.63052014824233, "num_metric_batches_dropped": 0, "done": false, "timestamp": 1558439005, "custom_metrics": {"outflow_rate_min": 451.264202181489, "system_level_velocity_min": 9.983093792707448, "cost1_max": 426.5934996556258, "system_level_velocity_max": 18.15623990164539, "cost2_min": -118.77920470610064, "outflow_rate_max": 1474.6983046864607, "system_level_velocity_mean": 13.369084836603959, "cost1_mean": 342.14683989407393, "cost2_mean": -75.8422250612651, "outflow_rate_mean": 1248.2074809886947, "cost2_max": -12.435956566252539, "cost1_min": 17.343469924974844}, "info": {"num_steps_trained": 12009061, "sample_time_ms": 29318.598, "load_time_ms": 9.199, "grad_time_ms": 16145.874, "update_time_ms": 7.628, "default": {"policy_loss": -0.010084733366966248, "cur_lr": 0.0005000000237487257, "kl": 0.013875611126422882, "total_loss": 51.195003509521484, "cur_kl_coeff": 0.33750003576278687, "vf_loss": 51.200408935546875, "entropy": 1.7600706815719604, "vf_explained_var": 0.7950569987297058}, "num_steps_sampled": 12009061}, "time_total_s": 8910.669800281525, "config": {"output": null, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "max_seq_len": 20, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "lstm_use_prev_action_reward": false, "framestack": true, "grayscale": false, "dim": 84, "free_log_std": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "monitor": false, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "sample_async": false, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c0181d0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c018748>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c018400>"}, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 686.62, "experiment_id": "49476b8bfa214ea3a002964354a4867e", "hostname": "flow-main", "episodes_this_iter": 31, "date": "2019-05-21_11-43-25"}
{"episode_reward_mean": 1261.2737653978872, "timesteps_total": 12071082, "iterations_since_restore": 187, "timesteps_since_restore": 12071082, "pid": 59695, "time_this_iter_s": 41.7750198841095, "policy_reward_mean": {}, "timesteps_this_iter": 62021, "training_iteration": 187, "episode_reward_max": 1435.8374133811785, "node_ip": "10.138.0.2", "time_since_restore": 8952.444820165634, "episodes_total": 5341, "episode_reward_min": 45.63052014824233, "num_metric_batches_dropped": 0, "done": false, "timestamp": 1558439047, "custom_metrics": {"outflow_rate_min": 442.8785900830537, "system_level_velocity_min": 10.370517005677824, "cost1_max": 432.9227594335225, "system_level_velocity_max": 18.15623990164539, "cost2_min": -112.50477324604245, "outflow_rate_max": 1511.604302578929, "system_level_velocity_mean": 13.591476853083243, "cost1_mean": 343.877730191737, "cost2_mean": -73.90537391007564, "outflow_rate_mean": 1248.3709707281687, "cost2_max": -12.435956566252539, "cost1_min": 17.343469924974844}, "info": {"num_steps_trained": 12071082, "sample_time_ms": 29018.718, "load_time_ms": 9.19, "grad_time_ms": 15982.477, "update_time_ms": 7.62, "default": {"policy_loss": -0.011285819113254547, "cur_lr": 0.0005000000237487257, "kl": 0.014687524177134037, "total_loss": 52.86900329589844, "cur_kl_coeff": 0.33750006556510925, "vf_loss": 52.87533187866211, "entropy": 1.712167739868164, "vf_explained_var": 0.7937095761299133}, "num_steps_sampled": 12071082}, "time_total_s": 8952.444820165634, "config": {"output": null, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "max_seq_len": 20, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "lstm_use_prev_action_reward": false, "framestack": true, "grayscale": false, "dim": 84, "free_log_std": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "monitor": false, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "sample_async": false, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81e4e6e48>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81e4e6dd8>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81e4e6978>"}, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 679.89, "experiment_id": "49476b8bfa214ea3a002964354a4867e", "hostname": "flow-main", "episodes_this_iter": 30, "date": "2019-05-21_11-44-07"}
{"episode_reward_mean": 1255.5801186003064, "timesteps_total": 12132621, "iterations_since_restore": 188, "timesteps_since_restore": 12132621, "pid": 59695, "time_this_iter_s": 41.87465190887451, "policy_reward_mean": {}, "timesteps_this_iter": 61539, "training_iteration": 188, "episode_reward_max": 1435.8374133811785, "node_ip": "10.138.0.2", "time_since_restore": 8994.319472074509, "episodes_total": 5371, "episode_reward_min": 45.81549505507727, "num_metric_batches_dropped": 0, "done": false, "timestamp": 1558439089, "custom_metrics": {"outflow_rate_min": 442.8785900830537, "system_level_velocity_min": 10.370517005677824, "cost1_max": 432.9227594335225, "system_level_velocity_max": 18.15623990164539, "cost2_min": -112.50477324604245, "outflow_rate_max": 1511.604302578929, "system_level_velocity_mean": 13.530014502378576, "cost1_mean": 343.33803186296524, "cost2_mean": -73.16221508327907, "outflow_rate_mean": 1251.9470843035497, "cost2_max": -14.486060542775917, "cost1_min": 17.556766888131037}, "info": {"num_steps_trained": 12132621, "sample_time_ms": 28703.842, "load_time_ms": 8.917, "grad_time_ms": 15799.513, "update_time_ms": 7.647, "default": {"policy_loss": -0.012174415402114391, "cur_lr": 0.0005000000237487257, "kl": 0.015031104907393456, "total_loss": 48.962501525878906, "cur_kl_coeff": 0.33750006556510925, "vf_loss": 48.9696044921875, "entropy": 1.75639808177948, "vf_explained_var": 0.8040968775749207}, "num_steps_sampled": 12132621}, "time_total_s": 8994.319472074509, "config": {"output": null, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "max_seq_len": 20, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "lstm_use_prev_action_reward": false, "framestack": true, "grayscale": false, "dim": 84, "free_log_std": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "monitor": false, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "sample_async": false, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfc7a90>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfc7710>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bf32320>"}, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 681.77, "experiment_id": "49476b8bfa214ea3a002964354a4867e", "hostname": "flow-main", "episodes_this_iter": 30, "date": "2019-05-21_11-44-49"}
{"episode_reward_mean": 1258.8989352842007, "timesteps_total": 12195668, "iterations_since_restore": 189, "timesteps_since_restore": 12195668, "pid": 59695, "time_this_iter_s": 41.42159152030945, "policy_reward_mean": {}, "timesteps_this_iter": 63047, "training_iteration": 189, "episode_reward_max": 1417.6377048424333, "node_ip": "10.138.0.2", "time_since_restore": 9035.741063594818, "episodes_total": 5399, "episode_reward_min": 45.81549505507727, "num_metric_batches_dropped": 0, "done": false, "timestamp": 1558439130, "custom_metrics": {"outflow_rate_min": 442.8785900830537, "system_level_velocity_min": 10.370517005677824, "cost1_max": 432.9227594335225, "system_level_velocity_max": 17.219509469654653, "cost2_min": -112.50477324604245, "outflow_rate_max": 1511.604302578929, "system_level_velocity_mean": 13.601267902510067, "cost1_mean": 346.8396786082522, "cost2_mean": -73.61770598859869, "outflow_rate_mean": 1257.4734003634114, "cost2_max": -14.486060542775917, "cost1_min": 17.556766888131037}, "info": {"num_steps_trained": 12195668, "sample_time_ms": 28347.751, "load_time_ms": 8.851, "grad_time_ms": 15631.042, "update_time_ms": 7.288, "default": {"policy_loss": -0.010892738588154316, "cur_lr": 0.0005000000237487257, "kl": 0.014730935916304588, "total_loss": 46.24043273925781, "cur_kl_coeff": 0.33750003576278687, "vf_loss": 46.24635696411133, "entropy": 1.7412387132644653, "vf_explained_var": 0.8037698268890381}, "num_steps_sampled": 12195668}, "time_total_s": 9035.741063594818, "config": {"output": null, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "max_seq_len": 20, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "lstm_use_prev_action_reward": false, "framestack": true, "grayscale": false, "dim": 84, "free_log_std": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "monitor": false, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "sample_async": false, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bf32a90>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bf32ba8>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bf32198>"}, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 683.57, "experiment_id": "49476b8bfa214ea3a002964354a4867e", "hostname": "flow-main", "episodes_this_iter": 28, "date": "2019-05-21_11-45-30"}
{"episode_reward_mean": 1269.1390960814397, "timesteps_total": 12258076, "iterations_since_restore": 190, "timesteps_since_restore": 12258076, "pid": 59695, "time_this_iter_s": 41.108909606933594, "policy_reward_mean": {}, "timesteps_this_iter": 62408, "training_iteration": 190, "episode_reward_max": 1400.5614138087515, "node_ip": "10.138.0.2", "time_since_restore": 9076.849973201752, "episodes_total": 5428, "episode_reward_min": 387.2630066158599, "num_metric_batches_dropped": 0, "done": false, "timestamp": 1558439171, "custom_metrics": {"outflow_rate_min": 1019.5152613929918, "system_level_velocity_min": 10.686700762415809, "cost1_max": 429.52828950802717, "system_level_velocity_max": 17.219509469654653, "cost2_min": -105.97127541409567, "outflow_rate_max": 1498.727734899877, "system_level_velocity_mean": 13.504377348367575, "cost1_mean": 348.5602477423911, "cost2_mean": -74.91093672688534, "outflow_rate_mean": 1262.9271632088003, "cost2_max": -25.189691328787333, "cost1_min": 133.18493976546512}, "info": {"num_steps_trained": 12258076, "sample_time_ms": 27984.919, "load_time_ms": 8.694, "grad_time_ms": 15401.122, "update_time_ms": 7.299, "default": {"policy_loss": -0.013263910077512264, "cur_lr": 0.0005000000237487257, "kl": 0.0164702907204628, "total_loss": 49.611541748046875, "cur_kl_coeff": 0.33750009536743164, "vf_loss": 49.61924362182617, "entropy": 1.750401258468628, "vf_explained_var": 0.7991172671318054}, "num_steps_sampled": 12258076}, "time_total_s": 9076.849973201752, "config": {"output": null, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "max_seq_len": 20, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "lstm_use_prev_action_reward": false, "framestack": true, "grayscale": false, "dim": 84, "free_log_std": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "monitor": false, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "sample_async": false, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c0187f0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c018240>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c018748>"}, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 690.3, "experiment_id": "49476b8bfa214ea3a002964354a4867e", "hostname": "flow-main", "episodes_this_iter": 29, "date": "2019-05-21_11-46-11"}
{"episode_reward_mean": 1289.8536676262845, "timesteps_total": 12320341, "iterations_since_restore": 191, "timesteps_since_restore": 12320341, "pid": 59695, "time_this_iter_s": 42.75810217857361, "policy_reward_mean": {}, "timesteps_this_iter": 62265, "training_iteration": 191, "episode_reward_max": 1418.1579672181913, "node_ip": "10.138.0.2", "time_since_restore": 9119.608075380325, "episodes_total": 5458, "episode_reward_min": 388.548820233632, "num_metric_batches_dropped": 0, "done": false, "timestamp": 1558439214, "custom_metrics": {"outflow_rate_min": 1019.5152613929918, "system_level_velocity_min": 10.686700762415809, "cost1_max": 441.85706266065677, "system_level_velocity_max": 16.95172684826816, "cost2_min": -105.97127541409567, "outflow_rate_max": 1531.9110303406283, "system_level_velocity_mean": 13.699153063506337, "cost1_mean": 356.7676811819594, "cost2_mean": -74.4480947857268, "outflow_rate_mean": 1276.1335774583217, "cost2_max": -25.189691328787333, "cost1_min": 133.18493976546512}, "info": {"num_steps_trained": 12320341, "sample_time_ms": 27781.62, "load_time_ms": 8.58, "grad_time_ms": 15237.027, "update_time_ms": 7.263, "default": {"policy_loss": -0.011442570947110653, "cur_lr": 0.0005000000237487257, "kl": 0.01654326729476452, "total_loss": 47.97090530395508, "cur_kl_coeff": 0.33750009536743164, "vf_loss": 47.97676467895508, "entropy": 1.7310060262680054, "vf_explained_var": 0.8209112286567688}, "num_steps_sampled": 12320341}, "time_total_s": 9119.608075380325, "config": {"output": null, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "max_seq_len": 20, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "lstm_use_prev_action_reward": false, "framestack": true, "grayscale": false, "dim": 84, "free_log_std": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "monitor": false, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "sample_async": false, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfd4ba8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfd4e80>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfd4c88>"}, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 695.15, "experiment_id": "49476b8bfa214ea3a002964354a4867e", "hostname": "flow-main", "episodes_this_iter": 30, "date": "2019-05-21_11-46-54"}
{"episode_reward_mean": 1296.7423422822837, "timesteps_total": 12381626, "iterations_since_restore": 192, "timesteps_since_restore": 12381626, "pid": 59695, "time_this_iter_s": 40.39427208900452, "policy_reward_mean": {}, "timesteps_this_iter": 61285, "training_iteration": 192, "episode_reward_max": 1418.1579672181913, "node_ip": "10.138.0.2", "time_since_restore": 9160.00234746933, "episodes_total": 5486, "episode_reward_min": 388.548820233632, "num_metric_batches_dropped": 0, "done": false, "timestamp": 1558439255, "custom_metrics": {"outflow_rate_min": 1019.5152613929918, "system_level_velocity_min": 10.743961564205177, "cost1_max": 441.85706266065677, "system_level_velocity_max": 16.95172684826816, "cost2_min": -105.97127541409567, "outflow_rate_max": 1531.9110303406283, "system_level_velocity_mean": 13.944826279893627, "cost1_mean": 362.81882022853557, "cost2_mean": -72.50174504585361, "outflow_rate_mean": 1285.9197262701189, "cost2_max": -25.189691328787333, "cost1_min": 133.18493976546512}, "info": {"num_steps_trained": 12381626, "sample_time_ms": 27396.115, "load_time_ms": 8.423, "grad_time_ms": 15060.874, "update_time_ms": 7.266, "default": {"policy_loss": -0.013706752099096775, "cur_lr": 0.0005000000237487257, "kl": 0.01493642758578062, "total_loss": 47.297447204589844, "cur_kl_coeff": 0.33750009536743164, "vf_loss": 47.30611038208008, "entropy": 1.7017053365707397, "vf_explained_var": 0.8154866099357605}, "num_steps_sampled": 12381626}, "time_total_s": 9160.00234746933, "config": {"output": null, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "max_seq_len": 20, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "lstm_use_prev_action_reward": false, "framestack": true, "grayscale": false, "dim": 84, "free_log_std": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "monitor": false, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "sample_async": false, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c016208>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfe8e10>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c016b38>"}, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 695.15, "experiment_id": "49476b8bfa214ea3a002964354a4867e", "hostname": "flow-main", "episodes_this_iter": 28, "date": "2019-05-21_11-47-35"}
{"episode_reward_mean": 1312.3461473369891, "timesteps_total": 12443592, "iterations_since_restore": 193, "timesteps_since_restore": 12443592, "pid": 59695, "time_this_iter_s": 41.21882915496826, "policy_reward_mean": {}, "timesteps_this_iter": 61966, "training_iteration": 193, "episode_reward_max": 1418.1579672181913, "node_ip": "10.138.0.2", "time_since_restore": 9201.221176624298, "episodes_total": 5514, "episode_reward_min": 1175.9963285886054, "num_metric_batches_dropped": 0, "done": false, "timestamp": 1558439296, "custom_metrics": {"outflow_rate_min": 1152.2704072398194, "system_level_velocity_min": 10.743961564205177, "cost1_max": 441.85706266065677, "system_level_velocity_max": 16.95172684826816, "cost2_min": -104.22658337176432, "outflow_rate_max": 1531.9110303406283, "system_level_velocity_mean": 14.072092410773992, "cost1_mean": 369.2087909096169, "cost2_mean": -70.69586820411423, "outflow_rate_mean": 1298.0448650781773, "cost2_max": -38.41950471801644, "cost1_min": 281.67115032648667}, "info": {"num_steps_trained": 12443592, "sample_time_ms": 27064.674, "load_time_ms": 8.477, "grad_time_ms": 14942.927, "update_time_ms": 7.25, "default": {"policy_loss": -0.011441164650022984, "cur_lr": 0.0005000000237487257, "kl": 0.015883417800068855, "total_loss": 51.0975456237793, "cur_kl_coeff": 0.33750006556510925, "vf_loss": 51.1036262512207, "entropy": 1.7316502332687378, "vf_explained_var": 0.8054824471473694}, "num_steps_sampled": 12443592}, "time_total_s": 9201.221176624298, "config": {"output": null, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "max_seq_len": 20, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "lstm_use_prev_action_reward": false, "framestack": true, "grayscale": false, "dim": 84, "free_log_std": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "monitor": false, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "sample_async": false, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bf32a90>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bf32240>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bf325f8>"}, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 700.0, "experiment_id": "49476b8bfa214ea3a002964354a4867e", "hostname": "flow-main", "episodes_this_iter": 28, "date": "2019-05-21_11-48-16"}
{"episode_reward_mean": 1289.165713578696, "timesteps_total": 12505935, "iterations_since_restore": 194, "timesteps_since_restore": 12505935, "pid": 59695, "time_this_iter_s": 42.6420202255249, "policy_reward_mean": {}, "timesteps_this_iter": 62343, "training_iteration": 194, "episode_reward_max": 1418.1579672181913, "node_ip": "10.138.0.2", "time_since_restore": 9243.863196849823, "episodes_total": 5544, "episode_reward_min": 359.78217308088216, "num_metric_batches_dropped": 0, "done": false, "timestamp": 1558439339, "custom_metrics": {"outflow_rate_min": 1016.9855480305639, "system_level_velocity_min": 10.69112174706009, "cost1_max": 436.1097603669684, "system_level_velocity_max": 17.148963151994447, "cost2_min": -103.19835719964402, "outflow_rate_max": 1516.8637882462003, "system_level_velocity_mean": 14.06332708999075, "cost1_mean": 362.87569458804916, "cost2_mean": -70.3811871413367, "outflow_rate_mean": 1285.236639047625, "cost2_max": -26.832504743141776, "cost1_min": 129.50056048583934}, "info": {"num_steps_trained": 12505935, "sample_time_ms": 26953.663, "load_time_ms": 8.39, "grad_time_ms": 14745.021, "update_time_ms": 7.336, "default": {"policy_loss": -0.011173976585268974, "cur_lr": 0.0005000000237487257, "kl": 0.01487912517040968, "total_loss": 52.14358139038086, "cur_kl_coeff": 0.33750009536743164, "vf_loss": 52.14973831176758, "entropy": 1.7595678567886353, "vf_explained_var": 0.7950220704078674}, "num_steps_sampled": 12505935}, "time_total_s": 9243.863196849823, "config": {"output": null, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "max_seq_len": 20, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "lstm_use_prev_action_reward": false, "framestack": true, "grayscale": false, "dim": 84, "free_log_std": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "monitor": false, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "sample_async": false, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c018748>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bf32320>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81e4e67b8>"}, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 690.22, "experiment_id": "49476b8bfa214ea3a002964354a4867e", "hostname": "flow-main", "episodes_this_iter": 30, "date": "2019-05-21_11-48-59"}
{"episode_reward_mean": 1282.2064450305886, "timesteps_total": 12567463, "iterations_since_restore": 195, "timesteps_since_restore": 12567463, "pid": 59695, "time_this_iter_s": 41.17530131340027, "policy_reward_mean": {}, "timesteps_this_iter": 61528, "training_iteration": 195, "episode_reward_max": 1413.9395863576704, "node_ip": "10.138.0.2", "time_since_restore": 9285.038498163223, "episodes_total": 5573, "episode_reward_min": 359.78217308088216, "num_metric_batches_dropped": 0, "done": false, "timestamp": 1558439380, "custom_metrics": {"outflow_rate_min": 1016.9855480305639, "system_level_velocity_min": 10.69112174706009, "cost1_max": 436.1097603669684, "system_level_velocity_max": 17.148963151994447, "cost2_min": -103.19835719964402, "outflow_rate_max": 1529.7123849544193, "system_level_velocity_mean": 13.954340794259213, "cost1_mean": 359.989479805234, "cost2_mean": -70.59168522309356, "outflow_rate_mean": 1281.0044183098069, "cost2_max": -26.832504743141776, "cost1_min": 129.50056048583934}, "info": {"num_steps_trained": 12567463, "sample_time_ms": 26930.264, "load_time_ms": 8.409, "grad_time_ms": 14704.835, "update_time_ms": 7.288, "default": {"policy_loss": -0.013290713541209698, "cur_lr": 0.0005000000237487257, "kl": 0.016094239428639412, "total_loss": 49.00618362426758, "cur_kl_coeff": 0.33750006556510925, "vf_loss": 49.014041900634766, "entropy": 1.7470883131027222, "vf_explained_var": 0.8058830499649048}, "num_steps_sampled": 12567463}, "time_total_s": 9285.038498163223, "config": {"output": null, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "max_seq_len": 20, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "lstm_use_prev_action_reward": false, "framestack": true, "grayscale": false, "dim": 84, "free_log_std": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "monitor": false, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "sample_async": false, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81e4e6978>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfd4ba8>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfdb128>"}, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 690.22, "experiment_id": "49476b8bfa214ea3a002964354a4867e", "hostname": "flow-main", "episodes_this_iter": 29, "date": "2019-05-21_11-49-40"}
{"episode_reward_mean": 1270.2721366298308, "timesteps_total": 12631267, "iterations_since_restore": 196, "timesteps_since_restore": 12631267, "pid": 59695, "time_this_iter_s": 42.94981384277344, "policy_reward_mean": {}, "timesteps_this_iter": 63804, "training_iteration": 196, "episode_reward_max": 1406.893239370379, "node_ip": "10.138.0.2", "time_since_restore": 9327.988312005997, "episodes_total": 5603, "episode_reward_min": 359.78217308088216, "num_metric_batches_dropped": 0, "done": false, "timestamp": 1558439423, "custom_metrics": {"outflow_rate_min": 1016.9855480305639, "system_level_velocity_min": 10.410579108850898, "cost1_max": 430.36992184332405, "system_level_velocity_max": 17.148963151994447, "cost2_min": -102.66165363385792, "outflow_rate_max": 1529.7123849544193, "system_level_velocity_mean": 13.684708000653066, "cost1_mean": 352.8815840838759, "cost2_mean": -72.32531007905675, "outflow_rate_mean": 1264.4800286670888, "cost2_max": -26.832504743141776, "cost1_min": 129.50056048583934}, "info": {"num_steps_trained": 12631267, "sample_time_ms": 26929.139, "load_time_ms": 7.964, "grad_time_ms": 14683.118, "update_time_ms": 7.256, "default": {"policy_loss": -0.012042277492582798, "cur_lr": 0.0005000000237487257, "kl": 0.015767188742756844, "total_loss": 52.85167694091797, "cur_kl_coeff": 0.33750006556510925, "vf_loss": 52.858394622802734, "entropy": 1.7653530836105347, "vf_explained_var": 0.7718765735626221}, "num_steps_sampled": 12631267}, "time_total_s": 9327.988312005997, "config": {"output": null, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "max_seq_len": 20, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "lstm_use_prev_action_reward": false, "framestack": true, "grayscale": false, "dim": 84, "free_log_std": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "monitor": false, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "sample_async": false, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfe8198>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfe80b8>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfe8400>"}, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 690.22, "experiment_id": "49476b8bfa214ea3a002964354a4867e", "hostname": "flow-main", "episodes_this_iter": 30, "date": "2019-05-21_11-50-23"}
{"episode_reward_mean": 1262.7689232101002, "timesteps_total": 12693524, "iterations_since_restore": 197, "timesteps_since_restore": 12693524, "pid": 59695, "time_this_iter_s": 41.87148571014404, "policy_reward_mean": {}, "timesteps_this_iter": 62257, "training_iteration": 197, "episode_reward_max": 1406.893239370379, "node_ip": "10.138.0.2", "time_since_restore": 9369.85979771614, "episodes_total": 5634, "episode_reward_min": 60.41948038883536, "num_metric_batches_dropped": 0, "done": false, "timestamp": 1558439465, "custom_metrics": {"outflow_rate_min": 480.36537355228626, "system_level_velocity_min": 10.410579108850898, "cost1_max": 430.36992184332405, "system_level_velocity_max": 18.2538734562281, "cost2_min": -102.66165363385792, "outflow_rate_max": 1529.7123849544193, "system_level_velocity_mean": 13.702125721545006, "cost1_mean": 351.564870424274, "cost2_mean": -72.91805666870161, "outflow_rate_mean": 1256.101536685124, "cost2_max": -16.015259289994297, "cost1_min": 23.983049320945398}, "info": {"num_steps_trained": 12693524, "sample_time_ms": 26908.128, "load_time_ms": 7.994, "grad_time_ms": 14712.502, "update_time_ms": 7.186, "default": {"policy_loss": -0.011668738909065723, "cur_lr": 0.0005000000237487257, "kl": 0.01642327941954136, "total_loss": 54.10965347290039, "cur_kl_coeff": 0.33750009536743164, "vf_loss": 54.11577606201172, "entropy": 1.7493712902069092, "vf_explained_var": 0.7844469547271729}, "num_steps_sampled": 12693524}, "time_total_s": 9369.85979771614, "config": {"output": null, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "max_seq_len": 20, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "lstm_use_prev_action_reward": false, "framestack": true, "grayscale": false, "dim": 84, "free_log_std": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "monitor": false, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "sample_async": false, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bf32198>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bf322e8>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bf32ba8>"}, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 688.44, "experiment_id": "49476b8bfa214ea3a002964354a4867e", "hostname": "flow-main", "episodes_this_iter": 31, "date": "2019-05-21_11-51-05"}
{"episode_reward_mean": 1272.4879463277066, "timesteps_total": 12753194, "iterations_since_restore": 198, "timesteps_since_restore": 12753194, "pid": 59695, "time_this_iter_s": 40.68586230278015, "policy_reward_mean": {}, "timesteps_this_iter": 59670, "training_iteration": 198, "episode_reward_max": 1427.987378408135, "node_ip": "10.138.0.2", "time_since_restore": 9410.54566001892, "episodes_total": 5663, "episode_reward_min": 60.41948038883536, "num_metric_batches_dropped": 0, "done": false, "timestamp": 1558439505, "custom_metrics": {"outflow_rate_min": 480.36537355228626, "system_level_velocity_min": 10.410579108850898, "cost1_max": 437.05897369571665, "system_level_velocity_max": 18.2538734562281, "cost2_min": -99.96053604822953, "outflow_rate_max": 1476.7573198350833, "system_level_velocity_mean": 13.685306009179927, "cost1_mean": 354.2489540958557, "cost2_mean": -73.78370393107765, "outflow_rate_mean": 1262.3982695478278, "cost2_max": -16.015259289994297, "cost1_min": 23.983049320945398}, "info": {"num_steps_trained": 12753194, "sample_time_ms": 26825.393, "load_time_ms": 7.79, "grad_time_ms": 14676.923, "update_time_ms": 7.211, "default": {"policy_loss": -0.01246438268572092, "cur_lr": 0.0005000000237487257, "kl": 0.017519280314445496, "total_loss": 53.310855865478516, "cur_kl_coeff": 0.33750009536743164, "vf_loss": 53.317413330078125, "entropy": 1.7291336059570312, "vf_explained_var": 0.790740966796875}, "num_steps_sampled": 12753194}, "time_total_s": 9410.54566001892, "config": {"output": null, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "max_seq_len": 20, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "lstm_use_prev_action_reward": false, "framestack": true, "grayscale": false, "dim": 84, "free_log_std": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "monitor": false, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "sample_async": false, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfc72b0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfc8128>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfc7710>"}, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 693.37, "experiment_id": "49476b8bfa214ea3a002964354a4867e", "hostname": "flow-main", "episodes_this_iter": 29, "date": "2019-05-21_11-51-45"}
{"episode_reward_mean": 1275.9770832919419, "timesteps_total": 12812596, "iterations_since_restore": 199, "timesteps_since_restore": 12812596, "pid": 59695, "time_this_iter_s": 41.244590044021606, "policy_reward_mean": {}, "timesteps_this_iter": 59402, "training_iteration": 199, "episode_reward_max": 1427.987378408135, "node_ip": "10.138.0.2", "time_since_restore": 9451.790250062943, "episodes_total": 5691, "episode_reward_min": 60.41948038883536, "num_metric_batches_dropped": 0, "done": false, "timestamp": 1558439547, "custom_metrics": {"outflow_rate_min": 480.36537355228626, "system_level_velocity_min": 10.81956536532114, "cost1_max": 437.05897369571665, "system_level_velocity_max": 18.2538734562281, "cost2_min": -99.96053604822953, "outflow_rate_max": 1476.7573198350833, "system_level_velocity_mean": 13.90400864363989, "cost1_mean": 359.826663598407, "cost2_mean": -71.64036705911138, "outflow_rate_mean": 1269.4610996332929, "cost2_max": -16.015259289994297, "cost1_min": 23.983049320945398}, "info": {"num_steps_trained": 12812596, "sample_time_ms": 26803.096, "load_time_ms": 7.627, "grad_time_ms": 14681.225, "update_time_ms": 7.335, "default": {"policy_loss": -0.012677295133471489, "cur_lr": 0.0005000000237487257, "kl": 0.015343008562922478, "total_loss": 52.23381805419922, "cur_kl_coeff": 0.33750006556510925, "vf_loss": 52.24131774902344, "entropy": 1.730334997177124, "vf_explained_var": 0.7860525846481323}, "num_steps_sampled": 12812596}, "time_total_s": 9451.790250062943, "config": {"output": null, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "max_seq_len": 20, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "lstm_use_prev_action_reward": false, "framestack": true, "grayscale": false, "dim": 84, "free_log_std": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "monitor": false, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "sample_async": false, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfdbb70>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfdbd30>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfdb828>"}, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 693.37, "experiment_id": "49476b8bfa214ea3a002964354a4867e", "hostname": "flow-main", "episodes_this_iter": 28, "date": "2019-05-21_11-52-27"}
{"episode_reward_mean": 1289.2830899812304, "timesteps_total": 12871868, "iterations_since_restore": 200, "timesteps_since_restore": 12871868, "pid": 59695, "time_this_iter_s": 41.36589550971985, "policy_reward_mean": {}, "timesteps_this_iter": 59272, "training_iteration": 200, "episode_reward_max": 1427.987378408135, "node_ip": "10.138.0.2", "time_since_restore": 9493.156145572662, "episodes_total": 5718, "episode_reward_min": 1169.1791926249184, "num_metric_batches_dropped": 0, "done": true, "timestamp": 1558439588, "custom_metrics": {"outflow_rate_min": 1134.1532723595922, "system_level_velocity_min": 10.81956536532114, "cost1_max": 437.05897369571665, "system_level_velocity_max": 16.842839693453392, "cost2_min": -101.7064275923401, "outflow_rate_max": 1511.9540129417624, "system_level_velocity_mean": 13.967579183966222, "cost1_mean": 365.97308364415824, "cost2_mean": -69.82065688860685, "outflow_rate_mean": 1286.6808075804604, "cost2_max": -33.98546492246626, "cost1_min": 282.739812069697}, "info": {"num_steps_trained": 12871868, "sample_time_ms": 26863.574, "load_time_ms": 7.662, "grad_time_ms": 14646.966, "update_time_ms": 7.419, "default": {"policy_loss": -0.012129196897149086, "cur_lr": 0.0005000000237487257, "kl": 0.016484713181853294, "total_loss": 52.42396545410156, "cur_kl_coeff": 0.33750009536743164, "vf_loss": 52.43053436279297, "entropy": 1.7410666942596436, "vf_explained_var": 0.7976181507110596}, "num_steps_sampled": 12871868}, "time_total_s": 9493.156145572662, "config": {"output": null, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.05, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "max_seq_len": 20, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "lstm_use_prev_action_reward": false, "framestack": true, "grayscale": false, "dim": 84, "free_log_std": false, "conv_activation": "relu", "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "compress_observations": false, "monitor": false, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}", "run": "PPO"}, "sample_async": false, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfe87f0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfe8780>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfe8c88>"}, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 700.0, "experiment_id": "49476b8bfa214ea3a002964354a4867e", "hostname": "flow-main", "episodes_this_iter": 27, "date": "2019-05-21_11-53-08"}
