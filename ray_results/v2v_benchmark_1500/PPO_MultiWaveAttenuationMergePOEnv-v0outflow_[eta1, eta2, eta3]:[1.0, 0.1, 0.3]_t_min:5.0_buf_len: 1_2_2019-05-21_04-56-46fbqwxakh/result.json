{"episode_reward_mean": 440.6539541965131, "timesteps_total": 63318, "iterations_since_restore": 1, "timesteps_since_restore": 63318, "num_metric_batches_dropped": 0, "pid": 343, "time_this_iter_s": 49.75941705703735, "custom_metrics": {"system_level_velocity_min": 6.259848482123248, "outflow_rate_min": 234.7572822299652, "cost1_max": 223.66439218055623, "system_level_velocity_max": 8.616580409320028, "cost2_min": -39.893247343197956, "outflow_rate_max": 530.7638337468984, "system_level_velocity_mean": 7.650992080520162, "cost1_mean": 197.80455265070432, "cost2_mean": -26.704268460484943, "outflow_rate_mean": 353.1213560030374, "cost2_max": -17.123470350664714, "cost1_min": 162.08567392686058}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 1, "episode_reward_max": 621.8973076319527, "hostname": "flow-main", "timesteps_this_iter": 63318, "time_since_restore": 49.75941705703735, "episode_reward_min": 312.12007570876256, "episodes_total": 27, "episodes_this_iter": 27, "timestamp": 1558414711, "time_total_s": 49.75941705703735, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.1, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "framestack": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "sample_async": false, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c031e10>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c031da0>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c031dd8>"}, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 700.0, "experiment_id": "e07569c766b64210b97edcdc20a183b1", "info": {"num_steps_trained": 63318, "sample_time_ms": 31919.7, "load_time_ms": 52.256, "grad_time_ms": 16541.904, "update_time_ms": 1047.621, "default": {"policy_loss": -0.0013140639057382941, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.87012779712677, "total_loss": 1.8561235666275024, "cur_kl_coeff": 0.20000001788139343, "vf_loss": 1.8569775819778442, "kl": 0.0022997152991592884, "entropy": 1.4166550636291504}, "num_steps_sampled": 63318}, "done": false, "date": "2019-05-21_04-58-31"}
{"episode_reward_mean": 511.2765767896327, "timesteps_total": 126494, "iterations_since_restore": 2, "timesteps_since_restore": 126494, "num_metric_batches_dropped": 0, "pid": 343, "time_this_iter_s": 46.835768699645996, "custom_metrics": {"system_level_velocity_min": 6.259848482123248, "outflow_rate_min": 234.7572822299652, "cost1_max": 250.11805949790252, "system_level_velocity_max": 9.664131440994783, "cost2_min": -57.035667099679706, "outflow_rate_max": 675.4149337525262, "system_level_velocity_mean": 8.031207933097235, "cost1_mean": 208.74582617609104, "cost2_mean": -29.201184902279863, "outflow_rate_mean": 434.16482778768534, "cost2_max": -17.123470350664714, "cost1_min": 162.08567392686058}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 2, "episode_reward_max": 756.8711909715842, "hostname": "flow-main", "timesteps_this_iter": 63176, "time_since_restore": 96.59518575668335, "episode_reward_min": 312.12007570876256, "episodes_total": 55, "episodes_this_iter": 28, "timestamp": 1558414758, "time_total_s": 96.59518575668335, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.1, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "framestack": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "sample_async": false, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c04cf60>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c04cef0>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c04cf28>"}, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 700.0, "experiment_id": "e07569c766b64210b97edcdc20a183b1", "info": {"num_steps_trained": 126494, "sample_time_ms": 31512.385, "load_time_ms": 30.408, "grad_time_ms": 16061.061, "update_time_ms": 529.59, "default": {"policy_loss": -0.003501115832477808, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.8944081664085388, "total_loss": 2.6362814903259277, "cur_kl_coeff": 0.10000001639127731, "vf_loss": 2.6389825344085693, "kl": 0.007999680936336517, "entropy": 1.413225769996643}, "num_steps_sampled": 126494}, "done": false, "date": "2019-05-21_04-59-18"}
{"episode_reward_mean": 618.498150853997, "timesteps_total": 189088, "iterations_since_restore": 3, "timesteps_since_restore": 189088, "num_metric_batches_dropped": 0, "pid": 343, "time_this_iter_s": 47.361438512802124, "custom_metrics": {"system_level_velocity_min": 6.259848482123248, "outflow_rate_min": 234.7572822299652, "cost1_max": 325.217978285315, "system_level_velocity_max": 12.317305478144418, "cost2_min": -66.41761185825742, "outflow_rate_max": 1024.104774193548, "system_level_velocity_mean": 8.728774914432226, "cost1_mean": 228.15477344410868, "cost2_mean": -32.28077842580136, "outflow_rate_mean": 551.9452828442617, "cost2_max": -17.123470350664714, "cost1_min": 162.08567392686058}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 3, "episode_reward_max": 1061.1382293483002, "hostname": "flow-main", "timesteps_this_iter": 62594, "time_since_restore": 143.95662426948547, "episode_reward_min": 312.12007570876256, "episodes_total": 83, "episodes_this_iter": 28, "timestamp": 1558414805, "time_total_s": 143.95662426948547, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.1, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "framestack": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "sample_async": false, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c056780>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c0566a0>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c056710>"}, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 700.0, "experiment_id": "e07569c766b64210b97edcdc20a183b1", "info": {"num_steps_trained": 189088, "sample_time_ms": 31639.294, "load_time_ms": 29.593, "grad_time_ms": 15819.19, "update_time_ms": 356.175, "default": {"policy_loss": -0.00571175804361701, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.867006778717041, "total_loss": 5.759129524230957, "cur_kl_coeff": 0.10000001639127731, "vf_loss": 5.763729572296143, "kl": 0.011119125410914421, "entropy": 1.4085910320281982}, "num_steps_sampled": 189088}, "done": false, "date": "2019-05-21_05-00-05"}
{"episode_reward_mean": 740.7589567175052, "timesteps_total": 258812, "iterations_since_restore": 4, "timesteps_since_restore": 258812, "num_metric_batches_dropped": 0, "pid": 343, "time_this_iter_s": 52.04972052574158, "custom_metrics": {"system_level_velocity_min": 7.027212147731462, "outflow_rate_min": 234.7572822299652, "cost1_max": 328.545158777379, "system_level_velocity_max": 12.416280606533821, "cost2_min": -68.81318709241559, "outflow_rate_max": 1128.0229637477744, "system_level_velocity_mean": 9.371639333660802, "cost1_mean": 246.66506152585345, "cost2_mean": -38.18902225478798, "outflow_rate_mean": 660.3762017550196, "cost2_max": -17.567070399059457, "cost1_min": 180.91960893722563}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 4, "episode_reward_max": 1160.649465137946, "hostname": "flow-main", "timesteps_this_iter": 69724, "time_since_restore": 196.00634479522705, "episode_reward_min": 312.12007570876256, "episodes_total": 110, "episodes_this_iter": 27, "timestamp": 1558414858, "time_total_s": 196.00634479522705, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.1, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "framestack": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "sample_async": false, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c04cd68>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c04c860>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c04cb70>"}, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 700.0, "experiment_id": "e07569c766b64210b97edcdc20a183b1", "info": {"num_steps_trained": 258812, "sample_time_ms": 32337.76, "load_time_ms": 26.733, "grad_time_ms": 16235.218, "update_time_ms": 268.821, "default": {"policy_loss": -0.0023579250555485487, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.8894279599189758, "total_loss": 8.491835594177246, "cur_kl_coeff": 0.10000000894069672, "vf_loss": 8.493487358093262, "kl": 0.007054121699184179, "entropy": 1.4121217727661133}, "num_steps_sampled": 258812}, "done": false, "date": "2019-05-21_05-00-58"}
{"episode_reward_mean": 912.4999430345237, "timesteps_total": 328877, "iterations_since_restore": 5, "timesteps_since_restore": 328877, "num_metric_batches_dropped": 0, "pid": 343, "time_this_iter_s": 52.11864995956421, "custom_metrics": {"system_level_velocity_min": 7.066168157295924, "outflow_rate_min": 262.2975945492249, "cost1_max": 360.6643194846163, "system_level_velocity_max": 13.500957992089473, "cost2_min": -87.23306865110533, "outflow_rate_max": 1352.5115950227305, "system_level_velocity_mean": 10.304930892369727, "cost1_mean": 273.36370027353956, "cost2_mean": -47.597194166918726, "outflow_rate_mean": 829.470656170204, "cost2_max": -19.687028670551477, "cost1_min": 182.3533104481137}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 5, "episode_reward_max": 1382.044648783769, "hostname": "flow-main", "timesteps_this_iter": 70065, "time_since_restore": 248.12499475479126, "episode_reward_min": 369.8887132100748, "episodes_total": 137, "episodes_this_iter": 27, "timestamp": 1558414910, "time_total_s": 248.12499475479126, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.1, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "framestack": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "sample_async": false, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c046c50>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c0467b8>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c0466d8>"}, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 700.0, "experiment_id": "e07569c766b64210b97edcdc20a183b1", "info": {"num_steps_trained": 328877, "sample_time_ms": 32635.783, "load_time_ms": 26.844, "grad_time_ms": 16615.139, "update_time_ms": 216.588, "default": {"policy_loss": -0.0035587535239756107, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.88982754945755, "total_loss": 10.177494049072266, "cur_kl_coeff": 0.10000000894069672, "vf_loss": 10.18028736114502, "kl": 0.007649522740393877, "entropy": 1.4061826467514038}, "num_steps_sampled": 328877}, "done": false, "date": "2019-05-21_05-01-50"}
{"episode_reward_mean": 1052.3900227021843, "timesteps_total": 394882, "iterations_since_restore": 6, "timesteps_since_restore": 394882, "num_metric_batches_dropped": 0, "pid": 343, "time_this_iter_s": 50.11023998260498, "custom_metrics": {"system_level_velocity_min": 7.731969320168308, "outflow_rate_min": 611.1221734974017, "cost1_max": 379.5964686870926, "system_level_velocity_max": 14.16497740917823, "cost2_min": -87.23306865110533, "outflow_rate_max": 1352.5115950227305, "system_level_velocity_mean": 11.167492596669614, "cost1_mean": 297.5163998821712, "cost2_mean": -54.86195390344677, "outflow_rate_mean": 974.209477007068, "cost2_max": -26.878493024161283, "cost1_min": 200.2075720221873}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 6, "episode_reward_max": 1382.044648783769, "hostname": "flow-main", "timesteps_this_iter": 66005, "time_since_restore": 298.23523473739624, "episode_reward_min": 652.4100054292933, "episodes_total": 163, "episodes_this_iter": 26, "timestamp": 1558414960, "time_total_s": 298.23523473739624, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.1, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "framestack": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "sample_async": false, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c04c2e8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c04c080>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c04c400>"}, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 700.0, "experiment_id": "e07569c766b64210b97edcdc20a183b1", "info": {"num_steps_trained": 394882, "sample_time_ms": 32539.012, "load_time_ms": 23.593, "grad_time_ms": 16833.07, "update_time_ms": 181.945, "default": {"policy_loss": -0.0036174971610307693, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.854661762714386, "total_loss": 13.239076614379883, "cur_kl_coeff": 0.10000001639127731, "vf_loss": 13.24185562133789, "kl": 0.008388142101466656, "entropy": 1.398781180381775}, "num_steps_sampled": 394882}, "done": false, "date": "2019-05-21_05-02-40"}
{"episode_reward_mean": 1151.8616373892155, "timesteps_total": 461230, "iterations_since_restore": 7, "timesteps_since_restore": 461230, "num_metric_batches_dropped": 0, "pid": 343, "time_this_iter_s": 52.00048542022705, "custom_metrics": {"system_level_velocity_min": 7.815334807268092, "outflow_rate_min": 652.2877012862576, "cost1_max": 386.64028614334825, "system_level_velocity_max": 14.442956108252728, "cost2_min": -92.8848422360526, "outflow_rate_max": 1352.5115950227305, "system_level_velocity_mean": 11.669541120213124, "cost1_mean": 311.8936611032192, "cost2_mean": -62.00739729683817, "outflow_rate_mean": 1068.1535718358737, "cost2_max": -34.08003718311874, "cost1_min": 208.1462111758143}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 7, "episode_reward_max": 1386.395769208547, "hostname": "flow-main", "timesteps_this_iter": 66348, "time_since_restore": 350.2357201576233, "episode_reward_min": 785.4456087302964, "episodes_total": 189, "episodes_this_iter": 26, "timestamp": 1558415012, "time_total_s": 350.2357201576233, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.1, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "framestack": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "sample_async": false, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c0564e0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c056c18>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c056fd0>"}, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 700.0, "experiment_id": "e07569c766b64210b97edcdc20a183b1", "info": {"num_steps_trained": 461230, "sample_time_ms": 32687.484, "load_time_ms": 21.368, "grad_time_ms": 17042.721, "update_time_ms": 157.233, "default": {"policy_loss": -0.0036670262925326824, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.8303014039993286, "total_loss": 15.263686180114746, "cur_kl_coeff": 0.10000001639127731, "vf_loss": 15.266597747802734, "kl": 0.0075463117100298405, "entropy": 1.3881959915161133}, "num_steps_sampled": 461230}, "done": false, "date": "2019-05-21_05-03-32"}
{"episode_reward_mean": 1215.2018861869744, "timesteps_total": 529510, "iterations_since_restore": 8, "timesteps_since_restore": 529510, "num_metric_batches_dropped": 0, "pid": 343, "time_this_iter_s": 55.83368897438049, "custom_metrics": {"system_level_velocity_min": 8.964239225753218, "outflow_rate_min": 798.2203084818409, "cost1_max": 393.3802959672985, "system_level_velocity_max": 14.727168434998976, "cost2_min": -99.05223156156386, "outflow_rate_max": 1355.2777797259475, "system_level_velocity_mean": 12.17332168702162, "cost1_mean": 325.3678266810802, "cost2_mean": -68.64637966113618, "outflow_rate_mean": 1146.0589760314133, "cost2_max": -42.89280756816917, "cost1_min": 236.69919806135817}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 8, "episode_reward_max": 1396.054622839879, "hostname": "flow-main", "timesteps_this_iter": 68280, "time_since_restore": 406.0694091320038, "episode_reward_min": 943.4381356910561, "episodes_total": 216, "episodes_this_iter": 27, "timestamp": 1558415068, "time_total_s": 406.0694091320038, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.1, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "framestack": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "sample_async": false, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c04cd68>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c04cc88>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c04ce10>"}, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 700.0, "experiment_id": "e07569c766b64210b97edcdc20a183b1", "info": {"num_steps_trained": 529510, "sample_time_ms": 32802.913, "load_time_ms": 19.696, "grad_time_ms": 17672.99, "update_time_ms": 138.588, "default": {"policy_loss": -0.002970065688714385, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.7804879546165466, "total_loss": 17.642805099487305, "cur_kl_coeff": 0.10000000894069672, "vf_loss": 17.64500617980957, "kl": 0.007702644914388657, "entropy": 1.3899381160736084}, "num_steps_sampled": 529510}, "done": false, "date": "2019-05-21_05-04-28"}
{"episode_reward_mean": 1246.0254493622522, "timesteps_total": 596457, "iterations_since_restore": 9, "timesteps_since_restore": 596457, "num_metric_batches_dropped": 0, "pid": 343, "time_this_iter_s": 53.271312952041626, "custom_metrics": {"system_level_velocity_min": 8.964239225753218, "outflow_rate_min": 798.2203084818409, "cost1_max": 403.34155186640737, "system_level_velocity_max": 15.002091939587075, "cost2_min": -107.51468380522674, "outflow_rate_max": 1398.197871451059, "system_level_velocity_mean": 12.332919512456261, "cost1_mean": 329.1635532115804, "cost2_mean": -75.31737782134368, "outflow_rate_mean": 1185.0413266175053, "cost2_max": -51.686774553627686, "cost1_min": 236.69919806135817}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 9, "episode_reward_max": 1444.4654450063565, "hostname": "flow-main", "timesteps_this_iter": 66947, "time_since_restore": 459.3407220840454, "episode_reward_min": 1039.7447064509347, "episodes_total": 245, "episodes_this_iter": 29, "timestamp": 1558415121, "time_total_s": 459.3407220840454, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.1, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "framestack": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "sample_async": false, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c05d748>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c05dcc0>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c05df28>"}, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 700.0, "experiment_id": "e07569c766b64210b97edcdc20a183b1", "info": {"num_steps_trained": 596457, "sample_time_ms": 33195.572, "load_time_ms": 18.633, "grad_time_ms": 17577.059, "update_time_ms": 124.045, "default": {"policy_loss": -0.0036615487188100815, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.7752078771591187, "total_loss": 20.99361801147461, "cur_kl_coeff": 0.10000002384185791, "vf_loss": 20.99643325805664, "kl": 0.008460952900350094, "entropy": 1.3805986642837524}, "num_steps_sampled": 596457}, "done": false, "date": "2019-05-21_05-05-21"}
{"episode_reward_mean": 1272.4822340441174, "timesteps_total": 663022, "iterations_since_restore": 10, "timesteps_since_restore": 663022, "num_metric_batches_dropped": 0, "pid": 343, "time_this_iter_s": 50.373377084732056, "custom_metrics": {"system_level_velocity_min": 8.964239225753218, "outflow_rate_min": 798.2203084818409, "cost1_max": 427.4728668785293, "system_level_velocity_max": 15.96111505885196, "cost2_min": -112.94636702032008, "outflow_rate_max": 1495.8940513356783, "system_level_velocity_mean": 12.539692088556606, "cost1_mean": 334.27852199121924, "cost2_mean": -83.76687506739829, "outflow_rate_mean": 1211.9575308543344, "cost2_max": -57.7224158424179, "cost1_min": 236.69919806135817}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 10, "episode_reward_max": 1487.553763978457, "hostname": "flow-main", "timesteps_this_iter": 66565, "time_since_restore": 509.71409916877747, "episode_reward_min": 1039.7447064509347, "episodes_total": 276, "episodes_this_iter": 31, "timestamp": 1558415172, "time_total_s": 509.71409916877747, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.1, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "framestack": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "sample_async": false, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c056f60>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c056e48>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c056da0>"}, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 700.0, "experiment_id": "e07569c766b64210b97edcdc20a183b1", "info": {"num_steps_trained": 663022, "sample_time_ms": 33296.553, "load_time_ms": 19.176, "grad_time_ms": 17422.529, "update_time_ms": 112.398, "default": {"policy_loss": -0.004546191077679396, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.767181396484375, "total_loss": 23.746183395385742, "cur_kl_coeff": 0.10000001639127731, "vf_loss": 23.7498836517334, "kl": 0.008454885333776474, "entropy": 1.373730182647705}, "num_steps_sampled": 663022}, "done": false, "date": "2019-05-21_05-06-12"}
{"episode_reward_mean": 1284.985420113596, "timesteps_total": 727148, "iterations_since_restore": 11, "timesteps_since_restore": 727148, "num_metric_batches_dropped": 0, "pid": 343, "time_this_iter_s": 49.76052260398865, "custom_metrics": {"system_level_velocity_min": 9.174019144796176, "outflow_rate_min": 983.120333291879, "cost1_max": 427.4728668785293, "system_level_velocity_max": 15.96111505885196, "cost2_min": -134.0585574661407, "outflow_rate_max": 1495.8940513356783, "system_level_velocity_mean": 12.700484618563998, "cost1_mean": 338.400849401489, "cost2_mean": -88.70361497210536, "outflow_rate_mean": 1230.1073269275314, "cost2_max": -62.95860155584823, "cost1_min": 241.97468164412064}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 11, "episode_reward_max": 1487.553763978457, "hostname": "flow-main", "timesteps_this_iter": 64126, "time_since_restore": 559.4746217727661, "episode_reward_min": 1091.398133879949, "episodes_total": 306, "episodes_this_iter": 30, "timestamp": 1558415221, "time_total_s": 559.4746217727661, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.1, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "framestack": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "sample_async": false, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c056438>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c056588>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c056320>"}, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 700.0, "experiment_id": "e07569c766b64210b97edcdc20a183b1", "info": {"num_steps_trained": 727148, "sample_time_ms": 33570.936, "load_time_ms": 16.254, "grad_time_ms": 17263.912, "update_time_ms": 8.336, "default": {"policy_loss": -0.0052942619659006596, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.7771217226982117, "total_loss": 24.620967864990234, "cur_kl_coeff": 0.10000001639127731, "vf_loss": 24.62533187866211, "kl": 0.009300080128014088, "entropy": 1.3629792928695679}, "num_steps_sampled": 727148}, "done": false, "date": "2019-05-21_05-07-01"}
{"episode_reward_mean": 1293.658060979858, "timesteps_total": 792304, "iterations_since_restore": 12, "timesteps_since_restore": 792304, "num_metric_batches_dropped": 0, "pid": 343, "time_this_iter_s": 48.09519362449646, "custom_metrics": {"system_level_velocity_min": 9.558021501290005, "outflow_rate_min": 1062.6094804021234, "cost1_max": 433.5938704095205, "system_level_velocity_max": 16.16013863829831, "cost2_min": -134.0585574661407, "outflow_rate_max": 1523.3473017324902, "system_level_velocity_mean": 13.017605820567503, "cost1_mean": 346.54530687635787, "cost2_mean": -89.42501857249727, "outflow_rate_mean": 1243.430357764265, "cost2_max": -62.95860155584823, "cost1_min": 250.97181912667097}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 12, "episode_reward_max": 1507.724044649493, "hostname": "flow-main", "timesteps_this_iter": 65156, "time_since_restore": 607.5698153972626, "episode_reward_min": 1141.160700038176, "episodes_total": 337, "episodes_this_iter": 31, "timestamp": 1558415269, "time_total_s": 607.5698153972626, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.1, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "framestack": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "sample_async": false, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c04cc18>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c04ccc0>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c04cba8>"}, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 700.0, "experiment_id": "e07569c766b64210b97edcdc20a183b1", "info": {"num_steps_trained": 792304, "sample_time_ms": 33813.477, "load_time_ms": 16.21, "grad_time_ms": 17148.898, "update_time_ms": 7.89, "default": {"policy_loss": -0.005213088821619749, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.7698290348052979, "total_loss": 26.486454010009766, "cur_kl_coeff": 0.10000000894069672, "vf_loss": 26.490629196166992, "kl": 0.010381000116467476, "entropy": 1.3660951852798462}, "num_steps_sampled": 792304}, "done": false, "date": "2019-05-21_05-07-49"}
{"episode_reward_mean": 1288.0902846310726, "timesteps_total": 858728, "iterations_since_restore": 13, "timesteps_since_restore": 858728, "num_metric_batches_dropped": 0, "pid": 343, "time_this_iter_s": 49.98121881484985, "custom_metrics": {"system_level_velocity_min": 7.7464764715878465, "outflow_rate_min": 1009.304553621561, "cost1_max": 433.5938704095205, "system_level_velocity_max": 16.16013863829831, "cost2_min": -134.0585574661407, "outflow_rate_max": 1523.3473017324902, "system_level_velocity_mean": 12.996736890566678, "cost1_mean": 345.6472748274783, "cost2_mean": -90.98391100160298, "outflow_rate_mean": 1239.6765160974567, "cost2_max": -67.38401059465153, "cost1_min": 201.5759455782025}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 13, "episode_reward_max": 1507.724044649493, "hostname": "flow-main", "timesteps_this_iter": 66424, "time_since_restore": 657.5510342121124, "episode_reward_min": 1076.1631915515352, "episodes_total": 365, "episodes_this_iter": 28, "timestamp": 1558415319, "time_total_s": 657.5510342121124, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.1, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "framestack": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "sample_async": false, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c05d518>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c05ddd8>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c05d748>"}, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 700.0, "experiment_id": "e07569c766b64210b97edcdc20a183b1", "info": {"num_steps_trained": 858728, "sample_time_ms": 34073.009, "load_time_ms": 14.326, "grad_time_ms": 17151.349, "update_time_ms": 7.779, "default": {"policy_loss": -0.005450746510177851, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.8129783868789673, "total_loss": 23.302345275878906, "cur_kl_coeff": 0.10000001639127731, "vf_loss": 23.306743621826172, "kl": 0.01053575612604618, "entropy": 1.3724055290222168}, "num_steps_sampled": 858728}, "done": false, "date": "2019-05-21_05-08-39"}
{"episode_reward_mean": 1292.3028766410519, "timesteps_total": 925440, "iterations_since_restore": 14, "timesteps_since_restore": 925440, "num_metric_batches_dropped": 0, "pid": 343, "time_this_iter_s": 51.8144736289978, "custom_metrics": {"system_level_velocity_min": 7.7464764715878465, "outflow_rate_min": 995.085625, "cost1_max": 433.5938704095205, "system_level_velocity_max": 16.16013863829831, "cost2_min": -129.14003707294037, "outflow_rate_max": 1523.3473017324902, "system_level_velocity_mean": 13.085422538728169, "cost1_mean": 347.9822916814787, "cost2_mean": -93.34676569734157, "outflow_rate_mean": 1245.1922382648718, "cost2_max": -67.38401059465153, "cost1_min": 201.5759455782025}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 14, "episode_reward_max": 1507.724044649493, "hostname": "flow-main", "timesteps_this_iter": 66712, "time_since_restore": 709.3655078411102, "episode_reward_min": 1076.1631915515352, "episodes_total": 391, "episodes_this_iter": 26, "timestamp": 1558415371, "time_total_s": 709.3655078411102, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.1, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "framestack": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "sample_async": false, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c046668>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c046d68>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c046a20>"}, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 700.0, "experiment_id": "e07569c766b64210b97edcdc20a183b1", "info": {"num_steps_trained": 925440, "sample_time_ms": 34042.81, "load_time_ms": 15.078, "grad_time_ms": 17157.017, "update_time_ms": 7.866, "default": {"policy_loss": -0.005437145475298166, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.7933046817779541, "total_loss": 24.74379539489746, "cur_kl_coeff": 0.10000000894069672, "vf_loss": 24.74818229675293, "kl": 0.010523360222578049, "entropy": 1.3702291250228882}, "num_steps_sampled": 925440}, "done": false, "date": "2019-05-21_05-09-31"}
{"episode_reward_mean": 1287.3923086222521, "timesteps_total": 991439, "iterations_since_restore": 15, "timesteps_since_restore": 991439, "num_metric_batches_dropped": 0, "pid": 343, "time_this_iter_s": 52.07913637161255, "custom_metrics": {"system_level_velocity_min": 7.7464764715878465, "outflow_rate_min": 995.085625, "cost1_max": 433.5938704095205, "system_level_velocity_max": 16.16013863829831, "cost2_min": -129.14003707294037, "outflow_rate_max": 1523.3473017324902, "system_level_velocity_mean": 12.894472019545963, "cost1_mean": 342.39464195149833, "cost2_mean": -96.46345562293467, "outflow_rate_mean": 1246.756446161673, "cost2_max": -67.38401059465153, "cost1_min": 201.5759455782025}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 15, "episode_reward_max": 1507.724044649493, "hostname": "flow-main", "timesteps_this_iter": 65999, "time_since_restore": 761.4446442127228, "episode_reward_min": 1076.1631915515352, "episodes_total": 417, "episodes_this_iter": 26, "timestamp": 1558415423, "time_total_s": 761.4446442127228, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.1, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "framestack": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "sample_async": false, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c04c4e0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c04cd68>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c04cf60>"}, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 700.0, "experiment_id": "e07569c766b64210b97edcdc20a183b1", "info": {"num_steps_trained": 991439, "sample_time_ms": 34033.044, "load_time_ms": 13.303, "grad_time_ms": 17162.884, "update_time_ms": 7.871, "default": {"policy_loss": -0.006995131727308035, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.7728922963142395, "total_loss": 26.438648223876953, "cur_kl_coeff": 0.10000001639127731, "vf_loss": 26.444461822509766, "kl": 0.011817339807748795, "entropy": 1.361427664756775}, "num_steps_sampled": 991439}, "done": false, "date": "2019-05-21_05-10-23"}
{"episode_reward_mean": 1272.7190210428787, "timesteps_total": 1057515, "iterations_since_restore": 16, "timesteps_since_restore": 1057515, "num_metric_batches_dropped": 0, "pid": 343, "time_this_iter_s": 51.321731090545654, "custom_metrics": {"system_level_velocity_min": 7.7464764715878465, "outflow_rate_min": 502.9433862365724, "cost1_max": 423.28418362571836, "system_level_velocity_max": 18.551322013723002, "cost2_min": -129.14003707294037, "outflow_rate_max": 1469.6865004233068, "system_level_velocity_mean": 12.884113966516088, "cost1_mean": 337.40652489009796, "cost2_mean": -97.78627637354805, "outflow_rate_mean": 1239.142579433258, "cost2_max": -15.865264338356335, "cost1_min": 23.108352407342874}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 16, "episode_reward_max": 1448.836991976039, "hostname": "flow-main", "timesteps_this_iter": 66076, "time_since_restore": 812.7663753032684, "episode_reward_min": 55.0632141166613, "episodes_total": 444, "episodes_this_iter": 27, "timestamp": 1558415475, "time_total_s": 812.7663753032684, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.1, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "framestack": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "sample_async": false, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c056f98>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c0565f8>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c056048>"}, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 693.35, "experiment_id": "e07569c766b64210b97edcdc20a183b1", "info": {"num_steps_trained": 1057515, "sample_time_ms": 34209.068, "load_time_ms": 14.33, "grad_time_ms": 17106.579, "update_time_ms": 7.747, "default": {"policy_loss": -0.006402766332030296, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.7675718665122986, "total_loss": 26.77509880065918, "cur_kl_coeff": 0.10000000894069672, "vf_loss": 26.780202865600586, "kl": 0.012980562634766102, "entropy": 1.3664032220840454}, "num_steps_sampled": 1057515}, "done": false, "date": "2019-05-21_05-11-15"}
{"episode_reward_mean": 1272.7833958663714, "timesteps_total": 1122151, "iterations_since_restore": 17, "timesteps_since_restore": 1122151, "num_metric_batches_dropped": 0, "pid": 343, "time_this_iter_s": 50.66398549079895, "custom_metrics": {"system_level_velocity_min": 9.744400749439619, "outflow_rate_min": 502.9433862365724, "cost1_max": 416.9867687147961, "system_level_velocity_max": 18.551322013723002, "cost2_min": -129.14003707294037, "outflow_rate_max": 1469.6865004233068, "system_level_velocity_mean": 12.957015131316398, "cost1_mean": 339.29084294656525, "cost2_mean": -99.13438421080718, "outflow_rate_mean": 1244.1795416940995, "cost2_max": -15.865264338356335, "cost1_min": 23.108352407342874}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 17, "episode_reward_max": 1442.3977019040758, "hostname": "flow-main", "timesteps_this_iter": 64636, "time_since_restore": 863.4303607940674, "episode_reward_min": 55.0632141166613, "episodes_total": 470, "episodes_this_iter": 26, "timestamp": 1558415526, "time_total_s": 863.4303607940674, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.1, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "framestack": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "sample_async": false, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c0567b8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c04c550>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c04cd68>"}, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 693.35, "experiment_id": "e07569c766b64210b97edcdc20a183b1", "info": {"num_steps_trained": 1122151, "sample_time_ms": 34140.64, "load_time_ms": 14.281, "grad_time_ms": 17040.05, "update_time_ms": 7.687, "default": {"policy_loss": -0.00621974840760231, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.7599678635597229, "total_loss": 28.123361587524414, "cur_kl_coeff": 0.10000001639127731, "vf_loss": 28.12834358215332, "kl": 0.012348209507763386, "entropy": 1.3599199056625366}, "num_steps_sampled": 1122151}, "done": false, "date": "2019-05-21_05-12-06"}
{"episode_reward_mean": 1255.7220468472847, "timesteps_total": 1186818, "iterations_since_restore": 18, "timesteps_since_restore": 1186818, "num_metric_batches_dropped": 0, "pid": 343, "time_this_iter_s": 49.88592457771301, "custom_metrics": {"system_level_velocity_min": 10.191640640283437, "outflow_rate_min": 482.07223716978217, "cost1_max": 419.9975404351004, "system_level_velocity_max": 18.551322013723002, "cost2_min": -126.43115220684297, "outflow_rate_max": 1469.6865004233068, "system_level_velocity_mean": 13.042308243780862, "cost1_mean": 336.90037759381636, "cost2_mean": -96.18332828640105, "outflow_rate_mean": 1236.4010880223627, "cost2_max": -13.176310556509783, "cost1_min": 17.822734133865634}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 18, "episode_reward_max": 1442.3977019040758, "hostname": "flow-main", "timesteps_this_iter": 64667, "time_since_restore": 913.3162853717804, "episode_reward_min": 45.00207185498447, "episodes_total": 497, "episodes_this_iter": 27, "timestamp": 1558415575, "time_total_s": 913.3162853717804, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.1, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "framestack": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "sample_async": false, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c0467b8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c05d550>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c05d080>"}, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 686.62, "experiment_id": "e07569c766b64210b97edcdc20a183b1", "info": {"num_steps_trained": 1186818, "sample_time_ms": 33993.65, "load_time_ms": 14.319, "grad_time_ms": 16592.993, "update_time_ms": 7.946, "default": {"policy_loss": -0.007395524065941572, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.7829410433769226, "total_loss": 28.92522430419922, "cur_kl_coeff": 0.10000001639127731, "vf_loss": 28.93120002746582, "kl": 0.014198435470461845, "entropy": 1.3447552919387817}, "num_steps_sampled": 1186818}, "done": false, "date": "2019-05-21_05-12-55"}
{"episode_reward_mean": 1262.6347582918308, "timesteps_total": 1251504, "iterations_since_restore": 19, "timesteps_since_restore": 1251504, "num_metric_batches_dropped": 0, "pid": 343, "time_this_iter_s": 50.13685345649719, "custom_metrics": {"system_level_velocity_min": 9.545419699986219, "outflow_rate_min": 482.07223716978217, "cost1_max": 419.9975404351004, "system_level_velocity_max": 18.551322013723002, "cost2_min": -126.43115220684297, "outflow_rate_max": 1451.4736676449515, "system_level_velocity_mean": 13.287885352162553, "cost1_mean": 344.0010619231264, "cost2_mean": -93.53973617589439, "outflow_rate_mean": 1240.6706950284351, "cost2_max": -13.176310556509783, "cost1_min": 17.822734133865634}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 19, "episode_reward_max": 1410.0568861549318, "hostname": "flow-main", "timesteps_this_iter": 64686, "time_since_restore": 963.4531388282776, "episode_reward_min": 45.00207185498447, "episodes_total": 526, "episodes_this_iter": 29, "timestamp": 1558415626, "time_total_s": 963.4531388282776, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.1, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "framestack": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "sample_async": false, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c046f60>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c0465c0>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c046dd8>"}, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 686.62, "experiment_id": "e07569c766b64210b97edcdc20a183b1", "info": {"num_steps_trained": 1251504, "sample_time_ms": 33624.843, "load_time_ms": 13.723, "grad_time_ms": 16648.695, "update_time_ms": 8.164, "default": {"policy_loss": -0.007188876159489155, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.7553830742835999, "total_loss": 30.681589126586914, "cur_kl_coeff": 0.10000001639127731, "vf_loss": 30.687368392944336, "kl": 0.014059340581297874, "entropy": 1.346899151802063}, "num_steps_sampled": 1251504}, "done": false, "date": "2019-05-21_05-13-46"}
{"episode_reward_mean": 1284.9264921886875, "timesteps_total": 1315855, "iterations_since_restore": 20, "timesteps_since_restore": 1315855, "num_metric_batches_dropped": 0, "pid": 343, "time_this_iter_s": 47.23522639274597, "custom_metrics": {"system_level_velocity_min": 9.545419699986219, "outflow_rate_min": 482.07223716978217, "cost1_max": 431.4811143082603, "system_level_velocity_max": 17.48370612887833, "cost2_min": -120.40971798847103, "outflow_rate_max": 1479.8362852861176, "system_level_velocity_mean": 13.394887946884557, "cost1_mean": 351.5719214573588, "cost2_mean": -92.619223266648, "outflow_rate_mean": 1261.4270847805665, "cost2_max": -13.176310556509783, "cost1_min": 17.822734133865634}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 20, "episode_reward_max": 1441.7646527248812, "hostname": "flow-main", "timesteps_this_iter": 64351, "time_since_restore": 1010.6883652210236, "episode_reward_min": 45.00207185498447, "episodes_total": 554, "episodes_this_iter": 28, "timestamp": 1558415673, "time_total_s": 1010.6883652210236, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.1, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "framestack": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "sample_async": false, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c04c588>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c04c748>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c04ce48>"}, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 693.27, "experiment_id": "e07569c766b64210b97edcdc20a183b1", "info": {"num_steps_trained": 1315855, "sample_time_ms": 33443.27, "load_time_ms": 12.338, "grad_time_ms": 16518.177, "update_time_ms": 8.105, "default": {"policy_loss": -0.008288674056529999, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.7640724182128906, "total_loss": 30.799171447753906, "cur_kl_coeff": 0.10000000894069672, "vf_loss": 30.805891036987305, "kl": 0.015686703845858574, "entropy": 1.3466190099716187}, "num_steps_sampled": 1315855}, "done": false, "date": "2019-05-21_05-14-33"}
{"episode_reward_mean": 1288.111876155581, "timesteps_total": 1381661, "iterations_since_restore": 21, "timesteps_since_restore": 1381661, "num_metric_batches_dropped": 0, "pid": 343, "time_this_iter_s": 49.712159156799316, "custom_metrics": {"system_level_velocity_min": 9.545419699986219, "outflow_rate_min": 1084.7986043788787, "cost1_max": 431.4811143082603, "system_level_velocity_max": 16.155567512881714, "cost2_min": -120.40971798847103, "outflow_rate_max": 1479.8362852861176, "system_level_velocity_mean": 13.178447068971302, "cost1_mean": 349.88078591718784, "cost2_mean": -90.54419723946374, "outflow_rate_mean": 1261.5327944619487, "cost2_max": -63.472579016288435, "cost1_min": 249.42925188235077}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 21, "episode_reward_max": 1441.7646527248812, "hostname": "flow-main", "timesteps_this_iter": 65806, "time_since_restore": 1060.4005243778229, "episode_reward_min": 1125.8760344102968, "episodes_total": 585, "episodes_this_iter": 31, "timestamp": 1558415723, "time_total_s": 1060.4005243778229, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.1, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "framestack": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "sample_async": false, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c05d0f0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c05d208>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c05d4e0>"}, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 700.0, "experiment_id": "e07569c766b64210b97edcdc20a183b1", "info": {"num_steps_trained": 1381661, "sample_time_ms": 33429.607, "load_time_ms": 10.584, "grad_time_ms": 16529.836, "update_time_ms": 8.276, "default": {"policy_loss": -0.007270618341863155, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.7375392317771912, "total_loss": 35.688785552978516, "cur_kl_coeff": 0.10000001639127731, "vf_loss": 35.694637298583984, "kl": 0.014130640774965286, "entropy": 1.3576698303222656}, "num_steps_sampled": 1381661}, "done": false, "date": "2019-05-21_05-15-23"}
{"episode_reward_mean": 1283.224107821897, "timesteps_total": 1444068, "iterations_since_restore": 22, "timesteps_since_restore": 1444068, "num_metric_batches_dropped": 0, "pid": 343, "time_this_iter_s": 48.45293688774109, "custom_metrics": {"system_level_velocity_min": 9.545419699986219, "outflow_rate_min": 1084.7986043788787, "cost1_max": 431.4811143082603, "system_level_velocity_max": 16.155567512881714, "cost2_min": -120.40971798847103, "outflow_rate_max": 1479.8362852861176, "system_level_velocity_mean": 13.078185142892558, "cost1_mean": 347.0778054891869, "cost2_mean": -88.40586465704448, "outflow_rate_mean": 1259.7669595822153, "cost2_max": -62.85626636019761, "cost1_min": 248.7080382627684}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 22, "episode_reward_max": 1441.7646527248812, "hostname": "flow-main", "timesteps_this_iter": 62407, "time_since_restore": 1108.853461265564, "episode_reward_min": 1101.6345536759006, "episodes_total": 615, "episodes_this_iter": 30, "timestamp": 1558415771, "time_total_s": 1108.853461265564, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.1, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "framestack": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "sample_async": false, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c046e80>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c04ceb8>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c04c0f0>"}, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 700.0, "experiment_id": "e07569c766b64210b97edcdc20a183b1", "info": {"num_steps_trained": 1444068, "sample_time_ms": 33348.726, "load_time_ms": 10.767, "grad_time_ms": 16647.161, "update_time_ms": 8.316, "default": {"policy_loss": -0.008123199455440044, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.78536456823349, "total_loss": 33.925079345703125, "cur_kl_coeff": 0.10000002384185791, "vf_loss": 33.93170928955078, "kl": 0.014959883876144886, "entropy": 1.3342030048370361}, "num_steps_sampled": 1444068}, "done": false, "date": "2019-05-21_05-16-11"}
{"episode_reward_mean": 1279.1926833957, "timesteps_total": 1506978, "iterations_since_restore": 23, "timesteps_since_restore": 1506978, "num_metric_batches_dropped": 0, "pid": 343, "time_this_iter_s": 50.45238995552063, "custom_metrics": {"system_level_velocity_min": 9.551236391440453, "outflow_rate_min": 1084.7986043788787, "cost1_max": 437.3795351775903, "system_level_velocity_max": 16.303615808782794, "cost2_min": -117.24772238476007, "outflow_rate_max": 1580.734385038988, "system_level_velocity_mean": 13.051386650376276, "cost1_mean": 346.2133825663319, "cost2_mean": -84.99882420680984, "outflow_rate_mean": 1259.631874325536, "cost2_max": -52.267717633154426, "cost1_min": 248.7080382627684}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 23, "episode_reward_max": 1479.5244495098327, "hostname": "flow-main", "timesteps_this_iter": 62910, "time_since_restore": 1159.3058512210846, "episode_reward_min": 1101.6345536759006, "episodes_total": 644, "episodes_this_iter": 29, "timestamp": 1558415822, "time_total_s": 1159.3058512210846, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.1, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "framestack": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "sample_async": false, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c05d780>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c05da58>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c05d748>"}, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 700.0, "experiment_id": "e07569c766b64210b97edcdc20a183b1", "info": {"num_steps_trained": 1506978, "sample_time_ms": 33213.801, "load_time_ms": 10.661, "grad_time_ms": 16829.514, "update_time_ms": 8.238, "default": {"policy_loss": -0.008256222121417522, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.7465797662734985, "total_loss": 36.979454040527344, "cur_kl_coeff": 0.10000000894069672, "vf_loss": 36.98612594604492, "kl": 0.015849698334932327, "entropy": 1.3277173042297363}, "num_steps_sampled": 1506978}, "done": false, "date": "2019-05-21_05-17-02"}
{"episode_reward_mean": 1272.9789943014796, "timesteps_total": 1571686, "iterations_since_restore": 24, "timesteps_since_restore": 1571686, "num_metric_batches_dropped": 0, "pid": 343, "time_this_iter_s": 48.93559956550598, "custom_metrics": {"system_level_velocity_min": 9.551236391440453, "outflow_rate_min": 1084.7986043788787, "cost1_max": 437.3795351775903, "system_level_velocity_max": 16.303615808782794, "cost2_min": -115.04249551069678, "outflow_rate_max": 1580.734385038988, "system_level_velocity_mean": 13.011318816285884, "cost1_mean": 345.16554705815145, "cost2_mean": -82.81664517461383, "outflow_rate_mean": 1255.2369619641615, "cost2_max": -52.267717633154426, "cost1_min": 248.7080382627684}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 24, "episode_reward_max": 1479.5244495098327, "hostname": "flow-main", "timesteps_this_iter": 64708, "time_since_restore": 1208.2414507865906, "episode_reward_min": 1101.6345536759006, "episodes_total": 673, "episodes_this_iter": 29, "timestamp": 1558415871, "time_total_s": 1208.2414507865906, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.1, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "framestack": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "sample_async": false, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c0692e8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c069438>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c0692b0>"}, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 700.0, "experiment_id": "e07569c766b64210b97edcdc20a183b1", "info": {"num_steps_trained": 1571686, "sample_time_ms": 33056.934, "load_time_ms": 10.62, "grad_time_ms": 16697.38, "update_time_ms": 8.314, "default": {"policy_loss": -0.0073884413577616215, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.7683934569358826, "total_loss": 36.53178405761719, "cur_kl_coeff": 0.10000001639127731, "vf_loss": 36.53758239746094, "kl": 0.015913652256131172, "entropy": 1.3346643447875977}, "num_steps_sampled": 1571686}, "done": false, "date": "2019-05-21_05-17-51"}
{"episode_reward_mean": 1270.6189290885425, "timesteps_total": 1633920, "iterations_since_restore": 25, "timesteps_since_restore": 1633920, "num_metric_batches_dropped": 0, "pid": 343, "time_this_iter_s": 49.989630699157715, "custom_metrics": {"system_level_velocity_min": 9.551236391440453, "outflow_rate_min": 1072.8952756538479, "cost1_max": 437.3795351775903, "system_level_velocity_max": 16.303615808782794, "cost2_min": -115.04249551069678, "outflow_rate_max": 1580.734385038988, "system_level_velocity_mean": 12.990544665104842, "cost1_mean": 344.59935724826687, "cost2_mean": -79.95213353046036, "outflow_rate_mean": 1256.2007190501429, "cost2_max": -50.912443957777114, "cost1_min": 248.7080382627684}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 25, "episode_reward_max": 1479.5244495098327, "hostname": "flow-main", "timesteps_this_iter": 62234, "time_since_restore": 1258.2310814857483, "episode_reward_min": 1101.6345536759006, "episodes_total": 700, "episodes_this_iter": 27, "timestamp": 1558415921, "time_total_s": 1258.2310814857483, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.1, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "framestack": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "sample_async": false, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c05db70>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c05de10>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c05d588>"}, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 700.0, "experiment_id": "e07569c766b64210b97edcdc20a183b1", "info": {"num_steps_trained": 1633920, "sample_time_ms": 32914.416, "load_time_ms": 10.496, "grad_time_ms": 16632.995, "update_time_ms": 8.387, "default": {"policy_loss": -0.0076178680174052715, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.7559860944747925, "total_loss": 37.433448791503906, "cur_kl_coeff": 0.10000002384185791, "vf_loss": 37.43950271606445, "kl": 0.01563052460551262, "entropy": 1.3379042148590088}, "num_steps_sampled": 1633920}, "done": false, "date": "2019-05-21_05-18-41"}
{"episode_reward_mean": 1270.884154645469, "timesteps_total": 1699007, "iterations_since_restore": 26, "timesteps_since_restore": 1699007, "num_metric_batches_dropped": 0, "pid": 343, "time_this_iter_s": 50.24870467185974, "custom_metrics": {"system_level_velocity_min": 10.073122900564693, "outflow_rate_min": 1033.7291825635198, "cost1_max": 437.3795351775903, "system_level_velocity_max": 16.303615808782794, "cost2_min": -115.04249551069678, "outflow_rate_max": 1580.734385038988, "system_level_velocity_mean": 13.051497313849989, "cost1_mean": 346.4873980916964, "cost2_mean": -76.48280528379038, "outflow_rate_mean": 1255.456100199463, "cost2_max": -41.485573407467925, "cost1_min": 262.73420174102387}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 26, "episode_reward_max": 1479.5244495098327, "hostname": "flow-main", "timesteps_this_iter": 65087, "time_since_restore": 1308.479786157608, "episode_reward_min": 1129.785058857846, "episodes_total": 727, "episodes_this_iter": 27, "timestamp": 1558415971, "time_total_s": 1308.479786157608, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.1, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "framestack": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "sample_async": false, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c069a20>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c056518>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c069c50>"}, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 700.0, "experiment_id": "e07569c766b64210b97edcdc20a183b1", "info": {"num_steps_trained": 1699007, "sample_time_ms": 32757.676, "load_time_ms": 9.689, "grad_time_ms": 16683.655, "update_time_ms": 8.72, "default": {"policy_loss": -0.00753396563231945, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.7628663778305054, "total_loss": 36.54811096191406, "cur_kl_coeff": 0.10000001639127731, "vf_loss": 36.55405807495117, "kl": 0.01583985425531864, "entropy": 1.3421614170074463}, "num_steps_sampled": 1699007}, "done": false, "date": "2019-05-21_05-19-31"}
{"episode_reward_mean": 1262.4016175104784, "timesteps_total": 1762447, "iterations_since_restore": 27, "timesteps_since_restore": 1762447, "num_metric_batches_dropped": 0, "pid": 343, "time_this_iter_s": 48.20432424545288, "custom_metrics": {"system_level_velocity_min": 10.008583070606914, "outflow_rate_min": 1033.7291825635198, "cost1_max": 424.722642822828, "system_level_velocity_max": 15.832327228854613, "cost2_min": -115.04249551069678, "outflow_rate_max": 1510.4968096138473, "system_level_velocity_mean": 12.98453193375888, "cost1_mean": 344.8299752943453, "cost2_mean": -74.28836638912757, "outflow_rate_mean": 1244.704918361236, "cost2_max": -41.485573407467925, "cost1_min": 260.64567702602506}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 27, "episode_reward_max": 1463.3620361819633, "hostname": "flow-main", "timesteps_this_iter": 63440, "time_since_restore": 1356.684110403061, "episode_reward_min": 1102.9548565803357, "episodes_total": 753, "episodes_this_iter": 26, "timestamp": 1558416019, "time_total_s": 1356.684110403061, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.1, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "framestack": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "sample_async": false, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfec748>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfecc50>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfecf28>"}, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 700.0, "experiment_id": "e07569c766b64210b97edcdc20a183b1", "info": {"num_steps_trained": 1762447, "sample_time_ms": 32691.894, "load_time_ms": 11.22, "grad_time_ms": 16501.813, "update_time_ms": 8.628, "default": {"policy_loss": -0.007971702143549919, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.7578592896461487, "total_loss": 35.31034469604492, "cur_kl_coeff": 0.10000001639127731, "vf_loss": 35.31659698486328, "kl": 0.017241008579730988, "entropy": 1.3392292261123657}, "num_steps_sampled": 1762447}, "done": false, "date": "2019-05-21_05-20-19"}
{"episode_reward_mean": 1248.5944522825944, "timesteps_total": 1824435, "iterations_since_restore": 28, "timesteps_since_restore": 1824435, "num_metric_batches_dropped": 0, "pid": 343, "time_this_iter_s": 46.71441435813904, "custom_metrics": {"system_level_velocity_min": 9.660337740658475, "outflow_rate_min": 494.720681943273, "cost1_max": 424.722642822828, "system_level_velocity_max": 18.21634213343269, "cost2_min": -110.0107709616494, "outflow_rate_max": 1510.4968096138473, "system_level_velocity_mean": 13.025756015853808, "cost1_mean": 341.6022645012722, "cost2_mean": -72.37741544547619, "outflow_rate_mean": 1241.2982561537303, "cost2_max": -13.588929085783963, "cost1_min": 24.05728540929477}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 28, "episode_reward_max": 1463.3620361819633, "hostname": "flow-main", "timesteps_this_iter": 61988, "time_since_restore": 1403.3985247612, "episode_reward_min": 60.805087338240064, "episodes_total": 782, "episodes_this_iter": 29, "timestamp": 1558416066, "time_total_s": 1403.3985247612, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.1, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "framestack": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "sample_async": false, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfec278>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c069550>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c0692b0>"}, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 693.37, "experiment_id": "e07569c766b64210b97edcdc20a183b1", "info": {"num_steps_trained": 1824435, "sample_time_ms": 32679.533, "load_time_ms": 10.844, "grad_time_ms": 16199.117, "update_time_ms": 8.247, "default": {"policy_loss": -0.009692667052149773, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.7396378517150879, "total_loss": 40.98997497558594, "cur_kl_coeff": 0.10000001639127731, "vf_loss": 40.9977912902832, "kl": 0.018766919150948524, "entropy": 1.3407642841339111}, "num_steps_sampled": 1824435}, "done": false, "date": "2019-05-21_05-21-06"}
{"episode_reward_mean": 1234.9753955532221, "timesteps_total": 1888457, "iterations_since_restore": 29, "timesteps_since_restore": 1888457, "num_metric_batches_dropped": 0, "pid": 343, "time_this_iter_s": 48.858741998672485, "custom_metrics": {"system_level_velocity_min": 9.660155552729202, "outflow_rate_min": 494.720681943273, "cost1_max": 424.722642822828, "system_level_velocity_max": 18.21634213343269, "cost2_min": -110.0107709616494, "outflow_rate_max": 1460.1076147528781, "system_level_velocity_mean": 12.85379265094994, "cost1_mean": 336.9090411969813, "cost2_mean": -72.0001208588479, "outflow_rate_mean": 1226.9124264938418, "cost2_max": -13.588929085783963, "cost1_min": 24.05728540929477}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 29, "episode_reward_max": 1430.1922832531932, "hostname": "flow-main", "timesteps_this_iter": 64022, "time_since_restore": 1452.2572667598724, "episode_reward_min": 60.805087338240064, "episodes_total": 809, "episodes_this_iter": 27, "timestamp": 1558416115, "time_total_s": 1452.2572667598724, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.1, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "framestack": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "sample_async": false, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c04cc88>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c04c668>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c04c8d0>"}, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 693.37, "experiment_id": "e07569c766b64210b97edcdc20a183b1", "info": {"num_steps_trained": 1888457, "sample_time_ms": 32663.964, "load_time_ms": 11.153, "grad_time_ms": 16086.791, "update_time_ms": 7.942, "default": {"policy_loss": -0.006182065699249506, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.7658627033233643, "total_loss": 35.68073654174805, "cur_kl_coeff": 0.10000001639127731, "vf_loss": 35.68495178222656, "kl": 0.019663240760564804, "entropy": 1.3324275016784668}, "num_steps_sampled": 1888457}, "done": false, "date": "2019-05-21_05-21-55"}
{"episode_reward_mean": 1228.427283244094, "timesteps_total": 1950281, "iterations_since_restore": 30, "timesteps_since_restore": 1950281, "num_metric_batches_dropped": 0, "pid": 343, "time_this_iter_s": 49.934380292892456, "custom_metrics": {"system_level_velocity_min": 9.660155552729202, "outflow_rate_min": 494.720681943273, "cost1_max": 419.92641726955685, "system_level_velocity_max": 18.21634213343269, "cost2_min": -108.3079339016663, "outflow_rate_max": 1488.9859468438535, "system_level_velocity_mean": 12.823598284096306, "cost1_mean": 335.95921213781025, "cost2_mean": -70.02187266224917, "outflow_rate_mean": 1224.1910895566386, "cost2_max": -13.588929085783963, "cost1_min": 24.05728540929477}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 30, "episode_reward_max": 1442.9730108777553, "hostname": "flow-main", "timesteps_this_iter": 61824, "time_since_restore": 1502.191647052765, "episode_reward_min": 60.805087338240064, "episodes_total": 838, "episodes_this_iter": 29, "timestamp": 1558416165, "time_total_s": 1502.191647052765, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.1, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "framestack": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "sample_async": false, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c069780>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c046a20>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c046a90>"}, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 693.37, "experiment_id": "e07569c766b64210b97edcdc20a183b1", "info": {"num_steps_trained": 1950281, "sample_time_ms": 32695.056, "load_time_ms": 11.037, "grad_time_ms": 16321.491, "update_time_ms": 8.234, "default": {"policy_loss": -0.008879724889993668, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.7536149024963379, "total_loss": 42.91698455810547, "cur_kl_coeff": 0.10000002384185791, "vf_loss": 42.92402267456055, "kl": 0.01844538003206253, "entropy": 1.3311930894851685}, "num_steps_sampled": 1950281}, "done": false, "date": "2019-05-21_05-22-45"}
{"episode_reward_mean": 1228.318415768966, "timesteps_total": 2012040, "iterations_since_restore": 31, "timesteps_since_restore": 2012040, "num_metric_batches_dropped": 0, "pid": 343, "time_this_iter_s": 47.313928842544556, "custom_metrics": {"system_level_velocity_min": 9.660155552729202, "outflow_rate_min": 479.75973832858216, "cost1_max": 419.92641726955685, "system_level_velocity_max": 17.782879318271686, "cost2_min": -100.3936114757253, "outflow_rate_max": 1488.9859468438535, "system_level_velocity_mean": 12.897418839819766, "cost1_mean": 338.0070199608217, "cost2_mean": -67.55348880822883, "outflow_rate_mean": 1216.7709190265218, "cost2_max": -11.472498848816404, "cost1_min": 24.111678795414967}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 31, "episode_reward_max": 1442.9730108777553, "hostname": "flow-main", "timesteps_this_iter": 61759, "time_since_restore": 1549.5055758953094, "episode_reward_min": 61.20467993395293, "episodes_total": 870, "episodes_this_iter": 32, "timestamp": 1558416212, "time_total_s": 1549.5055758953094, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.1, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "framestack": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "sample_async": false, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c0697b8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c069ef0>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c069da0>"}, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 693.38, "experiment_id": "e07569c766b64210b97edcdc20a183b1", "info": {"num_steps_trained": 2012040, "sample_time_ms": 32469.874, "load_time_ms": 12.636, "grad_time_ms": 16304.038, "update_time_ms": 8.185, "default": {"policy_loss": -0.009150015190243721, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.7400787472724915, "total_loss": 44.10969924926758, "cur_kl_coeff": 0.10000001639127731, "vf_loss": 44.116912841796875, "kl": 0.019420458003878593, "entropy": 1.3303296566009521}, "num_steps_sampled": 2012040}, "done": false, "date": "2019-05-21_05-23-32"}
{"episode_reward_mean": 1234.050922260039, "timesteps_total": 2073696, "iterations_since_restore": 32, "timesteps_since_restore": 2073696, "num_metric_batches_dropped": 0, "pid": 343, "time_this_iter_s": 48.32890224456787, "custom_metrics": {"system_level_velocity_min": 9.879773230669239, "outflow_rate_min": 479.75973832858216, "cost1_max": 419.92641726955685, "system_level_velocity_max": 17.782879318271686, "cost2_min": -100.3936114757253, "outflow_rate_max": 1488.9859468438535, "system_level_velocity_mean": 13.006829749854546, "cost1_mean": 341.3319839221255, "cost2_mean": -66.98950379571403, "outflow_rate_mean": 1220.9942593691062, "cost2_max": -11.472498848816404, "cost1_min": 24.111678795414967}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 32, "episode_reward_max": 1442.9730108777553, "hostname": "flow-main", "timesteps_this_iter": 61656, "time_since_restore": 1597.8344781398773, "episode_reward_min": 61.20467993395293, "episodes_total": 898, "episodes_this_iter": 28, "timestamp": 1558416261, "time_total_s": 1597.8344781398773, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.1, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "framestack": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "sample_async": false, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c069128>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c046ba8>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c0692e8>"}, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 693.38, "experiment_id": "e07569c766b64210b97edcdc20a183b1", "info": {"num_steps_trained": 2073696, "sample_time_ms": 32542.162, "load_time_ms": 12.656, "grad_time_ms": 16218.018, "update_time_ms": 8.19, "default": {"policy_loss": -0.009965100325644016, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.7550159692764282, "total_loss": 41.1002311706543, "cur_kl_coeff": 0.10000001639127731, "vf_loss": 41.10819625854492, "kl": 0.019999179989099503, "entropy": 1.3466973304748535}, "num_steps_sampled": 2073696}, "done": false, "date": "2019-05-21_05-24-21"}
{"episode_reward_mean": 1234.0627801781984, "timesteps_total": 2135830, "iterations_since_restore": 33, "timesteps_since_restore": 2135830, "num_metric_batches_dropped": 0, "pid": 343, "time_this_iter_s": 49.4611713886261, "custom_metrics": {"system_level_velocity_min": 10.114817984548301, "outflow_rate_min": 479.75973832858216, "cost1_max": 419.4846397665375, "system_level_velocity_max": 17.782879318271686, "cost2_min": -106.16818771843921, "outflow_rate_max": 1488.9859468438535, "system_level_velocity_mean": 12.925832236635792, "cost1_mean": 339.3307749544346, "cost2_mean": -68.05186062736146, "outflow_rate_mean": 1221.7781490341301, "cost2_max": -11.472498848816404, "cost1_min": 24.111678795414967}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 33, "episode_reward_max": 1442.9730108777553, "hostname": "flow-main", "timesteps_this_iter": 62134, "time_since_restore": 1647.2956495285034, "episode_reward_min": 61.20467993395293, "episodes_total": 925, "episodes_this_iter": 27, "timestamp": 1558416310, "time_total_s": 1647.2956495285034, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.1, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "framestack": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "sample_async": false, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfec0f0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfec7b8>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81e502630>"}, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 693.38, "experiment_id": "e07569c766b64210b97edcdc20a183b1", "info": {"num_steps_trained": 2135830, "sample_time_ms": 32470.125, "load_time_ms": 13.733, "grad_time_ms": 16191.036, "update_time_ms": 8.202, "default": {"policy_loss": -0.00812713336199522, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.751297652721405, "total_loss": 42.09734344482422, "cur_kl_coeff": 0.10000001639127731, "vf_loss": 42.10348892211914, "kl": 0.019811149686574936, "entropy": 1.3495527505874634}, "num_steps_sampled": 2135830}, "done": false, "date": "2019-05-21_05-25-10"}
{"episode_reward_mean": 1251.355921310119, "timesteps_total": 2200160, "iterations_since_restore": 34, "timesteps_since_restore": 2200160, "num_metric_batches_dropped": 0, "pid": 343, "time_this_iter_s": 48.67924976348877, "custom_metrics": {"system_level_velocity_min": 10.446168959923753, "outflow_rate_min": 1105.0074291851254, "cost1_max": 405.1110604565464, "system_level_velocity_max": 15.010388922884582, "cost2_min": -106.16818771843921, "outflow_rate_max": 1478.5439982285295, "system_level_velocity_mean": 12.914289049384276, "cost1_mean": 343.7802270515222, "cost2_mean": -68.53119858906138, "outflow_rate_mean": 1229.918968282749, "cost2_max": -43.62645827009577, "cost1_min": 273.2433088516568}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 34, "episode_reward_max": 1405.0592550743315, "hostname": "flow-main", "timesteps_this_iter": 64330, "time_since_restore": 1695.9748992919922, "episode_reward_min": 1134.2787753583548, "episodes_total": 953, "episodes_this_iter": 28, "timestamp": 1558416359, "time_total_s": 1695.9748992919922, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.1, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "framestack": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "sample_async": false, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c04cac8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c04cdd8>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c04c198>"}, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 700.0, "experiment_id": "e07569c766b64210b97edcdc20a183b1", "info": {"num_steps_trained": 2200160, "sample_time_ms": 32503.455, "load_time_ms": 11.805, "grad_time_ms": 16135.449, "update_time_ms": 8.065, "default": {"policy_loss": -0.007777307648211718, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.7637354731559753, "total_loss": 41.76607894897461, "cur_kl_coeff": 0.10000000894069672, "vf_loss": 41.7718505859375, "kl": 0.020034098997712135, "entropy": 1.3501790761947632}, "num_steps_sampled": 2200160}, "done": false, "date": "2019-05-21_05-25-59"}
{"episode_reward_mean": 1256.778528867288, "timesteps_total": 2262689, "iterations_since_restore": 35, "timesteps_since_restore": 2262689, "num_metric_batches_dropped": 0, "pid": 343, "time_this_iter_s": 49.19453549385071, "custom_metrics": {"system_level_velocity_min": 10.446168959923753, "outflow_rate_min": 1092.6854674600013, "cost1_max": 423.9157945551842, "system_level_velocity_max": 15.79322112901588, "cost2_min": -106.16818771843921, "outflow_rate_max": 1478.5439982285295, "system_level_velocity_mean": 12.946065374065299, "cost1_mean": 345.0507155868722, "cost2_mean": -67.98999782199249, "outflow_rate_mean": 1235.3739649990232, "cost2_max": -31.70636801693113, "cost1_min": 273.2433088516568}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 35, "episode_reward_max": 1428.2649431145128, "hostname": "flow-main", "timesteps_this_iter": 62529, "time_since_restore": 1745.169434785843, "episode_reward_min": 1141.1844130086076, "episodes_total": 983, "episodes_this_iter": 30, "timestamp": 1558416408, "time_total_s": 1745.169434785843, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.1, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "framestack": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "sample_async": false, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfecd30>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfec048>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfecc50>"}, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 700.0, "experiment_id": "e07569c766b64210b97edcdc20a183b1", "info": {"num_steps_trained": 2262689, "sample_time_ms": 32463.288, "load_time_ms": 11.755, "grad_time_ms": 16097.145, "update_time_ms": 7.952, "default": {"policy_loss": -0.00946988444775343, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.7720430493354797, "total_loss": 44.44636917114258, "cur_kl_coeff": 0.14999999105930328, "vf_loss": 44.453182220458984, "kl": 0.017706332728266716, "entropy": 1.3542134761810303}, "num_steps_sampled": 2262689}, "done": false, "date": "2019-05-21_05-26-48"}
{"episode_reward_mean": 1255.9054717906263, "timesteps_total": 2324978, "iterations_since_restore": 36, "timesteps_since_restore": 2324978, "num_metric_batches_dropped": 0, "pid": 343, "time_this_iter_s": 48.37996792793274, "custom_metrics": {"system_level_velocity_min": 10.587740700475747, "outflow_rate_min": 1092.6854674600013, "cost1_max": 423.9157945551842, "system_level_velocity_max": 15.79322112901588, "cost2_min": -101.87024253193314, "outflow_rate_max": 1478.5439982285295, "system_level_velocity_mean": 12.904562113165628, "cost1_mean": 343.8040115838369, "cost2_mean": -67.69569670466495, "outflow_rate_mean": 1234.671853842213, "cost2_max": -31.70636801693113, "cost1_min": 278.0022986798169}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 36, "episode_reward_max": 1428.2649431145128, "hostname": "flow-main", "timesteps_this_iter": 62289, "time_since_restore": 1793.5494027137756, "episode_reward_min": 1148.3941693707718, "episodes_total": 1011, "episodes_this_iter": 28, "timestamp": 1558416457, "time_total_s": 1793.5494027137756, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.1, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "framestack": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "sample_async": false, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c069be0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c04cc18>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c04c748>"}, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 700.0, "experiment_id": "e07569c766b64210b97edcdc20a183b1", "info": {"num_steps_trained": 2324978, "sample_time_ms": 32439.911, "load_time_ms": 11.551, "grad_time_ms": 15935.437, "update_time_ms": 7.871, "default": {"policy_loss": -0.007639608811587095, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.7750054597854614, "total_loss": 41.067073822021484, "cur_kl_coeff": 0.14999999105930328, "vf_loss": 41.07219314575195, "kl": 0.01679675653576851, "entropy": 1.36164128780365}, "num_steps_sampled": 2324978}, "done": false, "date": "2019-05-21_05-27-37"}
{"episode_reward_mean": 1258.094205910364, "timesteps_total": 2387434, "iterations_since_restore": 37, "timesteps_since_restore": 2387434, "num_metric_batches_dropped": 0, "pid": 343, "time_this_iter_s": 46.18867802619934, "custom_metrics": {"system_level_velocity_min": 10.587740700475747, "outflow_rate_min": 1092.6854674600013, "cost1_max": 423.9157945551842, "system_level_velocity_max": 15.79322112901588, "cost2_min": -101.87024253193314, "outflow_rate_max": 1478.5439982285295, "system_level_velocity_mean": 12.978817733077335, "cost1_mean": 346.02042579493667, "cost2_mean": -65.25953402155342, "outflow_rate_mean": 1240.0361859348266, "cost2_max": -31.70636801693113, "cost1_min": 278.0022986798169}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 37, "episode_reward_max": 1428.2649431145128, "hostname": "flow-main", "timesteps_this_iter": 62456, "time_since_restore": 1839.738080739975, "episode_reward_min": 1149.2319519770429, "episodes_total": 1040, "episodes_this_iter": 29, "timestamp": 1558416503, "time_total_s": 1839.738080739975, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.1, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "framestack": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "sample_async": false, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c069cf8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c069a90>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c069da0>"}, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 700.0, "experiment_id": "e07569c766b64210b97edcdc20a183b1", "info": {"num_steps_trained": 2387434, "sample_time_ms": 32377.376, "load_time_ms": 10.0, "grad_time_ms": 15798.741, "update_time_ms": 8.04, "default": {"policy_loss": -0.008162354119122028, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.7773615717887878, "total_loss": 42.45564270019531, "cur_kl_coeff": 0.14999999105930328, "vf_loss": 42.461280822753906, "kl": 0.01683853566646576, "entropy": 1.3681145906448364}, "num_steps_sampled": 2387434}, "done": false, "date": "2019-05-21_05-28-23"}
{"episode_reward_mean": 1253.327268519716, "timesteps_total": 2449394, "iterations_since_restore": 38, "timesteps_since_restore": 2449394, "num_metric_batches_dropped": 0, "pid": 343, "time_this_iter_s": 48.840160608291626, "custom_metrics": {"system_level_velocity_min": 10.587740700475747, "outflow_rate_min": 1090.9166232744874, "cost1_max": 423.9157945551842, "system_level_velocity_max": 15.79322112901588, "cost2_min": -101.87024253193314, "outflow_rate_max": 1449.5437467294607, "system_level_velocity_mean": 12.982764139379153, "cost1_mean": 346.0937023751368, "cost2_mean": -63.6612190409629, "outflow_rate_mean": 1231.252738864852, "cost2_max": -31.70636801693113, "cost1_min": 278.0022986798169}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 38, "episode_reward_max": 1428.2649431145128, "hostname": "flow-main", "timesteps_this_iter": 61960, "time_since_restore": 1888.5782413482666, "episode_reward_min": 1149.2319519770429, "episodes_total": 1067, "episodes_this_iter": 27, "timestamp": 1558416552, "time_total_s": 1888.5782413482666, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.1, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "framestack": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "sample_async": false, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfec1d0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfec358>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfecfd0>"}, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 700.0, "experiment_id": "e07569c766b64210b97edcdc20a183b1", "info": {"num_steps_trained": 2449394, "sample_time_ms": 32426.497, "load_time_ms": 10.573, "grad_time_ms": 15959.909, "update_time_ms": 8.086, "default": {"policy_loss": -0.008366369642317295, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.7937846779823303, "total_loss": 41.27690124511719, "cur_kl_coeff": 0.14999999105930328, "vf_loss": 41.28287887573242, "kl": 0.015889232978224754, "entropy": 1.3683053255081177}, "num_steps_sampled": 2449394}, "done": false, "date": "2019-05-21_05-29-12"}
{"episode_reward_mean": 1245.3182258850309, "timesteps_total": 2512166, "iterations_since_restore": 39, "timesteps_since_restore": 2512166, "num_metric_batches_dropped": 0, "pid": 343, "time_this_iter_s": 50.052977085113525, "custom_metrics": {"system_level_velocity_min": 10.661217256889335, "outflow_rate_min": 1090.9166232744874, "cost1_max": 411.65734180563925, "system_level_velocity_max": 15.422084741569556, "cost2_min": -94.0286658060368, "outflow_rate_max": 1400.6060816560941, "system_level_velocity_mean": 12.850180525635517, "cost1_mean": 342.1277450550372, "cost2_mean": -63.79406450507267, "outflow_rate_mean": 1227.8806846749603, "cost2_max": -32.54220628183923, "cost1_min": 278.0022986798169}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 39, "episode_reward_max": 1394.4926241398375, "hostname": "flow-main", "timesteps_this_iter": 62772, "time_since_restore": 1938.6312184333801, "episode_reward_min": 1113.991705567939, "episodes_total": 1095, "episodes_this_iter": 28, "timestamp": 1558416602, "time_total_s": 1938.6312184333801, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.1, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "framestack": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "sample_async": false, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c05dd68>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c046f98>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c05d748>"}, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 700.0, "experiment_id": "e07569c766b64210b97edcdc20a183b1", "info": {"num_steps_trained": 2512166, "sample_time_ms": 32442.544, "load_time_ms": 10.88, "grad_time_ms": 16062.388, "update_time_ms": 8.295, "default": {"policy_loss": -0.008872824721038342, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.7661871314048767, "total_loss": 43.262149810791016, "cur_kl_coeff": 0.15000000596046448, "vf_loss": 43.26844787597656, "kl": 0.0171685628592968, "entropy": 1.3617571592330933}, "num_steps_sampled": 2512166}, "done": false, "date": "2019-05-21_05-30-02"}
{"episode_reward_mean": 1243.6908138800145, "timesteps_total": 2574154, "iterations_since_restore": 40, "timesteps_since_restore": 2574154, "num_metric_batches_dropped": 0, "pid": 343, "time_this_iter_s": 47.88495850563049, "custom_metrics": {"system_level_velocity_min": 9.992205848931132, "outflow_rate_min": 1090.9166232744874, "cost1_max": 420.72865814823336, "system_level_velocity_max": 15.670270951317782, "cost2_min": -87.49698192335966, "outflow_rate_max": 1463.5734345224112, "system_level_velocity_mean": 12.960166283949832, "cost1_mean": 345.3150752701397, "cost2_mean": -61.875094849186524, "outflow_rate_mean": 1223.3447021518139, "cost2_max": -32.54220628183923, "cost1_min": 263.8392015743691}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 40, "episode_reward_max": 1418.7200221658588, "hostname": "flow-main", "timesteps_this_iter": 61988, "time_since_restore": 1986.5161769390106, "episode_reward_min": 1113.991705567939, "episodes_total": 1124, "episodes_this_iter": 29, "timestamp": 1558416650, "time_total_s": 1986.5161769390106, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.1, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "framestack": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "sample_async": false, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c069f28>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c069240>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c069160>"}, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 700.0, "experiment_id": "e07569c766b64210b97edcdc20a183b1", "info": {"num_steps_trained": 2574154, "sample_time_ms": 32354.835, "load_time_ms": 10.948, "grad_time_ms": 15949.431, "update_time_ms": 8.296, "default": {"policy_loss": -0.009505720809102058, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.7793338298797607, "total_loss": 43.83451843261719, "cur_kl_coeff": 0.14999999105930328, "vf_loss": 43.84137725830078, "kl": 0.017660265788435936, "entropy": 1.3644343614578247}, "num_steps_sampled": 2574154}, "done": false, "date": "2019-05-21_05-30-50"}
{"episode_reward_mean": 1247.3284882093544, "timesteps_total": 2635337, "iterations_since_restore": 41, "timesteps_since_restore": 2635337, "num_metric_batches_dropped": 0, "pid": 343, "time_this_iter_s": 46.38954138755798, "custom_metrics": {"system_level_velocity_min": 9.992205848931132, "outflow_rate_min": 1084.1871219478194, "cost1_max": 421.5416599773537, "system_level_velocity_max": 15.79490663673916, "cost2_min": -87.49698192335966, "outflow_rate_max": 1463.5734345224112, "system_level_velocity_mean": 13.081473277098263, "cost1_mean": 348.4465791235411, "cost2_mean": -61.315149191286054, "outflow_rate_mean": 1232.344718607533, "cost2_max": -34.00772515794756, "cost1_min": 263.8392015743691}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 41, "episode_reward_max": 1418.7200221658588, "hostname": "flow-main", "timesteps_this_iter": 61183, "time_since_restore": 2032.9057183265686, "episode_reward_min": 1111.5237517382204, "episodes_total": 1153, "episodes_this_iter": 29, "timestamp": 1558416696, "time_total_s": 2032.9057183265686, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.1, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "framestack": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "sample_async": false, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c04ce10>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c04cc88>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c04cdd8>"}, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 700.0, "experiment_id": "e07569c766b64210b97edcdc20a183b1", "info": {"num_steps_trained": 2635337, "sample_time_ms": 32246.075, "load_time_ms": 9.886, "grad_time_ms": 15966.087, "update_time_ms": 8.33, "default": {"policy_loss": -0.0101787643507123, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.8070758581161499, "total_loss": 39.33124542236328, "cur_kl_coeff": 0.15000000596046448, "vf_loss": 39.33871078491211, "kl": 0.018081428483128548, "entropy": 1.3628085851669312}, "num_steps_sampled": 2635337}, "done": false, "date": "2019-05-21_05-31-36"}
{"episode_reward_mean": 1238.6473803787112, "timesteps_total": 2697703, "iterations_since_restore": 42, "timesteps_since_restore": 2697703, "num_metric_batches_dropped": 0, "pid": 343, "time_this_iter_s": 48.877521991729736, "custom_metrics": {"system_level_velocity_min": 9.992205848931132, "outflow_rate_min": 1081.3417287831167, "cost1_max": 421.5416599773537, "system_level_velocity_max": 15.79490663673916, "cost2_min": -87.49698192335966, "outflow_rate_max": 1463.5734345224112, "system_level_velocity_mean": 13.08368581478151, "cost1_mean": 348.34772788623735, "cost2_mean": -60.654428079422296, "outflow_rate_mean": 1227.9476525509892, "cost2_max": -34.00772515794756, "cost1_min": 263.8392015743691}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 42, "episode_reward_max": 1418.7200221658588, "hostname": "flow-main", "timesteps_this_iter": 62366, "time_since_restore": 2081.7832403182983, "episode_reward_min": 1082.7317408368197, "episodes_total": 1184, "episodes_this_iter": 31, "timestamp": 1558416745, "time_total_s": 2081.7832403182983, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.1, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "framestack": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "sample_async": false, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bff00b8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bff0f98>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bff0e80>"}, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 700.0, "experiment_id": "e07569c766b64210b97edcdc20a183b1", "info": {"num_steps_trained": 2697703, "sample_time_ms": 32274.421, "load_time_ms": 9.817, "grad_time_ms": 15994.891, "update_time_ms": 8.477, "default": {"policy_loss": -0.008431593887507915, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.7737183570861816, "total_loss": 44.694515228271484, "cur_kl_coeff": 0.14999999105930328, "vf_loss": 44.70024871826172, "kl": 0.018007172271609306, "entropy": 1.3826253414154053}, "num_steps_sampled": 2697703}, "done": false, "date": "2019-05-21_05-32-25"}
{"episode_reward_mean": 1242.1638251815152, "timesteps_total": 2757104, "iterations_since_restore": 43, "timesteps_since_restore": 2757104, "num_metric_batches_dropped": 0, "pid": 343, "time_this_iter_s": 45.49861764907837, "custom_metrics": {"system_level_velocity_min": 10.532328474054157, "outflow_rate_min": 1068.676199955976, "cost1_max": 422.73085002363086, "system_level_velocity_max": 15.79490663673916, "cost2_min": -87.02573403736956, "outflow_rate_max": 1463.5734345224112, "system_level_velocity_mean": 13.304968158380293, "cost1_mean": 354.1422901472771, "cost2_mean": -57.71192711491166, "outflow_rate_mean": 1234.206683736531, "cost2_max": -32.65412291004756, "cost1_min": 277.37211849567143}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 43, "episode_reward_max": 1418.7200221658588, "hostname": "flow-main", "timesteps_this_iter": 59401, "time_since_restore": 2127.2818579673767, "episode_reward_min": 1082.7317408368197, "episodes_total": 1213, "episodes_this_iter": 29, "timestamp": 1558416791, "time_total_s": 2127.2818579673767, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.1, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "framestack": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "sample_async": false, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c069c88>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfec8d0>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfecda0>"}, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 700.0, "experiment_id": "e07569c766b64210b97edcdc20a183b1", "info": {"num_steps_trained": 2757104, "sample_time_ms": 32221.186, "load_time_ms": 8.859, "grad_time_ms": 15651.691, "update_time_ms": 8.407, "default": {"policy_loss": -0.00921271089464426, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.7797934412956238, "total_loss": 48.123477935791016, "cur_kl_coeff": 0.14999999105930328, "vf_loss": 48.130001068115234, "kl": 0.01792888715863228, "entropy": 1.3632328510284424}, "num_steps_sampled": 2757104}, "done": false, "date": "2019-05-21_05-33-11"}
{"episode_reward_mean": 1225.8365849611755, "timesteps_total": 2818178, "iterations_since_restore": 44, "timesteps_since_restore": 2818178, "num_metric_batches_dropped": 0, "pid": 343, "time_this_iter_s": 45.90328574180603, "custom_metrics": {"system_level_velocity_min": 10.532328474054157, "outflow_rate_min": 1054.7881849540245, "cost1_max": 422.73085002363086, "system_level_velocity_max": 15.765259631131874, "cost2_min": -87.02573403736956, "outflow_rate_max": 1461.8530942779532, "system_level_velocity_mean": 13.112824286210824, "cost1_mean": 348.64041011489905, "cost2_mean": -58.50327629410652, "outflow_rate_mean": 1217.8133398717155, "cost2_max": -32.65412291004756, "cost1_min": 277.37211849567143}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 44, "episode_reward_max": 1406.8193356408985, "hostname": "flow-main", "timesteps_this_iter": 61074, "time_since_restore": 2173.1851437091827, "episode_reward_min": 1082.7317408368197, "episodes_total": 1240, "episodes_this_iter": 27, "timestamp": 1558416837, "time_total_s": 2173.1851437091827, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.1, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "framestack": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "sample_async": false, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c05dfd0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c0690f0>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c069dd8>"}, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 700.0, "experiment_id": "e07569c766b64210b97edcdc20a183b1", "info": {"num_steps_trained": 2818178, "sample_time_ms": 32127.543, "load_time_ms": 9.137, "grad_time_ms": 15468.227, "update_time_ms": 8.446, "default": {"policy_loss": -0.010933890007436275, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.7804310321807861, "total_loss": 42.87545394897461, "cur_kl_coeff": 0.15000000596046448, "vf_loss": 42.883460998535156, "kl": 0.019490379840135574, "entropy": 1.3841722011566162}, "num_steps_sampled": 2818178}, "done": false, "date": "2019-05-21_05-33-57"}
{"episode_reward_mean": 1221.7687819833102, "timesteps_total": 2877098, "iterations_since_restore": 45, "timesteps_since_restore": 2877098, "num_metric_batches_dropped": 0, "pid": 343, "time_this_iter_s": 48.07325077056885, "custom_metrics": {"system_level_velocity_min": 10.397469333706129, "outflow_rate_min": 1054.7881849540245, "cost1_max": 428.5985957037328, "system_level_velocity_max": 16.057355730346902, "cost2_min": -87.02573403736956, "outflow_rate_max": 1461.8530942779532, "system_level_velocity_mean": 13.207804057651858, "cost1_mean": 351.26386341528445, "cost2_mean": -56.31543490411318, "outflow_rate_mean": 1217.0901897132014, "cost2_max": -30.38412183684858, "cost1_min": 270.84022056973856}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 45, "episode_reward_max": 1406.8193356408985, "hostname": "flow-main", "timesteps_this_iter": 58920, "time_since_restore": 2221.2583944797516, "episode_reward_min": 1026.2577388936907, "episodes_total": 1269, "episodes_this_iter": 29, "timestamp": 1558416885, "time_total_s": 2221.2583944797516, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.1, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "framestack": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "sample_async": false, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfec898>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfec828>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfec048>"}, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 700.0, "experiment_id": "e07569c766b64210b97edcdc20a183b1", "info": {"num_steps_trained": 2877098, "sample_time_ms": 32204.715, "load_time_ms": 9.207, "grad_time_ms": 15279.693, "update_time_ms": 8.448, "default": {"policy_loss": -0.010189064778387547, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.784268856048584, "total_loss": 44.453773498535156, "cur_kl_coeff": 0.15000000596046448, "vf_loss": 44.46137237548828, "kl": 0.0172878485172987, "entropy": 1.373185157775879}, "num_steps_sampled": 2877098}, "done": false, "date": "2019-05-21_05-34-45"}
{"episode_reward_mean": 1227.5013573123774, "timesteps_total": 2937359, "iterations_since_restore": 46, "timesteps_since_restore": 2937359, "num_metric_batches_dropped": 0, "pid": 343, "time_this_iter_s": 47.321213722229004, "custom_metrics": {"system_level_velocity_min": 10.306027760646574, "outflow_rate_min": 1054.7881849540245, "cost1_max": 428.5985957037328, "system_level_velocity_max": 16.057355730346902, "cost2_min": -78.84323729393448, "outflow_rate_max": 1461.8530942779532, "system_level_velocity_mean": 13.39670085464537, "cost1_mean": 356.72184752282743, "cost2_mean": -53.47785443526446, "outflow_rate_mean": 1222.8399547342167, "cost2_max": -30.38412183684858, "cost1_min": 270.84022056973856}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 46, "episode_reward_max": 1406.8193356408985, "hostname": "flow-main", "timesteps_this_iter": 60261, "time_since_restore": 2268.5796082019806, "episode_reward_min": 1026.2577388936907, "episodes_total": 1297, "episodes_this_iter": 28, "timestamp": 1558416932, "time_total_s": 2268.5796082019806, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.1, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "framestack": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "sample_async": false, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bff0128>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bff0e48>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bff0780>"}, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 700.0, "experiment_id": "e07569c766b64210b97edcdc20a183b1", "info": {"num_steps_trained": 2937359, "sample_time_ms": 32059.981, "load_time_ms": 9.592, "grad_time_ms": 15318.123, "update_time_ms": 8.238, "default": {"policy_loss": -0.010414276272058487, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.755325198173523, "total_loss": 48.18694305419922, "cur_kl_coeff": 0.15000000596046448, "vf_loss": 48.194374084472656, "kl": 0.019944049417972565, "entropy": 1.3890857696533203}, "num_steps_sampled": 2937359}, "done": false, "date": "2019-05-21_05-35-32"}
{"episode_reward_mean": 1225.7539595148908, "timesteps_total": 2997255, "iterations_since_restore": 47, "timesteps_since_restore": 2997255, "num_metric_batches_dropped": 0, "pid": 343, "time_this_iter_s": 48.202282667160034, "custom_metrics": {"system_level_velocity_min": 10.306027760646574, "outflow_rate_min": 1042.768125, "cost1_max": 431.5098370153904, "system_level_velocity_max": 16.09490529266, "cost2_min": -84.28518032455756, "outflow_rate_max": 1466.6145045592705, "system_level_velocity_mean": 13.32975261688829, "cost1_mean": 355.1806774414306, "cost2_mean": -52.66884710518665, "outflow_rate_mean": 1221.302933901469, "cost2_max": -26.9428243841857, "cost1_min": 270.84022056973856}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 47, "episode_reward_max": 1434.813556967215, "hostname": "flow-main", "timesteps_this_iter": 59896, "time_since_restore": 2316.7818908691406, "episode_reward_min": 1026.2577388936907, "episodes_total": 1328, "episodes_this_iter": 31, "timestamp": 1558416980, "time_total_s": 2316.7818908691406, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.1, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "framestack": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "sample_async": false, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c056b38>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c056cc0>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c056978>"}, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 700.0, "experiment_id": "e07569c766b64210b97edcdc20a183b1", "info": {"num_steps_trained": 2997255, "sample_time_ms": 32140.607, "load_time_ms": 10.014, "grad_time_ms": 15434.982, "update_time_ms": 8.285, "default": {"policy_loss": -0.010850216262042522, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.7416101098060608, "total_loss": 52.165767669677734, "cur_kl_coeff": 0.15000000596046448, "vf_loss": 52.17352294921875, "kl": 0.02067168988287449, "entropy": 1.3933883905410767}, "num_steps_sampled": 2997255}, "done": false, "date": "2019-05-21_05-36-20"}
{"episode_reward_mean": 1222.6796141294276, "timesteps_total": 3056971, "iterations_since_restore": 48, "timesteps_since_restore": 3056971, "num_metric_batches_dropped": 0, "pid": 343, "time_this_iter_s": 46.117480516433716, "custom_metrics": {"system_level_velocity_min": 10.306027760646574, "outflow_rate_min": 1042.768125, "cost1_max": 433.9313141235168, "system_level_velocity_max": 16.226219851827047, "cost2_min": -84.28518032455756, "outflow_rate_max": 1468.8500840866911, "system_level_velocity_mean": 13.249317498456673, "cost1_mean": 353.1374763046469, "cost2_mean": -52.06853482097881, "outflow_rate_mean": 1218.1947731341402, "cost2_max": -26.9428243841857, "cost1_min": 270.84022056973856}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 48, "episode_reward_max": 1434.813556967215, "hostname": "flow-main", "timesteps_this_iter": 59716, "time_since_restore": 2362.8993713855743, "episode_reward_min": 1026.2577388936907, "episodes_total": 1356, "episodes_this_iter": 28, "timestamp": 1558417026, "time_total_s": 2362.8993713855743, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.1, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "framestack": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "sample_async": false, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c069160>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c0697b8>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c0690f0>"}, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 700.0, "experiment_id": "e07569c766b64210b97edcdc20a183b1", "info": {"num_steps_trained": 3056971, "sample_time_ms": 31874.812, "load_time_ms": 9.845, "grad_time_ms": 15429.333, "update_time_ms": 8.539, "default": {"policy_loss": -0.008717313408851624, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.766833484172821, "total_loss": 46.19683837890625, "cur_kl_coeff": 0.22499997913837433, "vf_loss": 46.20201110839844, "kl": 0.015759916976094246, "entropy": 1.404380202293396}, "num_steps_sampled": 3056971}, "done": false, "date": "2019-05-21_05-37-06"}
{"episode_reward_mean": 1239.8350958029823, "timesteps_total": 3116511, "iterations_since_restore": 49, "timesteps_since_restore": 3116511, "num_metric_batches_dropped": 0, "pid": 343, "time_this_iter_s": 47.172173500061035, "custom_metrics": {"system_level_velocity_min": 10.306027760646574, "outflow_rate_min": 1042.768125, "cost1_max": 433.9313141235168, "system_level_velocity_max": 16.226219851827047, "cost2_min": -87.92411493019789, "outflow_rate_max": 1468.8500840866911, "system_level_velocity_mean": 13.34066856134421, "cost1_mean": 356.0261159724989, "cost2_mean": -51.50419044254591, "outflow_rate_mean": 1232.2406938111128, "cost2_max": -26.9428243841857, "cost1_min": 272.02998351003754}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 49, "episode_reward_max": 1434.813556967215, "hostname": "flow-main", "timesteps_this_iter": 59540, "time_since_restore": 2410.0715448856354, "episode_reward_min": 1068.060735479009, "episodes_total": 1385, "episodes_this_iter": 29, "timestamp": 1558417074, "time_total_s": 2410.0715448856354, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.1, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "framestack": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "sample_async": false, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c056518>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c056b38>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c0562e8>"}, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 700.0, "experiment_id": "e07569c766b64210b97edcdc20a183b1", "info": {"num_steps_trained": 3116511, "sample_time_ms": 31658.519, "load_time_ms": 9.748, "grad_time_ms": 15358.556, "update_time_ms": 8.436, "default": {"policy_loss": -0.011429950594902039, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.7660326957702637, "total_loss": 46.84737014770508, "cur_kl_coeff": 0.22499996423721313, "vf_loss": 46.854942321777344, "kl": 0.017162257805466652, "entropy": 1.4044586420059204}, "num_steps_sampled": 3116511}, "done": false, "date": "2019-05-21_05-37-54"}
{"episode_reward_mean": 1242.6030332872097, "timesteps_total": 3175422, "iterations_since_restore": 50, "timesteps_since_restore": 3175422, "num_metric_batches_dropped": 0, "pid": 343, "time_this_iter_s": 45.9017493724823, "custom_metrics": {"system_level_velocity_min": 10.818724680469327, "outflow_rate_min": 1077.06479767184, "cost1_max": 433.9313141235168, "system_level_velocity_max": 16.226219851827047, "cost2_min": -87.92411493019789, "outflow_rate_max": 1468.8500840866911, "system_level_velocity_mean": 13.404860055813153, "cost1_mean": 358.00171353945484, "cost2_mean": -50.334737184740824, "outflow_rate_mean": 1234.305057888423, "cost2_max": -28.960233204097747, "cost1_min": 285.93734166141644}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 50, "episode_reward_max": 1431.90639697689, "hostname": "flow-main", "timesteps_this_iter": 58911, "time_since_restore": 2455.9732942581177, "episode_reward_min": 1089.1592433905184, "episodes_total": 1413, "episodes_this_iter": 28, "timestamp": 1558417120, "time_total_s": 2455.9732942581177, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.1, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "framestack": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "sample_async": false, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c05dd68>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c05d6d8>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c05d7f0>"}, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 700.0, "experiment_id": "e07569c766b64210b97edcdc20a183b1", "info": {"num_steps_trained": 3175422, "sample_time_ms": 31440.211, "load_time_ms": 9.609, "grad_time_ms": 15378.48, "update_time_ms": 8.439, "default": {"policy_loss": -0.009459641762077808, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.7328827977180481, "total_loss": 51.83608627319336, "cur_kl_coeff": 0.22499996423721313, "vf_loss": 51.8419303894043, "kl": 0.016075167804956436, "entropy": 1.4195772409439087}, "num_steps_sampled": 3175422}, "done": false, "date": "2019-05-21_05-38-40"}
{"episode_reward_mean": 1240.0765012983697, "timesteps_total": 3234364, "iterations_since_restore": 51, "timesteps_since_restore": 3234364, "num_metric_batches_dropped": 0, "pid": 343, "time_this_iter_s": 44.808764696121216, "custom_metrics": {"system_level_velocity_min": 10.52278838170266, "outflow_rate_min": 912.3983278549789, "cost1_max": 419.565035197996, "system_level_velocity_max": 15.594032239007918, "cost2_min": -87.92411493019789, "outflow_rate_max": 1449.6866172048037, "system_level_velocity_mean": 13.35752710580653, "cost1_mean": 357.02388692768255, "cost2_mean": -50.174071644807235, "outflow_rate_mean": 1237.1526709221632, "cost2_max": -29.876237693626834, "cost1_min": 278.4897609853151}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 51, "episode_reward_max": 1424.3808835308118, "hostname": "flow-main", "timesteps_this_iter": 58942, "time_since_restore": 2500.782058954239, "episode_reward_min": 950.857896606203, "episodes_total": 1442, "episodes_this_iter": 29, "timestamp": 1558417165, "time_total_s": 2500.782058954239, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.1, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "framestack": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "sample_async": false, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bff06d8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bff0da0>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bff02b0>"}, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 700.0, "experiment_id": "e07569c766b64210b97edcdc20a183b1", "info": {"num_steps_trained": 3234364, "sample_time_ms": 31209.411, "load_time_ms": 9.201, "grad_time_ms": 15452.593, "update_time_ms": 8.301, "default": {"policy_loss": -0.009999505244195461, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.7448466420173645, "total_loss": 49.571746826171875, "cur_kl_coeff": 0.22499996423721313, "vf_loss": 49.57810974121094, "kl": 0.016154218465089798, "entropy": 1.424904465675354}, "num_steps_sampled": 3234364}, "done": false, "date": "2019-05-21_05-39-25"}
{"episode_reward_mean": 1241.2271507304558, "timesteps_total": 3292607, "iterations_since_restore": 52, "timesteps_since_restore": 3292607, "num_metric_batches_dropped": 0, "pid": 343, "time_this_iter_s": 43.3957405090332, "custom_metrics": {"system_level_velocity_min": 10.091570828377376, "outflow_rate_min": 912.3983278549789, "cost1_max": 419.565035197996, "system_level_velocity_max": 15.596738477002603, "cost2_min": -78.05626558181295, "outflow_rate_max": 1449.6866172048037, "system_level_velocity_mean": 13.392900705080804, "cost1_mean": 358.18617897958416, "cost2_mean": -49.11659811326052, "outflow_rate_mean": 1240.5790267778048, "cost2_max": -25.53602991485253, "cost1_min": 269.8205794945284}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 52, "episode_reward_max": 1424.3808835308118, "hostname": "flow-main", "timesteps_this_iter": 58243, "time_since_restore": 2544.177799463272, "episode_reward_min": 950.857896606203, "episodes_total": 1473, "episodes_this_iter": 31, "timestamp": 1558417208, "time_total_s": 2544.177799463272, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.1, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "framestack": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "sample_async": false, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c05d438>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c05d780>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c05d4e0>"}, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 700.0, "experiment_id": "e07569c766b64210b97edcdc20a183b1", "info": {"num_steps_trained": 3292607, "sample_time_ms": 30823.365, "load_time_ms": 9.163, "grad_time_ms": 15290.949, "update_time_ms": 8.235, "default": {"policy_loss": -0.01286668237298727, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.7148597240447998, "total_loss": 53.492191314697266, "cur_kl_coeff": 0.22499997913837433, "vf_loss": 53.501007080078125, "kl": 0.018012063577771187, "entropy": 1.4224724769592285}, "num_steps_sampled": 3292607}, "done": false, "date": "2019-05-21_05-40-08"}
{"episode_reward_mean": 1235.4554628981298, "timesteps_total": 3351241, "iterations_since_restore": 53, "timesteps_since_restore": 3351241, "num_metric_batches_dropped": 0, "pid": 343, "time_this_iter_s": 42.49873924255371, "custom_metrics": {"system_level_velocity_min": 10.091570828377376, "outflow_rate_min": 912.3983278549789, "cost1_max": 419.565035197996, "system_level_velocity_max": 15.596738477002603, "cost2_min": -77.91689393637162, "outflow_rate_max": 1449.6866172048037, "system_level_velocity_mean": 13.302296580433097, "cost1_mean": 355.95101720292996, "cost2_mean": -48.54382033271944, "outflow_rate_mean": 1237.1406684189647, "cost2_max": -25.53602991485253, "cost1_min": 269.8205794945284}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 53, "episode_reward_max": 1424.3808835308118, "hostname": "flow-main", "timesteps_this_iter": 58634, "time_since_restore": 2586.676538705826, "episode_reward_min": 950.857896606203, "episodes_total": 1502, "episodes_this_iter": 29, "timestamp": 1558417251, "time_total_s": 2586.676538705826, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.1, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "framestack": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "sample_async": false, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c04c898>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c069cf8>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c0692e8>"}, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 700.0, "experiment_id": "e07569c766b64210b97edcdc20a183b1", "info": {"num_steps_trained": 3351241, "sample_time_ms": 30635.704, "load_time_ms": 9.095, "grad_time_ms": 15178.689, "update_time_ms": 8.539, "default": {"policy_loss": -0.010452674701809883, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.724334180355072, "total_loss": 49.30190658569336, "cur_kl_coeff": 0.22499997913837433, "vf_loss": 49.308494567871094, "kl": 0.017199333757162094, "entropy": 1.435656189918518}, "num_steps_sampled": 3351241}, "done": false, "date": "2019-05-21_05-40-51"}
{"episode_reward_mean": 1231.2571335506761, "timesteps_total": 3410930, "iterations_since_restore": 54, "timesteps_since_restore": 3410930, "num_metric_batches_dropped": 0, "pid": 343, "time_this_iter_s": 45.72180151939392, "custom_metrics": {"system_level_velocity_min": 10.065522472268066, "outflow_rate_min": 1001.3568141056024, "cost1_max": 419.37981548228316, "system_level_velocity_max": 15.596738477002603, "cost2_min": -77.91689393637162, "outflow_rate_max": 1412.9650340463104, "system_level_velocity_mean": 13.190912244103949, "cost1_mean": 352.75494640966406, "cost2_mean": -49.456017803242304, "outflow_rate_mean": 1231.1337136917914, "cost2_max": -25.53602991485253, "cost1_min": 265.6893013752963}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 54, "episode_reward_max": 1398.3307849342882, "hostname": "flow-main", "timesteps_this_iter": 59689, "time_since_restore": 2632.3983402252197, "episode_reward_min": 1058.8767718256518, "episodes_total": 1530, "episodes_this_iter": 28, "timestamp": 1558417296, "time_total_s": 2632.3983402252197, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.1, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "framestack": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "sample_async": false, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c05d908>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c05da90>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c05dda0>"}, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 700.0, "experiment_id": "e07569c766b64210b97edcdc20a183b1", "info": {"num_steps_trained": 3410930, "sample_time_ms": 30489.258, "load_time_ms": 9.451, "grad_time_ms": 15300.915, "update_time_ms": 8.51, "default": {"policy_loss": -0.010054179467260838, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.7185243964195251, "total_loss": 49.294342041015625, "cur_kl_coeff": 0.22499997913837433, "vf_loss": 49.300689697265625, "kl": 0.016475073993206024, "entropy": 1.4400802850723267}, "num_steps_sampled": 3410930}, "done": false, "date": "2019-05-21_05-41-36"}
{"episode_reward_mean": 1232.6021453692558, "timesteps_total": 3470345, "iterations_since_restore": 55, "timesteps_since_restore": 3470345, "num_metric_batches_dropped": 0, "pid": 343, "time_this_iter_s": 48.00086164474487, "custom_metrics": {"system_level_velocity_min": 10.065522472268066, "outflow_rate_min": 1076.1240794194719, "cost1_max": 412.09402694821, "system_level_velocity_max": 15.34479174266138, "cost2_min": -77.55326430537907, "outflow_rate_max": 1411.275928716021, "system_level_velocity_mean": 13.288098613812844, "cost1_mean": 355.12855027658776, "cost2_mean": -49.01557470986476, "outflow_rate_mean": 1230.7472499571124, "cost2_max": -25.73831125240713, "cost1_min": 265.6893013752963}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 55, "episode_reward_max": 1398.3307849342882, "hostname": "flow-main", "timesteps_this_iter": 59415, "time_since_restore": 2680.3992018699646, "episode_reward_min": 1041.94360546288, "episodes_total": 1558, "episodes_this_iter": 28, "timestamp": 1558417344, "time_total_s": 2680.3992018699646, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.1, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "framestack": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "sample_async": false, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c04c080>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c04cac8>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c04ceb8>"}, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 700.0, "experiment_id": "e07569c766b64210b97edcdc20a183b1", "info": {"num_steps_trained": 3470345, "sample_time_ms": 30404.866, "load_time_ms": 9.436, "grad_time_ms": 15377.306, "update_time_ms": 8.534, "default": {"policy_loss": -0.011523863300681114, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.7144003510475159, "total_loss": 52.77765655517578, "cur_kl_coeff": 0.22499996423721313, "vf_loss": 52.78535842895508, "kl": 0.01701146364212036, "entropy": 1.443580985069275}, "num_steps_sampled": 3470345}, "done": false, "date": "2019-05-21_05-42-24"}
{"episode_reward_mean": 1222.5508315924797, "timesteps_total": 3530402, "iterations_since_restore": 56, "timesteps_since_restore": 3530402, "num_metric_batches_dropped": 0, "pid": 343, "time_this_iter_s": 44.53529953956604, "custom_metrics": {"system_level_velocity_min": 10.065522472268066, "outflow_rate_min": 992.5072220288563, "cost1_max": 430.67086424861293, "system_level_velocity_max": 16.078333621482965, "cost2_min": -77.55326430537907, "outflow_rate_max": 1430.39780675696, "system_level_velocity_mean": 13.112107755405692, "cost1_mean": 349.855028117167, "cost2_mean": -51.12790527262595, "outflow_rate_mean": 1219.9019089659578, "cost2_max": -26.847373863767324, "cost1_min": 265.6893013752963}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 56, "episode_reward_max": 1405.732139534834, "hostname": "flow-main", "timesteps_this_iter": 60057, "time_since_restore": 2724.9345014095306, "episode_reward_min": 1041.94360546288, "episodes_total": 1585, "episodes_this_iter": 27, "timestamp": 1558417389, "time_total_s": 2724.9345014095306, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.1, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "framestack": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "sample_async": false, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bff0a58>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bff0470>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bff06a0>"}, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 700.0, "experiment_id": "e07569c766b64210b97edcdc20a183b1", "info": {"num_steps_trained": 3530402, "sample_time_ms": 30467.956, "load_time_ms": 9.314, "grad_time_ms": 15036.116, "update_time_ms": 8.5, "default": {"policy_loss": -0.011985532939434052, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.7476338148117065, "total_loss": 45.650543212890625, "cur_kl_coeff": 0.22499999403953552, "vf_loss": 45.65855026245117, "kl": 0.01769440621137619, "entropy": 1.4501056671142578}, "num_steps_sampled": 3530402}, "done": false, "date": "2019-05-21_05-43-09"}
{"episode_reward_mean": 1227.3857585993712, "timesteps_total": 3589663, "iterations_since_restore": 57, "timesteps_since_restore": 3589663, "num_metric_batches_dropped": 0, "pid": 343, "time_this_iter_s": 45.397199630737305, "custom_metrics": {"system_level_velocity_min": 10.065522472268066, "outflow_rate_min": 992.5072220288563, "cost1_max": 430.67086424861293, "system_level_velocity_max": 16.078333621482965, "cost2_min": -74.92081500000415, "outflow_rate_max": 1450.3447299839725, "system_level_velocity_mean": 13.209013970721191, "cost1_mean": 352.50173380817256, "cost2_mean": -50.434911139500585, "outflow_rate_mean": 1224.1521436565681, "cost2_max": -26.847373863767324, "cost1_min": 265.6893013752963}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 57, "episode_reward_max": 1433.2232124685327, "hostname": "flow-main", "timesteps_this_iter": 59261, "time_since_restore": 2770.331701040268, "episode_reward_min": 1041.94360546288, "episodes_total": 1616, "episodes_this_iter": 31, "timestamp": 1558417434, "time_total_s": 2770.331701040268, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.1, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "framestack": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "sample_async": false, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c04cba8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c04cc88>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c04cef0>"}, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 700.0, "experiment_id": "e07569c766b64210b97edcdc20a183b1", "info": {"num_steps_trained": 3589663, "sample_time_ms": 30310.09, "load_time_ms": 9.225, "grad_time_ms": 14915.948, "update_time_ms": 8.273, "default": {"policy_loss": -0.010584399104118347, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.7073273062705994, "total_loss": 53.78569793701172, "cur_kl_coeff": 0.22499997913837433, "vf_loss": 53.79237747192383, "kl": 0.017354581505060196, "entropy": 1.4600600004196167}, "num_steps_sampled": 3589663}, "done": false, "date": "2019-05-21_05-43-54"}
{"episode_reward_mean": 1229.8085953121806, "timesteps_total": 3648029, "iterations_since_restore": 58, "timesteps_since_restore": 3648029, "num_metric_batches_dropped": 0, "pid": 343, "time_this_iter_s": 47.4552788734436, "custom_metrics": {"system_level_velocity_min": 10.360463280102932, "outflow_rate_min": 992.5072220288563, "cost1_max": 432.698161968554, "system_level_velocity_max": 16.109725186723633, "cost2_min": -74.92081500000415, "outflow_rate_max": 1471.3899163523356, "system_level_velocity_mean": 13.235173848147916, "cost1_mean": 353.18465124610594, "cost2_mean": -50.46404941351599, "outflow_rate_mean": 1225.7500759791326, "cost2_max": -25.246045117398765, "cost1_min": 271.2847188307961}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 58, "episode_reward_max": 1433.2232124685327, "hostname": "flow-main", "timesteps_this_iter": 58366, "time_since_restore": 2817.7869799137115, "episode_reward_min": 1065.270556050409, "episodes_total": 1645, "episodes_this_iter": 29, "timestamp": 1558417482, "time_total_s": 2817.7869799137115, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.1, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "framestack": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "sample_async": false, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfec908>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c046a20>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfec7f0>"}, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 700.0, "experiment_id": "e07569c766b64210b97edcdc20a183b1", "info": {"num_steps_trained": 3648029, "sample_time_ms": 30390.162, "load_time_ms": 9.273, "grad_time_ms": 14969.935, "update_time_ms": 8.401, "default": {"policy_loss": -0.010639325715601444, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.7265099287033081, "total_loss": 51.93801498413086, "cur_kl_coeff": 0.22499997913837433, "vf_loss": 51.94466018676758, "kl": 0.01774771884083748, "entropy": 1.4318828582763672}, "num_steps_sampled": 3648029}, "done": false, "date": "2019-05-21_05-44-42"}
{"episode_reward_mean": 1239.4459779379854, "timesteps_total": 3706743, "iterations_since_restore": 59, "timesteps_since_restore": 3706743, "num_metric_batches_dropped": 0, "pid": 343, "time_this_iter_s": 47.38728046417236, "custom_metrics": {"system_level_velocity_min": 10.423012311548062, "outflow_rate_min": 1058.6506456987988, "cost1_max": 432.698161968554, "system_level_velocity_max": 16.109725186723633, "cost2_min": -73.47653240309208, "outflow_rate_max": 1471.3899163523356, "system_level_velocity_mean": 13.391797609168998, "cost1_mean": 357.6497720889208, "cost2_mean": -48.88172312419635, "outflow_rate_mean": 1234.9531551241328, "cost2_max": -23.75038649705224, "cost1_min": 273.93071828062375}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 59, "episode_reward_max": 1433.2232124685327, "hostname": "flow-main", "timesteps_this_iter": 58714, "time_since_restore": 2865.174260377884, "episode_reward_min": 1065.270556050409, "episodes_total": 1675, "episodes_this_iter": 30, "timestamp": 1558417529, "time_total_s": 2865.174260377884, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.1, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "framestack": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "sample_async": false, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c05de10>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c05d908>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c05d1d0>"}, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 700.0, "experiment_id": "e07569c766b64210b97edcdc20a183b1", "info": {"num_steps_trained": 3706743, "sample_time_ms": 30445.079, "load_time_ms": 9.334, "grad_time_ms": 14936.856, "update_time_ms": 8.571, "default": {"policy_loss": -0.009728793054819107, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.7081769108772278, "total_loss": 56.20371627807617, "cur_kl_coeff": 0.22499997913837433, "vf_loss": 56.20953369140625, "kl": 0.01736743561923504, "entropy": 1.435738205909729}, "num_steps_sampled": 3706743}, "done": false, "date": "2019-05-21_05-45-29"}
{"episode_reward_mean": 1235.514415799878, "timesteps_total": 3764742, "iterations_since_restore": 60, "timesteps_since_restore": 3764742, "num_metric_batches_dropped": 0, "pid": 343, "time_this_iter_s": 43.75620460510254, "custom_metrics": {"system_level_velocity_min": 10.423012311548062, "outflow_rate_min": 1065.6638228438233, "cost1_max": 432.698161968554, "system_level_velocity_max": 16.109725186723633, "cost2_min": -76.28067278086412, "outflow_rate_max": 1471.3899163523356, "system_level_velocity_mean": 13.374653085134574, "cost1_mean": 357.149817366682, "cost2_mean": -48.03023261134072, "outflow_rate_mean": 1229.896467448575, "cost2_max": -23.75038649705224, "cost1_min": 273.93071828062375}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 60, "episode_reward_max": 1431.0922910641527, "hostname": "flow-main", "timesteps_this_iter": 57999, "time_since_restore": 2908.9304649829865, "episode_reward_min": 1086.8426166366964, "episodes_total": 1703, "episodes_this_iter": 28, "timestamp": 1558417573, "time_total_s": 2908.9304649829865, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.1, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "framestack": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "sample_async": false, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c069ba8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c0692e8>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c0695c0>"}, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 700.0, "experiment_id": "e07569c766b64210b97edcdc20a183b1", "info": {"num_steps_trained": 3764742, "sample_time_ms": 30345.908, "load_time_ms": 9.405, "grad_time_ms": 14821.12, "update_time_ms": 8.409, "default": {"policy_loss": -0.011975650675594807, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.7482814788818359, "total_loss": 47.88682174682617, "cur_kl_coeff": 0.22499997913837433, "vf_loss": 47.89481735229492, "kl": 0.017674952745437622, "entropy": 1.445633888244629}, "num_steps_sampled": 3764742}, "done": false, "date": "2019-05-21_05-46-13"}
{"episode_reward_mean": 1241.4501395938933, "timesteps_total": 3822229, "iterations_since_restore": 61, "timesteps_since_restore": 3822229, "num_metric_batches_dropped": 0, "pid": 343, "time_this_iter_s": 42.909339904785156, "custom_metrics": {"system_level_velocity_min": 11.109803990313868, "outflow_rate_min": 1065.6638228438233, "cost1_max": 438.74563772507497, "system_level_velocity_max": 16.336458949324747, "cost2_min": -76.28067278086412, "outflow_rate_max": 1444.9470465744387, "system_level_velocity_mean": 13.59530453772379, "cost1_mean": 363.3648546672401, "cost2_mean": -45.09241379068437, "outflow_rate_mean": 1237.0517557668343, "cost2_max": -21.13245572304716, "cost1_min": 292.7746695875371}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 61, "episode_reward_max": 1414.6579441930976, "hostname": "flow-main", "timesteps_this_iter": 57487, "time_since_restore": 2951.8398048877716, "episode_reward_min": 1117.748100118463, "episodes_total": 1733, "episodes_this_iter": 30, "timestamp": 1558417616, "time_total_s": 2951.8398048877716, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.1, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "framestack": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "sample_async": false, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c05d518>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c05d470>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c05de80>"}, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 700.0, "experiment_id": "e07569c766b64210b97edcdc20a183b1", "info": {"num_steps_trained": 3822229, "sample_time_ms": 30282.318, "load_time_ms": 9.659, "grad_time_ms": 14694.771, "update_time_ms": 8.442, "default": {"policy_loss": -0.010728402063250542, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.6945106983184814, "total_loss": 56.5420036315918, "cur_kl_coeff": 0.22499996423721313, "vf_loss": 56.548885345458984, "kl": 0.01710379868745804, "entropy": 1.4377055168151855}, "num_steps_sampled": 3822229}, "done": false, "date": "2019-05-21_05-46-56"}
{"episode_reward_mean": 1230.6061284306954, "timesteps_total": 3878752, "iterations_since_restore": 62, "timesteps_since_restore": 3878752, "num_metric_batches_dropped": 0, "pid": 343, "time_this_iter_s": 42.72469401359558, "custom_metrics": {"system_level_velocity_min": 10.901765485986054, "outflow_rate_min": 1065.6638228438233, "cost1_max": 438.74563772507497, "system_level_velocity_max": 16.336458949324747, "cost2_min": -76.28067278086412, "outflow_rate_max": 1444.9470465744387, "system_level_velocity_mean": 13.526713537692848, "cost1_mean": 361.19015663038334, "cost2_mean": -44.409707526492575, "outflow_rate_mean": 1227.360052990946, "cost2_max": -21.13245572304716, "cost1_min": 286.22280106904276}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 62, "episode_reward_max": 1414.6579441930976, "hostname": "flow-main", "timesteps_this_iter": 56523, "time_since_restore": 2994.564498901367, "episode_reward_min": 1090.5415672239458, "episodes_total": 1762, "episodes_this_iter": 29, "timestamp": 1558417659, "time_total_s": 2994.564498901367, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.1, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "framestack": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "sample_async": false, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c05dd30>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c05d4a8>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c05d4e0>"}, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 700.0, "experiment_id": "e07569c766b64210b97edcdc20a183b1", "info": {"num_steps_trained": 3878752, "sample_time_ms": 30147.251, "load_time_ms": 9.551, "grad_time_ms": 14762.881, "update_time_ms": 8.452, "default": {"policy_loss": -0.010719632729887962, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.7295337319374084, "total_loss": 52.19328308105469, "cur_kl_coeff": 0.22499997913837433, "vf_loss": 52.200233459472656, "kl": 0.016767174005508423, "entropy": 1.4457485675811768}, "num_steps_sampled": 3878752}, "done": false, "date": "2019-05-21_05-47-39"}
{"episode_reward_mean": 1232.6654021692548, "timesteps_total": 3935448, "iterations_since_restore": 63, "timesteps_since_restore": 3935448, "num_metric_batches_dropped": 0, "pid": 343, "time_this_iter_s": 46.5309112071991, "custom_metrics": {"system_level_velocity_min": 10.291316321573762, "outflow_rate_min": 1065.6638228438233, "cost1_max": 438.74563772507497, "system_level_velocity_max": 16.336458949324747, "cost2_min": -67.8423803275121, "outflow_rate_max": 1444.9470465744387, "system_level_velocity_mean": 13.71935646226596, "cost1_mean": 366.154895222185, "cost2_mean": -42.42906290629906, "outflow_rate_mean": 1230.743311528282, "cost2_max": -21.13245572304716, "cost1_min": 273.4657724443323}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 63, "episode_reward_max": 1414.6579441930976, "hostname": "flow-main", "timesteps_this_iter": 56696, "time_since_restore": 3041.0954101085663, "episode_reward_min": 1064.8639576752335, "episodes_total": 1791, "episodes_this_iter": 29, "timestamp": 1558417705, "time_total_s": 3041.0954101085663, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.1, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "framestack": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "sample_async": false, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c05de80>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c056e48>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c05d470>"}, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 700.0, "experiment_id": "e07569c766b64210b97edcdc20a183b1", "info": {"num_steps_trained": 3935448, "sample_time_ms": 30213.648, "load_time_ms": 9.504, "grad_time_ms": 15100.921, "update_time_ms": 8.167, "default": {"policy_loss": -0.011267010122537613, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.6965622901916504, "total_loss": 51.78670120239258, "cur_kl_coeff": 0.22499997913837433, "vf_loss": 51.79413604736328, "kl": 0.017023572698235512, "entropy": 1.449942708015442}, "num_steps_sampled": 3935448}, "done": false, "date": "2019-05-21_05-48-25"}
{"episode_reward_mean": 1226.8728284731674, "timesteps_total": 3991392, "iterations_since_restore": 64, "timesteps_since_restore": 3991392, "num_metric_batches_dropped": 0, "pid": 343, "time_this_iter_s": 43.133397340774536, "custom_metrics": {"system_level_velocity_min": 10.291316321573762, "outflow_rate_min": 1056.2235759381185, "cost1_max": 435.193911050931, "system_level_velocity_max": 16.256937358879092, "cost2_min": -67.8423803275121, "outflow_rate_max": 1395.7410707891995, "system_level_velocity_mean": 13.6829126510638, "cost1_mean": 364.98573621849647, "cost2_mean": -42.32868502079294, "outflow_rate_mean": 1228.6428572726354, "cost2_max": -21.168787126119888, "cost1_min": 273.4657724443323}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 64, "episode_reward_max": 1376.8809951101452, "hostname": "flow-main", "timesteps_this_iter": 55944, "time_since_restore": 3084.228807449341, "episode_reward_min": 1064.8639576752335, "episodes_total": 1821, "episodes_this_iter": 30, "timestamp": 1558417749, "time_total_s": 3084.228807449341, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.1, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "framestack": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "sample_async": false, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfecb70>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfec0f0>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfec668>"}, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 700.0, "experiment_id": "e07569c766b64210b97edcdc20a183b1", "info": {"num_steps_trained": 3991392, "sample_time_ms": 30030.564, "load_time_ms": 9.243, "grad_time_ms": 15030.323, "update_time_ms": 8.285, "default": {"policy_loss": -0.01122124120593071, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.7082599997520447, "total_loss": 54.962039947509766, "cur_kl_coeff": 0.22499999403953552, "vf_loss": 54.96942138671875, "kl": 0.017073925584554672, "entropy": 1.4618178606033325}, "num_steps_sampled": 3991392}, "done": false, "date": "2019-05-21_05-49-09"}
{"episode_reward_mean": 1224.7504555677854, "timesteps_total": 4048242, "iterations_since_restore": 65, "timesteps_since_restore": 4048242, "num_metric_batches_dropped": 0, "pid": 343, "time_this_iter_s": 45.2248899936676, "custom_metrics": {"system_level_velocity_min": 10.291316321573762, "outflow_rate_min": 1056.2235759381185, "cost1_max": 430.959769135941, "system_level_velocity_max": 16.08201760453693, "cost2_min": -67.8423803275121, "outflow_rate_max": 1396.381400760662, "system_level_velocity_mean": 13.668369064775494, "cost1_mean": 364.73502279686227, "cost2_mean": -42.39941178632051, "outflow_rate_mean": 1227.9314453573943, "cost2_max": -21.168787126119888, "cost1_min": 273.4657724443323}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 65, "episode_reward_max": 1376.8809951101452, "hostname": "flow-main", "timesteps_this_iter": 56850, "time_since_restore": 3129.4536974430084, "episode_reward_min": 1064.8639576752335, "episodes_total": 1848, "episodes_this_iter": 27, "timestamp": 1558417794, "time_total_s": 3129.4536974430084, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.1, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "framestack": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "sample_async": false, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfff4a8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfffcf8>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfffa90>"}, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 700.0, "experiment_id": "e07569c766b64210b97edcdc20a183b1", "info": {"num_steps_trained": 4048242, "sample_time_ms": 29793.786, "load_time_ms": 9.448, "grad_time_ms": 14989.137, "update_time_ms": 8.242, "default": {"policy_loss": -0.011096947826445103, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.7552634477615356, "total_loss": 44.39111328125, "cur_kl_coeff": 0.22499997913837433, "vf_loss": 44.39860534667969, "kl": 0.016013992950320244, "entropy": 1.4624139070510864}, "num_steps_sampled": 4048242}, "done": false, "date": "2019-05-21_05-49-54"}
{"episode_reward_mean": 1221.612475144214, "timesteps_total": 4106480, "iterations_since_restore": 66, "timesteps_since_restore": 4106480, "num_metric_batches_dropped": 0, "pid": 343, "time_this_iter_s": 43.62319540977478, "custom_metrics": {"system_level_velocity_min": 11.120594846998628, "outflow_rate_min": 479.86481361577154, "cost1_max": 437.5714765331054, "system_level_velocity_max": 18.2384648989843, "cost2_min": -67.2327540555743, "outflow_rate_max": 1407.1146821500017, "system_level_velocity_mean": 13.89908386478673, "cost1_mean": 366.4834107608217, "cost2_mean": -40.63984603902248, "outflow_rate_mean": 1228.9330609610697, "cost2_max": -12.976586975830749, "cost1_min": 24.137462640590805}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 66, "episode_reward_max": 1371.4519988934896, "hostname": "flow-main", "timesteps_this_iter": 58238, "time_since_restore": 3173.076892852783, "episode_reward_min": 61.116906938016015, "episodes_total": 1878, "episodes_this_iter": 30, "timestamp": 1558417838, "time_total_s": 3173.076892852783, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.1, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "framestack": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "sample_async": false, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bff0a58>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c05d438>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c05dac8>"}, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 693.37, "experiment_id": "e07569c766b64210b97edcdc20a183b1", "info": {"num_steps_trained": 4106480, "sample_time_ms": 29670.607, "load_time_ms": 9.481, "grad_time_ms": 15021.437, "update_time_ms": 8.271, "default": {"policy_loss": -0.010595644824206829, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.7124849557876587, "total_loss": 53.9858283996582, "cur_kl_coeff": 0.22499997913837433, "vf_loss": 53.992679595947266, "kl": 0.0166447926312685, "entropy": 1.458267331123352}, "num_steps_sampled": 4106480}, "done": false, "date": "2019-05-21_05-50-38"}
{"episode_reward_mean": 1228.5862765363916, "timesteps_total": 4163039, "iterations_since_restore": 67, "timesteps_since_restore": 4163039, "num_metric_batches_dropped": 0, "pid": 343, "time_this_iter_s": 45.853365421295166, "custom_metrics": {"system_level_velocity_min": 11.323686455195988, "outflow_rate_min": 479.86481361577154, "cost1_max": 437.5714765331054, "system_level_velocity_max": 18.2384648989843, "cost2_min": -67.93439435392571, "outflow_rate_max": 1456.8508327554925, "system_level_velocity_mean": 13.945780894302207, "cost1_mean": 367.48723111947515, "cost2_mean": -41.14212709266998, "outflow_rate_mean": 1235.2552718524407, "cost2_max": -12.976586975830749, "cost1_min": 24.137462640590805}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 67, "episode_reward_max": 1403.9543195770302, "hostname": "flow-main", "timesteps_this_iter": 56559, "time_since_restore": 3218.9302582740784, "episode_reward_min": 61.116906938016015, "episodes_total": 1907, "episodes_this_iter": 29, "timestamp": 1558417883, "time_total_s": 3218.9302582740784, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.1, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "framestack": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "sample_async": false, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfff550>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfff128>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfff588>"}, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 693.37, "experiment_id": "e07569c766b64210b97edcdc20a183b1", "info": {"num_steps_trained": 4163039, "sample_time_ms": 29772.793, "load_time_ms": 9.346, "grad_time_ms": 14966.086, "update_time_ms": 8.207, "default": {"policy_loss": -0.009425357915461063, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.73484867811203, "total_loss": 53.748207092285156, "cur_kl_coeff": 0.22499997913837433, "vf_loss": 53.753543853759766, "kl": 0.018159493803977966, "entropy": 1.447368860244751}, "num_steps_sampled": 4163039}, "done": false, "date": "2019-05-21_05-51-23"}
{"episode_reward_mean": 1238.162314296674, "timesteps_total": 4220558, "iterations_since_restore": 68, "timesteps_since_restore": 4220558, "num_metric_batches_dropped": 0, "pid": 343, "time_this_iter_s": 43.75158643722534, "custom_metrics": {"system_level_velocity_min": 11.323686455195988, "outflow_rate_min": 479.86481361577154, "cost1_max": 448.42940152809723, "system_level_velocity_max": 18.2384648989843, "cost2_min": -67.93439435392571, "outflow_rate_max": 1456.8508327554925, "system_level_velocity_mean": 14.192923978385767, "cost1_mean": 373.8968088767014, "cost2_mean": -41.446819437903905, "outflow_rate_mean": 1245.8882248598115, "cost2_max": -12.976586975830749, "cost1_min": 24.137462640590805}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 68, "episode_reward_max": 1403.9543195770302, "hostname": "flow-main", "timesteps_this_iter": 57519, "time_since_restore": 3262.6818447113037, "episode_reward_min": 61.116906938016015, "episodes_total": 1936, "episodes_this_iter": 29, "timestamp": 1558417927, "time_total_s": 3262.6818447113037, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.1, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "framestack": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "sample_async": false, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c04c550>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c04cdd8>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c04c860>"}, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 693.37, "experiment_id": "e07569c766b64210b97edcdc20a183b1", "info": {"num_steps_trained": 4220558, "sample_time_ms": 29666.173, "load_time_ms": 9.314, "grad_time_ms": 14701.498, "update_time_ms": 8.091, "default": {"policy_loss": -0.010292724706232548, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.7441141605377197, "total_loss": 54.80082321166992, "cur_kl_coeff": 0.22499996423721313, "vf_loss": 54.80694580078125, "kl": 0.018537631258368492, "entropy": 1.447387456893921}, "num_steps_sampled": 4220558}, "done": false, "date": "2019-05-21_05-52-07"}
{"episode_reward_mean": 1244.736828285104, "timesteps_total": 4279314, "iterations_since_restore": 69, "timesteps_since_restore": 4279314, "num_metric_batches_dropped": 0, "pid": 343, "time_this_iter_s": 47.31842374801636, "custom_metrics": {"system_level_velocity_min": 10.700886398278183, "outflow_rate_min": 479.86481361577154, "cost1_max": 451.74122531383557, "system_level_velocity_max": 18.2384648989843, "cost2_min": -71.12876297805187, "outflow_rate_max": 1456.8508327554925, "system_level_velocity_mean": 14.229510403986541, "cost1_mean": 374.3722408228795, "cost2_mean": -43.1209381573898, "outflow_rate_mean": 1256.8549367033834, "cost2_max": -12.976586975830749, "cost1_min": 24.137462640590805}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 69, "episode_reward_max": 1403.9543195770302, "hostname": "flow-main", "timesteps_this_iter": 58756, "time_since_restore": 3310.00026845932, "episode_reward_min": 61.116906938016015, "episodes_total": 1969, "episodes_this_iter": 33, "timestamp": 1558417975, "time_total_s": 3310.00026845932, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.1, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "framestack": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "sample_async": false, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfffba8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfffe80>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfff518>"}, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 693.37, "experiment_id": "e07569c766b64210b97edcdc20a183b1", "info": {"num_steps_trained": 4279314, "sample_time_ms": 29707.497, "load_time_ms": 9.299, "grad_time_ms": 14653.45, "update_time_ms": 7.915, "default": {"policy_loss": -0.010021822527050972, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.7305105328559875, "total_loss": 60.002281188964844, "cur_kl_coeff": 0.22499996423721313, "vf_loss": 60.008724212646484, "kl": 0.015933813527226448, "entropy": 1.4503799676895142}, "num_steps_sampled": 4279314}, "done": false, "date": "2019-05-21_05-52-55"}
{"episode_reward_mean": 1261.2416109907197, "timesteps_total": 4336339, "iterations_since_restore": 70, "timesteps_since_restore": 4336339, "num_metric_batches_dropped": 0, "pid": 343, "time_this_iter_s": 43.05830144882202, "custom_metrics": {"system_level_velocity_min": 10.700886398278183, "outflow_rate_min": 1133.4568550470294, "cost1_max": 451.74122531383557, "system_level_velocity_max": 16.940083761083145, "cost2_min": -77.33283552342579, "outflow_rate_max": 1429.5767056506957, "system_level_velocity_mean": 14.282377577020227, "cost1_mean": 380.180457124539, "cost2_mean": -43.870574971306226, "outflow_rate_mean": 1265.8722021524388, "cost2_max": -19.14481228545643, "cost1_min": 281.86874434881065}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 70, "episode_reward_max": 1406.4346689683582, "hostname": "flow-main", "timesteps_this_iter": 57025, "time_since_restore": 3353.058569908142, "episode_reward_min": 1121.693559772003, "episodes_total": 1998, "episodes_this_iter": 29, "timestamp": 1558418018, "time_total_s": 3353.058569908142, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.1, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "framestack": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "sample_async": false, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c046898>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c046668>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c0466d8>"}, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 700.0, "experiment_id": "e07569c766b64210b97edcdc20a183b1", "info": {"num_steps_trained": 4336339, "sample_time_ms": 29877.374, "load_time_ms": 9.408, "grad_time_ms": 14415.004, "update_time_ms": 7.818, "default": {"policy_loss": -0.010759105905890465, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.7414070963859558, "total_loss": 58.34244155883789, "cur_kl_coeff": 0.22499996423721313, "vf_loss": 58.34899139404297, "kl": 0.01871996931731701, "entropy": 1.4497979879379272}, "num_steps_sampled": 4336339}, "done": false, "date": "2019-05-21_05-53-38"}
{"episode_reward_mean": 1262.5680490216191, "timesteps_total": 4394493, "iterations_since_restore": 71, "timesteps_since_restore": 4394493, "num_metric_batches_dropped": 0, "pid": 343, "time_this_iter_s": 45.87363409996033, "custom_metrics": {"system_level_velocity_min": 10.700886398278183, "outflow_rate_min": 1114.0008827311062, "cost1_max": 451.74122531383557, "system_level_velocity_max": 16.940083761083145, "cost2_min": -77.33283552342579, "outflow_rate_max": 1451.1769451062778, "system_level_velocity_mean": 14.278294433778859, "cost1_mean": 379.8438141464849, "cost2_mean": -44.039996694205314, "outflow_rate_mean": 1263.8273363671233, "cost2_max": -20.480936783252496, "cost1_min": 281.86874434881065}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 71, "episode_reward_max": 1415.9412243133304, "hostname": "flow-main", "timesteps_this_iter": 58154, "time_since_restore": 3398.9322040081024, "episode_reward_min": 1108.5533305975637, "episodes_total": 2025, "episodes_this_iter": 27, "timestamp": 1558418064, "time_total_s": 3398.9322040081024, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.1, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "framestack": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "sample_async": false, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c05dcf8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c05d9b0>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c05de80>"}, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 700.0, "experiment_id": "e07569c766b64210b97edcdc20a183b1", "info": {"num_steps_trained": 4394493, "sample_time_ms": 30174.038, "load_time_ms": 9.455, "grad_time_ms": 14415.734, "update_time_ms": 7.797, "default": {"policy_loss": -0.010817044414579868, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.7239633798599243, "total_loss": 56.902076721191406, "cur_kl_coeff": 0.22499997913837433, "vf_loss": 56.908878326416016, "kl": 0.017846262082457542, "entropy": 1.4577773809432983}, "num_steps_sampled": 4394493}, "done": false, "date": "2019-05-21_05-54-24"}
{"episode_reward_mean": 1263.2383040549983, "timesteps_total": 4451827, "iterations_since_restore": 72, "timesteps_since_restore": 4451827, "num_metric_batches_dropped": 0, "pid": 343, "time_this_iter_s": 47.09137034416199, "custom_metrics": {"system_level_velocity_min": 11.094743059665769, "outflow_rate_min": 1112.7919929022955, "cost1_max": 445.49359908053566, "system_level_velocity_max": 16.78636043888779, "cost2_min": -78.9682828567966, "outflow_rate_max": 1451.1769451062778, "system_level_velocity_mean": 14.202705609969065, "cost1_mean": 377.65583093809903, "cost2_mean": -44.65652733781382, "outflow_rate_mean": 1264.4170466146813, "cost2_max": -21.100056669829634, "cost1_min": 291.94731800707814}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 72, "episode_reward_max": 1415.9412243133304, "hostname": "flow-main", "timesteps_this_iter": 57334, "time_since_restore": 3446.0235743522644, "episode_reward_min": 1095.726530217247, "episodes_total": 2054, "episodes_this_iter": 29, "timestamp": 1558418111, "time_total_s": 3446.0235743522644, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.1, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "framestack": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "sample_async": false, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bff0ac8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c046898>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bff0b00>"}, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 700.0, "experiment_id": "e07569c766b64210b97edcdc20a183b1", "info": {"num_steps_trained": 4451827, "sample_time_ms": 30433.656, "load_time_ms": 9.74, "grad_time_ms": 14589.351, "update_time_ms": 7.674, "default": {"policy_loss": -0.010499643161892891, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.7466355562210083, "total_loss": 55.378822326660156, "cur_kl_coeff": 0.22499999403953552, "vf_loss": 55.385704040527344, "kl": 0.016062766313552856, "entropy": 1.4437061548233032}, "num_steps_sampled": 4451827}, "done": false, "date": "2019-05-21_05-55-11"}
{"episode_reward_mean": 1257.7976810080725, "timesteps_total": 4510766, "iterations_since_restore": 73, "timesteps_since_restore": 4510766, "num_metric_batches_dropped": 0, "pid": 343, "time_this_iter_s": 46.302470207214355, "custom_metrics": {"system_level_velocity_min": 11.094743059665769, "outflow_rate_min": 1112.7919929022955, "cost1_max": 445.49359908053566, "system_level_velocity_max": 16.78636043888779, "cost2_min": -78.9682828567966, "outflow_rate_max": 1451.1769451062778, "system_level_velocity_mean": 14.10520682212735, "cost1_mean": 374.89669243458883, "cost2_mean": -45.95219111034635, "outflow_rate_mean": 1260.8775832635004, "cost2_max": -21.100056669829634, "cost1_min": 291.94731800707814}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 73, "episode_reward_max": 1415.9412243133304, "hostname": "flow-main", "timesteps_this_iter": 58939, "time_since_restore": 3492.3260445594788, "episode_reward_min": 1095.726530217247, "episodes_total": 2086, "episodes_this_iter": 32, "timestamp": 1558418157, "time_total_s": 3492.3260445594788, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.1, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "framestack": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "sample_async": false, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfff0b8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfff7b8>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfff7f0>"}, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 700.0, "experiment_id": "e07569c766b64210b97edcdc20a183b1", "info": {"num_steps_trained": 4510766, "sample_time_ms": 30348.131, "load_time_ms": 9.96, "grad_time_ms": 14651.711, "update_time_ms": 7.834, "default": {"policy_loss": -0.010008616372942924, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.7003917098045349, "total_loss": 64.4415512084961, "cur_kl_coeff": 0.22499996423721313, "vf_loss": 64.44746398925781, "kl": 0.018183322623372078, "entropy": 1.4351893663406372}, "num_steps_sampled": 4510766}, "done": false, "date": "2019-05-21_05-55-57"}
{"episode_reward_mean": 1252.4970520067159, "timesteps_total": 4570212, "iterations_since_restore": 74, "timesteps_since_restore": 4570212, "num_metric_batches_dropped": 0, "pid": 343, "time_this_iter_s": 44.99134016036987, "custom_metrics": {"system_level_velocity_min": 11.094743059665769, "outflow_rate_min": 1112.7919929022955, "cost1_max": 445.49359908053566, "system_level_velocity_max": 16.78636043888779, "cost2_min": -78.9682828567966, "outflow_rate_max": 1451.1769451062778, "system_level_velocity_mean": 14.076625984006148, "cost1_mean": 373.8659853201015, "cost2_mean": -46.58869365057974, "outflow_rate_mean": 1258.378350988135, "cost2_max": -21.100056669829634, "cost1_min": 291.94731800707814}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 74, "episode_reward_max": 1415.9412243133304, "hostname": "flow-main", "timesteps_this_iter": 59446, "time_since_restore": 3537.3173847198486, "episode_reward_min": 1095.726530217247, "episodes_total": 2117, "episodes_this_iter": 31, "timestamp": 1558418202, "time_total_s": 3537.3173847198486, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.1, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "framestack": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "sample_async": false, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bff0c18>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bff0fd0>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bff01d0>"}, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 700.0, "experiment_id": "e07569c766b64210b97edcdc20a183b1", "info": {"num_steps_trained": 4570212, "sample_time_ms": 30395.731, "load_time_ms": 9.816, "grad_time_ms": 14790.298, "update_time_ms": 7.948, "default": {"policy_loss": -0.011714659631252289, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.7304903268814087, "total_loss": 57.91720962524414, "cur_kl_coeff": 0.22499996423721313, "vf_loss": 57.92497253417969, "kl": 0.01755601353943348, "entropy": 1.4524962902069092}, "num_steps_sampled": 4570212}, "done": false, "date": "2019-05-21_05-56-42"}
{"episode_reward_mean": 1249.9722921989826, "timesteps_total": 4627823, "iterations_since_restore": 75, "timesteps_since_restore": 4627823, "num_metric_batches_dropped": 0, "pid": 343, "time_this_iter_s": 44.21516942977905, "custom_metrics": {"system_level_velocity_min": 11.094743059665769, "outflow_rate_min": 1112.7919929022955, "cost1_max": 445.12929441360114, "system_level_velocity_max": 16.72987103588686, "cost2_min": -73.40734249210823, "outflow_rate_max": 1447.4962735468177, "system_level_velocity_mean": 14.11649193038122, "cost1_mean": 374.6935517618123, "cost2_mean": -47.06281126597254, "outflow_rate_mean": 1257.0082043732052, "cost2_max": -22.686105578857756, "cost1_min": 291.94731800707814}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 75, "episode_reward_max": 1402.505850210902, "hostname": "flow-main", "timesteps_this_iter": 57611, "time_since_restore": 3581.5325541496277, "episode_reward_min": 1095.726530217247, "episodes_total": 2145, "episodes_this_iter": 28, "timestamp": 1558418246, "time_total_s": 3581.5325541496277, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.1, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "framestack": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "sample_async": false, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c05d860>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c05d908>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c05db00>"}, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 700.0, "experiment_id": "e07569c766b64210b97edcdc20a183b1", "info": {"num_steps_trained": 4627823, "sample_time_ms": 30342.95, "load_time_ms": 9.86, "grad_time_ms": 14742.012, "update_time_ms": 8.101, "default": {"policy_loss": -0.010539800859987736, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.7278974056243896, "total_loss": 56.356605529785156, "cur_kl_coeff": 0.22499996423721313, "vf_loss": 56.363224029541016, "kl": 0.017435993999242783, "entropy": 1.4653184413909912}, "num_steps_sampled": 4627823}, "done": false, "date": "2019-05-21_05-57-26"}
{"episode_reward_mean": 1242.1220992103392, "timesteps_total": 4685687, "iterations_since_restore": 76, "timesteps_since_restore": 4685687, "num_metric_batches_dropped": 0, "pid": 343, "time_this_iter_s": 45.05246305465698, "custom_metrics": {"system_level_velocity_min": 11.194249249929312, "outflow_rate_min": 1114.9400147405663, "cost1_max": 448.24825600533734, "system_level_velocity_max": 16.825218084578143, "cost2_min": -73.28130916746841, "outflow_rate_max": 1447.4962735468177, "system_level_velocity_mean": 14.059681026264572, "cost1_mean": 372.769527118387, "cost2_mean": -47.95775720634623, "outflow_rate_mean": 1249.840049418643, "cost2_max": -22.686105578857756, "cost1_min": 293.34236993942295}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 76, "episode_reward_max": 1402.505850210902, "hostname": "flow-main", "timesteps_this_iter": 57864, "time_since_restore": 3626.5850172042847, "episode_reward_min": 1098.9229180830148, "episodes_total": 2172, "episodes_this_iter": 27, "timestamp": 1558418292, "time_total_s": 3626.5850172042847, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.1, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "framestack": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "sample_async": false, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c056e10>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c056f28>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c0566a0>"}, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 700.0, "experiment_id": "e07569c766b64210b97edcdc20a183b1", "info": {"num_steps_trained": 4685687, "sample_time_ms": 30242.692, "load_time_ms": 9.591, "grad_time_ms": 14984.751, "update_time_ms": 8.253, "default": {"policy_loss": -0.009801164269447327, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.7484642863273621, "total_loss": 50.110626220703125, "cur_kl_coeff": 0.22499997913837433, "vf_loss": 50.11674499511719, "kl": 0.016379674896597862, "entropy": 1.4687756299972534}, "num_steps_sampled": 4685687}, "done": false, "date": "2019-05-21_05-58-12"}
{"episode_reward_mean": 1236.8045775297028, "timesteps_total": 4744098, "iterations_since_restore": 77, "timesteps_since_restore": 4744098, "num_metric_batches_dropped": 0, "pid": 343, "time_this_iter_s": 45.24558067321777, "custom_metrics": {"system_level_velocity_min": 11.194249249929312, "outflow_rate_min": 1110.4612892188024, "cost1_max": 450.1402187012684, "system_level_velocity_max": 16.98931968084143, "cost2_min": -73.28130916746841, "outflow_rate_max": 1434.700145395588, "system_level_velocity_mean": 13.97275236483987, "cost1_mean": 370.0753949727313, "cost2_mean": -49.033417752025095, "outflow_rate_mean": 1247.7984761529679, "cost2_max": -21.29902253133912, "cost1_min": 293.34236993942295}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 77, "episode_reward_max": 1386.1003667975324, "hostname": "flow-main", "timesteps_this_iter": 58411, "time_since_restore": 3671.8305978775024, "episode_reward_min": 1098.9229180830148, "episodes_total": 2202, "episodes_this_iter": 30, "timestamp": 1558418337, "time_total_s": 3671.8305978775024, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.1, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "framestack": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "sample_async": false, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c04c470>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c04c860>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c04c390>"}, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 700.0, "experiment_id": "e07569c766b64210b97edcdc20a183b1", "info": {"num_steps_trained": 4744098, "sample_time_ms": 29992.825, "load_time_ms": 9.831, "grad_time_ms": 15172.624, "update_time_ms": 8.305, "default": {"policy_loss": -0.010274533182382584, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.714451014995575, "total_loss": 56.07160568237305, "cur_kl_coeff": 0.22499997913837433, "vf_loss": 56.078041076660156, "kl": 0.01706737093627453, "entropy": 1.4468361139297485}, "num_steps_sampled": 4744098}, "done": false, "date": "2019-05-21_05-58-57"}
{"episode_reward_mean": 1244.7079757029264, "timesteps_total": 4799635, "iterations_since_restore": 78, "timesteps_since_restore": 4799635, "num_metric_batches_dropped": 0, "pid": 343, "time_this_iter_s": 43.420475244522095, "custom_metrics": {"system_level_velocity_min": 11.24710802716394, "outflow_rate_min": 1110.4612892188024, "cost1_max": 456.2023440295593, "system_level_velocity_max": 17.175984007774332, "cost2_min": -80.76932922757025, "outflow_rate_max": 1444.8754878347872, "system_level_velocity_mean": 14.224461606350033, "cost1_mean": 376.66059246008285, "cost2_mean": -48.04999956508168, "outflow_rate_mean": 1260.8995767463698, "cost2_max": -19.486477755265714, "cost1_min": 293.34236993942295}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 78, "episode_reward_max": 1386.1003667975324, "hostname": "flow-main", "timesteps_this_iter": 55537, "time_since_restore": 3715.2510731220245, "episode_reward_min": 1098.9229180830148, "episodes_total": 2231, "episodes_this_iter": 29, "timestamp": 1558418380, "time_total_s": 3715.2510731220245, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.1, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "framestack": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "sample_async": false, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bff0e80>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bff0b70>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bff00f0>"}, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 700.0, "experiment_id": "e07569c766b64210b97edcdc20a183b1", "info": {"num_steps_trained": 4799635, "sample_time_ms": 29964.823, "load_time_ms": 9.77, "grad_time_ms": 15169.074, "update_time_ms": 8.164, "default": {"policy_loss": -0.010749909095466137, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.703684389591217, "total_loss": 60.10746383666992, "cur_kl_coeff": 0.22499997913837433, "vf_loss": 60.11429977416992, "kl": 0.017365822568535805, "entropy": 1.434077262878418}, "num_steps_sampled": 4799635}, "done": false, "date": "2019-05-21_05-59-40"}
{"episode_reward_mean": 1243.8331405847057, "timesteps_total": 4856825, "iterations_since_restore": 79, "timesteps_since_restore": 4856825, "num_metric_batches_dropped": 0, "pid": 343, "time_this_iter_s": 43.574007749557495, "custom_metrics": {"system_level_velocity_min": 11.252272421116702, "outflow_rate_min": 1110.4612892188024, "cost1_max": 456.2023440295593, "system_level_velocity_max": 17.175984007774332, "cost2_min": -80.76932922757025, "outflow_rate_max": 1453.7632575506216, "system_level_velocity_mean": 14.232099032283601, "cost1_mean": 376.3931493618543, "cost2_mean": -49.27082310225519, "outflow_rate_mean": 1266.6052429080735, "cost2_max": -19.486477755265714, "cost1_min": 295.20533692418485}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 79, "episode_reward_max": 1391.644300880141, "hostname": "flow-main", "timesteps_this_iter": 57190, "time_since_restore": 3758.825080871582, "episode_reward_min": 1087.556928871874, "episodes_total": 2261, "episodes_this_iter": 30, "timestamp": 1558418424, "time_total_s": 3758.825080871582, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.1, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "framestack": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "sample_async": false, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bff0320>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bff0ef0>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bff0860>"}, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 700.0, "experiment_id": "e07569c766b64210b97edcdc20a183b1", "info": {"num_steps_trained": 4856825, "sample_time_ms": 29813.728, "load_time_ms": 9.866, "grad_time_ms": 14945.736, "update_time_ms": 8.174, "default": {"policy_loss": -0.01082686148583889, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.7439554929733276, "total_loss": 55.18445587158203, "cur_kl_coeff": 0.22499997913837433, "vf_loss": 55.19144058227539, "kl": 0.01704271510243416, "entropy": 1.4686464071273804}, "num_steps_sampled": 4856825}, "done": false, "date": "2019-05-21_06-00-24"}
{"episode_reward_mean": 1255.3241626752006, "timesteps_total": 4914151, "iterations_since_restore": 80, "timesteps_since_restore": 4914151, "num_metric_batches_dropped": 0, "pid": 343, "time_this_iter_s": 43.23174977302551, "custom_metrics": {"system_level_velocity_min": 11.495665081904615, "outflow_rate_min": 1116.6833970830367, "cost1_max": 456.2023440295593, "system_level_velocity_max": 17.175984007774332, "cost2_min": -80.76932922757025, "outflow_rate_max": 1453.7632575506216, "system_level_velocity_mean": 14.496346372620971, "cost1_mean": 383.68154115528375, "cost2_mean": -46.65867185000658, "outflow_rate_mean": 1275.3973263795376, "cost2_max": -19.486477755265714, "cost1_min": 299.2297356997202}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 80, "episode_reward_max": 1391.644300880141, "hostname": "flow-main", "timesteps_this_iter": 57326, "time_since_restore": 3802.0568306446075, "episode_reward_min": 1087.556928871874, "episodes_total": 2291, "episodes_this_iter": 30, "timestamp": 1558418467, "time_total_s": 3802.0568306446075, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.1, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "framestack": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "sample_async": false, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c04c470>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c04cc88>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c04c860>"}, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 700.0, "experiment_id": "e07569c766b64210b97edcdc20a183b1", "info": {"num_steps_trained": 4914151, "sample_time_ms": 29821.87, "load_time_ms": 9.977, "grad_time_ms": 14954.045, "update_time_ms": 8.102, "default": {"policy_loss": -0.011205028742551804, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.7613727450370789, "total_loss": 56.03178405761719, "cur_kl_coeff": 0.22499999403953552, "vf_loss": 56.03891372680664, "kl": 0.018103469163179398, "entropy": 1.4474310874938965}, "num_steps_sampled": 4914151}, "done": false, "date": "2019-05-21_06-01-07"}
{"episode_reward_mean": 1245.7764360996005, "timesteps_total": 4970884, "iterations_since_restore": 81, "timesteps_since_restore": 4970884, "num_metric_batches_dropped": 0, "pid": 343, "time_this_iter_s": 42.55964732170105, "custom_metrics": {"system_level_velocity_min": 11.279605231972129, "outflow_rate_min": 1100.9783419770017, "cost1_max": 450.6803788857514, "system_level_velocity_max": 16.977904271098005, "cost2_min": -76.97656878121788, "outflow_rate_max": 1453.7632575506216, "system_level_velocity_mean": 14.40905430844546, "cost1_mean": 381.37662017284407, "cost2_mean": -46.31731820884043, "outflow_rate_mean": 1259.281010194563, "cost2_max": -22.02115129250208, "cost1_min": 293.5637917343138}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 81, "episode_reward_max": 1391.644300880141, "hostname": "flow-main", "timesteps_this_iter": 56733, "time_since_restore": 3844.6164779663086, "episode_reward_min": 1087.556928871874, "episodes_total": 2320, "episodes_this_iter": 29, "timestamp": 1558418510, "time_total_s": 3844.6164779663086, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.1, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "framestack": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "sample_async": false, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c05da20>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c05d128>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c05d2e8>"}, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 700.0, "experiment_id": "e07569c766b64210b97edcdc20a183b1", "info": {"num_steps_trained": 4970884, "sample_time_ms": 29678.357, "load_time_ms": 10.126, "grad_time_ms": 14763.918, "update_time_ms": 8.072, "default": {"policy_loss": -0.0104072829708457, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.7671628594398499, "total_loss": 55.50223922729492, "cur_kl_coeff": 0.22499997913837433, "vf_loss": 55.50886154174805, "kl": 0.016831835731863976, "entropy": 1.4849774837493896}, "num_steps_sampled": 4970884}, "done": false, "date": "2019-05-21_06-01-50"}
{"episode_reward_mean": 1249.3001093547061, "timesteps_total": 5027508, "iterations_since_restore": 82, "timesteps_since_restore": 5027508, "num_metric_batches_dropped": 0, "pid": 343, "time_this_iter_s": 43.973074436187744, "custom_metrics": {"system_level_velocity_min": 11.279605231972129, "outflow_rate_min": 1100.9783419770017, "cost1_max": 450.05081858134713, "system_level_velocity_max": 16.94281127083319, "cost2_min": -76.97656878121788, "outflow_rate_max": 1435.1127002418432, "system_level_velocity_mean": 14.588935058968314, "cost1_mean": 386.6709071441912, "cost2_mean": -43.42919714880038, "outflow_rate_mean": 1258.301544801837, "cost2_max": -18.65104890090855, "cost1_min": 293.5637917343138}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 82, "episode_reward_max": 1382.2934023790938, "hostname": "flow-main", "timesteps_this_iter": 56624, "time_since_restore": 3888.5895524024963, "episode_reward_min": 1087.556928871874, "episodes_total": 2349, "episodes_this_iter": 29, "timestamp": 1558418554, "time_total_s": 3888.5895524024963, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.1, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "framestack": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "sample_async": false, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c0695c0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c0692e8>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c069ba8>"}, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 700.0, "experiment_id": "e07569c766b64210b97edcdc20a183b1", "info": {"num_steps_trained": 5027508, "sample_time_ms": 29569.704, "load_time_ms": 9.945, "grad_time_ms": 14562.479, "update_time_ms": 8.149, "default": {"policy_loss": -0.01288061123341322, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.7693368196487427, "total_loss": 54.63786697387695, "cur_kl_coeff": 0.22499997913837433, "vf_loss": 54.64662551879883, "kl": 0.01832236349582672, "entropy": 1.4427920579910278}, "num_steps_sampled": 5027508}, "done": false, "date": "2019-05-21_06-02-34"}
{"episode_reward_mean": 1239.6008289823374, "timesteps_total": 5083883, "iterations_since_restore": 83, "timesteps_since_restore": 5083883, "num_metric_batches_dropped": 0, "pid": 343, "time_this_iter_s": 42.94636344909668, "custom_metrics": {"system_level_velocity_min": 11.279605231972129, "outflow_rate_min": 995.1097743259838, "cost1_max": 450.05081858134713, "system_level_velocity_max": 17.35144425633821, "cost2_min": -76.8943276374665, "outflow_rate_max": 1440.5058393264678, "system_level_velocity_mean": 14.657272037983455, "cost1_mean": 385.36094759643873, "cost2_mean": -41.39134113607185, "outflow_rate_mean": 1257.9723120093274, "cost2_max": -18.65104890090855, "cost1_min": 139.7366521236051}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 83, "episode_reward_max": 1373.6261357312758, "hostname": "flow-main", "timesteps_this_iter": 56375, "time_since_restore": 3931.535915851593, "episode_reward_min": 372.3476822152254, "episodes_total": 2379, "episodes_this_iter": 30, "timestamp": 1558418597, "time_total_s": 3931.535915851593, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.1, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "framestack": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "sample_async": false, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c003780>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c003438>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c003b70>"}, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 695.15, "experiment_id": "e07569c766b64210b97edcdc20a183b1", "info": {"num_steps_trained": 5083883, "sample_time_ms": 29473.997, "load_time_ms": 10.045, "grad_time_ms": 14322.656, "update_time_ms": 8.084, "default": {"policy_loss": -0.012095492333173752, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.7257715463638306, "total_loss": 61.524600982666016, "cur_kl_coeff": 0.22499996423721313, "vf_loss": 61.53254318237305, "kl": 0.018464120104908943, "entropy": 1.4507720470428467}, "num_steps_sampled": 5083883}, "done": false, "date": "2019-05-21_06-03-17"}
{"episode_reward_mean": 1235.3448441071566, "timesteps_total": 5140253, "iterations_since_restore": 84, "timesteps_since_restore": 5140253, "num_metric_batches_dropped": 0, "pid": 343, "time_this_iter_s": 43.180482149124146, "custom_metrics": {"system_level_velocity_min": 11.44472214045714, "outflow_rate_min": 995.1097743259838, "cost1_max": 450.05081858134713, "system_level_velocity_max": 17.35144425633821, "cost2_min": -76.8943276374665, "outflow_rate_max": 1440.5058393264678, "system_level_velocity_mean": 14.617527870118213, "cost1_mean": 384.2867269796502, "cost2_mean": -41.00604676880036, "outflow_rate_mean": 1255.8917187528236, "cost2_max": -18.65104890090855, "cost1_min": 139.7366521236051}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 84, "episode_reward_max": 1373.6261357312758, "hostname": "flow-main", "timesteps_this_iter": 56370, "time_since_restore": 3974.716398000717, "episode_reward_min": 372.3476822152254, "episodes_total": 2407, "episodes_this_iter": 28, "timestamp": 1558418640, "time_total_s": 3974.716398000717, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.1, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "framestack": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "sample_async": false, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bff00b8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bff0898>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bff04a8>"}, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 695.15, "experiment_id": "e07569c766b64210b97edcdc20a183b1", "info": {"num_steps_trained": 5140253, "sample_time_ms": 29477.845, "load_time_ms": 10.146, "grad_time_ms": 14138.156, "update_time_ms": 7.991, "default": {"policy_loss": -0.011769432574510574, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.7257646918296814, "total_loss": 56.83075714111328, "cur_kl_coeff": 0.22499996423721313, "vf_loss": 56.838218688964844, "kl": 0.019138138741254807, "entropy": 1.4962605237960815}, "num_steps_sampled": 5140253}, "done": false, "date": "2019-05-21_06-04-00"}
{"episode_reward_mean": 1227.9155716454397, "timesteps_total": 5195584, "iterations_since_restore": 85, "timesteps_since_restore": 5195584, "num_metric_batches_dropped": 0, "pid": 343, "time_this_iter_s": 42.02198147773743, "custom_metrics": {"system_level_velocity_min": 11.576704326718591, "outflow_rate_min": 995.1097743259838, "cost1_max": 449.7761645453804, "system_level_velocity_max": 17.35144425633821, "cost2_min": -76.8943276374665, "outflow_rate_max": 1440.5058393264678, "system_level_velocity_mean": 14.435193777145628, "cost1_mean": 379.03219644357983, "cost2_mean": -41.55228628891427, "outflow_rate_mean": 1251.2142392851163, "cost2_max": -16.051277623660212, "cost1_min": 139.7366521236051}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 85, "episode_reward_max": 1373.6261357312758, "hostname": "flow-main", "timesteps_this_iter": 55331, "time_since_restore": 4016.7383794784546, "episode_reward_min": 372.3476822152254, "episodes_total": 2437, "episodes_this_iter": 30, "timestamp": 1558418682, "time_total_s": 4016.7383794784546, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.1, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "framestack": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "sample_async": false, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c003eb8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c003e48>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c003b38>"}, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 695.15, "experiment_id": "e07569c766b64210b97edcdc20a183b1", "info": {"num_steps_trained": 5195584, "sample_time_ms": 29502.99, "load_time_ms": 9.884, "grad_time_ms": 13895.713, "update_time_ms": 7.759, "default": {"policy_loss": -0.014392398297786713, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.7397911548614502, "total_loss": 56.35615539550781, "cur_kl_coeff": 0.22499997913837433, "vf_loss": 56.36582946777344, "kl": 0.02094307728111744, "entropy": 1.4846688508987427}, "num_steps_sampled": 5195584}, "done": false, "date": "2019-05-21_06-04-42"}
{"episode_reward_mean": 1217.0151267206384, "timesteps_total": 5252775, "iterations_since_restore": 86, "timesteps_since_restore": 5252775, "num_metric_batches_dropped": 0, "pid": 343, "time_this_iter_s": 43.620757818222046, "custom_metrics": {"system_level_velocity_min": 11.576704326718591, "outflow_rate_min": 476.16837092108835, "cost1_max": 449.7761645453804, "system_level_velocity_max": 17.340789171920214, "cost2_min": -76.8943276374665, "outflow_rate_max": 1444.361777672043, "system_level_velocity_mean": 14.271286197802159, "cost1_mean": 373.4524043598309, "cost2_mean": -42.07313378957995, "outflow_rate_mean": 1240.862507478381, "cost2_max": -10.386396430100156, "cost1_min": 17.785476593723597}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 86, "episode_reward_max": 1374.6988039554792, "hostname": "flow-main", "timesteps_this_iter": 57191, "time_since_restore": 4060.3591372966766, "episode_reward_min": 45.496936411872596, "episodes_total": 2470, "episodes_this_iter": 33, "timestamp": 1558418726, "time_total_s": 4060.3591372966766, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.1, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "framestack": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "sample_async": false, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c069be0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c069128>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c0692e8>"}, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 693.27, "experiment_id": "e07569c766b64210b97edcdc20a183b1", "info": {"num_steps_trained": 5252775, "sample_time_ms": 29566.991, "load_time_ms": 9.998, "grad_time_ms": 13686.626, "update_time_ms": 7.558, "default": {"policy_loss": -0.011714930646121502, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.7050307989120483, "total_loss": 61.571083068847656, "cur_kl_coeff": 0.33750006556510925, "vf_loss": 61.57762145996094, "kl": 0.01532929576933384, "entropy": 1.4863204956054688}, "num_steps_sampled": 5252775}, "done": false, "date": "2019-05-21_06-05-26"}
{"episode_reward_mean": 1217.8212678643042, "timesteps_total": 5307364, "iterations_since_restore": 87, "timesteps_since_restore": 5307364, "num_metric_batches_dropped": 0, "pid": 343, "time_this_iter_s": 42.13036632537842, "custom_metrics": {"system_level_velocity_min": 11.576704326718591, "outflow_rate_min": 476.16837092108835, "cost1_max": 443.7480273563509, "system_level_velocity_max": 17.340789171920214, "cost2_min": -68.22728491348883, "outflow_rate_max": 1444.361777672043, "system_level_velocity_mean": 14.259263201060895, "cost1_mean": 373.18392838120513, "cost2_mean": -40.72171927039963, "outflow_rate_mean": 1243.3505882213024, "cost2_max": -10.386396430100156, "cost1_min": 17.785476593723597}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 87, "episode_reward_max": 1386.3192180046665, "hostname": "flow-main", "timesteps_this_iter": 54589, "time_since_restore": 4102.489503622055, "episode_reward_min": 45.496936411872596, "episodes_total": 2499, "episodes_this_iter": 29, "timestamp": 1558418768, "time_total_s": 4102.489503622055, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.1, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "framestack": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "sample_async": false, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bff05f8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c003dd8>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bff08d0>"}, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 693.27, "experiment_id": "e07569c766b64210b97edcdc20a183b1", "info": {"num_steps_trained": 5307364, "sample_time_ms": 29603.033, "load_time_ms": 9.785, "grad_time_ms": 13340.833, "update_time_ms": 7.67, "default": {"policy_loss": -0.01304851658642292, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.7061406373977661, "total_loss": 58.52632522583008, "cur_kl_coeff": 0.33750006556510925, "vf_loss": 58.534027099609375, "kl": 0.015836933627724648, "entropy": 1.4945366382598877}, "num_steps_sampled": 5307364}, "done": false, "date": "2019-05-21_06-06-08"}
{"episode_reward_mean": 1214.7778178156714, "timesteps_total": 5362898, "iterations_since_restore": 88, "timesteps_since_restore": 5362898, "num_metric_batches_dropped": 0, "pid": 343, "time_this_iter_s": 41.944536447525024, "custom_metrics": {"system_level_velocity_min": 11.096533396216135, "outflow_rate_min": 476.16837092108835, "cost1_max": 443.7480273563509, "system_level_velocity_max": 17.340789171920214, "cost2_min": -65.03661644893978, "outflow_rate_max": 1444.361777672043, "system_level_velocity_mean": 14.242676616910007, "cost1_mean": 372.8704934868554, "cost2_mean": -40.026418008351605, "outflow_rate_mean": 1241.8186311014047, "cost2_max": -10.386396430100156, "cost1_min": 17.785476593723597}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 88, "episode_reward_max": 1386.3192180046665, "hostname": "flow-main", "timesteps_this_iter": 55534, "time_since_restore": 4144.43404006958, "episode_reward_min": 45.496936411872596, "episodes_total": 2527, "episodes_this_iter": 28, "timestamp": 1558418810, "time_total_s": 4144.43404006958, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.1, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "framestack": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "sample_async": false, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c003f28>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c0033c8>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c003518>"}, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 693.27, "experiment_id": "e07569c766b64210b97edcdc20a183b1", "info": {"num_steps_trained": 5362898, "sample_time_ms": 29651.011, "load_time_ms": 9.825, "grad_time_ms": 13144.868, "update_time_ms": 7.524, "default": {"policy_loss": -0.011421826668083668, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.6988235116004944, "total_loss": 56.251190185546875, "cur_kl_coeff": 0.33750006556510925, "vf_loss": 56.25729751586914, "kl": 0.01575576327741146, "entropy": 1.501708745956421}, "num_steps_sampled": 5362898}, "done": false, "date": "2019-05-21_06-06-50"}
{"episode_reward_mean": 1200.5529549419366, "timesteps_total": 5419566, "iterations_since_restore": 89, "timesteps_since_restore": 5419566, "num_metric_batches_dropped": 0, "pid": 343, "time_this_iter_s": 43.700961112976074, "custom_metrics": {"system_level_velocity_min": 11.096533396216135, "outflow_rate_min": 476.16837092108835, "cost1_max": 443.7480273563509, "system_level_velocity_max": 18.566560869018307, "cost2_min": -62.43460464318943, "outflow_rate_max": 1444.361777672043, "system_level_velocity_mean": 14.307932580589167, "cost1_mean": 369.67790846150194, "cost2_mean": -38.994585089372976, "outflow_rate_mean": 1235.1768334811559, "cost2_max": -10.386396430100156, "cost1_min": 17.785476593723597}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 89, "episode_reward_max": 1386.3192180046665, "hostname": "flow-main", "timesteps_this_iter": 56668, "time_since_restore": 4188.135001182556, "episode_reward_min": 45.496936411872596, "episodes_total": 2558, "episodes_this_iter": 31, "timestamp": 1558418854, "time_total_s": 4188.135001182556, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.1, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "framestack": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "sample_async": false, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c05d160>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c05d438>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c05d940>"}, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 686.64, "experiment_id": "e07569c766b64210b97edcdc20a183b1", "info": {"num_steps_trained": 5419566, "sample_time_ms": 29723.536, "load_time_ms": 9.774, "grad_time_ms": 13084.742, "update_time_ms": 7.468, "default": {"policy_loss": -0.012422112748026848, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.6587682962417603, "total_loss": 63.34395217895508, "cur_kl_coeff": 0.33750003576278687, "vf_loss": 63.35108184814453, "kl": 0.015696562826633453, "entropy": 1.4981672763824463}, "num_steps_sampled": 5419566}, "done": false, "date": "2019-05-21_06-07-34"}
{"episode_reward_mean": 1212.5053075288442, "timesteps_total": 5475580, "iterations_since_restore": 90, "timesteps_since_restore": 5475580, "num_metric_batches_dropped": 0, "pid": 343, "time_this_iter_s": 42.45669460296631, "custom_metrics": {"system_level_velocity_min": 11.096533396216135, "outflow_rate_min": 504.92103171128673, "cost1_max": 443.06353982652416, "system_level_velocity_max": 18.566560869018307, "cost2_min": -62.43460464318943, "outflow_rate_max": 1438.877391460998, "system_level_velocity_mean": 14.29230844767094, "cost1_mean": 373.6295883900454, "cost2_mean": -39.756605948151844, "outflow_rate_mean": 1242.2854443024198, "cost2_max": -11.813865961757056, "cost1_min": 24.38526347295743}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 90, "episode_reward_max": 1386.3192180046665, "hostname": "flow-main", "timesteps_this_iter": 56014, "time_since_restore": 4230.5916957855225, "episode_reward_min": 58.807937027500685, "episodes_total": 2588, "episodes_this_iter": 30, "timestamp": 1558418896, "time_total_s": 4230.5916957855225, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.1, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "framestack": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "sample_async": false, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c003320>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c003630>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c003550>"}, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 693.37, "experiment_id": "e07569c766b64210b97edcdc20a183b1", "info": {"num_steps_trained": 5475580, "sample_time_ms": 29523.716, "load_time_ms": 9.713, "grad_time_ms": 13207.393, "update_time_ms": 7.571, "default": {"policy_loss": -0.012587347999215126, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.6844218373298645, "total_loss": 59.772438049316406, "cur_kl_coeff": 0.33750006556510925, "vf_loss": 59.77956771850586, "kl": 0.01617058739066124, "entropy": 1.5017603635787964}, "num_steps_sampled": 5475580}, "done": false, "date": "2019-05-21_06-08-16"}
{"episode_reward_mean": 1225.7898542568346, "timesteps_total": 5531569, "iterations_since_restore": 91, "timesteps_since_restore": 5531569, "num_metric_batches_dropped": 0, "pid": 343, "time_this_iter_s": 42.17852997779846, "custom_metrics": {"system_level_velocity_min": 11.096533396216135, "outflow_rate_min": 504.92103171128673, "cost1_max": 447.77413918391704, "system_level_velocity_max": 18.566560869018307, "cost2_min": -62.43460464318943, "outflow_rate_max": 1409.5647794175259, "system_level_velocity_mean": 14.576358084484154, "cost1_mean": 381.3890084241385, "cost2_mean": -37.66478314025924, "outflow_rate_mean": 1255.7152530431845, "cost2_max": -11.813865961757056, "cost1_min": 24.38526347295743}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 91, "episode_reward_max": 1376.9841170286807, "hostname": "flow-main", "timesteps_this_iter": 55989, "time_since_restore": 4272.770225763321, "episode_reward_min": 58.807937027500685, "episodes_total": 2616, "episodes_this_iter": 28, "timestamp": 1558418938, "time_total_s": 4272.770225763321, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.1, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "framestack": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "sample_async": false, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bff06d8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bff0278>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bff0898>"}, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 693.37, "experiment_id": "e07569c766b64210b97edcdc20a183b1", "info": {"num_steps_trained": 5531569, "sample_time_ms": 29395.147, "load_time_ms": 9.256, "grad_time_ms": 13300.295, "update_time_ms": 7.643, "default": {"policy_loss": -0.011471704579889774, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.7020515203475952, "total_loss": 57.276527404785156, "cur_kl_coeff": 0.33750006556510925, "vf_loss": 57.28299331665039, "kl": 0.014831817708909512, "entropy": 1.5178180932998657}, "num_steps_sampled": 5531569}, "done": false, "date": "2019-05-21_06-08-58"}
{"episode_reward_mean": 1236.435811735583, "timesteps_total": 5588160, "iterations_since_restore": 92, "timesteps_since_restore": 5588160, "num_metric_batches_dropped": 0, "pid": 343, "time_this_iter_s": 42.016998052597046, "custom_metrics": {"system_level_velocity_min": 11.173335729138229, "outflow_rate_min": 1093.9012902127301, "cost1_max": 447.77413918391704, "system_level_velocity_max": 16.81503810154291, "cost2_min": -61.034852249143874, "outflow_rate_max": 1443.7423982344635, "system_level_velocity_mean": 14.541340585368957, "cost1_mean": 385.1493668643196, "cost2_mean": -36.87610513540247, "outflow_rate_mean": 1260.0533951954496, "cost2_max": -16.861708011016276, "cost1_min": 293.649438579283}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 92, "episode_reward_max": 1382.0380824816593, "hostname": "flow-main", "timesteps_this_iter": 56591, "time_since_restore": 4314.787223815918, "episode_reward_min": 1065.3773659229926, "episodes_total": 2645, "episodes_this_iter": 29, "timestamp": 1558418980, "time_total_s": 4314.787223815918, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.1, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "framestack": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "sample_async": false, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c05de10>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c05d780>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c05d2e8>"}, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 700.0, "experiment_id": "e07569c766b64210b97edcdc20a183b1", "info": {"num_steps_trained": 5588160, "sample_time_ms": 29225.711, "load_time_ms": 9.299, "grad_time_ms": 13274.414, "update_time_ms": 7.553, "default": {"policy_loss": -0.012789342552423477, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.6771934628486633, "total_loss": 61.3450813293457, "cur_kl_coeff": 0.33750003576278687, "vf_loss": 61.352569580078125, "kl": 0.015701692551374435, "entropy": 1.5421291589736938}, "num_steps_sampled": 5588160}, "done": false, "date": "2019-05-21_06-09-40"}
{"episode_reward_mean": 1226.396980916566, "timesteps_total": 5644968, "iterations_since_restore": 93, "timesteps_since_restore": 5644968, "num_metric_batches_dropped": 0, "pid": 343, "time_this_iter_s": 42.93081092834473, "custom_metrics": {"system_level_velocity_min": 10.942174133231429, "outflow_rate_min": 1030.857602712366, "cost1_max": 447.77413918391704, "system_level_velocity_max": 16.836770318818687, "cost2_min": -62.42175396873595, "outflow_rate_max": 1443.7423982344635, "system_level_velocity_mean": 14.390674181062684, "cost1_mean": 380.86016121714493, "cost2_mean": -37.08443901320388, "outflow_rate_mean": 1251.9763845998607, "cost2_max": -16.861708011016276, "cost1_min": 282.4768333512528}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 93, "episode_reward_max": 1382.0380824816593, "hostname": "flow-main", "timesteps_this_iter": 56808, "time_since_restore": 4357.718034744263, "episode_reward_min": 1049.5040471873838, "episodes_total": 2679, "episodes_this_iter": 34, "timestamp": 1558419023, "time_total_s": 4357.718034744263, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.1, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "framestack": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "sample_async": false, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfff128>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfff898>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bff0710>"}, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 700.0, "experiment_id": "e07569c766b64210b97edcdc20a183b1", "info": {"num_steps_trained": 5644968, "sample_time_ms": 29258.208, "load_time_ms": 8.959, "grad_time_ms": 13239.126, "update_time_ms": 7.448, "default": {"policy_loss": -0.013743193820118904, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.6831290125846863, "total_loss": 61.63363265991211, "cur_kl_coeff": 0.33750006556510925, "vf_loss": 61.64179611206055, "kl": 0.01652420684695244, "entropy": 1.5299769639968872}, "num_steps_sampled": 5644968}, "done": false, "date": "2019-05-21_06-10-23"}
{"episode_reward_mean": 1206.3803524574037, "timesteps_total": 5700721, "iterations_since_restore": 94, "timesteps_since_restore": 5700721, "num_metric_batches_dropped": 0, "pid": 343, "time_this_iter_s": 44.13228178024292, "custom_metrics": {"system_level_velocity_min": 10.942174133231429, "outflow_rate_min": 502.9433862365724, "cost1_max": 447.77413918391704, "system_level_velocity_max": 18.34937759898215, "cost2_min": -62.42175396873595, "outflow_rate_max": 1443.7423982344635, "system_level_velocity_mean": 14.33101614873475, "cost1_mean": 374.3770729581001, "cost2_mean": -37.95067038538605, "outflow_rate_mean": 1235.7813984706722, "cost2_max": -10.764456321578837, "cost1_min": 22.76461556944569}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 94, "episode_reward_max": 1382.0380824816593, "hostname": "flow-main", "timesteps_this_iter": 55753, "time_since_restore": 4401.850316524506, "episode_reward_min": 55.514573548042804, "episodes_total": 2709, "episodes_this_iter": 30, "timestamp": 1558419068, "time_total_s": 4401.850316524506, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.1, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "framestack": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "sample_async": false, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c05d160>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c05dda0>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c05d2e8>"}, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 693.35, "experiment_id": "e07569c766b64210b97edcdc20a183b1", "info": {"num_steps_trained": 5700721, "sample_time_ms": 29405.36, "load_time_ms": 8.917, "grad_time_ms": 13186.054, "update_time_ms": 7.386, "default": {"policy_loss": -0.012799982912838459, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.7043836712837219, "total_loss": 58.256717681884766, "cur_kl_coeff": 0.33750006556510925, "vf_loss": 58.264278411865234, "kl": 0.015528890304267406, "entropy": 1.5082659721374512}, "num_steps_sampled": 5700721}, "done": false, "date": "2019-05-21_06-11-08"}
{"episode_reward_mean": 1210.0000903092148, "timesteps_total": 5756304, "iterations_since_restore": 95, "timesteps_since_restore": 5756304, "num_metric_batches_dropped": 0, "pid": 343, "time_this_iter_s": 42.12094306945801, "custom_metrics": {"system_level_velocity_min": 10.942174133231429, "outflow_rate_min": 502.9433862365724, "cost1_max": 453.5251629405652, "system_level_velocity_max": 18.34937759898215, "cost2_min": -64.80985902099242, "outflow_rate_max": 1435.6437896535704, "system_level_velocity_mean": 14.428017913926995, "cost1_mean": 376.8683933610753, "cost2_mean": -38.92538088171196, "outflow_rate_mean": 1238.9282030272545, "cost2_max": -10.764456321578837, "cost1_min": 22.76461556944569}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 95, "episode_reward_max": 1395.071526668331, "hostname": "flow-main", "timesteps_this_iter": 55583, "time_since_restore": 4443.971259593964, "episode_reward_min": 55.514573548042804, "episodes_total": 2739, "episodes_this_iter": 30, "timestamp": 1558419110, "time_total_s": 4443.971259593964, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.1, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "framestack": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "sample_async": false, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bff0eb8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bff0278>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bff05c0>"}, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 693.35, "experiment_id": "e07569c766b64210b97edcdc20a183b1", "info": {"num_steps_trained": 5756304, "sample_time_ms": 29285.086, "load_time_ms": 8.95, "grad_time_ms": 13315.229, "update_time_ms": 7.766, "default": {"policy_loss": -0.011126390658318996, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.7031832337379456, "total_loss": 61.199710845947266, "cur_kl_coeff": 0.33750003576278687, "vf_loss": 61.20573043823242, "kl": 0.01512311864644289, "entropy": 1.5276368856430054}, "num_steps_sampled": 5756304}, "done": false, "date": "2019-05-21_06-11-50"}
{"episode_reward_mean": 1223.6524657443529, "timesteps_total": 5811612, "iterations_since_restore": 96, "timesteps_since_restore": 5811612, "num_metric_batches_dropped": 0, "pid": 343, "time_this_iter_s": 42.71128463745117, "custom_metrics": {"system_level_velocity_min": 11.082834501501129, "outflow_rate_min": 502.9433862365724, "cost1_max": 455.3237332276516, "system_level_velocity_max": 18.34937759898215, "cost2_min": -64.80985902099242, "outflow_rate_max": 1436.9045917978847, "system_level_velocity_mean": 14.63658321959088, "cost1_mean": 382.79415639241694, "cost2_mean": -37.799654173443464, "outflow_rate_mean": 1255.12528175258, "cost2_max": -10.764456321578837, "cost1_min": 22.76461556944569}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 96, "episode_reward_max": 1395.071526668331, "hostname": "flow-main", "timesteps_this_iter": 55308, "time_since_restore": 4486.682544231415, "episode_reward_min": 55.514573548042804, "episodes_total": 2770, "episodes_this_iter": 31, "timestamp": 1558419153, "time_total_s": 4486.682544231415, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.1, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "framestack": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "sample_async": false, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfff898>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c0696d8>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfffac8>"}, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 693.35, "experiment_id": "e07569c766b64210b97edcdc20a183b1", "info": {"num_steps_trained": 5811612, "sample_time_ms": 29236.219, "load_time_ms": 8.919, "grad_time_ms": 13275.737, "update_time_ms": 7.79, "default": {"policy_loss": -0.012355389073491096, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.673738420009613, "total_loss": 64.21792602539062, "cur_kl_coeff": 0.33750003576278687, "vf_loss": 64.22502899169922, "kl": 0.015545793808996677, "entropy": 1.5349352359771729}, "num_steps_sampled": 5811612}, "done": false, "date": "2019-05-21_06-12-33"}
{"episode_reward_mean": 1225.1902249025432, "timesteps_total": 5867315, "iterations_since_restore": 97, "timesteps_since_restore": 5867315, "num_metric_batches_dropped": 0, "pid": 343, "time_this_iter_s": 41.06020951271057, "custom_metrics": {"system_level_velocity_min": 11.461202113456906, "outflow_rate_min": 502.9433862365724, "cost1_max": 455.3237332276516, "system_level_velocity_max": 18.34937759898215, "cost2_min": -64.80985902099242, "outflow_rate_max": 1436.9045917978847, "system_level_velocity_mean": 14.747691354453327, "cost1_mean": 385.8968630807979, "cost2_mean": -36.582647557383154, "outflow_rate_mean": 1255.0728162172963, "cost2_max": -10.764456321578837, "cost1_min": 22.76461556944569}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 97, "episode_reward_max": 1395.071526668331, "hostname": "flow-main", "timesteps_this_iter": 55703, "time_since_restore": 4527.742753744125, "episode_reward_min": 55.514573548042804, "episodes_total": 2798, "episodes_this_iter": 28, "timestamp": 1558419194, "time_total_s": 4527.742753744125, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.1, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "framestack": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "sample_async": false, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfffa20>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfff3c8>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfff828>"}, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 693.35, "experiment_id": "e07569c766b64210b97edcdc20a183b1", "info": {"num_steps_trained": 5867315, "sample_time_ms": 29026.645, "load_time_ms": 8.697, "grad_time_ms": 13380.055, "update_time_ms": 7.644, "default": {"policy_loss": -0.01104976236820221, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.6959131956100464, "total_loss": 54.89963150024414, "cur_kl_coeff": 0.33750006556510925, "vf_loss": 54.905799865722656, "kl": 0.014454944990575314, "entropy": 1.5493927001953125}, "num_steps_sampled": 5867315}, "done": false, "date": "2019-05-21_06-13-14"}
{"episode_reward_mean": 1225.252996059084, "timesteps_total": 5923434, "iterations_since_restore": 98, "timesteps_since_restore": 5923434, "num_metric_batches_dropped": 0, "pid": 343, "time_this_iter_s": 41.744194746017456, "custom_metrics": {"system_level_velocity_min": 11.76969485818185, "outflow_rate_min": 1097.2477254072874, "cost1_max": 455.3237332276516, "system_level_velocity_max": 17.142710363657358, "cost2_min": -64.80985902099242, "outflow_rate_max": 1436.9045917978847, "system_level_velocity_mean": 14.564206040903823, "cost1_mean": 385.48325838070775, "cost2_mean": -37.389037834679804, "outflow_rate_mean": 1252.4989098266428, "cost2_max": -18.465681111579475, "cost1_min": 310.981255584039}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 98, "episode_reward_max": 1373.625698957833, "hostname": "flow-main", "timesteps_this_iter": 56119, "time_since_restore": 4569.486948490143, "episode_reward_min": 1072.1317877873335, "episodes_total": 2830, "episodes_this_iter": 32, "timestamp": 1558419235, "time_total_s": 4569.486948490143, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.1, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "framestack": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "sample_async": false, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c003c88>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c056080>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c003ba8>"}, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 700.0, "experiment_id": "e07569c766b64210b97edcdc20a183b1", "info": {"num_steps_trained": 5923434, "sample_time_ms": 28918.21, "load_time_ms": 8.829, "grad_time_ms": 13468.799, "update_time_ms": 7.642, "default": {"policy_loss": -0.011610140092670918, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.6790190935134888, "total_loss": 59.78578186035156, "cur_kl_coeff": 0.33750006556510925, "vf_loss": 59.79243087768555, "kl": 0.014709597453474998, "entropy": 1.555536150932312}, "num_steps_sampled": 5923434}, "done": false, "date": "2019-05-21_06-13-55"}
{"episode_reward_mean": 1205.3561964500798, "timesteps_total": 5977872, "iterations_since_restore": 99, "timesteps_since_restore": 5977872, "num_metric_batches_dropped": 0, "pid": 343, "time_this_iter_s": 40.628005027770996, "custom_metrics": {"system_level_velocity_min": 11.76969485818185, "outflow_rate_min": 491.0818408308928, "cost1_max": 449.5103600462311, "system_level_velocity_max": 18.226013466781584, "cost2_min": -62.68462871596971, "outflow_rate_max": 1425.0092093696703, "system_level_velocity_mean": 14.460615626712581, "cost1_mean": 377.99715585298384, "cost2_mean": -38.37863085602699, "outflow_rate_mean": 1237.5317283521895, "cost2_max": -8.69962608763494, "cost1_min": 22.66558964044259}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 99, "episode_reward_max": 1365.4871570594648, "hostname": "flow-main", "timesteps_this_iter": 54438, "time_since_restore": 4610.114953517914, "episode_reward_min": 58.88564836232413, "episodes_total": 2860, "episodes_this_iter": 30, "timestamp": 1558419276, "time_total_s": 4610.114953517914, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.1, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "framestack": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "sample_async": false, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c05d470>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c05dd68>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c05dac8>"}, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 693.35, "experiment_id": "e07569c766b64210b97edcdc20a183b1", "info": {"num_steps_trained": 5977872, "sample_time_ms": 28636.725, "load_time_ms": 8.706, "grad_time_ms": 13443.959, "update_time_ms": 7.649, "default": {"policy_loss": -0.01115108747035265, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.6642650365829468, "total_loss": 61.42681884765625, "cur_kl_coeff": 0.33750006556510925, "vf_loss": 61.43309783935547, "kl": 0.014458229765295982, "entropy": 1.534859299659729}, "num_steps_sampled": 5977872}, "done": false, "date": "2019-05-21_06-14-36"}
{"episode_reward_mean": 1211.6505361637178, "timesteps_total": 6032582, "iterations_since_restore": 100, "timesteps_since_restore": 6032582, "num_metric_batches_dropped": 0, "pid": 343, "time_this_iter_s": 42.54296135902405, "custom_metrics": {"system_level_velocity_min": 11.76969485818185, "outflow_rate_min": 491.0818408308928, "cost1_max": 456.8338232046857, "system_level_velocity_max": 18.226013466781584, "cost2_min": -62.68462871596971, "outflow_rate_max": 1444.5399013261915, "system_level_velocity_mean": 14.658230840618762, "cost1_mean": 383.25698721099434, "cost2_mean": -38.093495891025555, "outflow_rate_mean": 1243.744918576519, "cost2_max": -8.69962608763494, "cost1_min": 22.66558964044259}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 100, "episode_reward_max": 1372.3942217695037, "hostname": "flow-main", "timesteps_this_iter": 54710, "time_since_restore": 4652.657914876938, "episode_reward_min": 58.88564836232413, "episodes_total": 2889, "episodes_this_iter": 29, "timestamp": 1558419319, "time_total_s": 4652.657914876938, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.1, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "framestack": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "sample_async": false, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bff0278>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c05d668>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bff0240>"}, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 693.35, "experiment_id": "e07569c766b64210b97edcdc20a183b1", "info": {"num_steps_trained": 6032582, "sample_time_ms": 28629.393, "load_time_ms": 8.473, "grad_time_ms": 13456.267, "update_time_ms": 7.531, "default": {"policy_loss": -0.010253051295876503, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.68806391954422, "total_loss": 58.46336364746094, "cur_kl_coeff": 0.33750006556510925, "vf_loss": 58.46879577636719, "kl": 0.014273840002715588, "entropy": 1.5494327545166016}, "num_steps_sampled": 6032582}, "done": false, "date": "2019-05-21_06-15-19"}
{"episode_reward_mean": 1224.092173141821, "timesteps_total": 6086507, "iterations_since_restore": 101, "timesteps_since_restore": 6086507, "num_metric_batches_dropped": 0, "pid": 343, "time_this_iter_s": 42.66159963607788, "custom_metrics": {"system_level_velocity_min": 11.76969485818185, "outflow_rate_min": 491.0818408308928, "cost1_max": 456.8338232046857, "system_level_velocity_max": 18.226013466781584, "cost2_min": -62.68462871596971, "outflow_rate_max": 1457.0692663877264, "system_level_velocity_mean": 14.934069402538901, "cost1_mean": 390.58400707884647, "cost2_mean": -37.41693162315873, "outflow_rate_mean": 1259.5476760672757, "cost2_max": -8.69962608763494, "cost1_min": 22.66558964044259}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 101, "episode_reward_max": 1374.6313722493292, "hostname": "flow-main", "timesteps_this_iter": 53925, "time_since_restore": 4695.319514513016, "episode_reward_min": 58.88564836232413, "episodes_total": 2918, "episodes_this_iter": 29, "timestamp": 1558419361, "time_total_s": 4695.319514513016, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.1, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "framestack": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "sample_async": false, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c056828>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c069828>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c0694a8>"}, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 693.35, "experiment_id": "e07569c766b64210b97edcdc20a183b1", "info": {"num_steps_trained": 6086507, "sample_time_ms": 28579.521, "load_time_ms": 8.795, "grad_time_ms": 13553.498, "update_time_ms": 7.534, "default": {"policy_loss": -0.013105442747473717, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.6841607689857483, "total_loss": 58.477779388427734, "cur_kl_coeff": 0.33750006556510925, "vf_loss": 58.48555374145508, "kl": 0.015788458287715912, "entropy": 1.540629267692566}, "num_steps_sampled": 6086507}, "done": false, "date": "2019-05-21_06-16-01"}
{"episode_reward_mean": 1236.4519615195263, "timesteps_total": 6142166, "iterations_since_restore": 102, "timesteps_since_restore": 6142166, "num_metric_batches_dropped": 0, "pid": 343, "time_this_iter_s": 41.89474606513977, "custom_metrics": {"system_level_velocity_min": 12.038125831957972, "outflow_rate_min": 491.0818408308928, "cost1_max": 456.8338232046857, "system_level_velocity_max": 18.226013466781584, "cost2_min": -62.68462871596971, "outflow_rate_max": 1457.0692663877264, "system_level_velocity_mean": 15.103615641386355, "cost1_mean": 395.02136466853466, "cost2_mean": -37.44213986892835, "outflow_rate_mean": 1271.9304570208938, "cost2_max": -8.69962608763494, "cost1_min": 22.66558964044259}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 102, "episode_reward_max": 1379.6607095304264, "hostname": "flow-main", "timesteps_this_iter": 55659, "time_since_restore": 4737.2142605781555, "episode_reward_min": 58.88564836232413, "episodes_total": 2948, "episodes_this_iter": 30, "timestamp": 1558419403, "time_total_s": 4737.2142605781555, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.1, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "framestack": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "sample_async": false, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfff278>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfffbe0>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfffc18>"}, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 693.35, "experiment_id": "e07569c766b64210b97edcdc20a183b1", "info": {"num_steps_trained": 6142166, "sample_time_ms": 28490.398, "load_time_ms": 8.744, "grad_time_ms": 13630.117, "update_time_ms": 7.819, "default": {"policy_loss": -0.012757326476275921, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.7128525376319885, "total_loss": 58.31476974487305, "cur_kl_coeff": 0.33750003576278687, "vf_loss": 58.322601318359375, "kl": 0.014591504819691181, "entropy": 1.5772072076797485}, "num_steps_sampled": 6142166}, "done": false, "date": "2019-05-21_06-16-43"}
{"episode_reward_mean": 1241.7739055152008, "timesteps_total": 6197627, "iterations_since_restore": 103, "timesteps_since_restore": 6197627, "num_metric_batches_dropped": 0, "pid": 343, "time_this_iter_s": 40.68296504020691, "custom_metrics": {"system_level_velocity_min": 11.980072933049632, "outflow_rate_min": 1112.0866301274943, "cost1_max": 456.5161926443551, "system_level_velocity_max": 17.223918400751796, "cost2_min": -63.91519490488825, "outflow_rate_max": 1457.0692663877264, "system_level_velocity_mean": 14.984856960887228, "cost1_mean": 394.4385386848286, "cost2_mean": -38.01834857395108, "outflow_rate_mean": 1279.4112515709446, "cost2_max": -18.537817901151136, "cost1_min": 256.0585319374658}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 103, "episode_reward_max": 1379.6607095304264, "hostname": "flow-main", "timesteps_this_iter": 55461, "time_since_restore": 4777.897225618362, "episode_reward_min": 751.6613196978545, "episodes_total": 2980, "episodes_this_iter": 32, "timestamp": 1558419444, "time_total_s": 4777.897225618362, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.1, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "framestack": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "sample_async": false, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c003b70>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c003a20>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c003978>"}, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 696.97, "experiment_id": "e07569c766b64210b97edcdc20a183b1", "info": {"num_steps_trained": 6197627, "sample_time_ms": 28269.01, "load_time_ms": 9.016, "grad_time_ms": 13627.867, "update_time_ms": 7.798, "default": {"policy_loss": -0.012148420326411724, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.6725685000419617, "total_loss": 68.2399673461914, "cur_kl_coeff": 0.33750006556510925, "vf_loss": 68.24674987792969, "kl": 0.015892937779426575, "entropy": 1.5849251747131348}, "num_steps_sampled": 6197627}, "done": false, "date": "2019-05-21_06-17-24"}
{"episode_reward_mean": 1233.5974013069804, "timesteps_total": 6252441, "iterations_since_restore": 104, "timesteps_since_restore": 6252441, "num_metric_batches_dropped": 0, "pid": 343, "time_this_iter_s": 41.155466079711914, "custom_metrics": {"system_level_velocity_min": 11.353842778259699, "outflow_rate_min": 1086.735372956555, "cost1_max": 451.7837471617746, "system_level_velocity_max": 17.09718766031911, "cost2_min": -63.91519490488825, "outflow_rate_max": 1449.7301219040282, "system_level_velocity_mean": 14.784807859571265, "cost1_mean": 389.34433216476384, "cost2_mean": -38.57508524363913, "outflow_rate_mean": 1268.6060563038582, "cost2_max": -17.91698357334664, "cost1_min": 256.0585319374658}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 104, "episode_reward_max": 1379.6607095304264, "hostname": "flow-main", "timesteps_this_iter": 54814, "time_since_restore": 4819.052691698074, "episode_reward_min": 751.6613196978545, "episodes_total": 3010, "episodes_this_iter": 30, "timestamp": 1558419485, "time_total_s": 4819.052691698074, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.1, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "framestack": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "sample_async": false, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c05d2b0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c05d7f0>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c05df60>"}, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 696.97, "experiment_id": "e07569c766b64210b97edcdc20a183b1", "info": {"num_steps_trained": 6252441, "sample_time_ms": 27966.885, "load_time_ms": 8.979, "grad_time_ms": 13634.052, "update_time_ms": 7.886, "default": {"policy_loss": -0.012257815338671207, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.7096265554428101, "total_loss": 56.594139099121094, "cur_kl_coeff": 0.33750006556510925, "vf_loss": 56.601722717285156, "kl": 0.013846449553966522, "entropy": 1.580543041229248}, "num_steps_sampled": 6252441}, "done": false, "date": "2019-05-21_06-18-05"}
{"episode_reward_mean": 1225.7062507928079, "timesteps_total": 6307529, "iterations_since_restore": 105, "timesteps_since_restore": 6307529, "num_metric_batches_dropped": 0, "pid": 343, "time_this_iter_s": 41.39173913002014, "custom_metrics": {"system_level_velocity_min": 11.353842778259699, "outflow_rate_min": 1086.735372956555, "cost1_max": 454.4980832211106, "system_level_velocity_max": 17.10912979885632, "cost2_min": -63.91519490488825, "outflow_rate_max": 1446.2866529336666, "system_level_velocity_mean": 14.704473720749412, "cost1_mean": 387.3393724552485, "cost2_mean": -37.98274179947093, "outflow_rate_mean": 1262.9862541309576, "cost2_max": -17.91698357334664, "cost1_min": 256.0585319374658}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 105, "episode_reward_max": 1383.3920763968638, "hostname": "flow-main", "timesteps_this_iter": 55088, "time_since_restore": 4860.4444308280945, "episode_reward_min": 751.6613196978545, "episodes_total": 3039, "episodes_this_iter": 29, "timestamp": 1558419527, "time_total_s": 4860.4444308280945, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.1, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "framestack": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "sample_async": false, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bff0be0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bff0cf8>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bff0c18>"}, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 696.97, "experiment_id": "e07569c766b64210b97edcdc20a183b1", "info": {"num_steps_trained": 6307529, "sample_time_ms": 27968.457, "load_time_ms": 9.029, "grad_time_ms": 13560.336, "update_time_ms": 7.661, "default": {"policy_loss": -0.012205083854496479, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.6699055433273315, "total_loss": 60.53316116333008, "cur_kl_coeff": 0.33750006556510925, "vf_loss": 60.540245056152344, "kl": 0.015191097743809223, "entropy": 1.570630431175232}, "num_steps_sampled": 6307529}, "done": false, "date": "2019-05-21_06-18-47"}
{"episode_reward_mean": 1236.1270521273966, "timesteps_total": 6362513, "iterations_since_restore": 106, "timesteps_since_restore": 6362513, "num_metric_batches_dropped": 0, "pid": 343, "time_this_iter_s": 42.76511478424072, "custom_metrics": {"system_level_velocity_min": 11.353842778259699, "outflow_rate_min": 1086.735372956555, "cost1_max": 454.4980832211106, "system_level_velocity_max": 17.10912979885632, "cost2_min": -59.28946161655338, "outflow_rate_max": 1446.2866529336666, "system_level_velocity_mean": 14.726783243588384, "cost1_mean": 390.23205274536593, "cost2_mean": -38.345004006552266, "outflow_rate_mean": 1268.7646686597743, "cost2_max": -17.91698357334664, "cost1_min": 295.3512503466792}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 106, "episode_reward_max": 1383.3920763968638, "hostname": "flow-main", "timesteps_this_iter": 54984, "time_since_restore": 4903.209545612335, "episode_reward_min": 1054.4500415514763, "episodes_total": 3068, "episodes_this_iter": 29, "timestamp": 1558419570, "time_total_s": 4903.209545612335, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.1, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "framestack": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "sample_async": false, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c05d400>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c05d198>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c05d940>"}, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 700.0, "experiment_id": "e07569c766b64210b97edcdc20a183b1", "info": {"num_steps_trained": 6362513, "sample_time_ms": 27881.256, "load_time_ms": 9.109, "grad_time_ms": 13650.186, "update_time_ms": 7.669, "default": {"policy_loss": -0.010917462408542633, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.6727854609489441, "total_loss": 62.03736114501953, "cur_kl_coeff": 0.33750009536743164, "vf_loss": 62.04338455200195, "kl": 0.014500424265861511, "entropy": 1.5681004524230957}, "num_steps_sampled": 6362513}, "done": false, "date": "2019-05-21_06-19-30"}
{"episode_reward_mean": 1245.3145847031442, "timesteps_total": 6418983, "iterations_since_restore": 107, "timesteps_since_restore": 6418983, "num_metric_batches_dropped": 0, "pid": 343, "time_this_iter_s": 43.697612047195435, "custom_metrics": {"system_level_velocity_min": 11.880797150610238, "outflow_rate_min": 1114.1520217341342, "cost1_max": 454.4980832211106, "system_level_velocity_max": 17.10912979885632, "cost2_min": -63.149567593542436, "outflow_rate_max": 1446.2866529336666, "system_level_velocity_mean": 14.812160659571255, "cost1_mean": 392.3725807337945, "cost2_mean": -38.20250574725434, "outflow_rate_mean": 1278.3851539389177, "cost2_max": -21.587886270672524, "cost1_min": 309.22627638294705}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 107, "episode_reward_max": 1383.3920763968638, "hostname": "flow-main", "timesteps_this_iter": 56470, "time_since_restore": 4946.907157659531, "episode_reward_min": 1106.0769970536303, "episodes_total": 3101, "episodes_this_iter": 33, "timestamp": 1558419613, "time_total_s": 4946.907157659531, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.1, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "framestack": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "sample_async": false, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c00a390>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c00a048>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c00ae80>"}, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 700.0, "experiment_id": "e07569c766b64210b97edcdc20a183b1", "info": {"num_steps_trained": 6418983, "sample_time_ms": 28009.436, "load_time_ms": 9.37, "grad_time_ms": 13784.534, "update_time_ms": 7.893, "default": {"policy_loss": -0.011846978217363358, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.6838887929916382, "total_loss": 66.39108276367188, "cur_kl_coeff": 0.33750006556510925, "vf_loss": 66.39774322509766, "kl": 0.015360343270003796, "entropy": 1.5868617296218872}, "num_steps_sampled": 6418983}, "done": false, "date": "2019-05-21_06-20-13"}
{"episode_reward_mean": 1228.0664020353447, "timesteps_total": 6475388, "iterations_since_restore": 108, "timesteps_since_restore": 6475388, "num_metric_batches_dropped": 0, "pid": 343, "time_this_iter_s": 43.35393452644348, "custom_metrics": {"system_level_velocity_min": 11.780088773675518, "outflow_rate_min": 1101.2421988356475, "cost1_max": 453.99981222226006, "system_level_velocity_max": 17.102443805076007, "cost2_min": -63.149567593542436, "outflow_rate_max": 1417.39025369705, "system_level_velocity_mean": 14.47254344680531, "cost1_mean": 382.9020640305423, "cost2_mean": -41.30892023700122, "outflow_rate_mean": 1262.9424452989642, "cost2_max": -21.587886270672524, "cost1_min": 306.42270969121}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 108, "episode_reward_max": 1366.785149089907, "hostname": "flow-main", "timesteps_this_iter": 56405, "time_since_restore": 4990.261092185974, "episode_reward_min": 1045.9158718873753, "episodes_total": 3131, "episodes_this_iter": 30, "timestamp": 1558419657, "time_total_s": 4990.261092185974, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.1, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "framestack": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "sample_async": false, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c0038d0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c003208>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c003a90>"}, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 700.0, "experiment_id": "e07569c766b64210b97edcdc20a183b1", "info": {"num_steps_trained": 6475388, "sample_time_ms": 27926.307, "load_time_ms": 9.203, "grad_time_ms": 14028.49, "update_time_ms": 7.92, "default": {"policy_loss": -0.012031865306198597, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.6417698264122009, "total_loss": 65.64689636230469, "cur_kl_coeff": 0.33750006556510925, "vf_loss": 65.65401458740234, "kl": 0.014562690630555153, "entropy": 1.5967408418655396}, "num_steps_sampled": 6475388}, "done": false, "date": "2019-05-21_06-20-57"}
{"episode_reward_mean": 1224.0958345403428, "timesteps_total": 6530506, "iterations_since_restore": 109, "timesteps_since_restore": 6530506, "num_metric_batches_dropped": 0, "pid": 343, "time_this_iter_s": 41.42215323448181, "custom_metrics": {"system_level_velocity_min": 11.57827367787904, "outflow_rate_min": 1101.2421988356475, "cost1_max": 460.28950589060327, "system_level_velocity_max": 17.3507731953957, "cost2_min": -63.149567593542436, "outflow_rate_max": 1470.7707762825407, "system_level_velocity_mean": 14.409013350772574, "cost1_mean": 380.7125430803133, "cost2_mean": -41.95085397785602, "outflow_rate_mean": 1263.9445069456694, "cost2_max": -20.507211307119174, "cost1_min": 304.2311095837947}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 109, "episode_reward_max": 1393.6484133624542, "hostname": "flow-main", "timesteps_this_iter": 55118, "time_since_restore": 5031.683245420456, "episode_reward_min": 1045.9158718873753, "episodes_total": 3161, "episodes_this_iter": 30, "timestamp": 1558419698, "time_total_s": 5031.683245420456, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.1, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "framestack": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "sample_async": false, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c069a58>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c05d5c0>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c05dcf8>"}, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 700.0, "experiment_id": "e07569c766b64210b97edcdc20a183b1", "info": {"num_steps_trained": 6530506, "sample_time_ms": 28037.37, "load_time_ms": 9.392, "grad_time_ms": 13995.411, "update_time_ms": 7.905, "default": {"policy_loss": -0.010624951682984829, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.6161770224571228, "total_loss": 70.30369567871094, "cur_kl_coeff": 0.33750006556510925, "vf_loss": 70.3091049194336, "kl": 0.015459795482456684, "entropy": 1.576581358909607}, "num_steps_sampled": 6530506}, "done": false, "date": "2019-05-21_06-21-38"}
{"episode_reward_mean": 1209.4213209566244, "timesteps_total": 6585341, "iterations_since_restore": 110, "timesteps_since_restore": 6585341, "num_metric_batches_dropped": 0, "pid": 343, "time_this_iter_s": 41.53090500831604, "custom_metrics": {"system_level_velocity_min": 11.57827367787904, "outflow_rate_min": 1101.2421988356475, "cost1_max": 460.28950589060327, "system_level_velocity_max": 17.3507731953957, "cost2_min": -69.36167776387505, "outflow_rate_max": 1470.7707762825407, "system_level_velocity_mean": 14.229868955340226, "cost1_mean": 375.6314149299307, "cost2_mean": -43.37563169695244, "outflow_rate_mean": 1250.8635729616306, "cost2_max": -18.983330104115797, "cost1_min": 304.2311095837947}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 110, "episode_reward_max": 1393.6484133624542, "hostname": "flow-main", "timesteps_this_iter": 54835, "time_since_restore": 5073.214150428772, "episode_reward_min": 1045.9158718873753, "episodes_total": 3191, "episodes_this_iter": 30, "timestamp": 1558419740, "time_total_s": 5073.214150428772, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.1, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "framestack": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "sample_async": false, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bff0b70>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bff0a58>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bff0e80>"}, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 700.0, "experiment_id": "e07569c766b64210b97edcdc20a183b1", "info": {"num_steps_trained": 6585341, "sample_time_ms": 28061.741, "load_time_ms": 9.318, "grad_time_ms": 13874.362, "update_time_ms": 7.922, "default": {"policy_loss": -0.011994406580924988, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.6198186874389648, "total_loss": 62.61607360839844, "cur_kl_coeff": 0.33750006556510925, "vf_loss": 62.623111724853516, "kl": 0.014706005342304707, "entropy": 1.5751914978027344}, "num_steps_sampled": 6585341}, "done": false, "date": "2019-05-21_06-22-20"}
{"episode_reward_mean": 1215.931378772385, "timesteps_total": 6640607, "iterations_since_restore": 111, "timesteps_since_restore": 6640607, "num_metric_batches_dropped": 0, "pid": 343, "time_this_iter_s": 42.49318337440491, "custom_metrics": {"system_level_velocity_min": 11.57827367787904, "outflow_rate_min": 1117.2163636363634, "cost1_max": 461.1872475551579, "system_level_velocity_max": 17.39816143339621, "cost2_min": -69.36167776387505, "outflow_rate_max": 1470.7707762825407, "system_level_velocity_mean": 14.458493620588726, "cost1_mean": 381.852434736882, "cost2_mean": -41.11867661281126, "outflow_rate_mean": 1258.2492516594723, "cost2_max": -18.983330104115797, "cost1_min": 304.2311095837947}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 111, "episode_reward_max": 1393.6484133624542, "hostname": "flow-main", "timesteps_this_iter": 55266, "time_since_restore": 5115.707333803177, "episode_reward_min": 1082.574909019871, "episodes_total": 3220, "episodes_this_iter": 29, "timestamp": 1558419782, "time_total_s": 5115.707333803177, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.1, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "framestack": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "sample_async": false, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfff128>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfffc50>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfffc88>"}, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 700.0, "experiment_id": "e07569c766b64210b97edcdc20a183b1", "info": {"num_steps_trained": 6640607, "sample_time_ms": 28109.645, "load_time_ms": 9.195, "grad_time_ms": 13810.463, "update_time_ms": 7.806, "default": {"policy_loss": -0.011844610795378685, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.6180418729782104, "total_loss": 63.70201873779297, "cur_kl_coeff": 0.33750009536743164, "vf_loss": 63.70907211303711, "kl": 0.014202704653143883, "entropy": 1.5964776277542114}, "num_steps_sampled": 6640607}, "done": false, "date": "2019-05-21_06-23-02"}
{"episode_reward_mean": 1215.7387648429703, "timesteps_total": 6695980, "iterations_since_restore": 112, "timesteps_since_restore": 6695980, "num_metric_batches_dropped": 0, "pid": 343, "time_this_iter_s": 41.543760538101196, "custom_metrics": {"system_level_velocity_min": 11.57827367787904, "outflow_rate_min": 1107.8024105306458, "cost1_max": 461.1872475551579, "system_level_velocity_max": 17.39816143339621, "cost2_min": -69.36167776387505, "outflow_rate_max": 1464.2144564121904, "system_level_velocity_mean": 14.496443309195083, "cost1_mean": 382.85770275785876, "cost2_mean": -40.5689537506597, "outflow_rate_mean": 1254.2094774735745, "cost2_max": -18.983330104115797, "cost1_min": 304.2311095837947}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 112, "episode_reward_max": 1391.919470498887, "hostname": "flow-main", "timesteps_this_iter": 55373, "time_since_restore": 5157.251094341278, "episode_reward_min": 1074.6251961707308, "episodes_total": 3249, "episodes_this_iter": 29, "timestamp": 1558419824, "time_total_s": 5157.251094341278, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.1, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "framestack": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "sample_async": false, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c00a160>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c00a048>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c00a860>"}, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 700.0, "experiment_id": "e07569c766b64210b97edcdc20a183b1", "info": {"num_steps_trained": 6695980, "sample_time_ms": 28112.044, "load_time_ms": 9.173, "grad_time_ms": 13774.197, "update_time_ms": 7.586, "default": {"policy_loss": -0.013650057837367058, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.6197939515113831, "total_loss": 61.44089126586914, "cur_kl_coeff": 0.33750003576278687, "vf_loss": 61.44895935058594, "kl": 0.01652839034795761, "entropy": 1.6137911081314087}, "num_steps_sampled": 6695980}, "done": false, "date": "2019-05-21_06-23-44"}
{"episode_reward_mean": 1210.8340031598882, "timesteps_total": 6750529, "iterations_since_restore": 113, "timesteps_since_restore": 6750529, "num_metric_batches_dropped": 0, "pid": 343, "time_this_iter_s": 42.02127194404602, "custom_metrics": {"system_level_velocity_min": 11.929206052662293, "outflow_rate_min": 1021.6650790718863, "cost1_max": 466.01564332923715, "system_level_velocity_max": 17.64887832433279, "cost2_min": -66.53724670732826, "outflow_rate_max": 1466.8839035922058, "system_level_velocity_mean": 14.736472545976842, "cost1_mean": 385.69715988792893, "cost2_mean": -38.75077119432866, "outflow_rate_mean": 1255.9196896396963, "cost2_max": -20.938572576451097, "cost1_min": 144.02668343737486}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 113, "episode_reward_max": 1402.517517886823, "hostname": "flow-main", "timesteps_this_iter": 54549, "time_since_restore": 5199.272366285324, "episode_reward_min": 394.63310928918327, "episodes_total": 3281, "episodes_this_iter": 32, "timestamp": 1558419866, "time_total_s": 5199.272366285324, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.1, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "framestack": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "sample_async": false, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c069e48>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c069240>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c069978>"}, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 694.9, "experiment_id": "e07569c766b64210b97edcdc20a183b1", "info": {"num_steps_trained": 6750529, "sample_time_ms": 28243.919, "load_time_ms": 8.89, "grad_time_ms": 13776.499, "update_time_ms": 7.75, "default": {"policy_loss": -0.01141276489943266, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.5786225199699402, "total_loss": 71.32911682128906, "cur_kl_coeff": 0.33750006556510925, "vf_loss": 71.33529663085938, "kl": 0.015483876690268517, "entropy": 1.6042217016220093}, "num_steps_sampled": 6750529}, "done": false, "date": "2019-05-21_06-24-26"}
{"episode_reward_mean": 1199.0371855619007, "timesteps_total": 6804655, "iterations_since_restore": 114, "timesteps_since_restore": 6804655, "num_metric_batches_dropped": 0, "pid": 343, "time_this_iter_s": 40.427021980285645, "custom_metrics": {"system_level_velocity_min": 11.402934068964136, "outflow_rate_min": 485.8629864444024, "cost1_max": 466.01564332923715, "system_level_velocity_max": 17.64887832433279, "cost2_min": -66.53724670732826, "outflow_rate_max": 1466.8839035922058, "system_level_velocity_mean": 14.785621646179907, "cost1_mean": 382.6358995927327, "cost2_mean": -37.69823675187298, "outflow_rate_mean": 1247.9241618689032, "cost2_max": -11.117596662882693, "cost1_min": 17.75222603462384}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 114, "episode_reward_max": 1402.517517886823, "hostname": "flow-main", "timesteps_this_iter": 54126, "time_since_restore": 5239.69938826561, "episode_reward_min": 43.83225936964573, "episodes_total": 3310, "episodes_this_iter": 29, "timestamp": 1558419906, "time_total_s": 5239.69938826561, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.1, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "framestack": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "sample_async": false, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bff0ac8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bff03c8>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bff0be0>"}, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 688.17, "experiment_id": "e07569c766b64210b97edcdc20a183b1", "info": {"num_steps_trained": 6804655, "sample_time_ms": 28219.597, "load_time_ms": 9.228, "grad_time_ms": 13726.751, "update_time_ms": 7.56, "default": {"policy_loss": -0.011085868813097477, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.6535278558731079, "total_loss": 61.703125, "cur_kl_coeff": 0.33750006556510925, "vf_loss": 61.70897674560547, "kl": 0.015509583987295628, "entropy": 1.6081143617630005}, "num_steps_sampled": 6804655}, "done": false, "date": "2019-05-21_06-25-06"}
{"episode_reward_mean": 1187.5384973565763, "timesteps_total": 6860036, "iterations_since_restore": 115, "timesteps_since_restore": 6860036, "num_metric_batches_dropped": 0, "pid": 343, "time_this_iter_s": 43.04125213623047, "custom_metrics": {"system_level_velocity_min": 11.402934068964136, "outflow_rate_min": 485.8629864444024, "cost1_max": 466.01564332923715, "system_level_velocity_max": 18.49020255975469, "cost2_min": -58.52245984895053, "outflow_rate_max": 1466.8839035922058, "system_level_velocity_mean": 14.966832823367092, "cost1_mean": 382.7095670430349, "cost2_mean": -36.109569598160604, "outflow_rate_mean": 1241.036658912595, "cost2_max": -11.117596662882693, "cost1_min": 17.75222603462384}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 115, "episode_reward_max": 1402.517517886823, "hostname": "flow-main", "timesteps_this_iter": 55381, "time_since_restore": 5282.74064040184, "episode_reward_min": 43.83225936964573, "episodes_total": 3342, "episodes_this_iter": 32, "timestamp": 1558419949, "time_total_s": 5282.74064040184, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.1, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "framestack": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "sample_async": false, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c069ac8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c0694a8>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c069860>"}, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 681.52, "experiment_id": "e07569c766b64210b97edcdc20a183b1", "info": {"num_steps_trained": 6860036, "sample_time_ms": 28414.014, "load_time_ms": 9.395, "grad_time_ms": 13697.168, "update_time_ms": 7.43, "default": {"policy_loss": -0.012206245213747025, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.6693164706230164, "total_loss": 63.812744140625, "cur_kl_coeff": 0.33750003576278687, "vf_loss": 63.82002258300781, "kl": 0.014592178165912628, "entropy": 1.6412155628204346}, "num_steps_sampled": 6860036}, "done": false, "date": "2019-05-21_06-25-49"}
{"episode_reward_mean": 1179.3749666244912, "timesteps_total": 6914360, "iterations_since_restore": 116, "timesteps_since_restore": 6914360, "num_metric_batches_dropped": 0, "pid": 343, "time_this_iter_s": 42.59949707984924, "custom_metrics": {"system_level_velocity_min": 10.771745349122353, "outflow_rate_min": 485.8629864444024, "cost1_max": 465.6884670504578, "system_level_velocity_max": 18.49020255975469, "cost2_min": -58.52245984895053, "outflow_rate_max": 1470.2008965217724, "system_level_velocity_mean": 14.860315482193448, "cost1_mean": 379.8739246756146, "cost2_mean": -35.60928376453907, "outflow_rate_mean": 1229.344069951939, "cost2_max": -11.117596662882693, "cost1_min": 17.75222603462384}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 116, "episode_reward_max": 1391.18185880308, "hostname": "flow-main", "timesteps_this_iter": 54324, "time_since_restore": 5325.340137481689, "episode_reward_min": 43.83225936964573, "episodes_total": 3372, "episodes_this_iter": 30, "timestamp": 1558419992, "time_total_s": 5325.340137481689, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.1, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "framestack": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "sample_async": false, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c069668>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c003b70>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c0699b0>"}, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 681.47, "experiment_id": "e07569c766b64210b97edcdc20a183b1", "info": {"num_steps_trained": 6914360, "sample_time_ms": 28557.806, "load_time_ms": 9.613, "grad_time_ms": 13538.115, "update_time_ms": 7.395, "default": {"policy_loss": -0.012211181223392487, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.684514045715332, "total_loss": 60.962162017822266, "cur_kl_coeff": 0.33750003576278687, "vf_loss": 60.969329833984375, "kl": 0.01494162529706955, "entropy": 1.6271097660064697}, "num_steps_sampled": 6914360}, "done": false, "date": "2019-05-21_06-26-32"}
{"episode_reward_mean": 1197.0560880322278, "timesteps_total": 6967438, "iterations_since_restore": 117, "timesteps_since_restore": 6967438, "num_metric_batches_dropped": 0, "pid": 343, "time_this_iter_s": 40.66602301597595, "custom_metrics": {"system_level_velocity_min": 10.771745349122353, "outflow_rate_min": 491.2472742482783, "cost1_max": 465.6884670504578, "system_level_velocity_max": 18.49020255975469, "cost2_min": -58.52245984895053, "outflow_rate_max": 1470.2008965217724, "system_level_velocity_mean": 14.866819990261899, "cost1_mean": 387.7109916172714, "cost2_mean": -35.005996468137624, "outflow_rate_mean": 1239.711963225381, "cost2_max": -12.721802178816622, "cost1_min": 22.99530611202221}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 117, "episode_reward_max": 1389.5630187317554, "hostname": "flow-main", "timesteps_this_iter": 53078, "time_since_restore": 5366.006160497665, "episode_reward_min": 55.43020992868427, "episodes_total": 3404, "episodes_this_iter": 32, "timestamp": 1558420033, "time_total_s": 5366.006160497665, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.1, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "framestack": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "sample_async": false, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c00ae80>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c00ab70>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c00ae10>"}, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 693.03, "experiment_id": "e07569c766b64210b97edcdc20a183b1", "info": {"num_steps_trained": 6967438, "sample_time_ms": 28548.221, "load_time_ms": 9.301, "grad_time_ms": 13246.453, "update_time_ms": 7.238, "default": {"policy_loss": -0.012465769425034523, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.6580458283424377, "total_loss": 64.64430236816406, "cur_kl_coeff": 0.33750009536743164, "vf_loss": 64.65149688720703, "kl": 0.015616432763636112, "entropy": 1.6203219890594482}, "num_steps_sampled": 6967438}, "done": false, "date": "2019-05-21_06-27-13"}
{"episode_reward_mean": 1207.3518377211963, "timesteps_total": 7021286, "iterations_since_restore": 118, "timesteps_since_restore": 7021286, "num_metric_batches_dropped": 0, "pid": 343, "time_this_iter_s": 43.05263543128967, "custom_metrics": {"system_level_velocity_min": 10.771745349122353, "outflow_rate_min": 1013.3830821271747, "cost1_max": 465.6884670504578, "system_level_velocity_max": 17.57603890375345, "cost2_min": -57.211231716182326, "outflow_rate_max": 1470.2008965217724, "system_level_velocity_mean": 14.831487036590657, "cost1_mean": 391.42744961811195, "cost2_mean": -34.469783720391675, "outflow_rate_mean": 1246.2720282966457, "cost2_max": -18.785550264890425, "cost1_min": 279.584294922567}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 118, "episode_reward_max": 1389.5630187317554, "hostname": "flow-main", "timesteps_this_iter": 53848, "time_since_restore": 5409.058795928955, "episode_reward_min": 993.9126929688555, "episodes_total": 3433, "episodes_this_iter": 29, "timestamp": 1558420076, "time_total_s": 5409.058795928955, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.1, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "framestack": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "sample_async": false, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c00abe0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfece80>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c00ada0>"}, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 699.68, "experiment_id": "e07569c766b64210b97edcdc20a183b1", "info": {"num_steps_trained": 7021286, "sample_time_ms": 28722.956, "load_time_ms": 9.201, "grad_time_ms": 13041.294, "update_time_ms": 7.147, "default": {"policy_loss": -0.012015683576464653, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.619316041469574, "total_loss": 66.5487289428711, "cur_kl_coeff": 0.33750006556510925, "vf_loss": 66.55547332763672, "kl": 0.01559962797909975, "entropy": 1.6468751430511475}, "num_steps_sampled": 7021286}, "done": false, "date": "2019-05-21_06-27-56"}
{"episode_reward_mean": 1201.777280587704, "timesteps_total": 7074842, "iterations_since_restore": 119, "timesteps_since_restore": 7074842, "num_metric_batches_dropped": 0, "pid": 343, "time_this_iter_s": 40.790401458740234, "custom_metrics": {"system_level_velocity_min": 10.771745349122353, "outflow_rate_min": 1013.3830821271747, "cost1_max": 465.6884670504578, "system_level_velocity_max": 17.57603890375345, "cost2_min": -59.102346836956386, "outflow_rate_max": 1459.4016838000712, "system_level_velocity_mean": 14.763048002637863, "cost1_mean": 389.1710687887397, "cost2_mean": -34.953270137221246, "outflow_rate_mean": 1243.2161368160407, "cost2_max": -18.785550264890425, "cost1_min": 277.330429594682}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 119, "episode_reward_max": 1386.0415637630806, "hostname": "flow-main", "timesteps_this_iter": 53556, "time_since_restore": 5449.849197387695, "episode_reward_min": 931.1160509316528, "episodes_total": 3464, "episodes_this_iter": 31, "timestamp": 1558420117, "time_total_s": 5449.849197387695, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.1, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "framestack": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "sample_async": false, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c0031d0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c0036a0>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c003a20>"}, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 698.35, "experiment_id": "e07569c766b64210b97edcdc20a183b1", "info": {"num_steps_trained": 7074842, "sample_time_ms": 28575.065, "load_time_ms": 9.104, "grad_time_ms": 13127.836, "update_time_ms": 7.211, "default": {"policy_loss": -0.011416330002248287, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.6284672021865845, "total_loss": 61.52788543701172, "cur_kl_coeff": 0.33750006556510925, "vf_loss": 61.53410339355469, "kl": 0.015385674312710762, "entropy": 1.6252306699752808}, "num_steps_sampled": 7074842}, "done": false, "date": "2019-05-21_06-28-37"}
{"episode_reward_mean": 1212.3327951482024, "timesteps_total": 7127612, "iterations_since_restore": 120, "timesteps_since_restore": 7127612, "num_metric_batches_dropped": 0, "pid": 343, "time_this_iter_s": 40.83515930175781, "custom_metrics": {"system_level_velocity_min": 11.080102819012405, "outflow_rate_min": 1071.328381161972, "cost1_max": 461.42638395398194, "system_level_velocity_max": 17.39794910674512, "cost2_min": -59.102346836956386, "outflow_rate_max": 1459.4016838000712, "system_level_velocity_mean": 14.818953898101933, "cost1_mean": 391.12590694079813, "cost2_mean": -35.01586798816986, "outflow_rate_mean": 1256.5642717241492, "cost2_max": -18.785550264890425, "cost1_min": 277.330429594682}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 120, "episode_reward_max": 1383.9395365698163, "hostname": "flow-main", "timesteps_this_iter": 52770, "time_since_restore": 5490.684356689453, "episode_reward_min": 931.1160509316528, "episodes_total": 3494, "episodes_this_iter": 30, "timestamp": 1558420158, "time_total_s": 5490.684356689453, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.1, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "framestack": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "sample_async": false, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c0000b8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c000208>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c0009e8>"}, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 698.67, "experiment_id": "e07569c766b64210b97edcdc20a183b1", "info": {"num_steps_trained": 7127612, "sample_time_ms": 28545.106, "load_time_ms": 9.243, "grad_time_ms": 13088.38, "update_time_ms": 7.211, "default": {"policy_loss": -0.013319369405508041, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.566543459892273, "total_loss": 68.21360778808594, "cur_kl_coeff": 0.33750009536743164, "vf_loss": 68.2218017578125, "kl": 0.015190157108008862, "entropy": 1.6242815256118774}, "num_steps_sampled": 7127612}, "done": false, "date": "2019-05-21_06-29-18"}
{"episode_reward_mean": 1205.837466778007, "timesteps_total": 7181222, "iterations_since_restore": 121, "timesteps_since_restore": 7181222, "num_metric_batches_dropped": 0, "pid": 343, "time_this_iter_s": 40.336508989334106, "custom_metrics": {"system_level_velocity_min": 11.618088911050858, "outflow_rate_min": 1069.3401988636363, "cost1_max": 456.4825895265218, "system_level_velocity_max": 17.18899753805218, "cost2_min": -59.102346836956386, "outflow_rate_max": 1454.8394999999998, "system_level_velocity_mean": 14.725236065562454, "cost1_mean": 388.66742802921976, "cost2_mean": -35.27003091490024, "outflow_rate_mean": 1250.7734388262077, "cost2_max": -17.411473498516784, "cost1_min": 277.330429594682}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 121, "episode_reward_max": 1380.015250856785, "hostname": "flow-main", "timesteps_this_iter": 53610, "time_since_restore": 5531.020865678787, "episode_reward_min": 931.1160509316528, "episodes_total": 3522, "episodes_this_iter": 28, "timestamp": 1558420198, "time_total_s": 5531.020865678787, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.1, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "framestack": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "sample_async": false, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c00a6a0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c00ad68>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c00a978>"}, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 698.67, "experiment_id": "e07569c766b64210b97edcdc20a183b1", "info": {"num_steps_trained": 7181222, "sample_time_ms": 28477.883, "load_time_ms": 9.349, "grad_time_ms": 12938.992, "update_time_ms": 7.195, "default": {"policy_loss": -0.013051576912403107, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.6183432340621948, "total_loss": 63.40778732299805, "cur_kl_coeff": 0.33750006556510925, "vf_loss": 63.41517639160156, "kl": 0.016777005046606064, "entropy": 1.6482187509536743}, "num_steps_sampled": 7181222}, "done": false, "date": "2019-05-21_06-29-58"}
{"episode_reward_mean": 1192.9297525980714, "timesteps_total": 7235220, "iterations_since_restore": 122, "timesteps_since_restore": 7235220, "num_metric_batches_dropped": 0, "pid": 343, "time_this_iter_s": 40.224159479141235, "custom_metrics": {"system_level_velocity_min": 11.430745777288186, "outflow_rate_min": 998.1113968227125, "cost1_max": 456.4825895265218, "system_level_velocity_max": 17.62047049831878, "cost2_min": -59.102346836956386, "outflow_rate_max": 1440.4823193902869, "system_level_velocity_mean": 14.710747309189346, "cost1_mean": 385.7792692471565, "cost2_mean": -34.926651500068495, "outflow_rate_mean": 1238.4121710479685, "cost2_max": -14.677086393173918, "cost1_min": 141.6893299622417}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 122, "episode_reward_max": 1363.4760271638902, "hostname": "flow-main", "timesteps_this_iter": 53998, "time_since_restore": 5571.2450251579285, "episode_reward_min": 379.2737600687062, "episodes_total": 3552, "episodes_this_iter": 30, "timestamp": 1558420238, "time_total_s": 5571.2450251579285, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.1, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "framestack": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "sample_async": false, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c003eb8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c0031d0>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c003a20>"}, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 695.15, "experiment_id": "e07569c766b64210b97edcdc20a183b1", "info": {"num_steps_trained": 7235220, "sample_time_ms": 28495.379, "load_time_ms": 9.308, "grad_time_ms": 12790.764, "update_time_ms": 7.1, "default": {"policy_loss": -0.013926348648965359, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.6725027561187744, "total_loss": 57.914119720458984, "cur_kl_coeff": 0.33750006556510925, "vf_loss": 57.92285919189453, "kl": 0.015347802080214024, "entropy": 1.6480741500854492}, "num_steps_sampled": 7235220}, "done": false, "date": "2019-05-21_06-30-38"}
{"episode_reward_mean": 1193.3167235231056, "timesteps_total": 7288270, "iterations_since_restore": 123, "timesteps_since_restore": 7288270, "num_metric_batches_dropped": 0, "pid": 343, "time_this_iter_s": 41.975399017333984, "custom_metrics": {"system_level_velocity_min": 11.430745777288186, "outflow_rate_min": 998.1113968227125, "cost1_max": 456.4825895265218, "system_level_velocity_max": 17.62047049831878, "cost2_min": -55.940315636402126, "outflow_rate_max": 1440.4823193902869, "system_level_velocity_mean": 14.673892047907746, "cost1_mean": 384.82635127431865, "cost2_mean": -34.02774412162154, "outflow_rate_mean": 1239.005678960577, "cost2_max": -14.677086393173918, "cost1_min": 141.6893299622417}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 123, "episode_reward_max": 1362.060838596661, "hostname": "flow-main", "timesteps_this_iter": 53050, "time_since_restore": 5613.220424175262, "episode_reward_min": 379.2737600687062, "episodes_total": 3583, "episodes_this_iter": 31, "timestamp": 1558420280, "time_total_s": 5613.220424175262, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.1, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "framestack": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "sample_async": false, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c00aeb8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c00a2b0>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c00a128>"}, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 695.15, "experiment_id": "e07569c766b64210b97edcdc20a183b1", "info": {"num_steps_trained": 7288270, "sample_time_ms": 28525.217, "load_time_ms": 9.432, "grad_time_ms": 12756.519, "update_time_ms": 6.913, "default": {"policy_loss": -0.013379081152379513, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.5779098868370056, "total_loss": 68.02550506591797, "cur_kl_coeff": 0.33750009536743164, "vf_loss": 68.03397369384766, "kl": 0.014539593830704689, "entropy": 1.6340774297714233}, "num_steps_sampled": 7288270}, "done": false, "date": "2019-05-21_06-31-20"}
{"episode_reward_mean": 1195.880079698228, "timesteps_total": 7341548, "iterations_since_restore": 124, "timesteps_since_restore": 7341548, "num_metric_batches_dropped": 0, "pid": 343, "time_this_iter_s": 39.469207763671875, "custom_metrics": {"system_level_velocity_min": 11.430745777288186, "outflow_rate_min": 998.1113968227125, "cost1_max": 461.6856797030076, "system_level_velocity_max": 17.62047049831878, "cost2_min": -55.940315636402126, "outflow_rate_max": 1453.4367985146719, "system_level_velocity_mean": 14.719014720693242, "cost1_mean": 386.09555296289335, "cost2_mean": -34.26328637790541, "outflow_rate_mean": 1240.7039411416238, "cost2_max": -14.677086393173918, "cost1_min": 141.6893299622417}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 124, "episode_reward_max": 1389.7737815184735, "hostname": "flow-main", "timesteps_this_iter": 53278, "time_since_restore": 5652.689631938934, "episode_reward_min": 379.2737600687062, "episodes_total": 3612, "episodes_this_iter": 29, "timestamp": 1558420320, "time_total_s": 5652.689631938934, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.1, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "framestack": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "sample_async": false, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c000cf8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c05d2e8>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c05d470>"}, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 695.15, "experiment_id": "e07569c766b64210b97edcdc20a183b1", "info": {"num_steps_trained": 7341548, "sample_time_ms": 28515.094, "load_time_ms": 9.167, "grad_time_ms": 12670.871, "update_time_ms": 6.96, "default": {"policy_loss": -0.011527558788657188, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.5950464010238647, "total_loss": 68.6358642578125, "cur_kl_coeff": 0.33750006556510925, "vf_loss": 68.64218139648438, "kl": 0.015435198321938515, "entropy": 1.647296667098999}, "num_steps_sampled": 7341548}, "done": false, "date": "2019-05-21_06-32-00"}
{"episode_reward_mean": 1214.9273404828018, "timesteps_total": 7393176, "iterations_since_restore": 125, "timesteps_since_restore": 7393176, "num_metric_batches_dropped": 0, "pid": 343, "time_this_iter_s": 41.113943576812744, "custom_metrics": {"system_level_velocity_min": 11.4186569564371, "outflow_rate_min": 1039.8192130257798, "cost1_max": 461.6856797030076, "system_level_velocity_max": 17.495078302762565, "cost2_min": -54.44546715314579, "outflow_rate_max": 1453.4367985146719, "system_level_velocity_mean": 14.954793571620883, "cost1_mean": 395.5836351266208, "cost2_mean": -33.52850843913267, "outflow_rate_mean": 1259.7746013433552, "cost2_max": -18.56779560228981, "cost1_min": 300.41203319172314}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 125, "episode_reward_max": 1389.7737815184735, "hostname": "flow-main", "timesteps_this_iter": 51628, "time_since_restore": 5693.803575515747, "episode_reward_min": 987.5474695215571, "episodes_total": 3643, "episodes_this_iter": 31, "timestamp": 1558420361, "time_total_s": 5693.803575515747, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.1, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "framestack": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "sample_async": false, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c003828>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c003240>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c0037b8>"}, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 700.0, "experiment_id": "e07569c766b64210b97edcdc20a183b1", "info": {"num_steps_trained": 7393176, "sample_time_ms": 28328.418, "load_time_ms": 8.757, "grad_time_ms": 12664.345, "update_time_ms": 7.118, "default": {"policy_loss": -0.013226409442722797, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.5595002174377441, "total_loss": 67.03532409667969, "cur_kl_coeff": 0.33750006556510925, "vf_loss": 67.04306030273438, "kl": 0.016263894736766815, "entropy": 1.613701581954956}, "num_steps_sampled": 7393176}, "done": false, "date": "2019-05-21_06-32-41"}
{"episode_reward_mean": 1210.710472068854, "timesteps_total": 7445308, "iterations_since_restore": 126, "timesteps_since_restore": 7445308, "num_metric_batches_dropped": 0, "pid": 343, "time_this_iter_s": 41.51495552062988, "custom_metrics": {"system_level_velocity_min": 11.4186569564371, "outflow_rate_min": 1039.8192130257798, "cost1_max": 467.973238385083, "system_level_velocity_max": 17.757252045326712, "cost2_min": -54.44546715314579, "outflow_rate_max": 1453.4367985146719, "system_level_velocity_mean": 14.909890852634668, "cost1_mean": 394.0861563601535, "cost2_mean": -33.70641098035073, "outflow_rate_mean": 1259.8126742257266, "cost2_max": -18.56779560228981, "cost1_min": 300.41203319172314}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 126, "episode_reward_max": 1389.7737815184735, "hostname": "flow-main", "timesteps_this_iter": 52132, "time_since_restore": 5735.318531036377, "episode_reward_min": 987.5474695215571, "episodes_total": 3673, "episodes_this_iter": 30, "timestamp": 1558420403, "time_total_s": 5735.318531036377, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.1, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "framestack": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "sample_async": false, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfff978>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfffcf8>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfff160>"}, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 700.0, "experiment_id": "e07569c766b64210b97edcdc20a183b1", "info": {"num_steps_trained": 7445308, "sample_time_ms": 28167.222, "load_time_ms": 8.607, "grad_time_ms": 12718.256, "update_time_ms": 7.171, "default": {"policy_loss": -0.012925902381539345, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.5805702209472656, "total_loss": 67.01848602294922, "cur_kl_coeff": 0.33750009536743164, "vf_loss": 67.026123046875, "kl": 0.01567932590842247, "entropy": 1.6275817155838013}, "num_steps_sampled": 7445308}, "done": false, "date": "2019-05-21_06-33-23"}
{"episode_reward_mean": 1212.3662609786486, "timesteps_total": 7497508, "iterations_since_restore": 127, "timesteps_since_restore": 7497508, "num_metric_batches_dropped": 0, "pid": 343, "time_this_iter_s": 41.52777814865112, "custom_metrics": {"system_level_velocity_min": 11.4186569564371, "outflow_rate_min": 1056.7041689090615, "cost1_max": 467.973238385083, "system_level_velocity_max": 17.757252045326712, "cost2_min": -55.32147612857995, "outflow_rate_max": 1435.7305258588062, "system_level_velocity_mean": 15.007129306294468, "cost1_mean": 396.9479294386986, "cost2_mean": -33.57304738170848, "outflow_rate_mean": 1261.0250964468908, "cost2_max": -18.56779560228981, "cost1_min": 301.23841566878207}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 127, "episode_reward_max": 1378.7190589254228, "hostname": "flow-main", "timesteps_this_iter": 52200, "time_since_restore": 5776.846309185028, "episode_reward_min": 1022.632018628556, "episodes_total": 3705, "episodes_this_iter": 32, "timestamp": 1558420444, "time_total_s": 5776.846309185028, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.1, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "framestack": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "sample_async": false, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfece10>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c003b00>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c003a20>"}, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 700.0, "experiment_id": "e07569c766b64210b97edcdc20a183b1", "info": {"num_steps_trained": 7497508, "sample_time_ms": 28134.025, "load_time_ms": 8.641, "grad_time_ms": 12833.175, "update_time_ms": 7.105, "default": {"policy_loss": -0.013253561221063137, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.6012550592422485, "total_loss": 65.48077392578125, "cur_kl_coeff": 0.33750009536743164, "vf_loss": 65.48880004882812, "kl": 0.015486332587897778, "entropy": 1.6422160863876343}, "num_steps_sampled": 7497508}, "done": false, "date": "2019-05-21_06-34-04"}
{"episode_reward_mean": 1209.3007050704834, "timesteps_total": 7549757, "iterations_since_restore": 128, "timesteps_since_restore": 7549757, "num_metric_batches_dropped": 0, "pid": 343, "time_this_iter_s": 39.156325817108154, "custom_metrics": {"system_level_velocity_min": 11.4186569564371, "outflow_rate_min": 1029.272577403145, "cost1_max": 467.973238385083, "system_level_velocity_max": 17.757252045326712, "cost2_min": -59.26466946852551, "outflow_rate_max": 1435.7305258588062, "system_level_velocity_mean": 14.994075288485623, "cost1_mean": 396.63623275381286, "cost2_mean": -33.13486436327303, "outflow_rate_mean": 1255.1334938712764, "cost2_max": -19.85363111169412, "cost1_min": 301.23841566878207}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 128, "episode_reward_max": 1378.7190589254228, "hostname": "flow-main", "timesteps_this_iter": 52249, "time_since_restore": 5816.002635002136, "episode_reward_min": 1025.3088404891623, "episodes_total": 3734, "episodes_this_iter": 29, "timestamp": 1558420483, "time_total_s": 5816.002635002136, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.1, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "framestack": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "sample_async": false, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c00ad30>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c00aa58>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c00a940>"}, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 700.0, "experiment_id": "e07569c766b64210b97edcdc20a183b1", "info": {"num_steps_trained": 7549757, "sample_time_ms": 27824.596, "load_time_ms": 8.733, "grad_time_ms": 12754.154, "update_time_ms": 7.155, "default": {"policy_loss": -0.011973378248512745, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.607629120349884, "total_loss": 60.88739013671875, "cur_kl_coeff": 0.33750006556510925, "vf_loss": 60.89443588256836, "kl": 0.014610817655920982, "entropy": 1.6764074563980103}, "num_steps_sampled": 7549757}, "done": false, "date": "2019-05-21_06-34-43"}
{"episode_reward_mean": 1208.441320999303, "timesteps_total": 7600987, "iterations_since_restore": 129, "timesteps_since_restore": 7600987, "num_metric_batches_dropped": 0, "pid": 343, "time_this_iter_s": 38.500903367996216, "custom_metrics": {"system_level_velocity_min": 11.927073083037344, "outflow_rate_min": 1029.272577403145, "cost1_max": 460.53965107169654, "system_level_velocity_max": 17.493464910614396, "cost2_min": -59.26466946852551, "outflow_rate_max": 1429.2149497010346, "system_level_velocity_mean": 15.022523754571775, "cost1_mean": 397.80668139030985, "cost2_mean": -32.147695045446454, "outflow_rate_mean": 1251.07082422969, "cost2_max": -19.65741349486109, "cost1_min": 312.25787443866267}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 129, "episode_reward_max": 1359.6455238802773, "hostname": "flow-main", "timesteps_this_iter": 51230, "time_since_restore": 5854.503538370132, "episode_reward_min": 1025.3088404891623, "episodes_total": 3764, "episodes_this_iter": 30, "timestamp": 1558420522, "time_total_s": 5854.503538370132, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.1, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "framestack": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "sample_async": false, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bffff60>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfffa20>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfff470>"}, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 700.0, "experiment_id": "e07569c766b64210b97edcdc20a183b1", "info": {"num_steps_trained": 7600987, "sample_time_ms": 27670.1, "load_time_ms": 8.809, "grad_time_ms": 12678.278, "update_time_ms": 6.99, "default": {"policy_loss": -0.012095605954527855, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.48528075218200684, "total_loss": 72.13871002197266, "cur_kl_coeff": 0.33750006556510925, "vf_loss": 72.14588165283203, "kl": 0.014611465856432915, "entropy": 1.6333383321762085}, "num_steps_sampled": 7600987}, "done": false, "date": "2019-05-21_06-35-22"}
{"episode_reward_mean": 1206.1061973391736, "timesteps_total": 7653271, "iterations_since_restore": 130, "timesteps_since_restore": 7653271, "num_metric_batches_dropped": 0, "pid": 343, "time_this_iter_s": 39.17720699310303, "custom_metrics": {"system_level_velocity_min": 11.927073083037344, "outflow_rate_min": 1029.272577403145, "cost1_max": 460.53965107169654, "system_level_velocity_max": 17.493464910614396, "cost2_min": -59.26466946852551, "outflow_rate_max": 1421.4619798927902, "system_level_velocity_mean": 15.030350914399754, "cost1_mean": 398.09042232380074, "cost2_mean": -31.550728677048607, "outflow_rate_mean": 1250.8225361392222, "cost2_max": -19.65741349486109, "cost1_min": 312.25787443866267}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 130, "episode_reward_max": 1359.6455238802773, "hostname": "flow-main", "timesteps_this_iter": 52284, "time_since_restore": 5893.6807453632355, "episode_reward_min": 1012.0669009480309, "episodes_total": 3794, "episodes_this_iter": 30, "timestamp": 1558420561, "time_total_s": 5893.6807453632355, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.1, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "framestack": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "sample_async": false, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c000b38>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c000518>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c000940>"}, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 700.0, "experiment_id": "e07569c766b64210b97edcdc20a183b1", "info": {"num_steps_trained": 7653271, "sample_time_ms": 27524.21, "load_time_ms": 8.782, "grad_time_ms": 12657.025, "update_time_ms": 7.007, "default": {"policy_loss": -0.012278364039957523, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.5408430099487305, "total_loss": 69.51073455810547, "cur_kl_coeff": 0.33750006556510925, "vf_loss": 69.51782989501953, "kl": 0.0153685063123703, "entropy": 1.6720452308654785}, "num_steps_sampled": 7653271}, "done": false, "date": "2019-05-21_06-36-01"}
{"episode_reward_mean": 1193.8557770167677, "timesteps_total": 7704801, "iterations_since_restore": 131, "timesteps_since_restore": 7704801, "num_metric_batches_dropped": 0, "pid": 343, "time_this_iter_s": 38.88673257827759, "custom_metrics": {"system_level_velocity_min": 11.911708496637033, "outflow_rate_min": 489.92492200470633, "cost1_max": 459.03867455825525, "system_level_velocity_max": 17.532886389942057, "cost2_min": -50.92327340350987, "outflow_rate_max": 1421.4619798927902, "system_level_velocity_mean": 15.040260079898033, "cost1_mean": 393.9536969559333, "cost2_mean": -30.481779954523333, "outflow_rate_mean": 1241.3578587661893, "cost2_max": -11.940032527510224, "cost1_min": 17.845130698450767}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 131, "episode_reward_max": 1358.0023949548956, "hostname": "flow-main", "timesteps_this_iter": 51530, "time_since_restore": 5932.567477941513, "episode_reward_min": 42.42810396596496, "episodes_total": 3823, "episodes_this_iter": 29, "timestamp": 1558420600, "time_total_s": 5932.567477941513, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.1, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "framestack": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "sample_async": false, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bff0278>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c003ac8>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c056c18>"}, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 693.27, "experiment_id": "e07569c766b64210b97edcdc20a183b1", "info": {"num_steps_trained": 7704801, "sample_time_ms": 27464.108, "load_time_ms": 8.881, "grad_time_ms": 12573.441, "update_time_ms": 7.135, "default": {"policy_loss": -0.013281401246786118, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.4989875555038452, "total_loss": 68.9284439086914, "cur_kl_coeff": 0.33750009536743164, "vf_loss": 68.93646240234375, "kl": 0.015580139122903347, "entropy": 1.647072434425354}, "num_steps_sampled": 7704801}, "done": false, "date": "2019-05-21_06-36-40"}
{"episode_reward_mean": 1187.826992231955, "timesteps_total": 7755743, "iterations_since_restore": 132, "timesteps_since_restore": 7755743, "num_metric_batches_dropped": 0, "pid": 343, "time_this_iter_s": 38.444331407547, "custom_metrics": {"system_level_velocity_min": 11.877280493297073, "outflow_rate_min": 489.92492200470633, "cost1_max": 459.03867455825525, "system_level_velocity_max": 17.532886389942057, "cost2_min": -50.92327340350987, "outflow_rate_max": 1412.159349081575, "system_level_velocity_mean": 14.890500366005233, "cost1_mean": 390.0059294900627, "cost2_mean": -30.69424170813976, "outflow_rate_mean": 1236.0100617482306, "cost2_max": -11.940032527510224, "cost1_min": 17.845130698450767}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 132, "episode_reward_max": 1342.6327924829363, "hostname": "flow-main", "timesteps_this_iter": 50942, "time_since_restore": 5971.01180934906, "episode_reward_min": 42.42810396596496, "episodes_total": 3854, "episodes_this_iter": 31, "timestamp": 1558420639, "time_total_s": 5971.01180934906, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.1, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "framestack": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "sample_async": false, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c003400>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c003550>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c003a58>"}, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 693.27, "experiment_id": "e07569c766b64210b97edcdc20a183b1", "info": {"num_steps_trained": 7755743, "sample_time_ms": 27286.814, "load_time_ms": 8.892, "grad_time_ms": 12572.331, "update_time_ms": 7.23, "default": {"policy_loss": -0.013043894432485104, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.42483291029930115, "total_loss": 74.78288269042969, "cur_kl_coeff": 0.33750003576278687, "vf_loss": 74.79049682617188, "kl": 0.016115710139274597, "entropy": 1.662307858467102}, "num_steps_sampled": 7755743}, "done": false, "date": "2019-05-21_06-37-19"}
{"episode_reward_mean": 1190.76234692929, "timesteps_total": 7807272, "iterations_since_restore": 133, "timesteps_since_restore": 7807272, "num_metric_batches_dropped": 0, "pid": 343, "time_this_iter_s": 40.12619233131409, "custom_metrics": {"system_level_velocity_min": 11.877280493297073, "outflow_rate_min": 489.92492200470633, "cost1_max": 459.59539549426967, "system_level_velocity_max": 17.532886389942057, "cost2_min": -50.92327340350987, "outflow_rate_max": 1412.159349081575, "system_level_velocity_mean": 14.911940836239335, "cost1_mean": 390.5884751994352, "cost2_mean": -30.408999361831658, "outflow_rate_mean": 1239.3456603092488, "cost2_max": -11.940032527510224, "cost1_min": 17.845130698450767}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 133, "episode_reward_max": 1346.7269555860396, "hostname": "flow-main", "timesteps_this_iter": 51529, "time_since_restore": 6011.138001680374, "episode_reward_min": 42.42810396596496, "episodes_total": 3884, "episodes_this_iter": 30, "timestamp": 1558420679, "time_total_s": 6011.138001680374, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.1, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "framestack": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "sample_async": false, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bff0cf8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bff0be0>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bff0eb8>"}, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 693.27, "experiment_id": "e07569c766b64210b97edcdc20a183b1", "info": {"num_steps_trained": 7807272, "sample_time_ms": 26979.872, "load_time_ms": 8.793, "grad_time_ms": 12694.905, "update_time_ms": 7.217, "default": {"policy_loss": -0.012815463356673717, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.5082521438598633, "total_loss": 70.07001495361328, "cur_kl_coeff": 0.33750009536743164, "vf_loss": 70.07760620117188, "kl": 0.015456346794962883, "entropy": 1.6747703552246094}, "num_steps_sampled": 7807272}, "done": false, "date": "2019-05-21_06-37-59"}
{"episode_reward_mean": 1188.9239391884935, "timesteps_total": 7860041, "iterations_since_restore": 134, "timesteps_since_restore": 7860041, "num_metric_batches_dropped": 0, "pid": 343, "time_this_iter_s": 40.27226781845093, "custom_metrics": {"system_level_velocity_min": 11.877280493297073, "outflow_rate_min": 489.92492200470633, "cost1_max": 459.59539549426967, "system_level_velocity_max": 17.532886389942057, "cost2_min": -46.94990779024495, "outflow_rate_max": 1419.9295615610138, "system_level_velocity_mean": 14.968271225881313, "cost1_mean": 391.8392530083478, "cost2_mean": -29.467091665233493, "outflow_rate_mean": 1234.728972316603, "cost2_max": -11.940032527510224, "cost1_min": 17.845130698450767}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 134, "episode_reward_max": 1348.5439786765073, "hostname": "flow-main", "timesteps_this_iter": 52769, "time_since_restore": 6051.410269498825, "episode_reward_min": 42.42810396596496, "episodes_total": 3914, "episodes_this_iter": 30, "timestamp": 1558420719, "time_total_s": 6051.410269498825, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.1, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "framestack": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "sample_async": false, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c000710>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c000470>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c000588>"}, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 693.27, "experiment_id": "e07569c766b64210b97edcdc20a183b1", "info": {"num_steps_trained": 7860041, "sample_time_ms": 26768.332, "load_time_ms": 8.638, "grad_time_ms": 12988.265, "update_time_ms": 7.258, "default": {"policy_loss": -0.012700270861387253, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.53193598985672, "total_loss": 62.38510513305664, "cur_kl_coeff": 0.33750009536743164, "vf_loss": 62.39238739013672, "kl": 0.01606084778904915, "entropy": 1.695497989654541}, "num_steps_sampled": 7860041}, "done": false, "date": "2019-05-21_06-38-39"}
{"episode_reward_mean": 1193.8673602350434, "timesteps_total": 7910741, "iterations_since_restore": 135, "timesteps_since_restore": 7910741, "num_metric_batches_dropped": 0, "pid": 343, "time_this_iter_s": 39.81618309020996, "custom_metrics": {"system_level_velocity_min": 11.877280493297073, "outflow_rate_min": 474.3699846082663, "cost1_max": 459.59539549426967, "system_level_velocity_max": 17.3632887063446, "cost2_min": -50.004752091653614, "outflow_rate_max": 1419.9295615610138, "system_level_velocity_mean": 15.128459430777006, "cost1_mean": 396.1395655749086, "cost2_mean": -28.4911108568625, "outflow_rate_mean": 1238.2965980436609, "cost2_max": -10.196097487827904, "cost1_min": 17.686236371933017}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 135, "episode_reward_max": 1348.9732304921736, "hostname": "flow-main", "timesteps_this_iter": 50700, "time_since_restore": 6091.226452589035, "episode_reward_min": 45.838671152547285, "episodes_total": 3946, "episodes_this_iter": 32, "timestamp": 1558420759, "time_total_s": 6091.226452589035, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.1, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "framestack": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "sample_async": false, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bff06d8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c0032b0>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bff04a8>"}, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 693.27, "experiment_id": "e07569c766b64210b97edcdc20a183b1", "info": {"num_steps_trained": 7910741, "sample_time_ms": 26510.424, "load_time_ms": 8.806, "grad_time_ms": 13117.349, "update_time_ms": 7.252, "default": {"policy_loss": -0.013456462882459164, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.4393470883369446, "total_loss": 76.41305541992188, "cur_kl_coeff": 0.33750006556510925, "vf_loss": 76.42084503173828, "kl": 0.01678570546209812, "entropy": 1.6812193393707275}, "num_steps_sampled": 7910741}, "done": false, "date": "2019-05-21_06-39-19"}
{"episode_reward_mean": 1184.2938080709891, "timesteps_total": 7961278, "iterations_since_restore": 136, "timesteps_since_restore": 7961278, "num_metric_batches_dropped": 0, "pid": 343, "time_this_iter_s": 39.812708139419556, "custom_metrics": {"system_level_velocity_min": 12.401721479921642, "outflow_rate_min": 474.3699846082663, "cost1_max": 459.59539549426967, "system_level_velocity_max": 17.3632887063446, "cost2_min": -50.004752091653614, "outflow_rate_max": 1419.9295615610138, "system_level_velocity_mean": 15.12987630904916, "cost1_mean": 395.94140573926137, "cost2_mean": -28.260740045277124, "outflow_rate_mean": 1230.1559611156754, "cost2_max": -10.196097487827904, "cost1_min": 17.686236371933017}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 136, "episode_reward_max": 1348.9732304921736, "hostname": "flow-main", "timesteps_this_iter": 50537, "time_since_restore": 6131.039160728455, "episode_reward_min": 45.838671152547285, "episodes_total": 3979, "episodes_this_iter": 33, "timestamp": 1558420799, "time_total_s": 6131.039160728455, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.1, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "framestack": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "sample_async": false, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c000f98>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c05ddd8>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c0000b8>"}, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 693.27, "experiment_id": "e07569c766b64210b97edcdc20a183b1", "info": {"num_steps_trained": 7961278, "sample_time_ms": 26273.917, "load_time_ms": 8.614, "grad_time_ms": 13180.341, "update_time_ms": 7.269, "default": {"policy_loss": -0.013687077909708023, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.5114441514015198, "total_loss": 72.72754669189453, "cur_kl_coeff": 0.33750009536743164, "vf_loss": 72.73592376708984, "kl": 0.01570681296288967, "entropy": 1.6925324201583862}, "num_steps_sampled": 7961278}, "done": false, "date": "2019-05-21_06-39-59"}
{"episode_reward_mean": 1185.8403315117555, "timesteps_total": 8012714, "iterations_since_restore": 137, "timesteps_since_restore": 8012714, "num_metric_batches_dropped": 0, "pid": 343, "time_this_iter_s": 38.4563627243042, "custom_metrics": {"system_level_velocity_min": 11.547384936103992, "outflow_rate_min": 474.3699846082663, "cost1_max": 456.75869271764896, "system_level_velocity_max": 17.346029992250358, "cost2_min": -50.004752091653614, "outflow_rate_max": 1416.6999202416969, "system_level_velocity_mean": 15.290121314760624, "cost1_mean": 400.08164308434147, "cost2_mean": -27.399439753014867, "outflow_rate_mean": 1234.142355206239, "cost2_max": -10.196097487827904, "cost1_min": 17.686236371933017}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 137, "episode_reward_max": 1348.9732304921736, "hostname": "flow-main", "timesteps_this_iter": 51436, "time_since_restore": 6169.495523452759, "episode_reward_min": 45.838671152547285, "episodes_total": 4009, "episodes_this_iter": 30, "timestamp": 1558420837, "time_total_s": 6169.495523452759, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.1, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "framestack": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "sample_async": false, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bff0a58>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c04cc18>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c056da0>"}, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 693.27, "experiment_id": "e07569c766b64210b97edcdc20a183b1", "info": {"num_steps_trained": 8012714, "sample_time_ms": 25985.558, "load_time_ms": 8.682, "grad_time_ms": 13161.866, "update_time_ms": 7.636, "default": {"policy_loss": -0.012110153213143349, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.46098294854164124, "total_loss": 69.42948913574219, "cur_kl_coeff": 0.33750006556510925, "vf_loss": 69.43614959716797, "kl": 0.016138343140482903, "entropy": 1.6924294233322144}, "num_steps_sampled": 8012714}, "done": false, "date": "2019-05-21_06-40-37"}
{"episode_reward_mean": 1180.8913369802451, "timesteps_total": 8064718, "iterations_since_restore": 138, "timesteps_since_restore": 8064718, "num_metric_batches_dropped": 0, "pid": 343, "time_this_iter_s": 38.04405665397644, "custom_metrics": {"system_level_velocity_min": 11.547384936103992, "outflow_rate_min": 940.0315642729776, "cost1_max": 456.75869271764896, "system_level_velocity_max": 17.346029992250358, "cost2_min": -45.444172393394304, "outflow_rate_max": 1416.6999202416969, "system_level_velocity_mean": 15.099878138504957, "cost1_mean": 399.04693687823186, "cost2_mean": -28.72343207624375, "outflow_rate_mean": 1229.4198104015404, "cost2_max": -16.40462027786794, "cost1_min": 302.2296670767603}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 138, "episode_reward_max": 1339.537121574072, "hostname": "flow-main", "timesteps_this_iter": 52004, "time_since_restore": 6207.539580106735, "episode_reward_min": 948.2412688810969, "episodes_total": 4038, "episodes_this_iter": 29, "timestamp": 1558420875, "time_total_s": 6207.539580106735, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.1, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "framestack": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "sample_async": false, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfff6a0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfff438>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfffcf8>"}, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 700.0, "experiment_id": "e07569c766b64210b97edcdc20a183b1", "info": {"num_steps_trained": 8064718, "sample_time_ms": 25892.634, "load_time_ms": 8.682, "grad_time_ms": 13142.892, "update_time_ms": 7.755, "default": {"policy_loss": -0.012615018524229527, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.5475946664810181, "total_loss": 59.75801467895508, "cur_kl_coeff": 0.33750009536743164, "vf_loss": 59.765289306640625, "kl": 0.015832915902137756, "entropy": 1.7044202089309692}, "num_steps_sampled": 8064718}, "done": false, "date": "2019-05-21_06-41-15"}
{"episode_reward_mean": 1174.0465185250794, "timesteps_total": 8115217, "iterations_since_restore": 139, "timesteps_since_restore": 8115217, "num_metric_batches_dropped": 0, "pid": 343, "time_this_iter_s": 39.40147876739502, "custom_metrics": {"system_level_velocity_min": 11.547384936103992, "outflow_rate_min": 940.0315642729776, "cost1_max": 456.75869271764896, "system_level_velocity_max": 17.346029992250358, "cost2_min": -45.444172393394304, "outflow_rate_max": 1416.6999202416969, "system_level_velocity_mean": 15.168334477676034, "cost1_mean": 400.3239287251135, "cost2_mean": -28.58472242977139, "outflow_rate_mean": 1229.5323313001782, "cost2_max": -16.40462027786794, "cost1_min": 302.2296670767603}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 139, "episode_reward_max": 1337.8723521610818, "hostname": "flow-main", "timesteps_this_iter": 50499, "time_since_restore": 6246.94105887413, "episode_reward_min": 948.2412688810969, "episodes_total": 4071, "episodes_this_iter": 33, "timestamp": 1558420915, "time_total_s": 6246.94105887413, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.1, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "framestack": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "sample_async": false, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c0000b8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c000908>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c000d68>"}, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 700.0, "experiment_id": "e07569c766b64210b97edcdc20a183b1", "info": {"num_steps_trained": 8115217, "sample_time_ms": 26094.51, "load_time_ms": 8.425, "grad_time_ms": 13032.195, "update_time_ms": 7.878, "default": {"policy_loss": -0.013290654867887497, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.4693295955657959, "total_loss": 72.25902557373047, "cur_kl_coeff": 0.33750009536743164, "vf_loss": 72.26655578613281, "kl": 0.017044495791196823, "entropy": 1.6784231662750244}, "num_steps_sampled": 8115217}, "done": false, "date": "2019-05-21_06-41-55"}
{"episode_reward_mean": 1156.5001402528028, "timesteps_total": 8166094, "iterations_since_restore": 140, "timesteps_since_restore": 8166094, "num_metric_batches_dropped": 0, "pid": 343, "time_this_iter_s": 38.2107138633728, "custom_metrics": {"system_level_velocity_min": 11.536707750476811, "outflow_rate_min": 491.0818408308928, "cost1_max": 463.4458880040986, "system_level_velocity_max": 18.050655474470968, "cost2_min": -45.516924301675004, "outflow_rate_max": 1427.8998479406175, "system_level_velocity_mean": 15.16587822823936, "cost1_mean": 395.35892108833315, "cost2_mean": -28.75745174595072, "outflow_rate_mean": 1218.4621181705222, "cost2_max": -8.905416154975113, "cost1_min": 22.562925644595555}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 140, "episode_reward_max": 1337.8666809599695, "hostname": "flow-main", "timesteps_this_iter": 50877, "time_since_restore": 6285.151772737503, "episode_reward_min": 58.59572120080557, "episodes_total": 4102, "episodes_this_iter": 31, "timestamp": 1558420953, "time_total_s": 6285.151772737503, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.1, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "framestack": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "sample_async": false, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bff0a58>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bff0898>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bff0ba8>"}, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 693.35, "experiment_id": "e07569c766b64210b97edcdc20a183b1", "info": {"num_steps_trained": 8166094, "sample_time_ms": 26111.776, "load_time_ms": 8.277, "grad_time_ms": 12918.806, "update_time_ms": 7.98, "default": {"policy_loss": -0.011434241198003292, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.43566209077835083, "total_loss": 68.82801818847656, "cur_kl_coeff": 0.33750003576278687, "vf_loss": 68.83411407470703, "kl": 0.01579991914331913, "entropy": 1.6794730424880981}, "num_steps_sampled": 8166094}, "done": false, "date": "2019-05-21_06-42-33"}
{"episode_reward_mean": 1165.9830592106139, "timesteps_total": 8216316, "iterations_since_restore": 141, "timesteps_since_restore": 8216316, "num_metric_batches_dropped": 0, "pid": 343, "time_this_iter_s": 37.81844615936279, "custom_metrics": {"system_level_velocity_min": 11.536707750476811, "outflow_rate_min": 491.0818408308928, "cost1_max": 463.4458880040986, "system_level_velocity_max": 18.050655474470968, "cost2_min": -45.516924301675004, "outflow_rate_max": 1427.8998479406175, "system_level_velocity_mean": 15.36956158863994, "cost1_mean": 400.3859967664099, "cost2_mean": -27.79455794741645, "outflow_rate_mean": 1231.2739466485136, "cost2_max": -8.905416154975113, "cost1_min": 22.562925644595555}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 141, "episode_reward_max": 1337.8666809599695, "hostname": "flow-main", "timesteps_this_iter": 50222, "time_since_restore": 6322.970218896866, "episode_reward_min": 58.59572120080557, "episodes_total": 4131, "episodes_this_iter": 29, "timestamp": 1558420991, "time_total_s": 6322.970218896866, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.1, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "framestack": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "sample_async": false, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfffa20>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfffa90>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfff9e8>"}, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 693.35, "experiment_id": "e07569c766b64210b97edcdc20a183b1", "info": {"num_steps_trained": 8216316, "sample_time_ms": 26037.849, "load_time_ms": 8.051, "grad_time_ms": 12884.849, "update_time_ms": 7.941, "default": {"policy_loss": -0.011910759843885899, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.37950390577316284, "total_loss": 64.04170227050781, "cur_kl_coeff": 0.33750003576278687, "vf_loss": 64.04801177978516, "kl": 0.016604477539658546, "entropy": 1.6730105876922607}, "num_steps_sampled": 8216316}, "done": false, "date": "2019-05-21_06-43-11"}
{"episode_reward_mean": 1182.5665034007877, "timesteps_total": 8266255, "iterations_since_restore": 142, "timesteps_since_restore": 8266255, "num_metric_batches_dropped": 0, "pid": 343, "time_this_iter_s": 37.70313358306885, "custom_metrics": {"system_level_velocity_min": 11.536707750476811, "outflow_rate_min": 491.0818408308928, "cost1_max": 463.54370600961386, "system_level_velocity_max": 18.050655474470968, "cost2_min": -45.516924301675004, "outflow_rate_max": 1432.1628453465755, "system_level_velocity_mean": 15.610806124381734, "cost1_mean": 406.3419144421842, "cost2_mean": -27.38501420465134, "outflow_rate_mean": 1253.6526028005082, "cost2_max": -8.905416154975113, "cost1_min": 22.562925644595555}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 142, "episode_reward_max": 1340.219707739248, "hostname": "flow-main", "timesteps_this_iter": 49939, "time_since_restore": 6360.673352479935, "episode_reward_min": 58.59572120080557, "episodes_total": 4163, "episodes_this_iter": 32, "timestamp": 1558421029, "time_total_s": 6360.673352479935, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.1, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "framestack": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "sample_async": false, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c05d518>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c0039e8>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c05d2e8>"}, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 693.07, "experiment_id": "e07569c766b64210b97edcdc20a183b1", "info": {"num_steps_trained": 8266255, "sample_time_ms": 26065.464, "load_time_ms": 8.055, "grad_time_ms": 12782.612, "update_time_ms": 7.921, "default": {"policy_loss": -0.01269554253667593, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.35184264183044434, "total_loss": 71.23978424072266, "cur_kl_coeff": 0.33750006556510925, "vf_loss": 71.24712371826172, "kl": 0.015889104455709457, "entropy": 1.6603087186813354}, "num_steps_sampled": 8266255}, "done": false, "date": "2019-05-21_06-43-49"}
{"episode_reward_mean": 1177.1464997199512, "timesteps_total": 8316615, "iterations_since_restore": 143, "timesteps_since_restore": 8316615, "num_metric_batches_dropped": 0, "pid": 343, "time_this_iter_s": 38.20786261558533, "custom_metrics": {"system_level_velocity_min": 12.066841955370236, "outflow_rate_min": 491.0818408308928, "cost1_max": 463.54370600961386, "system_level_velocity_max": 18.050655474470968, "cost2_min": -47.13406759405169, "outflow_rate_max": 1432.1628453465755, "system_level_velocity_mean": 15.641880834830673, "cost1_mean": 403.5011216846913, "cost2_mean": -27.743019049670828, "outflow_rate_mean": 1257.347727943931, "cost2_max": -8.905416154975113, "cost1_min": 22.562925644595555}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 143, "episode_reward_max": 1340.219707739248, "hostname": "flow-main", "timesteps_this_iter": 50360, "time_since_restore": 6398.88121509552, "episode_reward_min": 58.59572120080557, "episodes_total": 4196, "episodes_this_iter": 33, "timestamp": 1558421067, "time_total_s": 6398.88121509552, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.1, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "framestack": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "sample_async": false, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c016748>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c016240>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c016a20>"}, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 688.22, "experiment_id": "e07569c766b64210b97edcdc20a183b1", "info": {"num_steps_trained": 8316615, "sample_time_ms": 26134.863, "load_time_ms": 8.093, "grad_time_ms": 12521.744, "update_time_ms": 7.956, "default": {"policy_loss": -0.012640397064387798, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.3661528527736664, "total_loss": 76.04290771484375, "cur_kl_coeff": 0.33750003576278687, "vf_loss": 76.05016326904297, "kl": 0.015954751521348953, "entropy": 1.7022596597671509}, "num_steps_sampled": 8316615}, "done": false, "date": "2019-05-21_06-44-27"}
{"episode_reward_mean": 1185.4177671342811, "timesteps_total": 8366297, "iterations_since_restore": 144, "timesteps_since_restore": 8366297, "num_metric_batches_dropped": 0, "pid": 343, "time_this_iter_s": 39.72659087181091, "custom_metrics": {"system_level_velocity_min": 12.066841955370236, "outflow_rate_min": 992.4984436790276, "cost1_max": 463.54370600961386, "system_level_velocity_max": 17.741123094646145, "cost2_min": -47.13406759405169, "outflow_rate_max": 1432.1628453465755, "system_level_velocity_mean": 15.70834772874219, "cost1_mean": 409.1985930265457, "cost2_mean": -27.714117360980893, "outflow_rate_mean": 1265.6084552909738, "cost2_max": -16.841859431950056, "cost1_min": 139.90494048695035}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 144, "episode_reward_max": 1340.219707739248, "hostname": "flow-main", "timesteps_this_iter": 49682, "time_since_restore": 6438.607805967331, "episode_reward_min": 375.0863324526224, "episodes_total": 4226, "episodes_this_iter": 30, "timestamp": 1558421107, "time_total_s": 6438.607805967331, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.1, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "framestack": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "sample_async": false, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c0035f8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c003d68>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c003b38>"}, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 694.87, "experiment_id": "e07569c766b64210b97edcdc20a183b1", "info": {"num_steps_trained": 8366297, "sample_time_ms": 26208.979, "load_time_ms": 8.213, "grad_time_ms": 12392.357, "update_time_ms": 7.914, "default": {"policy_loss": -0.01137058436870575, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.3767513036727905, "total_loss": 63.1396369934082, "cur_kl_coeff": 0.33750006556510925, "vf_loss": 63.14606475830078, "kl": 0.014627661556005478, "entropy": 1.704666018486023}, "num_steps_sampled": 8366297}, "done": false, "date": "2019-05-21_06-45-07"}
{"episode_reward_mean": 1177.8949694624646, "timesteps_total": 8415578, "iterations_since_restore": 145, "timesteps_since_restore": 8415578, "num_metric_batches_dropped": 0, "pid": 343, "time_this_iter_s": 38.35877704620361, "custom_metrics": {"system_level_velocity_min": 11.871999546649567, "outflow_rate_min": 992.4984436790276, "cost1_max": 460.5495344698493, "system_level_velocity_max": 17.54730180679775, "cost2_min": -47.13406759405169, "outflow_rate_max": 1432.1628453465755, "system_level_velocity_mean": 15.672497997707968, "cost1_mean": 408.1020792465204, "cost2_mean": -27.606612120491082, "outflow_rate_mean": 1256.8633225954188, "cost2_max": -14.39414190291518, "cost1_min": 139.90494048695035}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 145, "episode_reward_max": 1340.219707739248, "hostname": "flow-main", "timesteps_this_iter": 49281, "time_since_restore": 6476.966583013535, "episode_reward_min": 375.0863324526224, "episodes_total": 4257, "episodes_this_iter": 31, "timestamp": 1558421145, "time_total_s": 6476.966583013535, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.1, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "framestack": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "sample_async": false, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c0004a8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c000080>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c000e80>"}, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 695.15, "experiment_id": "e07569c766b64210b97edcdc20a183b1", "info": {"num_steps_trained": 8415578, "sample_time_ms": 26093.625, "load_time_ms": 8.175, "grad_time_ms": 12361.621, "update_time_ms": 7.919, "default": {"policy_loss": -0.012127494439482689, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.3716535270214081, "total_loss": 72.19425964355469, "cur_kl_coeff": 0.33750006556510925, "vf_loss": 72.20115661621094, "kl": 0.015503354370594025, "entropy": 1.7108408212661743}, "num_steps_sampled": 8415578}, "done": false, "date": "2019-05-21_06-45-45"}
{"episode_reward_mean": 1162.83145325078, "timesteps_total": 8465079, "iterations_since_restore": 146, "timesteps_since_restore": 8465079, "num_metric_batches_dropped": 0, "pid": 343, "time_this_iter_s": 38.42725872993469, "custom_metrics": {"system_level_velocity_min": 11.871999546649567, "outflow_rate_min": 485.8629864444024, "cost1_max": 460.5495344698493, "system_level_velocity_max": 17.54730180679775, "cost2_min": -42.87033128929358, "outflow_rate_max": 1424.0753111838596, "system_level_velocity_mean": 15.594266701018237, "cost1_mean": 404.67501579174444, "cost2_mean": -27.018285820713594, "outflow_rate_mean": 1239.4761241882331, "cost2_max": -10.729762183652314, "cost1_min": 17.91699156580079}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 146, "episode_reward_max": 1331.8269829935655, "hostname": "flow-main", "timesteps_this_iter": 49501, "time_since_restore": 6515.393841743469, "episode_reward_min": 44.34499920120545, "episodes_total": 4289, "episodes_this_iter": 32, "timestamp": 1558421184, "time_total_s": 6515.393841743469, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.1, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "framestack": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "sample_async": false, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bff0710>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bff0ba8>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bff03c8>"}, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 693.27, "experiment_id": "e07569c766b64210b97edcdc20a183b1", "info": {"num_steps_trained": 8465079, "sample_time_ms": 26014.831, "load_time_ms": 8.173, "grad_time_ms": 12305.063, "update_time_ms": 8.104, "default": {"policy_loss": -0.011368096806108952, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.4047505259513855, "total_loss": 69.71490478515625, "cur_kl_coeff": 0.33750006556510925, "vf_loss": 69.72154998779297, "kl": 0.013991237618029118, "entropy": 1.7267519235610962}, "num_steps_sampled": 8465079}, "done": false, "date": "2019-05-21_06-46-24"}
{"episode_reward_mean": 1165.5525468072453, "timesteps_total": 8515403, "iterations_since_restore": 147, "timesteps_since_restore": 8515403, "num_metric_batches_dropped": 0, "pid": 343, "time_this_iter_s": 39.46851181983948, "custom_metrics": {"system_level_velocity_min": 11.871999546649567, "outflow_rate_min": 485.8629864444024, "cost1_max": 462.6962462684186, "system_level_velocity_max": 17.541760462621337, "cost2_min": -40.99123058833572, "outflow_rate_max": 1420.2126302662102, "system_level_velocity_mean": 15.624771321696828, "cost1_mean": 405.6352238232823, "cost2_mean": -26.528207500145214, "outflow_rate_mean": 1242.3031348652296, "cost2_max": -10.729762183652314, "cost1_min": 17.91699156580079}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 147, "episode_reward_max": 1341.2310128360948, "hostname": "flow-main", "timesteps_this_iter": 50324, "time_since_restore": 6554.862353563309, "episode_reward_min": 44.34499920120545, "episodes_total": 4320, "episodes_this_iter": 31, "timestamp": 1558421223, "time_total_s": 6554.862353563309, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.1, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "framestack": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "sample_async": false, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfecdd8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c069b70>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c069ba8>"}, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 693.27, "experiment_id": "e07569c766b64210b97edcdc20a183b1", "info": {"num_steps_trained": 8515403, "sample_time_ms": 26007.036, "load_time_ms": 8.234, "grad_time_ms": 12415.576, "update_time_ms": 8.077, "default": {"policy_loss": -0.010719375684857368, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.3558502495288849, "total_loss": 72.46517181396484, "cur_kl_coeff": 0.33750003576278687, "vf_loss": 72.47088623046875, "kl": 0.014846454374492168, "entropy": 1.7279267311096191}, "num_steps_sampled": 8515403}, "done": false, "date": "2019-05-21_06-47-03"}
{"episode_reward_mean": 1170.371463951781, "timesteps_total": 8565356, "iterations_since_restore": 148, "timesteps_since_restore": 8565356, "num_metric_batches_dropped": 0, "pid": 343, "time_this_iter_s": 39.457844495773315, "custom_metrics": {"system_level_velocity_min": 12.340918563701402, "outflow_rate_min": 485.8629864444024, "cost1_max": 462.6962462684186, "system_level_velocity_max": 17.541760462621337, "cost2_min": -40.43635650929918, "outflow_rate_max": 1420.2126302662102, "system_level_velocity_mean": 15.561075646792181, "cost1_mean": 404.46760843457747, "cost2_mean": -26.743066562001577, "outflow_rate_mean": 1245.6618016179207, "cost2_max": -10.729762183652314, "cost1_min": 17.91699156580079}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 148, "episode_reward_max": 1341.2310128360948, "hostname": "flow-main", "timesteps_this_iter": 49953, "time_since_restore": 6594.320198059082, "episode_reward_min": 44.34499920120545, "episodes_total": 4355, "episodes_this_iter": 35, "timestamp": 1558421263, "time_total_s": 6594.320198059082, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.1, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "framestack": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "sample_async": false, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c00a9e8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c069978>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c00a390>"}, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 693.27, "experiment_id": "e07569c766b64210b97edcdc20a183b1", "info": {"num_steps_trained": 8565356, "sample_time_ms": 26020.46, "load_time_ms": 8.307, "grad_time_ms": 12543.899, "update_time_ms": 8.29, "default": {"policy_loss": -0.012673991732299328, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.36228519678115845, "total_loss": 76.89984130859375, "cur_kl_coeff": 0.33750006556510925, "vf_loss": 76.9075698852539, "kl": 0.01463661901652813, "entropy": 1.7317041158676147}, "num_steps_sampled": 8565356}, "done": false, "date": "2019-05-21_06-47-43"}
{"episode_reward_mean": 1190.1569919460046, "timesteps_total": 8615354, "iterations_since_restore": 149, "timesteps_since_restore": 8615354, "num_metric_batches_dropped": 0, "pid": 343, "time_this_iter_s": 37.77761793136597, "custom_metrics": {"system_level_velocity_min": 12.340918563701402, "outflow_rate_min": 1094.6473464373466, "cost1_max": 463.9859299294076, "system_level_velocity_max": 17.690332197344844, "cost2_min": -43.069713920967416, "outflow_rate_max": 1420.2126302662102, "system_level_velocity_mean": 15.601922268377445, "cost1_mean": 410.14846626263426, "cost2_mean": -27.22115545963156, "outflow_rate_mean": 1261.0977075705214, "cost2_max": -17.52054190629667, "cost1_min": 322.74492616853263}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 149, "episode_reward_max": 1341.2310128360948, "hostname": "flow-main", "timesteps_this_iter": 49998, "time_since_restore": 6632.097815990448, "episode_reward_min": 1046.8537693842827, "episodes_total": 4385, "episodes_this_iter": 30, "timestamp": 1558421300, "time_total_s": 6632.097815990448, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.1, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "framestack": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "sample_async": false, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c016908>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c016400>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c016a90>"}, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 700.0, "experiment_id": "e07569c766b64210b97edcdc20a183b1", "info": {"num_steps_trained": 8615354, "sample_time_ms": 25790.995, "load_time_ms": 8.053, "grad_time_ms": 12610.782, "update_time_ms": 8.261, "default": {"policy_loss": -0.012432415969669819, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.45206716656684875, "total_loss": 64.61663818359375, "cur_kl_coeff": 0.33750006556510925, "vf_loss": 64.6240463256836, "kl": 0.014893073588609695, "entropy": 1.742869257926941}, "num_steps_sampled": 8615354}, "done": false, "date": "2019-05-21_06-48-20"}
{"episode_reward_mean": 1178.8579966202688, "timesteps_total": 8665583, "iterations_since_restore": 150, "timesteps_since_restore": 8665583, "num_metric_batches_dropped": 0, "pid": 343, "time_this_iter_s": 38.983078956604004, "custom_metrics": {"system_level_velocity_min": 12.327984875529655, "outflow_rate_min": 504.740621259614, "cost1_max": 463.9859299294076, "system_level_velocity_max": 18.66313174066444, "cost2_min": -43.069713920967416, "outflow_rate_max": 1410.594754957826, "system_level_velocity_mean": 15.694256273794473, "cost1_mean": 407.2204080878197, "cost2_mean": -27.242331583136135, "outflow_rate_mean": 1249.2358568725906, "cost2_max": -12.786403387934264, "cost1_min": 23.126242411507388}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 150, "episode_reward_max": 1319.4737857047799, "hostname": "flow-main", "timesteps_this_iter": 50229, "time_since_restore": 6671.080894947052, "episode_reward_min": 55.09502882190098, "episodes_total": 4415, "episodes_this_iter": 30, "timestamp": 1558421339, "time_total_s": 6671.080894947052, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.1, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "framestack": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "sample_async": false, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c000eb8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c0009b0>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c0005f8>"}, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 692.1, "experiment_id": "e07569c766b64210b97edcdc20a183b1", "info": {"num_steps_trained": 8665583, "sample_time_ms": 25819.771, "load_time_ms": 8.202, "grad_time_ms": 12660.448, "update_time_ms": 8.216, "default": {"policy_loss": -0.013740663416683674, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.38367611169815063, "total_loss": 74.16913604736328, "cur_kl_coeff": 0.33750003576278687, "vf_loss": 74.17748260498047, "kl": 0.015954168513417244, "entropy": 1.7567968368530273}, "num_steps_sampled": 8665583}, "done": false, "date": "2019-05-21_06-48-59"}
{"episode_reward_mean": 1172.528042570334, "timesteps_total": 8715954, "iterations_since_restore": 151, "timesteps_since_restore": 8715954, "num_metric_batches_dropped": 0, "pid": 343, "time_this_iter_s": 38.759480237960815, "custom_metrics": {"system_level_velocity_min": 12.181516773455122, "outflow_rate_min": 504.740621259614, "cost1_max": 463.9859299294076, "system_level_velocity_max": 18.66313174066444, "cost2_min": -43.069713920967416, "outflow_rate_max": 1410.594754957826, "system_level_velocity_mean": 15.645338554491113, "cost1_mean": 406.00526249576353, "cost2_mean": -26.876023590233817, "outflow_rate_mean": 1240.8117166301638, "cost2_max": -12.786403387934264, "cost1_min": 23.126242411507388}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 151, "episode_reward_max": 1319.4737857047799, "hostname": "flow-main", "timesteps_this_iter": 50371, "time_since_restore": 6709.840375185013, "episode_reward_min": 55.09502882190098, "episodes_total": 4446, "episodes_this_iter": 31, "timestamp": 1558421378, "time_total_s": 6709.840375185013, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.1, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "framestack": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "sample_async": false, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c0694a8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c069828>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c069b00>"}, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 692.1, "experiment_id": "e07569c766b64210b97edcdc20a183b1", "info": {"num_steps_trained": 8715954, "sample_time_ms": 25884.284, "load_time_ms": 8.103, "grad_time_ms": 12692.085, "update_time_ms": 8.169, "default": {"policy_loss": -0.01197634544223547, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.4261866807937622, "total_loss": 69.0999984741211, "cur_kl_coeff": 0.33750003576278687, "vf_loss": 69.10643005371094, "kl": 0.01641114614903927, "entropy": 1.7787413597106934}, "num_steps_sampled": 8715954}, "done": false, "date": "2019-05-21_06-49-38"}
{"episode_reward_mean": 1164.1133087763005, "timesteps_total": 8766539, "iterations_since_restore": 152, "timesteps_since_restore": 8766539, "num_metric_batches_dropped": 0, "pid": 343, "time_this_iter_s": 38.68667912483215, "custom_metrics": {"system_level_velocity_min": 12.134687836266743, "outflow_rate_min": 504.740621259614, "cost1_max": 460.7300183442308, "system_level_velocity_max": 18.66313174066444, "cost2_min": -46.979442344834005, "outflow_rate_max": 1401.0985280172906, "system_level_velocity_mean": 15.514911748444582, "cost1_mean": 402.80149528269567, "cost2_mean": -26.967235068713407, "outflow_rate_mean": 1228.2881969640516, "cost2_max": -12.786403387934264, "cost1_min": 23.126242411507388}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 152, "episode_reward_max": 1312.3869346755139, "hostname": "flow-main", "timesteps_this_iter": 50585, "time_since_restore": 6748.527054309845, "episode_reward_min": 55.09502882190098, "episodes_total": 4477, "episodes_this_iter": 31, "timestamp": 1558421417, "time_total_s": 6748.527054309845, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.1, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "framestack": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "sample_async": false, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c05de10>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c05d4e0>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c05d160>"}, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 692.1, "experiment_id": "e07569c766b64210b97edcdc20a183b1", "info": {"num_steps_trained": 8766539, "sample_time_ms": 25996.059, "load_time_ms": 7.971, "grad_time_ms": 12678.937, "update_time_ms": 8.075, "default": {"policy_loss": -0.01434151642024517, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.41981494426727295, "total_loss": 67.83185577392578, "cur_kl_coeff": 0.33750006556510925, "vf_loss": 67.84049987792969, "kl": 0.016891423612833023, "entropy": 1.79599928855896}, "num_steps_sampled": 8766539}, "done": false, "date": "2019-05-21_06-50-17"}
{"episode_reward_mean": 1160.5419423731175, "timesteps_total": 8817216, "iterations_since_restore": 153, "timesteps_since_restore": 8817216, "num_metric_batches_dropped": 0, "pid": 343, "time_this_iter_s": 38.47119474411011, "custom_metrics": {"system_level_velocity_min": 12.134687836266743, "outflow_rate_min": 999.7604331386783, "cost1_max": 459.1688154751197, "system_level_velocity_max": 17.880902454283557, "cost2_min": -46.979442344834005, "outflow_rate_max": 1404.2129702302593, "system_level_velocity_mean": 15.335577926076722, "cost1_mean": 400.4167734629457, "cost2_mean": -27.018581108586385, "outflow_rate_mean": 1224.458399234879, "cost2_max": -15.440098110539251, "cost1_min": 142.58303694398933}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 153, "episode_reward_max": 1324.2259393030506, "hostname": "flow-main", "timesteps_this_iter": 50677, "time_since_restore": 6786.998249053955, "episode_reward_min": 379.6729648460239, "episodes_total": 4507, "episodes_this_iter": 30, "timestamp": 1558421456, "time_total_s": 6786.998249053955, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.1, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "framestack": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "sample_async": false, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c0007b8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c0006d8>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c000b70>"}, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 695.15, "experiment_id": "e07569c766b64210b97edcdc20a183b1", "info": {"num_steps_trained": 8817216, "sample_time_ms": 26033.872, "load_time_ms": 7.736, "grad_time_ms": 12666.393, "update_time_ms": 8.107, "default": {"policy_loss": -0.014142503961920738, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.45181408524513245, "total_loss": 68.29782104492188, "cur_kl_coeff": 0.33750006556510925, "vf_loss": 68.30619049072266, "kl": 0.01713174395263195, "entropy": 1.7875345945358276}, "num_steps_sampled": 8817216}, "done": false, "date": "2019-05-21_06-50-56"}
{"episode_reward_mean": 1171.7545733115417, "timesteps_total": 8867669, "iterations_since_restore": 154, "timesteps_since_restore": 8867669, "num_metric_batches_dropped": 0, "pid": 343, "time_this_iter_s": 39.856825828552246, "custom_metrics": {"system_level_velocity_min": 12.134687836266743, "outflow_rate_min": 999.7604331386783, "cost1_max": 460.4636054634328, "system_level_velocity_max": 17.880902454283557, "cost2_min": -46.979442344834005, "outflow_rate_max": 1404.2129702302593, "system_level_velocity_mean": 15.439228633230107, "cost1_mean": 403.0350263391925, "cost2_mean": -26.71804109148468, "outflow_rate_mean": 1237.8095866917718, "cost2_max": -15.440098110539251, "cost1_min": 142.58303694398933}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 154, "episode_reward_max": 1335.57473416964, "hostname": "flow-main", "timesteps_this_iter": 50453, "time_since_restore": 6826.855074882507, "episode_reward_min": 379.6729648460239, "episodes_total": 4537, "episodes_this_iter": 30, "timestamp": 1558421495, "time_total_s": 6826.855074882507, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.1, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "framestack": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "sample_async": false, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c00a1d0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c00a390>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c00a358>"}, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 695.15, "experiment_id": "e07569c766b64210b97edcdc20a183b1", "info": {"num_steps_trained": 8867669, "sample_time_ms": 26094.442, "load_time_ms": 7.672, "grad_time_ms": 12617.486, "update_time_ms": 8.33, "default": {"policy_loss": -0.012737847864627838, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.35781198740005493, "total_loss": 70.36592102050781, "cur_kl_coeff": 0.33750009536743164, "vf_loss": 70.37327575683594, "kl": 0.015950731933116913, "entropy": 1.7793552875518799}, "num_steps_sampled": 8867669}, "done": false, "date": "2019-05-21_06-51-35"}
{"episode_reward_mean": 1170.6261549309456, "timesteps_total": 8918557, "iterations_since_restore": 155, "timesteps_since_restore": 8918557, "num_metric_batches_dropped": 0, "pid": 343, "time_this_iter_s": 39.98362588882446, "custom_metrics": {"system_level_velocity_min": 12.223283769299542, "outflow_rate_min": 479.9591201957086, "cost1_max": 460.4636054634328, "system_level_velocity_max": 17.880902454283557, "cost2_min": -40.5040550075583, "outflow_rate_max": 1413.124181135512, "system_level_velocity_mean": 15.490893192870942, "cost1_mean": 400.13218761431665, "cost2_mean": -27.121272879041758, "outflow_rate_mean": 1241.852755141763, "cost2_max": -10.840454086672862, "cost1_min": 17.80095338555953}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 155, "episode_reward_max": 1335.57473416964, "hostname": "flow-main", "timesteps_this_iter": 50888, "time_since_restore": 6866.838700771332, "episode_reward_min": 43.98612680288969, "episodes_total": 4571, "episodes_this_iter": 34, "timestamp": 1558421535, "time_total_s": 6866.838700771332, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.1, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "framestack": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "sample_async": false, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c016550>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c0167b8>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c016630>"}, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 688.42, "experiment_id": "e07569c766b64210b97edcdc20a183b1", "info": {"num_steps_trained": 8918557, "sample_time_ms": 26326.012, "load_time_ms": 7.719, "grad_time_ms": 12548.127, "update_time_ms": 8.424, "default": {"policy_loss": -0.013427944853901863, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.39150533080101013, "total_loss": 78.64238739013672, "cur_kl_coeff": 0.33750003576278687, "vf_loss": 78.65021514892578, "kl": 0.016583384945988655, "entropy": 1.7972434759140015}, "num_steps_sampled": 8918557}, "done": false, "date": "2019-05-21_06-52-15"}
{"episode_reward_mean": 1179.6675289150144, "timesteps_total": 8969385, "iterations_since_restore": 156, "timesteps_since_restore": 8969385, "num_metric_batches_dropped": 0, "pid": 343, "time_this_iter_s": 39.577364921569824, "custom_metrics": {"system_level_velocity_min": 12.320970568648129, "outflow_rate_min": 479.9591201957086, "cost1_max": 461.03141536359635, "system_level_velocity_max": 17.56527179017833, "cost2_min": -45.82989576807883, "outflow_rate_max": 1413.124181135512, "system_level_velocity_mean": 15.474789984907007, "cost1_mean": 402.8835548992401, "cost2_mean": -27.091445119774882, "outflow_rate_mean": 1243.1850549736891, "cost2_max": -10.840454086672862, "cost1_min": 17.80095338555953}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 156, "episode_reward_max": 1343.8045961864557, "hostname": "flow-main", "timesteps_this_iter": 50828, "time_since_restore": 6906.416065692902, "episode_reward_min": 43.98612680288969, "episodes_total": 4604, "episodes_this_iter": 33, "timestamp": 1558421575, "time_total_s": 6906.416065692902, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.1, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "framestack": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "sample_async": false, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c00ac50>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfff400>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c00ada0>"}, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 693.27, "experiment_id": "e07569c766b64210b97edcdc20a183b1", "info": {"num_steps_trained": 8969385, "sample_time_ms": 26430.2, "load_time_ms": 7.509, "grad_time_ms": 12558.898, "update_time_ms": 8.22, "default": {"policy_loss": -0.012277800589799881, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.390264630317688, "total_loss": 74.58385467529297, "cur_kl_coeff": 0.33750003576278687, "vf_loss": 74.59137725830078, "kl": 0.014103498309850693, "entropy": 1.800723910331726}, "num_steps_sampled": 8969385}, "done": false, "date": "2019-05-21_06-52-55"}
{"episode_reward_mean": 1176.7962982292017, "timesteps_total": 9018630, "iterations_since_restore": 157, "timesteps_since_restore": 9018630, "num_metric_batches_dropped": 0, "pid": 343, "time_this_iter_s": 38.168187379837036, "custom_metrics": {"system_level_velocity_min": 12.320970568648129, "outflow_rate_min": 479.9591201957086, "cost1_max": 461.03141536359635, "system_level_velocity_max": 17.56527179017833, "cost2_min": -45.82989576807883, "outflow_rate_max": 1413.124181135512, "system_level_velocity_mean": 15.54472079606408, "cost1_mean": 404.9315012837909, "cost2_mean": -26.344397360985408, "outflow_rate_mean": 1235.734917283941, "cost2_max": -10.840454086672862, "cost1_min": 17.80095338555953}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 157, "episode_reward_max": 1343.8045961864557, "hostname": "flow-main", "timesteps_this_iter": 49245, "time_since_restore": 6944.584253072739, "episode_reward_min": 43.98612680288969, "episodes_total": 4637, "episodes_this_iter": 33, "timestamp": 1558421613, "time_total_s": 6944.584253072739, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.1, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "framestack": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "sample_async": false, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c00a978>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c00a780>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c00a400>"}, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 693.27, "experiment_id": "e07569c766b64210b97edcdc20a183b1", "info": {"num_steps_trained": 9018630, "sample_time_ms": 26379.943, "load_time_ms": 7.336, "grad_time_ms": 12480.719, "update_time_ms": 7.973, "default": {"policy_loss": -0.011491638608276844, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.35447096824645996, "total_loss": 71.00112915039062, "cur_kl_coeff": 0.33750006556510925, "vf_loss": 71.00704193115234, "kl": 0.016514450311660767, "entropy": 1.794573187828064}, "num_steps_sampled": 9018630}, "done": false, "date": "2019-05-21_06-53-33"}
{"episode_reward_mean": 1172.5231423487846, "timesteps_total": 9066784, "iterations_since_restore": 158, "timesteps_since_restore": 9066784, "num_metric_batches_dropped": 0, "pid": 343, "time_this_iter_s": 37.01352095603943, "custom_metrics": {"system_level_velocity_min": 12.364534015224638, "outflow_rate_min": 990.5384605915492, "cost1_max": 461.03141536359635, "system_level_velocity_max": 17.604751282521857, "cost2_min": -45.82989576807883, "outflow_rate_max": 1413.124181135512, "system_level_velocity_mean": 15.759344809356948, "cost1_mean": 411.1680847790256, "cost2_mean": -24.867187567222214, "outflow_rate_mean": 1233.160030511825, "cost2_max": -15.251941274346494, "cost1_min": 142.738550434549}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 158, "episode_reward_max": 1343.8045961864557, "hostname": "flow-main", "timesteps_this_iter": 48154, "time_since_restore": 6981.597774028778, "episode_reward_min": 384.4324880516048, "episodes_total": 4668, "episodes_this_iter": 31, "timestamp": 1558421650, "time_total_s": 6981.597774028778, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.1, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "framestack": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "sample_async": false, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c0004e0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c0003c8>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c000b38>"}, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 695.18, "experiment_id": "e07569c766b64210b97edcdc20a183b1", "info": {"num_steps_trained": 9066784, "sample_time_ms": 26233.725, "load_time_ms": 7.386, "grad_time_ms": 12381.781, "update_time_ms": 7.894, "default": {"policy_loss": -0.012826038524508476, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.31403616070747375, "total_loss": 70.9148178100586, "cur_kl_coeff": 0.33750006556510925, "vf_loss": 70.92232513427734, "kl": 0.01577002927660942, "entropy": 1.8027392625808716}, "num_steps_sampled": 9066784}, "done": false, "date": "2019-05-21_06-54-10"}
{"episode_reward_mean": 1158.6665709308522, "timesteps_total": 9115076, "iterations_since_restore": 159, "timesteps_since_restore": 9115076, "num_metric_batches_dropped": 0, "pid": 343, "time_this_iter_s": 37.373289823532104, "custom_metrics": {"system_level_velocity_min": 12.364534015224638, "outflow_rate_min": 990.5384605915492, "cost1_max": 458.34146379953233, "system_level_velocity_max": 17.604751282521857, "cost2_min": -38.15590544590412, "outflow_rate_max": 1383.4678214003586, "system_level_velocity_mean": 15.8588962010544, "cost1_mean": 413.2384928358704, "cost2_mean": -23.92620568602706, "outflow_rate_mean": 1218.6258756380535, "cost2_max": -15.251941274346494, "cost1_min": 142.738550434549}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 159, "episode_reward_max": 1315.724951366613, "hostname": "flow-main", "timesteps_this_iter": 48292, "time_since_restore": 7018.97106385231, "episode_reward_min": 384.4324880516048, "episodes_total": 4699, "episodes_this_iter": 31, "timestamp": 1558421688, "time_total_s": 7018.97106385231, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.1, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "framestack": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "sample_async": false, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c016518>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c016eb8>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c016cf8>"}, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 695.18, "experiment_id": "e07569c766b64210b97edcdc20a183b1", "info": {"num_steps_trained": 9115076, "sample_time_ms": 26215.868, "load_time_ms": 7.72, "grad_time_ms": 12359.072, "update_time_ms": 7.951, "default": {"policy_loss": -0.012917179614305496, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.41773730516433716, "total_loss": 62.34381866455078, "cur_kl_coeff": 0.33750003576278687, "vf_loss": 62.35108947753906, "kl": 0.016725212335586548, "entropy": 1.8332995176315308}, "num_steps_sampled": 9115076}, "done": false, "date": "2019-05-21_06-54-48"}
{"episode_reward_mean": 1139.6163183628094, "timesteps_total": 9163153, "iterations_since_restore": 160, "timesteps_since_restore": 9163153, "num_metric_batches_dropped": 0, "pid": 343, "time_this_iter_s": 37.23312711715698, "custom_metrics": {"system_level_velocity_min": 13.297386605648972, "outflow_rate_min": 990.5384605915492, "cost1_max": 460.88542877525344, "system_level_velocity_max": 17.679355278302143, "cost2_min": -43.115281414509326, "outflow_rate_max": 1383.4678214003586, "system_level_velocity_mean": 15.92021525582324, "cost1_mean": 414.185162527504, "cost2_mean": -23.67464712177793, "outflow_rate_mean": 1198.6235804051425, "cost2_max": -15.251941274346494, "cost1_min": 142.738550434549}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 160, "episode_reward_max": 1315.724951366613, "hostname": "flow-main", "timesteps_this_iter": 48077, "time_since_restore": 7056.204190969467, "episode_reward_min": 384.4324880516048, "episodes_total": 4731, "episodes_this_iter": 32, "timestamp": 1558421725, "time_total_s": 7056.204190969467, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.1, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "framestack": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "sample_async": false, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c00a940>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c00abe0>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c00a240>"}, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 695.18, "experiment_id": "e07569c766b64210b97edcdc20a183b1", "info": {"num_steps_trained": 9163153, "sample_time_ms": 25989.449, "load_time_ms": 7.796, "grad_time_ms": 12409.345, "update_time_ms": 8.188, "default": {"policy_loss": -0.012974252924323082, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.4162832498550415, "total_loss": 66.58702850341797, "cur_kl_coeff": 0.33750009536743164, "vf_loss": 66.5945053100586, "kl": 0.016290754079818726, "entropy": 1.8322288990020752}, "num_steps_sampled": 9163153}, "done": false, "date": "2019-05-21_06-55-25"}
{"episode_reward_mean": 1133.0817083458594, "timesteps_total": 9211270, "iterations_since_restore": 161, "timesteps_since_restore": 9211270, "num_metric_batches_dropped": 0, "pid": 343, "time_this_iter_s": 37.5683650970459, "custom_metrics": {"system_level_velocity_min": 13.316903368534518, "outflow_rate_min": 1038.9202056791287, "cost1_max": 460.88542877525344, "system_level_velocity_max": 17.679355278302143, "cost2_min": -43.115281414509326, "outflow_rate_max": 1383.4678214003586, "system_level_velocity_mean": 15.736297465614786, "cost1_mean": 412.74271100411113, "cost2_mean": -23.93118495096318, "outflow_rate_mean": 1183.675167886743, "cost2_max": -15.782900049699395, "cost1_min": 347.6107300862964}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 161, "episode_reward_max": 1315.724951366613, "hostname": "flow-main", "timesteps_this_iter": 48117, "time_since_restore": 7093.772556066513, "episode_reward_min": 958.0932033604773, "episodes_total": 4761, "episodes_this_iter": 30, "timestamp": 1558421763, "time_total_s": 7093.772556066513, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.1, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "framestack": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "sample_async": false, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c00ae80>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c00a6a0>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c00a2e8>"}, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 700.0, "experiment_id": "e07569c766b64210b97edcdc20a183b1", "info": {"num_steps_trained": 9211270, "sample_time_ms": 25859.823, "load_time_ms": 7.62, "grad_time_ms": 12417.997, "update_time_ms": 8.51, "default": {"policy_loss": -0.013349003158509731, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.4203651547431946, "total_loss": 65.86476135253906, "cur_kl_coeff": 0.33750009536743164, "vf_loss": 65.87249755859375, "kl": 0.016611069440841675, "entropy": 1.8600226640701294}, "num_steps_sampled": 9211270}, "done": false, "date": "2019-05-21_06-56-03"}
{"episode_reward_mean": 1127.6506844669561, "timesteps_total": 9258794, "iterations_since_restore": 162, "timesteps_since_restore": 9258794, "num_metric_batches_dropped": 0, "pid": 343, "time_this_iter_s": 36.2570903301239, "custom_metrics": {"system_level_velocity_min": 12.593429301829543, "outflow_rate_min": 943.5741540568296, "cost1_max": 461.34493330441734, "system_level_velocity_max": 17.715652969878942, "cost2_min": -43.115281414509326, "outflow_rate_max": 1381.7445083122009, "system_level_velocity_mean": 15.752177296908298, "cost1_mean": 413.2097631749558, "cost2_mean": -23.737741547193824, "outflow_rate_mean": 1178.6721226225397, "cost2_max": -15.490944457525364, "cost1_min": 326.5299467843989}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 162, "episode_reward_max": 1287.6798296120987, "hostname": "flow-main", "timesteps_this_iter": 47524, "time_since_restore": 7130.029646396637, "episode_reward_min": 908.0721486996922, "episodes_total": 4790, "episodes_this_iter": 29, "timestamp": 1558421799, "time_total_s": 7130.029646396637, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.1, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "framestack": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "sample_async": false, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c05d518>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c05d160>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c05d860>"}, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 700.0, "experiment_id": "e07569c766b64210b97edcdc20a183b1", "info": {"num_steps_trained": 9258794, "sample_time_ms": 25667.325, "load_time_ms": 7.529, "grad_time_ms": 12369.156, "update_time_ms": 8.665, "default": {"policy_loss": -0.013588492758572102, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.4740281403064728, "total_loss": 61.040061950683594, "cur_kl_coeff": 0.33750006556510925, "vf_loss": 61.0478630065918, "kl": 0.017150765284895897, "entropy": 1.856066107749939}, "num_steps_sampled": 9258794}, "done": false, "date": "2019-05-21_06-56-39"}
{"episode_reward_mean": 1115.2117517354782, "timesteps_total": 9306413, "iterations_since_restore": 163, "timesteps_since_restore": 9306413, "num_metric_batches_dropped": 0, "pid": 343, "time_this_iter_s": 38.07880973815918, "custom_metrics": {"system_level_velocity_min": 12.593429301829543, "outflow_rate_min": 943.5741540568296, "cost1_max": 461.34493330441734, "system_level_velocity_max": 17.715652969878942, "cost2_min": -43.115281414509326, "outflow_rate_max": 1381.7445083122009, "system_level_velocity_mean": 15.661683871266941, "cost1_mean": 410.65804487494125, "cost2_mean": -23.34480336996931, "outflow_rate_mean": 1164.0803672553386, "cost2_max": -14.48306063032685, "cost1_min": 326.5299467843989}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 163, "episode_reward_max": 1287.6798296120987, "hostname": "flow-main", "timesteps_this_iter": 47619, "time_since_restore": 7168.108456134796, "episode_reward_min": 908.0721486996922, "episodes_total": 4819, "episodes_this_iter": 29, "timestamp": 1558421837, "time_total_s": 7168.108456134796, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.1, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "framestack": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "sample_async": false, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c00ac50>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c00a208>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c00af60>"}, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 700.0, "experiment_id": "e07569c766b64210b97edcdc20a183b1", "info": {"num_steps_trained": 9306413, "sample_time_ms": 25641.945, "load_time_ms": 7.571, "grad_time_ms": 12356.747, "update_time_ms": 8.676, "default": {"policy_loss": -0.011747325770556927, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.46575698256492615, "total_loss": 63.12068557739258, "cur_kl_coeff": 0.33750006556510925, "vf_loss": 63.127227783203125, "kl": 0.01542610116302967, "entropy": 1.8743600845336914}, "num_steps_sampled": 9306413}, "done": false, "date": "2019-05-21_06-57-17"}
{"episode_reward_mean": 1104.4922984347809, "timesteps_total": 9353649, "iterations_since_restore": 164, "timesteps_since_restore": 9353649, "num_metric_batches_dropped": 0, "pid": 343, "time_this_iter_s": 36.186208963394165, "custom_metrics": {"system_level_velocity_min": 12.593429301829543, "outflow_rate_min": 943.5741540568296, "cost1_max": 461.34493330441734, "system_level_velocity_max": 17.715652969878942, "cost2_min": -34.99207968242307, "outflow_rate_max": 1381.7445083122009, "system_level_velocity_mean": 15.599140880799279, "cost1_mean": 408.59026717976076, "cost2_mean": -22.87770696679825, "outflow_rate_mean": 1152.148675206552, "cost2_max": -13.670850974079869, "cost1_min": 326.5299467843989}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 164, "episode_reward_max": 1287.6798296120987, "hostname": "flow-main", "timesteps_this_iter": 47236, "time_since_restore": 7204.29466509819, "episode_reward_min": 908.0721486996922, "episodes_total": 4849, "episodes_this_iter": 30, "timestamp": 1558421873, "time_total_s": 7204.29466509819, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.1, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "framestack": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "sample_async": false, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c00a048>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c00a5f8>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c00a278>"}, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 700.0, "experiment_id": "e07569c766b64210b97edcdc20a183b1", "info": {"num_steps_trained": 9353649, "sample_time_ms": 25654.172, "load_time_ms": 7.708, "grad_time_ms": 11979.207, "update_time_ms": 8.421, "default": {"policy_loss": -0.01402457058429718, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.47451865673065186, "total_loss": 63.222984313964844, "cur_kl_coeff": 0.33750006556510925, "vf_loss": 63.231536865234375, "kl": 0.016199011355638504, "entropy": 1.8627855777740479}, "num_steps_sampled": 9353649}, "done": false, "date": "2019-05-21_06-57-53"}
{"episode_reward_mean": 1092.7749928958294, "timesteps_total": 9400969, "iterations_since_restore": 165, "timesteps_since_restore": 9400969, "num_metric_batches_dropped": 0, "pid": 343, "time_this_iter_s": 36.4893217086792, "custom_metrics": {"system_level_velocity_min": 12.544777736406996, "outflow_rate_min": 956.2317940807866, "cost1_max": 461.34493330441734, "system_level_velocity_max": 17.715652969878942, "cost2_min": -34.99207968242307, "outflow_rate_max": 1381.7445083122009, "system_level_velocity_mean": 15.501847313757425, "cost1_mean": 405.80929130254606, "cost2_mean": -23.107995039275387, "outflow_rate_mean": 1139.5563393650152, "cost2_max": -13.670850974079869, "cost1_min": 332.4543849286051}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 165, "episode_reward_max": 1287.6798296120987, "hostname": "flow-main", "timesteps_this_iter": 47320, "time_since_restore": 7240.7839868068695, "episode_reward_min": 923.9309526044968, "episodes_total": 4880, "episodes_this_iter": 31, "timestamp": 1558421910, "time_total_s": 7240.7839868068695, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.1, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "framestack": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "sample_async": false, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c0005c0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c0006d8>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c000fd0>"}, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 700.0, "experiment_id": "e07569c766b64210b97edcdc20a183b1", "info": {"num_steps_trained": 9400969, "sample_time_ms": 25508.13, "load_time_ms": 7.57, "grad_time_ms": 11777.411, "update_time_ms": 8.267, "default": {"policy_loss": -0.012694718316197395, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.40192535519599915, "total_loss": 70.26595306396484, "cur_kl_coeff": 0.33750006556510925, "vf_loss": 70.2729721069336, "kl": 0.016814490780234337, "entropy": 1.8852338790893555}, "num_steps_sampled": 9400969}, "done": false, "date": "2019-05-21_06-58-30"}
{"episode_reward_mean": 1076.313775888252, "timesteps_total": 9448673, "iterations_since_restore": 166, "timesteps_since_restore": 9448673, "num_metric_batches_dropped": 0, "pid": 343, "time_this_iter_s": 37.34884023666382, "custom_metrics": {"system_level_velocity_min": 12.193086510427014, "outflow_rate_min": 489.92492200470633, "cost1_max": 455.74763611140463, "system_level_velocity_max": 17.52400951141737, "cost2_min": -35.230126128412266, "outflow_rate_max": 1347.338710211732, "system_level_velocity_mean": 15.40599560749574, "cost1_mean": 398.7385618750471, "cost2_mean": -23.850873667895982, "outflow_rate_mean": 1128.892765387635, "cost2_max": -11.55049079796807, "cost1_min": 17.740029214175323}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 166, "episode_reward_max": 1235.3089798012884, "hostname": "flow-main", "timesteps_this_iter": 47704, "time_since_restore": 7278.132827043533, "episode_reward_min": 42.245641653033196, "episodes_total": 4913, "episodes_this_iter": 33, "timestamp": 1558421947, "time_total_s": 7278.132827043533, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.1, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "framestack": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "sample_async": false, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c00a160>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c00a978>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c00ab00>"}, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 693.27, "experiment_id": "e07569c766b64210b97edcdc20a183b1", "info": {"num_steps_trained": 9448673, "sample_time_ms": 25406.027, "load_time_ms": 7.868, "grad_time_ms": 11657.476, "update_time_ms": 8.157, "default": {"policy_loss": -0.013153113424777985, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.43163734674453735, "total_loss": 63.04214096069336, "cur_kl_coeff": 0.33750006556510925, "vf_loss": 63.04871368408203, "kl": 0.01947673223912716, "entropy": 1.870747447013855}, "num_steps_sampled": 9448673}, "done": false, "date": "2019-05-21_06-59-07"}
{"episode_reward_mean": 1076.7369711447311, "timesteps_total": 9495867, "iterations_since_restore": 167, "timesteps_since_restore": 9495867, "num_metric_batches_dropped": 0, "pid": 343, "time_this_iter_s": 38.36013984680176, "custom_metrics": {"system_level_velocity_min": 12.193086510427014, "outflow_rate_min": 489.92492200470633, "cost1_max": 456.56354056165816, "system_level_velocity_max": 17.52400951141737, "cost2_min": -36.010275636777486, "outflow_rate_max": 1347.338710211732, "system_level_velocity_mean": 15.521201172123831, "cost1_mean": 398.56169734953534, "cost2_mean": -24.40051565688072, "outflow_rate_mean": 1139.5188712976546, "cost2_max": -11.55049079796807, "cost1_min": 17.740029214175323}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 167, "episode_reward_max": 1223.271831555947, "hostname": "flow-main", "timesteps_this_iter": 47194, "time_since_restore": 7316.492966890335, "episode_reward_min": 42.245641653033196, "episodes_total": 4948, "episodes_this_iter": 35, "timestamp": 1558421986, "time_total_s": 7316.492966890335, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.1, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "framestack": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "sample_async": false, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c0167b8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c016588>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c016b70>"}, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 688.42, "experiment_id": "e07569c766b64210b97edcdc20a183b1", "info": {"num_steps_trained": 9495867, "sample_time_ms": 25386.241, "load_time_ms": 8.076, "grad_time_ms": 11694.459, "update_time_ms": 8.32, "default": {"policy_loss": -0.012977556325495243, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.3883848190307617, "total_loss": 71.17396545410156, "cur_kl_coeff": 0.33750006556510925, "vf_loss": 71.18151092529297, "kl": 0.016092676669359207, "entropy": 1.8690935373306274}, "num_steps_sampled": 9495867}, "done": false, "date": "2019-05-21_06-59-46"}
{"episode_reward_mean": 1072.814228997434, "timesteps_total": 9543146, "iterations_since_restore": 168, "timesteps_since_restore": 9543146, "num_metric_batches_dropped": 0, "pid": 343, "time_this_iter_s": 37.85152006149292, "custom_metrics": {"system_level_velocity_min": 12.193086510427014, "outflow_rate_min": 489.92492200470633, "cost1_max": 456.56354056165816, "system_level_velocity_max": 18.023757827334837, "cost2_min": -36.010275636777486, "outflow_rate_max": 1347.338710211732, "system_level_velocity_mean": 15.742031058652858, "cost1_mean": 399.0316597759632, "cost2_mean": -24.601542753415103, "outflow_rate_mean": 1151.954839859682, "cost2_max": -11.55049079796807, "cost1_min": 17.740029214175323}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 168, "episode_reward_max": 1235.4317077658586, "hostname": "flow-main", "timesteps_this_iter": 47279, "time_since_restore": 7354.344486951828, "episode_reward_min": 42.245641653033196, "episodes_total": 4983, "episodes_this_iter": 35, "timestamp": 1558422024, "time_total_s": 7354.344486951828, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.1, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "framestack": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "sample_async": false, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c000198>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c000e80>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c0003c8>"}, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 681.45, "experiment_id": "e07569c766b64210b97edcdc20a183b1", "info": {"num_steps_trained": 9543146, "sample_time_ms": 25414.45, "load_time_ms": 7.793, "grad_time_ms": 11750.82, "update_time_ms": 8.424, "default": {"policy_loss": -0.013836651109158993, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.34472739696502686, "total_loss": 73.81000518798828, "cur_kl_coeff": 0.33750006556510925, "vf_loss": 73.81814575195312, "kl": 0.016877634450793266, "entropy": 1.872036099433899}, "num_steps_sampled": 9543146}, "done": false, "date": "2019-05-21_07-00-24"}
{"episode_reward_mean": 1082.895209418242, "timesteps_total": 9591168, "iterations_since_restore": 169, "timesteps_since_restore": 9591168, "num_metric_batches_dropped": 0, "pid": 343, "time_this_iter_s": 37.469610929489136, "custom_metrics": {"system_level_velocity_min": 12.179074681839952, "outflow_rate_min": 940.5526512890095, "cost1_max": 456.56354056165816, "system_level_velocity_max": 18.023757827334837, "cost2_min": -38.444003609054725, "outflow_rate_max": 1331.944622958103, "system_level_velocity_mean": 15.6716973510024, "cost1_mean": 401.4049014489114, "cost2_mean": -25.15437205592764, "outflow_rate_mean": 1159.2603097120075, "cost2_max": -17.61349137539223, "cost1_min": 136.13646382375958}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 169, "episode_reward_max": 1235.4317077658586, "hostname": "flow-main", "timesteps_this_iter": 48022, "time_since_restore": 7391.814097881317, "episode_reward_min": 346.00752693494894, "episodes_total": 5012, "episodes_this_iter": 29, "timestamp": 1558422061, "time_total_s": 7391.814097881317, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.1, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "framestack": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "sample_async": false, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c00a080>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c00a240>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c00a860>"}, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 688.18, "experiment_id": "e07569c766b64210b97edcdc20a183b1", "info": {"num_steps_trained": 9591168, "sample_time_ms": 25283.814, "load_time_ms": 7.59, "grad_time_ms": 11890.707, "update_time_ms": 8.631, "default": {"policy_loss": -0.012922068126499653, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.45295193791389465, "total_loss": 56.94976043701172, "cur_kl_coeff": 0.33750009536743164, "vf_loss": 56.95639419555664, "kl": 0.018640868365764618, "entropy": 1.8989101648330688}, "num_steps_sampled": 9591168}, "done": false, "date": "2019-05-21_07-01-01"}
{"episode_reward_mean": 1080.271051948442, "timesteps_total": 9638756, "iterations_since_restore": 170, "timesteps_since_restore": 9638756, "num_metric_batches_dropped": 0, "pid": 343, "time_this_iter_s": 37.246827602386475, "custom_metrics": {"system_level_velocity_min": 12.179074681839952, "outflow_rate_min": 940.5526512890095, "cost1_max": 453.80130090160935, "system_level_velocity_max": 18.023757827334837, "cost2_min": -38.84723988055968, "outflow_rate_max": 1346.9261053765963, "system_level_velocity_mean": 15.574258819374052, "cost1_mean": 401.8901681193967, "cost2_mean": -25.483279077768444, "outflow_rate_mean": 1152.6181684258152, "cost2_max": -17.750502238827863, "cost1_min": 198.98922949621542}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 170, "episode_reward_max": 1268.9183258513394, "hostname": "flow-main", "timesteps_this_iter": 47588, "time_since_restore": 7429.060925483704, "episode_reward_min": 489.9834284058115, "episodes_total": 5044, "episodes_this_iter": 32, "timestamp": 1558422098, "time_total_s": 7429.060925483704, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.1, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "framestack": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "sample_async": false, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c00add8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c016eb8>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c016b70>"}, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 693.03, "experiment_id": "e07569c766b64210b97edcdc20a183b1", "info": {"num_steps_trained": 9638756, "sample_time_ms": 25343.336, "load_time_ms": 7.451, "grad_time_ms": 11831.91, "update_time_ms": 8.682, "default": {"policy_loss": -0.011588920839130878, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.40695226192474365, "total_loss": 62.634918212890625, "cur_kl_coeff": 0.33750006556510925, "vf_loss": 62.640960693359375, "kl": 0.016422443091869354, "entropy": 1.9129650592803955}, "num_steps_sampled": 9638756}, "done": false, "date": "2019-05-21_07-01-38"}
{"episode_reward_mean": 1101.5881091788322, "timesteps_total": 9686498, "iterations_since_restore": 171, "timesteps_since_restore": 9686498, "num_metric_batches_dropped": 0, "pid": 343, "time_this_iter_s": 47.23760938644409, "custom_metrics": {"system_level_velocity_min": 12.179074681839952, "outflow_rate_min": 940.5526512890095, "cost1_max": 456.40049153008545, "system_level_velocity_max": 17.5256153263812, "cost2_min": -38.84723988055968, "outflow_rate_max": 1390.3721160883488, "system_level_velocity_mean": 15.565650204553979, "cost1_mean": 406.6239818583014, "cost2_mean": -26.139078796746116, "outflow_rate_mean": 1163.6707451094665, "cost2_max": -17.36880236903422, "cost1_min": 316.5981929709035}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 171, "episode_reward_max": 1276.2093522803625, "hostname": "flow-main", "timesteps_this_iter": 47742, "time_since_restore": 7476.298534870148, "episode_reward_min": 887.0217492551538, "episodes_total": 5073, "episodes_this_iter": 29, "timestamp": 1558422146, "time_total_s": 7476.298534870148, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.1, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "framestack": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "sample_async": false, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81e4e62e8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81e4e6898>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81e4e6b70>"}, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 700.0, "experiment_id": "e07569c766b64210b97edcdc20a183b1", "info": {"num_steps_trained": 9686498, "sample_time_ms": 25514.104, "load_time_ms": 9.332, "grad_time_ms": 12613.135, "update_time_ms": 8.541, "default": {"policy_loss": -0.013761737383902073, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.37096503376960754, "total_loss": 59.09897994995117, "cur_kl_coeff": 0.33750006556510925, "vf_loss": 59.1066780090332, "kl": 0.017978118732571602, "entropy": 1.8717044591903687}, "num_steps_sampled": 9686498}, "done": false, "date": "2019-05-21_07-02-26"}
{"episode_reward_mean": 1101.3661138404573, "timesteps_total": 9733932, "iterations_since_restore": 172, "timesteps_since_restore": 9733932, "num_metric_batches_dropped": 0, "pid": 343, "time_this_iter_s": 47.806593894958496, "custom_metrics": {"system_level_velocity_min": 13.181950633928208, "outflow_rate_min": 994.2932754682502, "cost1_max": 461.69725597718656, "system_level_velocity_max": 17.693558650859323, "cost2_min": -38.84723988055968, "outflow_rate_max": 1390.3721160883488, "system_level_velocity_mean": 15.53277117093353, "cost1_mean": 405.1733951884148, "cost2_mean": -27.167692395909143, "outflow_rate_mean": 1165.330314647602, "cost2_max": -17.36880236903422, "cost1_min": 293.4880953997834}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 172, "episode_reward_max": 1294.0622459531305, "hostname": "flow-main", "timesteps_this_iter": 47434, "time_since_restore": 7524.105128765106, "episode_reward_min": 842.5890817615974, "episodes_total": 5104, "episodes_this_iter": 31, "timestamp": 1558422194, "time_total_s": 7524.105128765106, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.1, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "framestack": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "sample_async": false, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c016240>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c016f98>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c016d30>"}, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 698.75, "experiment_id": "e07569c766b64210b97edcdc20a183b1", "info": {"num_steps_trained": 9733932, "sample_time_ms": 26501.51, "load_time_ms": 9.466, "grad_time_ms": 12775.25, "update_time_ms": 10.479, "default": {"policy_loss": -0.015239877626299858, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.36047255992889404, "total_loss": 64.11060333251953, "cur_kl_coeff": 0.33750006556510925, "vf_loss": 64.11981201171875, "kl": 0.017857637256383896, "entropy": 1.8871791362762451}, "num_steps_sampled": 9733932}, "done": false, "date": "2019-05-21_07-03-14"}
{"episode_reward_mean": 1107.8003745967765, "timesteps_total": 9781279, "iterations_since_restore": 173, "timesteps_since_restore": 9781279, "num_metric_batches_dropped": 0, "pid": 343, "time_this_iter_s": 34.98565864562988, "custom_metrics": {"system_level_velocity_min": 13.166868929467453, "outflow_rate_min": 994.2932754682502, "cost1_max": 461.69725597718656, "system_level_velocity_max": 17.693558650859323, "cost2_min": -42.44005310763197, "outflow_rate_max": 1390.3721160883488, "system_level_velocity_mean": 15.59998000893209, "cost1_mean": 406.5031470794973, "cost2_mean": -27.217977510266564, "outflow_rate_mean": 1172.6038116748655, "cost2_max": -17.36880236903422, "cost1_min": 293.4880953997834}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 173, "episode_reward_max": 1294.0622459531305, "hostname": "flow-main", "timesteps_this_iter": 47347, "time_since_restore": 7559.090787410736, "episode_reward_min": 842.5890817615974, "episodes_total": 5133, "episodes_this_iter": 29, "timestamp": 1558422229, "time_total_s": 7559.090787410736, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.1, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "framestack": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "sample_async": false, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c000080>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c000e80>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c000518>"}, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 698.32, "experiment_id": "e07569c766b64210b97edcdc20a183b1", "info": {"num_steps_trained": 9781279, "sample_time_ms": 26137.666, "load_time_ms": 9.855, "grad_time_ms": 12826.995, "update_time_ms": 10.717, "default": {"policy_loss": -0.012906237505376339, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.3919147551059723, "total_loss": 56.816627502441406, "cur_kl_coeff": 0.33750006556510925, "vf_loss": 56.82332992553711, "kl": 0.01837388053536415, "entropy": 1.87675940990448}, "num_steps_sampled": 9781279}, "done": false, "date": "2019-05-21_07-03-49"}
{"episode_reward_mean": 1089.7399176397162, "timesteps_total": 9828090, "iterations_since_restore": 174, "timesteps_since_restore": 9828090, "num_metric_batches_dropped": 0, "pid": 343, "time_this_iter_s": 37.02345061302185, "custom_metrics": {"system_level_velocity_min": 12.647834895245984, "outflow_rate_min": 485.030682526844, "cost1_max": 466.92540631413783, "system_level_velocity_max": 18.579421429989882, "cost2_min": -42.44005310763197, "outflow_rate_max": 1389.7591741535352, "system_level_velocity_mean": 15.637551710739492, "cost1_mean": 402.36732081773187, "cost2_mean": -27.4476519378754, "outflow_rate_mean": 1160.8328141049406, "cost2_max": -13.278204110763223, "cost1_min": 22.998532493188947}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 174, "episode_reward_max": 1300.8358628511985, "hostname": "flow-main", "timesteps_this_iter": 46811, "time_since_restore": 7596.114238023758, "episode_reward_min": 55.96644818861329, "episodes_total": 5165, "episodes_this_iter": 32, "timestamp": 1558422266, "time_total_s": 7596.114238023758, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.1, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "framestack": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "sample_async": false, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81e5020f0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81e5020b8>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81e502710>"}, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 691.67, "experiment_id": "e07569c766b64210b97edcdc20a183b1", "info": {"num_steps_trained": 9828090, "sample_time_ms": 25892.425, "load_time_ms": 9.736, "grad_time_ms": 13156.684, "update_time_ms": 10.768, "default": {"policy_loss": -0.013920709490776062, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.37188613414764404, "total_loss": 64.73310089111328, "cur_kl_coeff": 0.33750009536743164, "vf_loss": 64.74125671386719, "kl": 0.017078572884202003, "entropy": 1.8430944681167603}, "num_steps_sampled": 9828090}, "done": false, "date": "2019-05-21_07-04-26"}
{"episode_reward_mean": 1090.8527357049197, "timesteps_total": 9874952, "iterations_since_restore": 175, "timesteps_since_restore": 9874952, "num_metric_batches_dropped": 0, "pid": 343, "time_this_iter_s": 36.41464853286743, "custom_metrics": {"system_level_velocity_min": 12.647834895245984, "outflow_rate_min": 442.8785900830537, "cost1_max": 467.8828395344173, "system_level_velocity_max": 18.579421429989882, "cost2_min": -42.44005310763197, "outflow_rate_max": 1392.996366226366, "system_level_velocity_mean": 15.806135246183976, "cost1_mean": 402.8656285478217, "cost2_mean": -27.230967160289516, "outflow_rate_mean": 1168.5242345087304, "cost2_max": -12.989423340910701, "cost1_min": 17.6206236574105}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 175, "episode_reward_max": 1303.908743383445, "hostname": "flow-main", "timesteps_this_iter": 46862, "time_since_restore": 7632.528886556625, "episode_reward_min": 44.693124454390954, "episodes_total": 5197, "episodes_this_iter": 32, "timestamp": 1558422302, "time_total_s": 7632.528886556625, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.1, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "framestack": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "sample_async": false, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c016b70>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c016898>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c0039e8>"}, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 685.76, "experiment_id": "e07569c766b64210b97edcdc20a183b1", "info": {"num_steps_trained": 9874952, "sample_time_ms": 25824.436, "load_time_ms": 9.944, "grad_time_ms": 13215.051, "update_time_ms": 10.803, "default": {"policy_loss": -0.013493389822542667, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.31824636459350586, "total_loss": 70.36072540283203, "cur_kl_coeff": 0.33750006556510925, "vf_loss": 70.36829376220703, "kl": 0.017543353140354156, "entropy": 1.825058937072754}, "num_steps_sampled": 9874952}, "done": false, "date": "2019-05-21_07-05-02"}
{"episode_reward_mean": 1105.6177964207877, "timesteps_total": 9921995, "iterations_since_restore": 176, "timesteps_since_restore": 9921995, "num_metric_batches_dropped": 0, "pid": 343, "time_this_iter_s": 37.9100239276886, "custom_metrics": {"system_level_velocity_min": 12.647834895245984, "outflow_rate_min": 442.8785900830537, "cost1_max": 467.8828395344173, "system_level_velocity_max": 18.579421429989882, "cost2_min": -38.606872605222684, "outflow_rate_max": 1411.614732509217, "system_level_velocity_mean": 16.043947365228156, "cost1_mean": 407.43355020178956, "cost2_mean": -27.292550657190187, "outflow_rate_mean": 1189.929055686394, "cost2_max": -12.989423340910701, "cost1_min": 17.6206236574105}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 176, "episode_reward_max": 1308.9369346997464, "hostname": "flow-main", "timesteps_this_iter": 47043, "time_since_restore": 7670.438910484314, "episode_reward_min": 44.693124454390954, "episodes_total": 5232, "episodes_this_iter": 35, "timestamp": 1558422340, "time_total_s": 7670.438910484314, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.1, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "framestack": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "sample_async": false, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c0002b0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c0000f0>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c0002e8>"}, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 683.14, "experiment_id": "e07569c766b64210b97edcdc20a183b1", "info": {"num_steps_trained": 9921995, "sample_time_ms": 25946.524, "load_time_ms": 9.731, "grad_time_ms": 13149.496, "update_time_ms": 10.988, "default": {"policy_loss": -0.013333096168935299, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.30004626512527466, "total_loss": 77.91925048828125, "cur_kl_coeff": 0.33750009536743164, "vf_loss": 77.92688751220703, "kl": 0.01687445677816868, "entropy": 1.8540632724761963}, "num_steps_sampled": 9921995}, "done": false, "date": "2019-05-21_07-05-40"}
{"episode_reward_mean": 1125.4320540143863, "timesteps_total": 9968586, "iterations_since_restore": 177, "timesteps_since_restore": 9968586, "num_metric_batches_dropped": 0, "pid": 343, "time_this_iter_s": 36.21542143821716, "custom_metrics": {"system_level_velocity_min": 13.511955061473897, "outflow_rate_min": 442.8785900830537, "cost1_max": 467.8828395344173, "system_level_velocity_max": 17.96518047144481, "cost2_min": -37.540226603103115, "outflow_rate_max": 1411.614732509217, "system_level_velocity_mean": 16.09411842126747, "cost1_mean": 413.27785919928016, "cost2_mean": -27.30494419922802, "outflow_rate_mean": 1208.7370433705316, "cost2_max": -12.989423340910701, "cost1_min": 17.6206236574105}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 177, "episode_reward_max": 1308.9369346997464, "hostname": "flow-main", "timesteps_this_iter": 46591, "time_since_restore": 7706.654331922531, "episode_reward_min": 44.693124454390954, "episodes_total": 5264, "episodes_this_iter": 32, "timestamp": 1558422376, "time_total_s": 7706.654331922531, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.1, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "framestack": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "sample_async": false, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c00a940>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c016358>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c00ab00>"}, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 689.79, "experiment_id": "e07569c766b64210b97edcdc20a183b1", "info": {"num_steps_trained": 9968586, "sample_time_ms": 25914.786, "load_time_ms": 9.546, "grad_time_ms": 12968.371, "update_time_ms": 10.769, "default": {"policy_loss": -0.012847273610532284, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.2881026566028595, "total_loss": 66.9936294555664, "cur_kl_coeff": 0.33750006556510925, "vf_loss": 67.00041961669922, "kl": 0.017932403832674026, "entropy": 1.8745083808898926}, "num_steps_sampled": 9968586}, "done": false, "date": "2019-05-21_07-06-16"}
{"episode_reward_mean": 1119.0702308885113, "timesteps_total": 10015208, "iterations_since_restore": 178, "timesteps_since_restore": 10015208, "num_metric_batches_dropped": 0, "pid": 343, "time_this_iter_s": 36.301982164382935, "custom_metrics": {"system_level_velocity_min": 13.675334071194175, "outflow_rate_min": 942.0832340116278, "cost1_max": 466.6322221688629, "system_level_velocity_max": 17.93611658063814, "cost2_min": -37.5212805402957, "outflow_rate_max": 1411.614732509217, "system_level_velocity_mean": 16.01377871874079, "cost1_mean": 414.118267673502, "cost2_mean": -27.031388084963915, "outflow_rate_mean": 1199.1644263869064, "cost2_max": -18.475579110313262, "cost1_min": 261.1856751621429}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 178, "episode_reward_max": 1308.9369346997464, "hostname": "flow-main", "timesteps_this_iter": 46622, "time_since_restore": 7742.956314086914, "episode_reward_min": 715.0832253386384, "episodes_total": 5296, "episodes_this_iter": 32, "timestamp": 1558422413, "time_total_s": 7742.956314086914, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.1, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "framestack": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "sample_async": false, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c018358>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c018dd8>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c018e80>"}, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 694.8, "experiment_id": "e07569c766b64210b97edcdc20a183b1", "info": {"num_steps_trained": 10015208, "sample_time_ms": 25943.555, "load_time_ms": 9.589, "grad_time_ms": 12782.564, "update_time_ms": 10.473, "default": {"policy_loss": -0.01460215263068676, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.35221225023269653, "total_loss": 63.53572082519531, "cur_kl_coeff": 0.33750006556510925, "vf_loss": 63.5445671081543, "kl": 0.017064427956938744, "entropy": 1.8864984512329102}, "num_steps_sampled": 10015208}, "done": false, "date": "2019-05-21_07-06-53"}
{"episode_reward_mean": 1113.6573563375882, "timesteps_total": 10063409, "iterations_since_restore": 179, "timesteps_since_restore": 10063409, "num_metric_batches_dropped": 0, "pid": 343, "time_this_iter_s": 38.755725622177124, "custom_metrics": {"system_level_velocity_min": 13.634573690080208, "outflow_rate_min": 942.0832340116278, "cost1_max": 470.8123284664165, "system_level_velocity_max": 18.09734625887598, "cost2_min": -35.72840564320112, "outflow_rate_max": 1423.8718550940584, "system_level_velocity_mean": 15.91323648149559, "cost1_mean": 413.01526552283264, "cost2_mean": -27.58629707034728, "outflow_rate_mean": 1192.3633356896012, "cost2_max": -18.475579110313262, "cost1_min": 276.0943962099103}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 179, "episode_reward_max": 1297.788805233226, "hostname": "flow-main", "timesteps_this_iter": 48201, "time_since_restore": 7781.712039709091, "episode_reward_min": 735.80293794608, "episodes_total": 5327, "episodes_this_iter": 31, "timestamp": 1558422452, "time_total_s": 7781.712039709091, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.1, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "framestack": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "sample_async": false, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81e4e67b8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81e4e67f0>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81e4e69b0>"}, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 697.85, "experiment_id": "e07569c766b64210b97edcdc20a183b1", "info": {"num_steps_trained": 10063409, "sample_time_ms": 26018.895, "load_time_ms": 9.792, "grad_time_ms": 12837.442, "update_time_ms": 10.303, "default": {"policy_loss": -0.013109453022480011, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.3383175730705261, "total_loss": 62.587928771972656, "cur_kl_coeff": 0.33750006556510925, "vf_loss": 62.595401763916016, "kl": 0.016720125451683998, "entropy": 1.8750606775283813}, "num_steps_sampled": 10063409}, "done": false, "date": "2019-05-21_07-07-32"}
{"episode_reward_mean": 1109.4450778835567, "timesteps_total": 10111282, "iterations_since_restore": 180, "timesteps_since_restore": 10111282, "num_metric_batches_dropped": 0, "pid": 343, "time_this_iter_s": 35.231122970581055, "custom_metrics": {"system_level_velocity_min": 12.433607996876578, "outflow_rate_min": 927.3845040703352, "cost1_max": 470.8123284664165, "system_level_velocity_max": 18.09734625887598, "cost2_min": -36.45482423906423, "outflow_rate_max": 1423.8718550940584, "system_level_velocity_mean": 15.952409489761273, "cost1_mean": 413.8374318057542, "cost2_mean": -28.013677748199076, "outflow_rate_mean": 1187.5954006219902, "cost2_max": -18.475579110313262, "cost1_min": 276.0943962099103}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 180, "episode_reward_max": 1297.788805233226, "hostname": "flow-main", "timesteps_this_iter": 47873, "time_since_restore": 7816.943162679672, "episode_reward_min": 735.80293794608, "episodes_total": 5357, "episodes_this_iter": 30, "timestamp": 1558422487, "time_total_s": 7816.943162679672, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.1, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "framestack": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "sample_async": false, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c00a940>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c00a320>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c00aba8>"}, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 697.85, "experiment_id": "e07569c766b64210b97edcdc20a183b1", "info": {"num_steps_trained": 10111282, "sample_time_ms": 25769.644, "load_time_ms": 9.894, "grad_time_ms": 12885.206, "update_time_ms": 10.01, "default": {"policy_loss": -0.014185383915901184, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.35575059056282043, "total_loss": 61.1312141418457, "cur_kl_coeff": 0.33750006556510925, "vf_loss": 61.13996887207031, "kl": 0.01609783060848713, "entropy": 1.8761080503463745}, "num_steps_sampled": 10111282}, "done": false, "date": "2019-05-21_07-08-07"}
{"episode_reward_mean": 1109.2116834352255, "timesteps_total": 10159479, "iterations_since_restore": 181, "timesteps_since_restore": 10159479, "num_metric_batches_dropped": 0, "pid": 343, "time_this_iter_s": 37.90601468086243, "custom_metrics": {"system_level_velocity_min": 12.433607996876578, "outflow_rate_min": 927.3845040703352, "cost1_max": 470.8123284664165, "system_level_velocity_max": 18.09734625887598, "cost2_min": -36.8587782097039, "outflow_rate_max": 1423.8718550940584, "system_level_velocity_mean": 16.011148347465348, "cost1_mean": 414.78743327411945, "cost2_mean": -28.63840406587992, "outflow_rate_mean": 1189.690086710517, "cost2_max": -17.57670843072317, "cost1_min": 228.2869363219399}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 181, "episode_reward_max": 1297.788805233226, "hostname": "flow-main", "timesteps_this_iter": 48197, "time_since_restore": 7854.849177360535, "episode_reward_min": 633.4197318910005, "episodes_total": 5390, "episodes_this_iter": 33, "timestamp": 1558422525, "time_total_s": 7854.849177360535, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.1, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "framestack": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "sample_async": false, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c0188d0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c018e48>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c0186a0>"}, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 696.97, "experiment_id": "e07569c766b64210b97edcdc20a183b1", "info": {"num_steps_trained": 10159479, "sample_time_ms": 25423.194, "load_time_ms": 8.147, "grad_time_ms": 12314.695, "update_time_ms": 10.118, "default": {"policy_loss": -0.014443670399487019, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.3596600592136383, "total_loss": 62.553504943847656, "cur_kl_coeff": 0.33750006556510925, "vf_loss": 62.56203842163086, "kl": 0.017512677237391472, "entropy": 1.9043115377426147}, "num_steps_sampled": 10159479}, "done": false, "date": "2019-05-21_07-08-45"}
{"episode_reward_mean": 1109.8341762551147, "timesteps_total": 10207401, "iterations_since_restore": 182, "timesteps_since_restore": 10207401, "num_metric_batches_dropped": 0, "pid": 343, "time_this_iter_s": 37.137284994125366, "custom_metrics": {"system_level_velocity_min": 12.433607996876578, "outflow_rate_min": 927.3845040703352, "cost1_max": 466.5194264082906, "system_level_velocity_max": 18.01419566604619, "cost2_min": -36.8587782097039, "outflow_rate_max": 1387.549274601803, "system_level_velocity_mean": 15.929380907320535, "cost1_mean": 413.17482922792, "cost2_mean": -28.931106776813525, "outflow_rate_mean": 1191.0578640208598, "cost2_max": -17.57670843072317, "cost1_min": 228.2869363219399}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 182, "episode_reward_max": 1291.058234718936, "hostname": "flow-main", "timesteps_this_iter": 47922, "time_since_restore": 7891.98646235466, "episode_reward_min": 633.4197318910005, "episodes_total": 5421, "episodes_this_iter": 31, "timestamp": 1558422562, "time_total_s": 7891.98646235466, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.1, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "framestack": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "sample_async": false, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81e4e6630>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81e4e67b8>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81e4e6dd8>"}, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 696.97, "experiment_id": "e07569c766b64210b97edcdc20a183b1", "info": {"num_steps_trained": 10207401, "sample_time_ms": 24314.505, "load_time_ms": 8.28, "grad_time_ms": 12360.66, "update_time_ms": 8.652, "default": {"policy_loss": -0.011729713529348373, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.3249593675136566, "total_loss": 62.682334899902344, "cur_kl_coeff": 0.33750006556510925, "vf_loss": 62.68849182128906, "kl": 0.01650862768292427, "entropy": 1.8989734649658203}, "num_steps_sampled": 10207401}, "done": false, "date": "2019-05-21_07-09-22"}
{"episode_reward_mean": 1104.9756385601672, "timesteps_total": 10254683, "iterations_since_restore": 183, "timesteps_since_restore": 10254683, "num_metric_batches_dropped": 0, "pid": 343, "time_this_iter_s": 37.23151230812073, "custom_metrics": {"system_level_velocity_min": 13.817895942673738, "outflow_rate_min": 965.8613333333335, "cost1_max": 466.5194264082906, "system_level_velocity_max": 18.01419566604619, "cost2_min": -38.5412889190531, "outflow_rate_max": 1385.0131436420725, "system_level_velocity_mean": 15.950513054872504, "cost1_mean": 412.60774108084877, "cost2_mean": -28.644559611689417, "outflow_rate_mean": 1186.1420764063796, "cost2_max": -17.57670843072317, "cost1_min": 228.2869363219399}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 183, "episode_reward_max": 1268.1382225127593, "hostname": "flow-main", "timesteps_this_iter": 47282, "time_since_restore": 7929.217974662781, "episode_reward_min": 633.4197318910005, "episodes_total": 5455, "episodes_this_iter": 34, "timestamp": 1558422599, "time_total_s": 7929.217974662781, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.1, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "framestack": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "sample_async": false, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c016748>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c016e48>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c016d68>"}, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 695.32, "experiment_id": "e07569c766b64210b97edcdc20a183b1", "info": {"num_steps_trained": 10254683, "sample_time_ms": 24621.822, "load_time_ms": 8.2, "grad_time_ms": 12280.378, "update_time_ms": 8.422, "default": {"policy_loss": -0.01230708695948124, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.32474663853645325, "total_loss": 61.51415252685547, "cur_kl_coeff": 0.33750006556510925, "vf_loss": 61.5210075378418, "kl": 0.016161581501364708, "entropy": 1.8937801122665405}, "num_steps_sampled": 10254683}, "done": false, "date": "2019-05-21_07-09-59"}
{"episode_reward_mean": 1080.7827022418483, "timesteps_total": 10302781, "iterations_since_restore": 184, "timesteps_since_restore": 10302781, "num_metric_batches_dropped": 0, "pid": 343, "time_this_iter_s": 35.94019913673401, "custom_metrics": {"system_level_velocity_min": 12.682565506172702, "outflow_rate_min": 450.30776755767187, "cost1_max": 466.5194264082906, "system_level_velocity_max": 18.646758154925344, "cost2_min": -38.5412889190531, "outflow_rate_max": 1385.0131436420725, "system_level_velocity_mean": 16.01877377739269, "cost1_mean": 406.0750630800693, "cost2_mean": -27.934303644377295, "outflow_rate_mean": 1170.6620944430254, "cost2_max": -14.955013368058532, "cost1_min": 18.2062492935388}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 184, "episode_reward_max": 1268.8057107304835, "hostname": "flow-main", "timesteps_this_iter": 48098, "time_since_restore": 7965.158173799515, "episode_reward_min": 45.214113478045775, "episodes_total": 5488, "episodes_this_iter": 33, "timestamp": 1558422635, "time_total_s": 7965.158173799515, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.1, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "framestack": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "sample_async": false, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfffbe0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfff898>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfffb38>"}, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 683.76, "experiment_id": "e07569c766b64210b97edcdc20a183b1", "info": {"num_steps_trained": 10302781, "sample_time_ms": 24768.995, "load_time_ms": 8.365, "grad_time_ms": 12023.853, "update_time_ms": 8.491, "default": {"policy_loss": -0.015829628333449364, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.4302906394004822, "total_loss": 58.1402587890625, "cur_kl_coeff": 0.33750009536743164, "vf_loss": 58.150447845458984, "kl": 0.016701793298125267, "entropy": 1.9245458841323853}, "num_steps_sampled": 10302781}, "done": false, "date": "2019-05-21_07-10-35"}
{"episode_reward_mean": 1066.6336562545248, "timesteps_total": 10350805, "iterations_since_restore": 185, "timesteps_since_restore": 10350805, "num_metric_batches_dropped": 0, "pid": 343, "time_this_iter_s": 35.2744824886322, "custom_metrics": {"system_level_velocity_min": 12.395635952310082, "outflow_rate_min": 450.30776755767187, "cost1_max": 462.834983369012, "system_level_velocity_max": 18.646758154925344, "cost2_min": -38.5412889190531, "outflow_rate_max": 1349.1022070756248, "system_level_velocity_mean": 16.051581135803943, "cost1_mean": 403.7465005909642, "cost2_mean": -27.529183587078546, "outflow_rate_mean": 1149.8191773975373, "cost2_max": -12.679460251575053, "cost1_min": 18.2062492935388}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 185, "episode_reward_max": 1268.8057107304835, "hostname": "flow-main", "timesteps_this_iter": 48024, "time_since_restore": 8000.432656288147, "episode_reward_min": 45.214113478045775, "episodes_total": 5519, "episodes_this_iter": 31, "timestamp": 1558422671, "time_total_s": 8000.432656288147, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.1, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "framestack": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "sample_async": false, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c0186d8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bff0ba8>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c018748>"}, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 680.14, "experiment_id": "e07569c766b64210b97edcdc20a183b1", "info": {"num_steps_trained": 10350805, "sample_time_ms": 24561.87, "load_time_ms": 8.058, "grad_time_ms": 12115.653, "update_time_ms": 8.411, "default": {"policy_loss": -0.014573286287486553, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.3894825875759125, "total_loss": 60.79010772705078, "cur_kl_coeff": 0.33750009536743164, "vf_loss": 60.79905319213867, "kl": 0.01668200083076954, "entropy": 1.9437613487243652}, "num_steps_sampled": 10350805}, "done": false, "date": "2019-05-21_07-11-11"}
{"episode_reward_mean": 1070.0892365010463, "timesteps_total": 10397323, "iterations_since_restore": 186, "timesteps_since_restore": 10397323, "num_metric_batches_dropped": 0, "pid": 343, "time_this_iter_s": 36.150370836257935, "custom_metrics": {"system_level_velocity_min": 12.395635952310082, "outflow_rate_min": 450.30776755767187, "cost1_max": 462.834983369012, "system_level_velocity_max": 18.646758154925344, "cost2_min": -36.021883361604544, "outflow_rate_max": 1349.1022070756248, "system_level_velocity_mean": 16.028419997384624, "cost1_mean": 404.52206180870957, "cost2_mean": -27.637805210128057, "outflow_rate_mean": 1151.5307643127896, "cost2_max": -12.679460251575053, "cost1_min": 18.2062492935388}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 186, "episode_reward_max": 1268.8057107304835, "hostname": "flow-main", "timesteps_this_iter": 46518, "time_since_restore": 8036.583027124405, "episode_reward_min": 45.214113478045775, "episodes_total": 5553, "episodes_this_iter": 34, "timestamp": 1558422707, "time_total_s": 8036.583027124405, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.1, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "framestack": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "sample_async": false, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c018f28>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c018908>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c018ef0>"}, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 681.79, "experiment_id": "e07569c766b64210b97edcdc20a183b1", "info": {"num_steps_trained": 10397323, "sample_time_ms": 24228.979, "load_time_ms": 8.131, "grad_time_ms": 12270.923, "update_time_ms": 8.524, "default": {"policy_loss": -0.012618979439139366, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.35171768069267273, "total_loss": 63.807064056396484, "cur_kl_coeff": 0.33750006556510925, "vf_loss": 63.81403350830078, "kl": 0.01674569398164749, "entropy": 1.9306690692901611}, "num_steps_sampled": 10397323}, "done": false, "date": "2019-05-21_07-11-47"}
{"episode_reward_mean": 1106.0854016677224, "timesteps_total": 10445263, "iterations_since_restore": 187, "timesteps_since_restore": 10445263, "num_metric_batches_dropped": 0, "pid": 343, "time_this_iter_s": 37.16751003265381, "custom_metrics": {"system_level_velocity_min": 12.395635952310082, "outflow_rate_min": 500.8146235931583, "cost1_max": 467.8183168459269, "system_level_velocity_max": 18.63064913442597, "cost2_min": -36.38868861612279, "outflow_rate_max": 1413.359814018089, "system_level_velocity_mean": 16.127341567468143, "cost1_mean": 415.17479072653094, "cost2_mean": -28.11035328448621, "outflow_rate_mean": 1181.8842943149014, "cost2_max": -12.679460251575053, "cost1_min": 23.097567825387653}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 187, "episode_reward_max": 1283.6678123643446, "hostname": "flow-main", "timesteps_this_iter": 47940, "time_since_restore": 8073.750537157059, "episode_reward_min": 55.011825775010706, "episodes_total": 5587, "episodes_this_iter": 34, "timestamp": 1558422744, "time_total_s": 8073.750537157059, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.1, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "framestack": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "sample_async": false, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bff0ba8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81bfffbe0>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81e4e6e48>"}, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 693.35, "experiment_id": "e07569c766b64210b97edcdc20a183b1", "info": {"num_steps_trained": 10445263, "sample_time_ms": 24255.587, "load_time_ms": 8.193, "grad_time_ms": 12340.685, "update_time_ms": 8.918, "default": {"policy_loss": -0.013065705075860023, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.36939916014671326, "total_loss": 62.15808868408203, "cur_kl_coeff": 0.33750006556510925, "vf_loss": 62.16549301147461, "kl": 0.01677398383617401, "entropy": 1.896586537361145}, "num_steps_sampled": 10445263}, "done": false, "date": "2019-05-21_07-12-24"}
{"episode_reward_mean": 1110.65333156094, "timesteps_total": 10491618, "iterations_since_restore": 188, "timesteps_since_restore": 10491618, "num_metric_batches_dropped": 0, "pid": 343, "time_this_iter_s": 37.08732724189758, "custom_metrics": {"system_level_velocity_min": 13.749012990901178, "outflow_rate_min": 1018.9061327746878, "cost1_max": 467.8183168459269, "system_level_velocity_max": 18.005542302684105, "cost2_min": -37.88116888695382, "outflow_rate_max": 1421.011927179381, "system_level_velocity_mean": 16.044791144876758, "cost1_mean": 415.9035268410187, "cost2_mean": -28.830445956932685, "outflow_rate_mean": 1191.7934642291416, "cost2_max": -16.191472771178375, "cost1_min": 260.63709945057735}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 188, "episode_reward_max": 1317.1844144956788, "hostname": "flow-main", "timesteps_this_iter": 46355, "time_since_restore": 8110.837864398956, "episode_reward_min": 689.4756915596522, "episodes_total": 5617, "episodes_this_iter": 30, "timestamp": 1558422781, "time_total_s": 8110.837864398956, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.1, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "framestack": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "sample_async": false, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c00a320>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c00a898>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c00a4e0>"}, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 697.77, "experiment_id": "e07569c766b64210b97edcdc20a183b1", "info": {"num_steps_trained": 10491618, "sample_time_ms": 24389.19, "load_time_ms": 8.448, "grad_time_ms": 12288.825, "update_time_ms": 8.951, "default": {"policy_loss": -0.014050356112420559, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.3555442988872528, "total_loss": 64.52471160888672, "cur_kl_coeff": 0.33750003576278687, "vf_loss": 64.53296661376953, "kl": 0.017163515090942383, "entropy": 1.9146947860717773}, "num_steps_sampled": 10491618}, "done": false, "date": "2019-05-21_07-13-01"}
{"episode_reward_mean": 1116.582363467293, "timesteps_total": 10538044, "iterations_since_restore": 189, "timesteps_since_restore": 10538044, "num_metric_batches_dropped": 0, "pid": 343, "time_this_iter_s": 35.98143196105957, "custom_metrics": {"system_level_velocity_min": 13.749012990901178, "outflow_rate_min": 1018.9061327746878, "cost1_max": 473.06392288612506, "system_level_velocity_max": 18.437748027425982, "cost2_min": -37.88116888695382, "outflow_rate_max": 1475.445554474586, "system_level_velocity_mean": 16.138559134392477, "cost1_mean": 417.5305264052885, "cost2_mean": -29.555517224434034, "outflow_rate_mean": 1204.2221856322794, "cost2_max": -16.191472771178375, "cost1_min": 260.63709945057735}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 189, "episode_reward_max": 1321.6249082172367, "hostname": "flow-main", "timesteps_this_iter": 46426, "time_since_restore": 8146.819296360016, "episode_reward_min": 689.4756915596522, "episodes_total": 5648, "episodes_this_iter": 31, "timestamp": 1558422817, "time_total_s": 8146.819296360016, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.1, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "framestack": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "sample_async": false, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c018358>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c018860>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c0182b0>"}, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 697.77, "experiment_id": "e07569c766b64210b97edcdc20a183b1", "info": {"num_steps_trained": 10538044, "sample_time_ms": 24404.202, "load_time_ms": 8.194, "grad_time_ms": 11994.85, "update_time_ms": 8.833, "default": {"policy_loss": -0.014057639054954052, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.36252033710479736, "total_loss": 61.4984245300293, "cur_kl_coeff": 0.33750003576278687, "vf_loss": 61.5064582824707, "kl": 0.0178521778434515, "entropy": 1.8954492807388306}, "num_steps_sampled": 10538044}, "done": false, "date": "2019-05-21_07-13-37"}
{"episode_reward_mean": 1105.9480361925139, "timesteps_total": 10586045, "iterations_since_restore": 190, "timesteps_since_restore": 10586045, "num_metric_batches_dropped": 0, "pid": 343, "time_this_iter_s": 36.72475290298462, "custom_metrics": {"system_level_velocity_min": 13.749012990901178, "outflow_rate_min": 1013.5615312377726, "cost1_max": 473.06392288612506, "system_level_velocity_max": 18.437748027425982, "cost2_min": -42.42800289194045, "outflow_rate_max": 1475.445554474586, "system_level_velocity_mean": 16.119482537456392, "cost1_mean": 413.4105443039649, "cost2_mean": -30.479686080886367, "outflow_rate_mean": 1204.5897130391202, "cost2_max": -16.191472771178375, "cost1_min": 229.37667088690915}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 190, "episode_reward_max": 1321.6249082172367, "hostname": "flow-main", "timesteps_this_iter": 48001, "time_since_restore": 8183.5440492630005, "episode_reward_min": 599.7638644412049, "episodes_total": 5679, "episodes_this_iter": 31, "timestamp": 1558422854, "time_total_s": 8183.5440492630005, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.1, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "framestack": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "sample_async": false, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c018e48>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81e4e67f0>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c018da0>"}, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 692.51, "experiment_id": "e07569c766b64210b97edcdc20a183b1", "info": {"num_steps_trained": 10586045, "sample_time_ms": 24417.209, "load_time_ms": 8.225, "grad_time_ms": 12128.759, "update_time_ms": 8.862, "default": {"policy_loss": -0.01358773186802864, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.36601588129997253, "total_loss": 60.71137619018555, "cur_kl_coeff": 0.33750009536743164, "vf_loss": 60.719261169433594, "kl": 0.016888150945305824, "entropy": 1.9005823135375977}, "num_steps_sampled": 10586045}, "done": false, "date": "2019-05-21_07-14-14"}
{"episode_reward_mean": 1099.6724405719865, "timesteps_total": 10633185, "iterations_since_restore": 191, "timesteps_since_restore": 10633185, "num_metric_batches_dropped": 0, "pid": 343, "time_this_iter_s": 34.319316387176514, "custom_metrics": {"system_level_velocity_min": 12.072547511005592, "outflow_rate_min": 932.5133463154035, "cost1_max": 473.06392288612506, "system_level_velocity_max": 18.437748027425982, "cost2_min": -42.42800289194045, "outflow_rate_max": 1475.445554474586, "system_level_velocity_mean": 16.04250268749598, "cost1_mean": 411.25949076146867, "cost2_mean": -31.23514193550167, "outflow_rate_mean": 1200.8059395632924, "cost2_max": -16.58002835155575, "cost1_min": 218.95134483135652}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 191, "episode_reward_max": 1321.6249082172367, "hostname": "flow-main", "timesteps_this_iter": 47140, "time_since_restore": 8217.863365650177, "episode_reward_min": 599.7638644412049, "episodes_total": 5710, "episodes_this_iter": 31, "timestamp": 1558422888, "time_total_s": 8217.863365650177, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.1, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "framestack": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "sample_async": false, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c000f60>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c000ba8>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c0005c0>"}, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 692.62, "experiment_id": "e07569c766b64210b97edcdc20a183b1", "info": {"num_steps_trained": 10633185, "sample_time_ms": 24182.973, "load_time_ms": 8.306, "grad_time_ms": 12003.613, "update_time_ms": 8.87, "default": {"policy_loss": -0.014055726118385792, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.38883906602859497, "total_loss": 55.316158294677734, "cur_kl_coeff": 0.33750006556510925, "vf_loss": 55.324310302734375, "kl": 0.01748836599290371, "entropy": 1.9158024787902832}, "num_steps_sampled": 10633185}, "done": false, "date": "2019-05-21_07-14-48"}
{"episode_reward_mean": 1086.3373939616806, "timesteps_total": 10679807, "iterations_since_restore": 192, "timesteps_since_restore": 10679807, "num_metric_batches_dropped": 0, "pid": 343, "time_this_iter_s": 36.94419050216675, "custom_metrics": {"system_level_velocity_min": 12.072547511005592, "outflow_rate_min": 932.5133463154035, "cost1_max": 468.5218595052128, "system_level_velocity_max": 18.25812388494555, "cost2_min": -42.42800289194045, "outflow_rate_max": 1420.82083165092, "system_level_velocity_mean": 16.133758790536394, "cost1_mean": 412.72140670374307, "cost2_mean": -31.326268194060148, "outflow_rate_mean": 1185.3822313864748, "cost2_max": -16.58002835155575, "cost1_min": 218.95134483135652}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 192, "episode_reward_max": 1283.7897116502143, "hostname": "flow-main", "timesteps_this_iter": 46622, "time_since_restore": 8254.807556152344, "episode_reward_min": 599.7638644412049, "episodes_total": 5745, "episodes_this_iter": 35, "timestamp": 1558422925, "time_total_s": 8254.807556152344, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.1, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "framestack": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "sample_async": false, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c018dd8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c018908>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c018710>"}, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 692.19, "experiment_id": "e07569c766b64210b97edcdc20a183b1", "info": {"num_steps_trained": 10679807, "sample_time_ms": 24329.652, "load_time_ms": 8.055, "grad_time_ms": 11837.91, "update_time_ms": 8.775, "default": {"policy_loss": -0.013980231247842312, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.34297919273376465, "total_loss": 64.02125549316406, "cur_kl_coeff": 0.33750006556510925, "vf_loss": 64.02923583984375, "kl": 0.017805078998208046, "entropy": 1.9333361387252808}, "num_steps_sampled": 10679807}, "done": false, "date": "2019-05-21_07-15-25"}
{"episode_reward_mean": 1076.9153794074848, "timesteps_total": 10726845, "iterations_since_restore": 193, "timesteps_since_restore": 10726845, "num_metric_batches_dropped": 0, "pid": 343, "time_this_iter_s": 37.01244306564331, "custom_metrics": {"system_level_velocity_min": 12.072547511005592, "outflow_rate_min": 932.5133463154035, "cost1_max": 467.5112220810287, "system_level_velocity_max": 18.25812388494555, "cost2_min": -38.765484481645444, "outflow_rate_max": 1420.82083165092, "system_level_velocity_mean": 15.997280932998398, "cost1_mean": 412.3631501525014, "cost2_mean": -30.965121740565397, "outflow_rate_mean": 1165.1863186259263, "cost2_max": -16.58002835155575, "cost1_min": 218.95134483135652}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 193, "episode_reward_max": 1270.1682665959966, "hostname": "flow-main", "timesteps_this_iter": 47038, "time_since_restore": 8291.819999217987, "episode_reward_min": 621.6380702197046, "episodes_total": 5777, "episodes_this_iter": 32, "timestamp": 1558422962, "time_total_s": 8291.819999217987, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.1, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "framestack": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "sample_async": false, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c00ae80>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c0002b0>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c00a128>"}, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 697.45, "experiment_id": "e07569c766b64210b97edcdc20a183b1", "info": {"num_steps_trained": 10726845, "sample_time_ms": 24398.303, "load_time_ms": 8.111, "grad_time_ms": 11747.479, "update_time_ms": 8.752, "default": {"policy_loss": -0.015955621376633644, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.4038664698600769, "total_loss": 56.83841323852539, "cur_kl_coeff": 0.33750009536743164, "vf_loss": 56.848304748535156, "kl": 0.017971616238355637, "entropy": 1.952739953994751}, "num_steps_sampled": 10726845}, "done": false, "date": "2019-05-21_07-16-02"}
{"episode_reward_mean": 1062.52336492066, "timesteps_total": 10773295, "iterations_since_restore": 194, "timesteps_since_restore": 10773295, "num_metric_batches_dropped": 0, "pid": 343, "time_this_iter_s": 35.53021574020386, "custom_metrics": {"system_level_velocity_min": 11.271339855312482, "outflow_rate_min": 479.13687232378504, "cost1_max": 462.11319390471004, "system_level_velocity_max": 18.502076129899557, "cost2_min": -38.743426933754456, "outflow_rate_max": 1355.6756955810151, "system_level_velocity_mean": 16.138550475267223, "cost1_mean": 411.54890195266125, "cost2_mean": -29.905717955959307, "outflow_rate_mean": 1150.0808370655354, "cost2_max": -14.914174484632147, "cost1_min": 24.16630470215709}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 194, "episode_reward_max": 1216.9347388689525, "hostname": "flow-main", "timesteps_this_iter": 46450, "time_since_restore": 8327.350214958191, "episode_reward_min": 59.17781745324781, "episodes_total": 5809, "episodes_this_iter": 32, "timestamp": 1558422998, "time_total_s": 8327.350214958191, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.1, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "framestack": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "sample_async": false, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c000be0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c000a20>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c000f60>"}, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 691.61, "experiment_id": "e07569c766b64210b97edcdc20a183b1", "info": {"num_steps_trained": 10773295, "sample_time_ms": 24208.357, "load_time_ms": 8.144, "grad_time_ms": 11896.397, "update_time_ms": 8.602, "default": {"policy_loss": -0.013690249063074589, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.3751479983329773, "total_loss": 64.3514633178711, "cur_kl_coeff": 0.33750003576278687, "vf_loss": 64.35935974121094, "kl": 0.01714305207133293, "entropy": 1.9575579166412354}, "num_steps_sampled": 10773295}, "done": false, "date": "2019-05-21_07-16-38"}
{"episode_reward_mean": 1038.3673242049426, "timesteps_total": 10819879, "iterations_since_restore": 195, "timesteps_since_restore": 10819879, "num_metric_batches_dropped": 0, "pid": 343, "time_this_iter_s": 35.03314232826233, "custom_metrics": {"system_level_velocity_min": 11.271339855312482, "outflow_rate_min": 479.13687232378504, "cost1_max": 461.88711780428696, "system_level_velocity_max": 18.616313075016574, "cost2_min": -36.99792554982511, "outflow_rate_max": 1355.6756955810151, "system_level_velocity_mean": 16.087920180091473, "cost1_mean": 402.7786737644889, "cost2_mean": -28.434485038358325, "outflow_rate_mean": 1140.1856548665583, "cost2_max": -14.914174484632147, "cost1_min": 24.16630470215709}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 195, "episode_reward_max": 1216.9347388689525, "hostname": "flow-main", "timesteps_this_iter": 46584, "time_since_restore": 8362.383357286453, "episode_reward_min": 59.17781745324781, "episodes_total": 5845, "episodes_this_iter": 36, "timestamp": 1558423033, "time_total_s": 8362.383357286453, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.1, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "framestack": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "sample_async": false, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c018cc0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c018da0>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c0188d0>"}, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 679.29, "experiment_id": "e07569c766b64210b97edcdc20a183b1", "info": {"num_steps_trained": 10819879, "sample_time_ms": 24288.396, "load_time_ms": 8.185, "grad_time_ms": 11794.527, "update_time_ms": 8.887, "default": {"policy_loss": -0.014279577881097794, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.4103144705295563, "total_loss": 64.98072052001953, "cur_kl_coeff": 0.33750006556510925, "vf_loss": 64.98959350585938, "kl": 0.016001004725694656, "entropy": 1.9692481756210327}, "num_steps_sampled": 10819879}, "done": false, "date": "2019-05-21_07-17-13"}
{"episode_reward_mean": 1024.489172661086, "timesteps_total": 10866531, "iterations_since_restore": 196, "timesteps_since_restore": 10866531, "num_metric_batches_dropped": 0, "pid": 343, "time_this_iter_s": 37.220046043395996, "custom_metrics": {"system_level_velocity_min": 11.271339855312482, "outflow_rate_min": 477.24354782665716, "cost1_max": 467.80475845993953, "system_level_velocity_max": 18.616313075016574, "cost2_min": -37.08866434303809, "outflow_rate_max": 1388.3957416398332, "system_level_velocity_mean": 16.02496996562783, "cost1_mean": 397.1817588746376, "cost2_mean": -27.57494839334887, "outflow_rate_mean": 1128.0108399974017, "cost2_max": -9.65624241424015, "cost1_min": 17.771141741362555}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 196, "episode_reward_max": 1269.543906035437, "hostname": "flow-main", "timesteps_this_iter": 46652, "time_since_restore": 8399.60340332985, "episode_reward_min": 46.24213186105188, "episodes_total": 5878, "episodes_this_iter": 33, "timestamp": 1558423070, "time_total_s": 8399.60340332985, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.1, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "framestack": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "sample_async": false, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c00add8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c00a0f0>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c00ac50>"}, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 672.56, "experiment_id": "e07569c766b64210b97edcdc20a183b1", "info": {"num_steps_trained": 10866531, "sample_time_ms": 24297.531, "load_time_ms": 8.075, "grad_time_ms": 11891.956, "update_time_ms": 8.769, "default": {"policy_loss": -0.012698676437139511, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.37769192457199097, "total_loss": 63.91806411743164, "cur_kl_coeff": 0.33750006556510925, "vf_loss": 63.92495346069336, "kl": 0.01720600202679634, "entropy": 1.949020504951477}, "num_steps_sampled": 10866531}, "done": false, "date": "2019-05-21_07-17-50"}
{"episode_reward_mean": 1044.0950165501592, "timesteps_total": 10913661, "iterations_since_restore": 197, "timesteps_since_restore": 10913661, "num_metric_batches_dropped": 0, "pid": 343, "time_this_iter_s": 35.23497128486633, "custom_metrics": {"system_level_velocity_min": 12.401139929358953, "outflow_rate_min": 477.24354782665716, "cost1_max": 467.80475845993953, "system_level_velocity_max": 18.616313075016574, "cost2_min": -37.08866434303809, "outflow_rate_max": 1388.3957416398332, "system_level_velocity_mean": 16.133263680084013, "cost1_mean": 405.2308349231799, "cost2_mean": -27.140194904545233, "outflow_rate_mean": 1142.9761797599185, "cost2_max": -9.65624241424015, "cost1_min": 17.771141741362555}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 197, "episode_reward_max": 1269.543906035437, "hostname": "flow-main", "timesteps_this_iter": 47130, "time_since_restore": 8434.838374614716, "episode_reward_min": 46.24213186105188, "episodes_total": 5910, "episodes_this_iter": 32, "timestamp": 1558423106, "time_total_s": 8434.838374614716, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.1, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "framestack": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "sample_async": false, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c000be0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c000160>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c000b38>"}, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 680.52, "experiment_id": "e07569c766b64210b97edcdc20a183b1", "info": {"num_steps_trained": 10913661, "sample_time_ms": 24262.381, "load_time_ms": 8.101, "grad_time_ms": 11732.417, "update_time_ms": 8.684, "default": {"policy_loss": -0.012610974721610546, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.39056122303009033, "total_loss": 60.67807388305664, "cur_kl_coeff": 0.33750006556510925, "vf_loss": 60.685096740722656, "kl": 0.016569973900914192, "entropy": 1.9969733953475952}, "num_steps_sampled": 10913661}, "done": false, "date": "2019-05-21_07-18-26"}
{"episode_reward_mean": 1054.5278941118418, "timesteps_total": 10959694, "iterations_since_restore": 198, "timesteps_since_restore": 10959694, "num_metric_batches_dropped": 0, "pid": 343, "time_this_iter_s": 36.05865812301636, "custom_metrics": {"system_level_velocity_min": 12.401139929358953, "outflow_rate_min": 477.24354782665716, "cost1_max": 467.80475845993953, "system_level_velocity_max": 18.009278171905752, "cost2_min": -37.08866434303809, "outflow_rate_max": 1388.3957416398332, "system_level_velocity_mean": 16.077788823670964, "cost1_mean": 409.6677975986606, "cost2_mean": -27.07238289791413, "outflow_rate_mean": 1141.1667936955141, "cost2_max": -9.65624241424015, "cost1_min": 17.771141741362555}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 198, "episode_reward_max": 1269.543906035437, "hostname": "flow-main", "timesteps_this_iter": 46033, "time_since_restore": 8470.897032737732, "episode_reward_min": 46.24213186105188, "episodes_total": 5941, "episodes_this_iter": 31, "timestamp": 1558423142, "time_total_s": 8470.897032737732, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.1, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "framestack": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "sample_async": false, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c0186a0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c018710>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c016a58>"}, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 690.22, "experiment_id": "e07569c766b64210b97edcdc20a183b1", "info": {"num_steps_trained": 10959694, "sample_time_ms": 24047.298, "load_time_ms": 7.875, "grad_time_ms": 11844.381, "update_time_ms": 8.757, "default": {"policy_loss": -0.01388220302760601, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.35056954622268677, "total_loss": 58.90001678466797, "cur_kl_coeff": 0.33750006556510925, "vf_loss": 58.907833099365234, "kl": 0.017953617498278618, "entropy": 1.9892985820770264}, "num_steps_sampled": 10959694}, "done": false, "date": "2019-05-21_07-19-02"}
{"episode_reward_mean": 1042.1925406111773, "timesteps_total": 11005579, "iterations_since_restore": 199, "timesteps_since_restore": 11005579, "num_metric_batches_dropped": 0, "pid": 343, "time_this_iter_s": 33.4148428440094, "custom_metrics": {"system_level_velocity_min": 13.266309508694402, "outflow_rate_min": 437.2949997643919, "cost1_max": 462.3305358647975, "system_level_velocity_max": 17.90685817869304, "cost2_min": -38.36254127504498, "outflow_rate_max": 1370.898373282519, "system_level_velocity_mean": 16.217564062475418, "cost1_mean": 409.9630392003127, "cost2_mean": -26.700866938402246, "outflow_rate_mean": 1127.745617835076, "cost2_max": -9.65624241424015, "cost1_min": 17.771141741362555}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 199, "episode_reward_max": 1253.5769229760192, "hostname": "flow-main", "timesteps_this_iter": 45885, "time_since_restore": 8504.311875581741, "episode_reward_min": 44.91687303286669, "episodes_total": 5975, "episodes_this_iter": 34, "timestamp": 1558423175, "time_total_s": 8504.311875581741, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.1, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "framestack": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "sample_async": false, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81e502320>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c00a320>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81e502080>"}, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 686.54, "experiment_id": "e07569c766b64210b97edcdc20a183b1", "info": {"num_steps_trained": 11005579, "sample_time_ms": 23870.123, "load_time_ms": 8.058, "grad_time_ms": 11765.252, "update_time_ms": 8.851, "default": {"policy_loss": -0.014063580892980099, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.38129323720932007, "total_loss": 57.43317794799805, "cur_kl_coeff": 0.33750003576278687, "vf_loss": 57.44202423095703, "kl": 0.015463002026081085, "entropy": 2.0022571086883545}, "num_steps_sampled": 11005579}, "done": false, "date": "2019-05-21_07-19-35"}
{"episode_reward_mean": 1038.5470666696979, "timesteps_total": 11051691, "iterations_since_restore": 200, "timesteps_since_restore": 11051691, "num_metric_batches_dropped": 0, "pid": 343, "time_this_iter_s": 35.51943802833557, "custom_metrics": {"system_level_velocity_min": 13.266309508694402, "outflow_rate_min": 437.2949997643919, "cost1_max": 462.3305358647975, "system_level_velocity_max": 17.90685817869304, "cost2_min": -38.36254127504498, "outflow_rate_max": 1393.4327066867077, "system_level_velocity_mean": 16.0745911445956, "cost1_mean": 409.75294794975775, "cost2_mean": -26.6380501191881, "outflow_rate_mean": 1121.077326194913, "cost2_max": -14.481703667704616, "cost1_min": 17.93515326867156}, "policy_reward_mean": {}, "node_ip": "10.138.0.2", "training_iteration": 200, "episode_reward_max": 1261.6675679884402, "hostname": "flow-main", "timesteps_this_iter": 46112, "time_since_restore": 8539.831313610077, "episode_reward_min": 44.91687303286669, "episodes_total": 6008, "episodes_this_iter": 33, "timestamp": 1558423211, "time_total_s": 8539.831313610077, "config": {"monitor": false, "tf_session_args": {"gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2, "allow_soft_placement": true, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "env": "MultiWaveAttenuationMergePOEnv-v0outflow_[eta1, eta2, eta3]:[1.0, 0.1, 0.3]_t_min:5.0_buf_len: 1", "custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "lr_schedule": null, "collect_metrics_timeout": 180, "lr": 0.0005, "model": {"conv_filters": null, "custom_options": {}, "framestack": true, "lstm_cell_size": 256, "fcnet_hiddens": [128, 64, 32], "conv_activation": "relu", "grayscale": false, "lstm_use_prev_action_reward": false, "dim": 84, "free_log_std": false, "max_seq_len": 20, "use_lstm": false, "zero_mean": true, "fcnet_activation": "tanh", "custom_preprocessor": null, "squash_to_range": false, "channel_major": false, "custom_model": null}, "simple_optimizer": false, "num_sgd_iter": 10, "horizon": 1500, "input_evaluation": null, "vf_loss_coeff": 1.0, "vf_share_layers": false, "clip_param": 0.3, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "kl_coeff": 0.2, "sgd_minibatch_size": 128, "preprocessor_pref": "deepmind", "sample_batch_size": 750, "lambda": 0.97, "output_max_file_size": 67108864, "synchronize_filters": true, "num_gpus_per_worker": 0, "sample_async": false, "compress_observations": false, "output": null, "optimizer": {}, "use_gae": true, "entropy_coeff": 0.0, "gamma": 0.99, "train_batch_size": 30000, "num_envs_per_worker": 1, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.3,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c000ef0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c0003c8>", "on_sample_end": null, "on_train_result": null, "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7ff81c000a58>"}, "num_cpus_for_driver": 1, "vf_clip_param": 1000000.0, "num_workers": 20, "straggler_mitigation": false, "num_gpus": 0, "clip_actions": false, "log_level": "INFO", "batch_mode": "truncate_episodes", "input": "sampler", "kl_target": 0.01, "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null}, "episode_len_mean": 691.94, "experiment_id": "e07569c766b64210b97edcdc20a183b1", "info": {"num_steps_trained": 11051691, "sample_time_ms": 23954.403, "load_time_ms": 7.758, "grad_time_ms": 11564.979, "update_time_ms": 8.805, "default": {"policy_loss": -0.01313299871981144, "cur_lr": 0.0005000000237487257, "vf_explained_var": 0.3753569722175598, "total_loss": 58.734718322753906, "cur_kl_coeff": 0.33750003576278687, "vf_loss": 58.74244689941406, "kl": 0.015998687595129013, "entropy": 2.000091314315796}, "num_steps_sampled": 11051691}, "done": true, "date": "2019-05-21_07-20-11"}
