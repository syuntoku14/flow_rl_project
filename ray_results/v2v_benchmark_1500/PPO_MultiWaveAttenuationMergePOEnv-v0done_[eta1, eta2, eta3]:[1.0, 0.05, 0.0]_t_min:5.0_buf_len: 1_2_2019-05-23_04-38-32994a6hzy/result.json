{"episode_reward_max": -1606.968551752149, "episode_reward_mean": -2000.4527333533192, "timestamp": 1558586416, "experiment_id": "30635ebb86f4472d97a68d56e6633275", "episodes_this_iter": 27, "timesteps_this_iter": 64927, "pid": 31797, "done": false, "episodes_total": 27, "info": {"sample_time_ms": 56790.616, "update_time_ms": 1286.496, "num_steps_trained": 64927, "grad_time_ms": 17623.389, "num_steps_sampled": 64927, "load_time_ms": 45.617, "default": {"vf_loss": 34.21193313598633, "cur_lr": 0.0005000000237487257, "entropy": 1.4170124530792236, "vf_explained_var": -2.4252153707493562e-06, "kl": 0.00120744074229151, "cur_kl_coeff": 0.20000001788139343, "policy_loss": -0.00029783466015942395, "total_loss": 34.211875915527344}}, "training_iteration": 1, "hostname": "flow-main", "time_since_restore": 75.94205522537231, "iterations_since_restore": 1, "timesteps_since_restore": 64927, "node_ip": "10.138.0.2", "policy_reward_mean": {}, "timesteps_total": 64927, "num_metric_batches_dropped": 0, "time_total_s": 75.94205522537231, "episode_reward_min": -2970.2138916674007, "time_this_iter_s": 75.94205522537231, "date": "2019-05-23_04-40-16", "custom_metrics": {"cost1_min": 165.648129536061, "outflow_rate_min": 175.54015120165528, "cost1_max": 225.96401994034676, "system_level_velocity_mean": 7.710815495538032, "cost2_min": -43.15732076932956, "cost1_mean": 199.3703783435361, "system_level_velocity_min": 6.528775178427477, "cost2_max": -20.226767584518452, "outflow_rate_mean": 337.2328901504137, "outflow_rate_max": 470.8095522799283, "cost2_mean": -27.883380758437315, "system_level_velocity_max": 8.647464578178548}, "episode_len_mean": 700.0, "config": {"input": "sampler", "output_compress_columns": ["obs", "new_obs"], "num_envs_per_worker": 1, "sample_batch_size": 750, "num_cpus_for_driver": 1, "preprocessor_pref": "deepmind", "horizon": 1500, "compress_observations": false, "vf_loss_coeff": 1.0, "input_evaluation": null, "gamma": 0.99, "optimizer": {}, "kl_target": 0.01, "entropy_coeff": 0.0, "num_gpus": 0, "sgd_minibatch_size": 128, "lr_schedule": null, "custom_resources_per_worker": {}, "kl_coeff": 0.2, "lambda": 0.97, "vf_clip_param": 1000000.0, "clip_actions": false, "output": null, "output_max_file_size": 67108864, "monitor": false, "model": {"conv_filters": null, "fcnet_activation": "tanh", "framestack": true, "custom_options": {}, "lstm_use_prev_action_reward": false, "channel_major": false, "max_seq_len": 20, "squash_to_range": false, "grayscale": false, "dim": 84, "custom_model": null, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "use_lstm": false, "lstm_cell_size": 256, "free_log_std": false, "zero_mean": true, "conv_activation": "relu"}, "collect_metrics_timeout": 180, "synchronize_filters": true, "env": "MultiWaveAttenuationMergePOEnv-v0done_[eta1, eta2, eta3]:[1.0, 0.05, 0.0]_t_min:5.0_buf_len: 1", "batch_mode": "truncate_episodes", "num_workers": 20, "straggler_mitigation": false, "use_gae": true, "vf_share_layers": false, "sample_async": false, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f89daf2f4e0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f89daf2f518>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f89daf2f550>", "on_sample_end": null, "on_train_result": null}, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "clip_param": 0.3, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "log_level": "INFO", "observation_filter": "NoFilter", "lr": 0.0005, "num_sgd_iter": 10, "simple_optimizer": false, "train_batch_size": 30000, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}}}
{"episode_reward_max": -1434.9467488850241, "episode_reward_mean": -2049.4105081822336, "timestamp": 1558586470, "experiment_id": "30635ebb86f4472d97a68d56e6633275", "episodes_this_iter": 26, "timesteps_this_iter": 66996, "pid": 31797, "done": false, "episodes_total": 53, "info": {"sample_time_ms": 45928.697, "update_time_ms": 647.443, "num_steps_trained": 131923, "grad_time_ms": 18253.612, "num_steps_sampled": 131923, "load_time_ms": 26.922, "default": {"vf_loss": 56.27824401855469, "cur_lr": 0.0005000000237487257, "entropy": 1.4088324308395386, "vf_explained_var": -1.6365635246984311e-07, "kl": 0.004403704311698675, "cur_kl_coeff": 0.10000002384185791, "policy_loss": -0.0008260189206339419, "total_loss": 56.277854919433594}}, "training_iteration": 2, "hostname": "flow-main", "time_since_restore": 130.04708313941956, "iterations_since_restore": 2, "timesteps_since_restore": 131923, "node_ip": "10.138.0.2", "policy_reward_mean": {}, "timesteps_total": 131923, "num_metric_batches_dropped": 0, "time_total_s": 130.04708313941956, "episode_reward_min": -3056.9733387210013, "time_this_iter_s": 54.10502791404724, "date": "2019-05-23_04-41-10", "custom_metrics": {"cost1_min": 165.648129536061, "outflow_rate_min": 175.54015120165528, "cost1_max": 236.52093015789504, "system_level_velocity_mean": 7.820227916598453, "cost2_min": -50.78345220258424, "cost1_mean": 203.00240239563215, "system_level_velocity_min": 6.528775178427477, "cost2_max": -20.226767584518452, "outflow_rate_mean": 365.6746189032248, "outflow_rate_max": 683.1466666666665, "cost2_mean": -30.457386926817335, "system_level_velocity_max": 9.223397810024498}, "episode_len_mean": 700.0, "config": {"input": "sampler", "output_compress_columns": ["obs", "new_obs"], "num_envs_per_worker": 1, "sample_batch_size": 750, "num_cpus_for_driver": 1, "preprocessor_pref": "deepmind", "horizon": 1500, "compress_observations": false, "vf_loss_coeff": 1.0, "input_evaluation": null, "gamma": 0.99, "optimizer": {}, "kl_target": 0.01, "entropy_coeff": 0.0, "num_gpus": 0, "sgd_minibatch_size": 128, "lr_schedule": null, "custom_resources_per_worker": {}, "kl_coeff": 0.2, "lambda": 0.97, "vf_clip_param": 1000000.0, "clip_actions": false, "output": null, "output_max_file_size": 67108864, "monitor": false, "model": {"conv_filters": null, "fcnet_activation": "tanh", "framestack": true, "custom_options": {}, "lstm_use_prev_action_reward": false, "channel_major": false, "max_seq_len": 20, "squash_to_range": false, "grayscale": false, "dim": 84, "custom_model": null, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "use_lstm": false, "lstm_cell_size": 256, "free_log_std": false, "zero_mean": true, "conv_activation": "relu"}, "collect_metrics_timeout": 180, "synchronize_filters": true, "env": "MultiWaveAttenuationMergePOEnv-v0done_[eta1, eta2, eta3]:[1.0, 0.05, 0.0]_t_min:5.0_buf_len: 1", "batch_mode": "truncate_episodes", "num_workers": 20, "straggler_mitigation": false, "use_gae": true, "vf_share_layers": false, "sample_async": false, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f89daed2dd8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f89daed2e10>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f89daed2e48>", "on_sample_end": null, "on_train_result": null}, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "clip_param": 0.3, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "log_level": "INFO", "observation_filter": "NoFilter", "lr": 0.0005, "num_sgd_iter": 10, "simple_optimizer": false, "train_batch_size": 30000, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}}}
{"episode_reward_max": -28.994436664925807, "episode_reward_mean": -1977.4080927360128, "timestamp": 1558586521, "experiment_id": "30635ebb86f4472d97a68d56e6633275", "episodes_this_iter": 28, "timesteps_this_iter": 64159, "pid": 31797, "done": false, "episodes_total": 81, "info": {"sample_time_ms": 41616.753, "update_time_ms": 434.812, "num_steps_trained": 196082, "grad_time_ms": 18047.762, "num_steps_sampled": 196082, "load_time_ms": 20.052, "default": {"vf_loss": 52.52687072753906, "cur_lr": 0.0005000000237487257, "entropy": 1.4036669731140137, "vf_explained_var": 0.40593141317367554, "kl": 0.003650018246844411, "cur_kl_coeff": 0.05000000447034836, "policy_loss": -0.000716261740308255, "total_loss": 52.526336669921875}}, "training_iteration": 3, "hostname": "flow-main", "time_since_restore": 180.80849242210388, "iterations_since_restore": 3, "timesteps_since_restore": 196082, "node_ip": "10.138.0.2", "policy_reward_mean": {}, "timesteps_total": 196082, "num_metric_batches_dropped": 0, "time_total_s": 180.80849242210388, "episode_reward_min": -3056.9733387210013, "time_this_iter_s": 50.761409282684326, "date": "2019-05-23_04-42-01", "custom_metrics": {"cost1_min": 22.412432070085767, "outflow_rate_min": 175.54015120165528, "cost1_max": 261.1327734459903, "system_level_velocity_mean": 8.079507661693556, "cost2_min": -50.78345220258424, "cost1_mean": 204.29498354433466, "system_level_velocity_min": 6.528775178427477, "cost2_max": -12.07744655468501, "outflow_rate_mean": 390.5189918488227, "outflow_rate_max": 685.5364285714286, "cost2_mean": -30.415798325054283, "system_level_velocity_max": 18.02650292052876}, "episode_len_mean": 691.7901234567901, "config": {"input": "sampler", "output_compress_columns": ["obs", "new_obs"], "num_envs_per_worker": 1, "sample_batch_size": 750, "num_cpus_for_driver": 1, "preprocessor_pref": "deepmind", "horizon": 1500, "compress_observations": false, "vf_loss_coeff": 1.0, "input_evaluation": null, "gamma": 0.99, "optimizer": {}, "kl_target": 0.01, "entropy_coeff": 0.0, "num_gpus": 0, "sgd_minibatch_size": 128, "lr_schedule": null, "custom_resources_per_worker": {}, "kl_coeff": 0.2, "lambda": 0.97, "vf_clip_param": 1000000.0, "clip_actions": false, "output": null, "output_max_file_size": 67108864, "monitor": false, "model": {"conv_filters": null, "fcnet_activation": "tanh", "framestack": true, "custom_options": {}, "lstm_use_prev_action_reward": false, "channel_major": false, "max_seq_len": 20, "squash_to_range": false, "grayscale": false, "dim": 84, "custom_model": null, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "use_lstm": false, "lstm_cell_size": 256, "free_log_std": false, "zero_mean": true, "conv_activation": "relu"}, "collect_metrics_timeout": 180, "synchronize_filters": true, "env": "MultiWaveAttenuationMergePOEnv-v0done_[eta1, eta2, eta3]:[1.0, 0.05, 0.0]_t_min:5.0_buf_len: 1", "batch_mode": "truncate_episodes", "num_workers": 20, "straggler_mitigation": false, "use_gae": true, "vf_share_layers": false, "sample_async": false, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f89daec7fd0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f89daec7dd8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f89daec7240>", "on_sample_end": null, "on_train_result": null}, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "clip_param": 0.3, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "log_level": "INFO", "observation_filter": "NoFilter", "lr": 0.0005, "num_sgd_iter": 10, "simple_optimizer": false, "train_batch_size": 30000, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}}}
{"episode_reward_max": -28.994436664925807, "episode_reward_mean": -1850.313761367492, "timestamp": 1558586567, "experiment_id": "30635ebb86f4472d97a68d56e6633275", "episodes_this_iter": 28, "timesteps_this_iter": 58834, "pid": 31797, "done": false, "episodes_total": 109, "info": {"sample_time_ms": 38964.194, "update_time_ms": 328.207, "num_steps_trained": 254916, "grad_time_ms": 17358.329, "num_steps_sampled": 254916, "load_time_ms": 16.416, "default": {"vf_loss": 43.749969482421875, "cur_lr": 0.0005000000237487257, "entropy": 1.386225938796997, "vf_explained_var": 0.7504491209983826, "kl": 0.01521497592329979, "cur_kl_coeff": 0.02500000409781933, "policy_loss": -0.004274133127182722, "total_loss": 43.7460823059082}}, "training_iteration": 4, "hostname": "flow-main", "time_since_restore": 227.22052669525146, "iterations_since_restore": 4, "timesteps_since_restore": 254916, "node_ip": "10.138.0.2", "policy_reward_mean": {}, "timesteps_total": 254916, "num_metric_batches_dropped": 0, "time_total_s": 227.22052669525146, "episode_reward_min": -3056.9733387210013, "time_this_iter_s": 46.41203427314758, "date": "2019-05-23_04-42-47", "custom_metrics": {"cost1_min": 22.412432070085767, "outflow_rate_min": 175.54015120165528, "cost1_max": 287.4817527304905, "system_level_velocity_mean": 8.503676953510212, "cost2_min": -50.78345220258424, "cost1_mean": 216.43518521583687, "system_level_velocity_min": 6.751184404547139, "cost2_max": -12.07744655468501, "outflow_rate_mean": 459.58795580419815, "outflow_rate_max": 759.7952672843903, "cost2_mean": -30.816691484732505, "system_level_velocity_max": 18.02650292052876}, "episode_len_mean": 693.35, "config": {"input": "sampler", "output_compress_columns": ["obs", "new_obs"], "num_envs_per_worker": 1, "sample_batch_size": 750, "num_cpus_for_driver": 1, "preprocessor_pref": "deepmind", "horizon": 1500, "compress_observations": false, "vf_loss_coeff": 1.0, "input_evaluation": null, "gamma": 0.99, "optimizer": {}, "kl_target": 0.01, "entropy_coeff": 0.0, "num_gpus": 0, "sgd_minibatch_size": 128, "lr_schedule": null, "custom_resources_per_worker": {}, "kl_coeff": 0.2, "lambda": 0.97, "vf_clip_param": 1000000.0, "clip_actions": false, "output": null, "output_max_file_size": 67108864, "monitor": false, "model": {"conv_filters": null, "fcnet_activation": "tanh", "framestack": true, "custom_options": {}, "lstm_use_prev_action_reward": false, "channel_major": false, "max_seq_len": 20, "squash_to_range": false, "grayscale": false, "dim": 84, "custom_model": null, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "use_lstm": false, "lstm_cell_size": 256, "free_log_std": false, "zero_mean": true, "conv_activation": "relu"}, "collect_metrics_timeout": 180, "synchronize_filters": true, "env": "MultiWaveAttenuationMergePOEnv-v0done_[eta1, eta2, eta3]:[1.0, 0.05, 0.0]_t_min:5.0_buf_len: 1", "batch_mode": "truncate_episodes", "num_workers": 20, "straggler_mitigation": false, "use_gae": true, "vf_share_layers": false, "sample_async": false, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f89daed7128>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f89daed7828>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f89daed76d8>", "on_sample_end": null, "on_train_result": null}, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "clip_param": 0.3, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "log_level": "INFO", "observation_filter": "NoFilter", "lr": 0.0005, "num_sgd_iter": 10, "simple_optimizer": false, "train_batch_size": 30000, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}}}
{"episode_reward_max": -28.994436664925807, "episode_reward_mean": -1620.5498710634563, "timestamp": 1558586610, "experiment_id": "30635ebb86f4472d97a68d56e6633275", "episodes_this_iter": 29, "timesteps_this_iter": 50996, "pid": 31797, "done": false, "episodes_total": 138, "info": {"sample_time_ms": 37101.22, "update_time_ms": 264.118, "num_steps_trained": 305912, "grad_time_ms": 16568.812, "num_steps_sampled": 305912, "load_time_ms": 14.236, "default": {"vf_loss": 40.356285095214844, "cur_lr": 0.0005000000237487257, "entropy": 1.354788899421692, "vf_explained_var": 0.8544464707374573, "kl": 0.02047554962337017, "cur_kl_coeff": 0.025000005960464478, "policy_loss": -0.005384629592299461, "total_loss": 40.35140609741211}}, "training_iteration": 5, "hostname": "flow-main", "time_since_restore": 270.38425374031067, "iterations_since_restore": 5, "timesteps_since_restore": 305912, "node_ip": "10.138.0.2", "policy_reward_mean": {}, "timesteps_total": 305912, "num_metric_batches_dropped": 0, "time_total_s": 270.38425374031067, "episode_reward_min": -3056.9733387210013, "time_this_iter_s": 43.163727045059204, "date": "2019-05-23_04-43-30", "custom_metrics": {"cost1_min": 22.412432070085767, "outflow_rate_min": 233.88723747722398, "cost1_max": 309.7214469717877, "system_level_velocity_mean": 9.322769520888343, "cost2_min": -50.78345220258424, "cost1_mean": 232.71783279877104, "system_level_velocity_min": 6.756649110685175, "cost2_max": -12.07744655468501, "outflow_rate_mean": 569.4956933537892, "outflow_rate_max": 959.1469268292681, "cost2_mean": -30.931834403806448, "system_level_velocity_max": 18.189245847373023}, "episode_len_mean": 686.72, "config": {"input": "sampler", "output_compress_columns": ["obs", "new_obs"], "num_envs_per_worker": 1, "sample_batch_size": 750, "num_cpus_for_driver": 1, "preprocessor_pref": "deepmind", "horizon": 1500, "compress_observations": false, "vf_loss_coeff": 1.0, "input_evaluation": null, "gamma": 0.99, "optimizer": {}, "kl_target": 0.01, "entropy_coeff": 0.0, "num_gpus": 0, "sgd_minibatch_size": 128, "lr_schedule": null, "custom_resources_per_worker": {}, "kl_coeff": 0.2, "lambda": 0.97, "vf_clip_param": 1000000.0, "clip_actions": false, "output": null, "output_max_file_size": 67108864, "monitor": false, "model": {"conv_filters": null, "fcnet_activation": "tanh", "framestack": true, "custom_options": {}, "lstm_use_prev_action_reward": false, "channel_major": false, "max_seq_len": 20, "squash_to_range": false, "grayscale": false, "dim": 84, "custom_model": null, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "use_lstm": false, "lstm_cell_size": 256, "free_log_std": false, "zero_mean": true, "conv_activation": "relu"}, "collect_metrics_timeout": 180, "synchronize_filters": true, "env": "MultiWaveAttenuationMergePOEnv-v0done_[eta1, eta2, eta3]:[1.0, 0.05, 0.0]_t_min:5.0_buf_len: 1", "batch_mode": "truncate_episodes", "num_workers": 20, "straggler_mitigation": false, "use_gae": true, "vf_share_layers": false, "sample_async": false, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f89daed2828>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f89daed2fd0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f89daed2e10>", "on_sample_end": null, "on_train_result": null}, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "clip_param": 0.3, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "log_level": "INFO", "observation_filter": "NoFilter", "lr": 0.0005, "num_sgd_iter": 10, "simple_optimizer": false, "train_batch_size": 30000, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}}}
{"episode_reward_max": -28.994436664925807, "episode_reward_mean": -1360.606592510754, "timestamp": 1558586654, "experiment_id": "30635ebb86f4472d97a68d56e6633275", "episodes_this_iter": 28, "timesteps_this_iter": 52342, "pid": 31797, "done": false, "episodes_total": 166, "info": {"sample_time_ms": 35565.5, "update_time_ms": 221.485, "num_steps_trained": 358254, "grad_time_ms": 16347.753, "num_steps_sampled": 358254, "load_time_ms": 12.627, "default": {"vf_loss": 30.884735107421875, "cur_lr": 0.0005000000237487257, "entropy": 1.294144868850708, "vf_explained_var": 0.8935391306877136, "kl": 0.020160894840955734, "cur_kl_coeff": 0.03749999403953552, "policy_loss": -0.005902430508285761, "total_loss": 30.879589080810547}}, "training_iteration": 6, "hostname": "flow-main", "time_since_restore": 313.6239984035492, "iterations_since_restore": 6, "timesteps_since_restore": 358254, "node_ip": "10.138.0.2", "policy_reward_mean": {}, "timesteps_total": 358254, "num_metric_batches_dropped": 0, "time_total_s": 313.6239984035492, "episode_reward_min": -2548.323271594828, "time_this_iter_s": 43.239744663238525, "date": "2019-05-23_04-44-14", "custom_metrics": {"cost1_min": 22.412432070085767, "outflow_rate_min": 254.70091748174673, "cost1_max": 349.05811842755134, "system_level_velocity_mean": 10.380703009477326, "cost2_min": -46.50164545909863, "cost1_mean": 259.24903543411517, "system_level_velocity_min": 7.151606772420485, "cost2_max": -12.07744655468501, "outflow_rate_mean": 704.765542664674, "outflow_rate_max": 1168.2756413996408, "cost2_mean": -31.912762128962267, "system_level_velocity_max": 18.189245847373023}, "episode_len_mean": 686.72, "config": {"input": "sampler", "output_compress_columns": ["obs", "new_obs"], "num_envs_per_worker": 1, "sample_batch_size": 750, "num_cpus_for_driver": 1, "preprocessor_pref": "deepmind", "horizon": 1500, "compress_observations": false, "vf_loss_coeff": 1.0, "input_evaluation": null, "gamma": 0.99, "optimizer": {}, "kl_target": 0.01, "entropy_coeff": 0.0, "num_gpus": 0, "sgd_minibatch_size": 128, "lr_schedule": null, "custom_resources_per_worker": {}, "kl_coeff": 0.2, "lambda": 0.97, "vf_clip_param": 1000000.0, "clip_actions": false, "output": null, "output_max_file_size": 67108864, "monitor": false, "model": {"conv_filters": null, "fcnet_activation": "tanh", "framestack": true, "custom_options": {}, "lstm_use_prev_action_reward": false, "channel_major": false, "max_seq_len": 20, "squash_to_range": false, "grayscale": false, "dim": 84, "custom_model": null, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "use_lstm": false, "lstm_cell_size": 256, "free_log_std": false, "zero_mean": true, "conv_activation": "relu"}, "collect_metrics_timeout": 180, "synchronize_filters": true, "env": "MultiWaveAttenuationMergePOEnv-v0done_[eta1, eta2, eta3]:[1.0, 0.05, 0.0]_t_min:5.0_buf_len: 1", "batch_mode": "truncate_episodes", "num_workers": 20, "straggler_mitigation": false, "use_gae": true, "vf_share_layers": false, "sample_async": false, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f89daee1518>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f89daee12e8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f89daee1128>", "on_sample_end": null, "on_train_result": null}, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "clip_param": 0.3, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "log_level": "INFO", "observation_filter": "NoFilter", "lr": 0.0005, "num_sgd_iter": 10, "simple_optimizer": false, "train_batch_size": 30000, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}}}
{"episode_reward_max": -31.20061130955851, "episode_reward_mean": -1205.6614139753517, "timestamp": 1558586705, "experiment_id": "30635ebb86f4472d97a68d56e6633275", "episodes_this_iter": 27, "timesteps_this_iter": 62035, "pid": 31797, "done": false, "episodes_total": 193, "info": {"sample_time_ms": 35208.748, "update_time_ms": 191.223, "num_steps_trained": 420289, "grad_time_ms": 16541.409, "num_steps_sampled": 420289, "load_time_ms": 11.476, "default": {"vf_loss": 35.58894348144531, "cur_lr": 0.0005000000237487257, "entropy": 1.2464019060134888, "vf_explained_var": 0.8870549201965332, "kl": 0.012543700635433197, "cur_kl_coeff": 0.056249991059303284, "policy_loss": -0.00352533720433712, "total_loss": 35.58612823486328}}, "training_iteration": 7, "hostname": "flow-main", "time_since_restore": 364.52148246765137, "iterations_since_restore": 7, "timesteps_since_restore": 420289, "node_ip": "10.138.0.2", "policy_reward_mean": {}, "timesteps_total": 420289, "num_metric_batches_dropped": 0, "time_total_s": 364.52148246765137, "episode_reward_min": -1983.3632515987274, "time_this_iter_s": 50.89748406410217, "date": "2019-05-23_04-45-05", "custom_metrics": {"cost1_min": 23.998707840628715, "outflow_rate_min": 473.1076324651711, "cost1_max": 407.30999663767113, "system_level_velocity_mean": 11.536408222422535, "cost2_min": -81.84238912738748, "cost1_mean": 294.75653537623117, "system_level_velocity_min": 8.230798312517189, "cost2_max": -14.218927655606242, "outflow_rate_mean": 892.9257681815169, "outflow_rate_max": 1398.5937977711792, "cost2_mean": -37.96055394213901, "system_level_velocity_max": 18.189245847373023}, "episode_len_mean": 693.37, "config": {"input": "sampler", "output_compress_columns": ["obs", "new_obs"], "num_envs_per_worker": 1, "sample_batch_size": 750, "num_cpus_for_driver": 1, "preprocessor_pref": "deepmind", "horizon": 1500, "compress_observations": false, "vf_loss_coeff": 1.0, "input_evaluation": null, "gamma": 0.99, "optimizer": {}, "kl_target": 0.01, "entropy_coeff": 0.0, "num_gpus": 0, "sgd_minibatch_size": 128, "lr_schedule": null, "custom_resources_per_worker": {}, "kl_coeff": 0.2, "lambda": 0.97, "vf_clip_param": 1000000.0, "clip_actions": false, "output": null, "output_max_file_size": 67108864, "monitor": false, "model": {"conv_filters": null, "fcnet_activation": "tanh", "framestack": true, "custom_options": {}, "lstm_use_prev_action_reward": false, "channel_major": false, "max_seq_len": 20, "squash_to_range": false, "grayscale": false, "dim": 84, "custom_model": null, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "use_lstm": false, "lstm_cell_size": 256, "free_log_std": false, "zero_mean": true, "conv_activation": "relu"}, "collect_metrics_timeout": 180, "synchronize_filters": true, "env": "MultiWaveAttenuationMergePOEnv-v0done_[eta1, eta2, eta3]:[1.0, 0.05, 0.0]_t_min:5.0_buf_len: 1", "batch_mode": "truncate_episodes", "num_workers": 20, "straggler_mitigation": false, "use_gae": true, "vf_share_layers": false, "sample_async": false, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f89daec7f60>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f89daec7e10>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f89daec7ac8>", "on_sample_end": null, "on_train_result": null}, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "clip_param": 0.3, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "log_level": "INFO", "observation_filter": "NoFilter", "lr": 0.0005, "num_sgd_iter": 10, "simple_optimizer": false, "train_batch_size": 30000, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}}}
{"episode_reward_max": -902.907315102706, "episode_reward_mean": -1229.332157055144, "timestamp": 1558586758, "experiment_id": "30635ebb86f4472d97a68d56e6633275", "episodes_this_iter": 27, "timesteps_this_iter": 65239, "pid": 31797, "done": false, "episodes_total": 220, "info": {"sample_time_ms": 34927.044, "update_time_ms": 168.774, "num_steps_trained": 485528, "grad_time_ms": 16976.371, "num_steps_sampled": 485528, "load_time_ms": 10.671, "default": {"vf_loss": 34.36653518676758, "cur_lr": 0.0005000000237487257, "entropy": 1.2556209564208984, "vf_explained_var": 0.9095608592033386, "kl": 0.009856699034571648, "cur_kl_coeff": 0.05624999850988388, "policy_loss": -0.0025364407338202, "total_loss": 34.36455535888672}}, "training_iteration": 8, "hostname": "flow-main", "time_since_restore": 417.6522057056427, "iterations_since_restore": 8, "timesteps_since_restore": 485528, "node_ip": "10.138.0.2", "policy_reward_mean": {}, "timesteps_total": 485528, "num_metric_batches_dropped": 0, "time_total_s": 417.6522057056427, "episode_reward_min": -1709.6797425607633, "time_this_iter_s": 53.13072323799133, "date": "2019-05-23_04-45-58", "custom_metrics": {"cost1_min": 221.80714290959918, "outflow_rate_min": 552.521463757917, "cost1_max": 407.30999663767113, "system_level_velocity_mean": 12.170530514589903, "cost2_min": -88.48148437332016, "cost1_mean": 317.7675704178795, "system_level_velocity_min": 8.656987621824562, "cost2_max": -22.03518801537967, "outflow_rate_mean": 1039.971560427765, "outflow_rate_max": 1398.5937977711792, "cost2_mean": -50.1991857835799, "system_level_velocity_max": 15.41923075659447}, "episode_len_mean": 700.0, "config": {"input": "sampler", "output_compress_columns": ["obs", "new_obs"], "num_envs_per_worker": 1, "sample_batch_size": 750, "num_cpus_for_driver": 1, "preprocessor_pref": "deepmind", "horizon": 1500, "compress_observations": false, "vf_loss_coeff": 1.0, "input_evaluation": null, "gamma": 0.99, "optimizer": {}, "kl_target": 0.01, "entropy_coeff": 0.0, "num_gpus": 0, "sgd_minibatch_size": 128, "lr_schedule": null, "custom_resources_per_worker": {}, "kl_coeff": 0.2, "lambda": 0.97, "vf_clip_param": 1000000.0, "clip_actions": false, "output": null, "output_max_file_size": 67108864, "monitor": false, "model": {"conv_filters": null, "fcnet_activation": "tanh", "framestack": true, "custom_options": {}, "lstm_use_prev_action_reward": false, "channel_major": false, "max_seq_len": 20, "squash_to_range": false, "grayscale": false, "dim": 84, "custom_model": null, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "use_lstm": false, "lstm_cell_size": 256, "free_log_std": false, "zero_mean": true, "conv_activation": "relu"}, "collect_metrics_timeout": 180, "synchronize_filters": true, "env": "MultiWaveAttenuationMergePOEnv-v0done_[eta1, eta2, eta3]:[1.0, 0.05, 0.0]_t_min:5.0_buf_len: 1", "batch_mode": "truncate_episodes", "num_workers": 20, "straggler_mitigation": false, "use_gae": true, "vf_share_layers": false, "sample_async": false, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f89daed74e0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f89daed7e10>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f89daee1c18>", "on_sample_end": null, "on_train_result": null}, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "clip_param": 0.3, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "log_level": "INFO", "observation_filter": "NoFilter", "lr": 0.0005, "num_sgd_iter": 10, "simple_optimizer": false, "train_batch_size": 30000, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}}}
{"episode_reward_max": -828.1188707028303, "episode_reward_mean": -1318.4905590361084, "timestamp": 1558586810, "experiment_id": "30635ebb86f4472d97a68d56e6633275", "episodes_this_iter": 29, "timesteps_this_iter": 63063, "pid": 31797, "done": false, "episodes_total": 249, "info": {"sample_time_ms": 34640.29, "update_time_ms": 150.997, "num_steps_trained": 548591, "grad_time_ms": 17229.127, "num_steps_sampled": 548591, "load_time_ms": 10.024, "default": {"vf_loss": 41.182838439941406, "cur_lr": 0.0005000000237487257, "entropy": 1.251037836074829, "vf_explained_var": 0.883883535861969, "kl": 0.008392788469791412, "cur_kl_coeff": 0.05624999478459358, "policy_loss": -0.001790701411664486, "total_loss": 41.181522369384766}}, "training_iteration": 9, "hostname": "flow-main", "time_since_restore": 469.3940181732178, "iterations_since_restore": 9, "timesteps_since_restore": 548591, "node_ip": "10.138.0.2", "policy_reward_mean": {}, "timesteps_total": 548591, "num_metric_batches_dropped": 0, "time_total_s": 469.3940181732178, "episode_reward_min": -1770.5447603421428, "time_this_iter_s": 51.74181246757507, "date": "2019-05-23_04-46-50", "custom_metrics": {"cost1_min": 264.7728057552559, "outflow_rate_min": 693.1241159250586, "cost1_max": 440.5460872676938, "system_level_velocity_mean": 12.648146956043984, "cost2_min": -109.65760300994279, "cost1_mean": 332.80339857271326, "system_level_velocity_min": 10.124256614494708, "cost2_max": -32.03634111320838, "outflow_rate_mean": 1173.146212770091, "outflow_rate_max": 1517.0203480247974, "cost2_mean": -65.59235458556049, "system_level_velocity_max": 16.700058765139694}, "episode_len_mean": 700.0, "config": {"input": "sampler", "output_compress_columns": ["obs", "new_obs"], "num_envs_per_worker": 1, "sample_batch_size": 750, "num_cpus_for_driver": 1, "preprocessor_pref": "deepmind", "horizon": 1500, "compress_observations": false, "vf_loss_coeff": 1.0, "input_evaluation": null, "gamma": 0.99, "optimizer": {}, "kl_target": 0.01, "entropy_coeff": 0.0, "num_gpus": 0, "sgd_minibatch_size": 128, "lr_schedule": null, "custom_resources_per_worker": {}, "kl_coeff": 0.2, "lambda": 0.97, "vf_clip_param": 1000000.0, "clip_actions": false, "output": null, "output_max_file_size": 67108864, "monitor": false, "model": {"conv_filters": null, "fcnet_activation": "tanh", "framestack": true, "custom_options": {}, "lstm_use_prev_action_reward": false, "channel_major": false, "max_seq_len": 20, "squash_to_range": false, "grayscale": false, "dim": 84, "custom_model": null, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "use_lstm": false, "lstm_cell_size": 256, "free_log_std": false, "zero_mean": true, "conv_activation": "relu"}, "collect_metrics_timeout": 180, "synchronize_filters": true, "env": "MultiWaveAttenuationMergePOEnv-v0done_[eta1, eta2, eta3]:[1.0, 0.05, 0.0]_t_min:5.0_buf_len: 1", "batch_mode": "truncate_episodes", "num_workers": 20, "straggler_mitigation": false, "use_gae": true, "vf_share_layers": false, "sample_async": false, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f89daee1668>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f89daee10f0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f89daee1048>", "on_sample_end": null, "on_train_result": null}, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "clip_param": 0.3, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "log_level": "INFO", "observation_filter": "NoFilter", "lr": 0.0005, "num_sgd_iter": 10, "simple_optimizer": false, "train_batch_size": 30000, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}}}
{"episode_reward_max": -828.1188707028303, "episode_reward_mean": -1428.200489249693, "timestamp": 1558586864, "experiment_id": "30635ebb86f4472d97a68d56e6633275", "episodes_this_iter": 32, "timesteps_this_iter": 64376, "pid": 31797, "done": false, "episodes_total": 281, "info": {"sample_time_ms": 34639.974, "update_time_ms": 136.916, "num_steps_trained": 612967, "grad_time_ms": 17462.363, "num_steps_sampled": 612967, "load_time_ms": 9.779, "default": {"vf_loss": 45.60504150390625, "cur_lr": 0.0005000000237487257, "entropy": 1.2493525743484497, "vf_explained_var": 0.8632048964500427, "kl": 0.008934225887060165, "cur_kl_coeff": 0.05624999850988388, "policy_loss": -0.0018351466860622168, "total_loss": 45.60370635986328}}, "training_iteration": 10, "hostname": "flow-main", "time_since_restore": 523.7339308261871, "iterations_since_restore": 10, "timesteps_since_restore": 612967, "node_ip": "10.138.0.2", "policy_reward_mean": {}, "timesteps_total": 612967, "num_metric_batches_dropped": 0, "time_total_s": 523.7339308261871, "episode_reward_min": -1770.5447603421428, "time_this_iter_s": 54.33991265296936, "date": "2019-05-23_04-47-44", "custom_metrics": {"cost1_min": 264.7728057552559, "outflow_rate_min": 1084.7934982711076, "cost1_max": 440.5460872676938, "system_level_velocity_mean": 12.830931693881725, "cost2_min": -109.65760300994279, "cost1_mean": 339.4658869162962, "system_level_velocity_min": 10.124256614494708, "cost2_max": -36.67579021883953, "outflow_rate_mean": 1234.1730236062408, "outflow_rate_max": 1517.0203480247974, "cost2_mean": -78.39586144948706, "system_level_velocity_max": 16.700058765139694}, "episode_len_mean": 700.0, "config": {"input": "sampler", "output_compress_columns": ["obs", "new_obs"], "num_envs_per_worker": 1, "sample_batch_size": 750, "num_cpus_for_driver": 1, "preprocessor_pref": "deepmind", "horizon": 1500, "compress_observations": false, "vf_loss_coeff": 1.0, "input_evaluation": null, "gamma": 0.99, "optimizer": {}, "kl_target": 0.01, "entropy_coeff": 0.0, "num_gpus": 0, "sgd_minibatch_size": 128, "lr_schedule": null, "custom_resources_per_worker": {}, "kl_coeff": 0.2, "lambda": 0.97, "vf_clip_param": 1000000.0, "clip_actions": false, "output": null, "output_max_file_size": 67108864, "monitor": false, "model": {"conv_filters": null, "fcnet_activation": "tanh", "framestack": true, "custom_options": {}, "lstm_use_prev_action_reward": false, "channel_major": false, "max_seq_len": 20, "squash_to_range": false, "grayscale": false, "dim": 84, "custom_model": null, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "use_lstm": false, "lstm_cell_size": 256, "free_log_std": false, "zero_mean": true, "conv_activation": "relu"}, "collect_metrics_timeout": 180, "synchronize_filters": true, "env": "MultiWaveAttenuationMergePOEnv-v0done_[eta1, eta2, eta3]:[1.0, 0.05, 0.0]_t_min:5.0_buf_len: 1", "batch_mode": "truncate_episodes", "num_workers": 20, "straggler_mitigation": false, "use_gae": true, "vf_share_layers": false, "sample_async": false, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f89daee1f60>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f89daee1438>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f89daee1080>", "on_sample_end": null, "on_train_result": null}, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "clip_param": 0.3, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "log_level": "INFO", "observation_filter": "NoFilter", "lr": 0.0005, "num_sgd_iter": 10, "simple_optimizer": false, "train_batch_size": 30000, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}}}
{"episode_reward_max": -750.7260820238673, "episode_reward_mean": -1436.7815722115943, "timestamp": 1558586918, "experiment_id": "30635ebb86f4472d97a68d56e6633275", "episodes_this_iter": 32, "timesteps_this_iter": 62747, "pid": 31797, "done": false, "episodes_total": 313, "info": {"sample_time_ms": 32206.803, "update_time_ms": 9.302, "num_steps_trained": 675714, "grad_time_ms": 17822.181, "num_steps_sampled": 675714, "load_time_ms": 5.823, "default": {"vf_loss": 42.34324645996094, "cur_lr": 0.0005000000237487257, "entropy": 1.2442400455474854, "vf_explained_var": 0.8599223494529724, "kl": 0.008155585266649723, "cur_kl_coeff": 0.05624999478459358, "policy_loss": -0.0016578116919845343, "total_loss": 42.3420524597168}}, "training_iteration": 11, "hostname": "flow-main", "time_since_restore": 577.5775589942932, "iterations_since_restore": 11, "timesteps_since_restore": 675714, "node_ip": "10.138.0.2", "policy_reward_mean": {}, "timesteps_total": 675714, "num_metric_batches_dropped": 0, "time_total_s": 577.5775589942932, "episode_reward_min": -1770.5447603421428, "time_this_iter_s": 53.84362816810608, "date": "2019-05-23_04-48-38", "custom_metrics": {"cost1_min": 264.7728057552559, "outflow_rate_min": 1084.7934982711076, "cost1_max": 440.5460872676938, "system_level_velocity_mean": 12.945398454458434, "cost2_min": -109.65760300994279, "cost1_mean": 342.27933522694855, "system_level_velocity_min": 10.124256614494708, "cost2_max": -63.62301420754115, "outflow_rate_mean": 1246.0939307379124, "outflow_rate_max": 1595.848112570357, "cost2_mean": -82.9274106289071, "system_level_velocity_max": 16.700058765139694}, "episode_len_mean": 700.0, "config": {"input": "sampler", "output_compress_columns": ["obs", "new_obs"], "num_envs_per_worker": 1, "sample_batch_size": 750, "num_cpus_for_driver": 1, "preprocessor_pref": "deepmind", "horizon": 1500, "compress_observations": false, "vf_loss_coeff": 1.0, "input_evaluation": null, "gamma": 0.99, "optimizer": {}, "kl_target": 0.01, "entropy_coeff": 0.0, "num_gpus": 0, "sgd_minibatch_size": 128, "lr_schedule": null, "custom_resources_per_worker": {}, "kl_coeff": 0.2, "lambda": 0.97, "vf_clip_param": 1000000.0, "clip_actions": false, "output": null, "output_max_file_size": 67108864, "monitor": false, "model": {"conv_filters": null, "fcnet_activation": "tanh", "framestack": true, "custom_options": {}, "lstm_use_prev_action_reward": false, "channel_major": false, "max_seq_len": 20, "squash_to_range": false, "grayscale": false, "dim": 84, "custom_model": null, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "use_lstm": false, "lstm_cell_size": 256, "free_log_std": false, "zero_mean": true, "conv_activation": "relu"}, "collect_metrics_timeout": 180, "synchronize_filters": true, "env": "MultiWaveAttenuationMergePOEnv-v0done_[eta1, eta2, eta3]:[1.0, 0.05, 0.0]_t_min:5.0_buf_len: 1", "batch_mode": "truncate_episodes", "num_workers": 20, "straggler_mitigation": false, "use_gae": true, "vf_share_layers": false, "sample_async": false, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f89daee1470>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f89daee1b38>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f89daee19e8>", "on_sample_end": null, "on_train_result": null}, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "clip_param": 0.3, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "log_level": "INFO", "observation_filter": "NoFilter", "lr": 0.0005, "num_sgd_iter": 10, "simple_optimizer": false, "train_batch_size": 30000, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}}}
{"episode_reward_max": -750.7260820238673, "episode_reward_mean": -1376.2739576258252, "timestamp": 1558586970, "experiment_id": "30635ebb86f4472d97a68d56e6633275", "episodes_this_iter": 30, "timesteps_this_iter": 60792, "pid": 31797, "done": false, "episodes_total": 343, "info": {"sample_time_ms": 32012.292, "update_time_ms": 9.492, "num_steps_trained": 736506, "grad_time_ms": 17794.06, "num_steps_sampled": 736506, "load_time_ms": 5.555, "default": {"vf_loss": 33.382789611816406, "cur_lr": 0.0005000000237487257, "entropy": 1.2485467195510864, "vf_explained_var": 0.8575451970100403, "kl": 0.0063129146583378315, "cur_kl_coeff": 0.056249991059303284, "policy_loss": -0.0005173314129933715, "total_loss": 33.382625579833984}}, "training_iteration": 12, "hostname": "flow-main", "time_since_restore": 629.4320063591003, "iterations_since_restore": 12, "timesteps_since_restore": 736506, "node_ip": "10.138.0.2", "policy_reward_mean": {}, "timesteps_total": 736506, "num_metric_batches_dropped": 0, "time_total_s": 629.4320063591003, "episode_reward_min": -1763.7464791640773, "time_this_iter_s": 51.85444736480713, "date": "2019-05-23_04-49-30", "custom_metrics": {"cost1_min": 264.7728057552559, "outflow_rate_min": 1103.1750486661194, "cost1_max": 439.003728671259, "system_level_velocity_mean": 13.230795563419939, "cost2_min": -109.65760300994279, "cost1_mean": 349.73762584301556, "system_level_velocity_min": 10.180089957450566, "cost2_max": -40.05286725397656, "outflow_rate_mean": 1255.4583637227631, "outflow_rate_max": 1595.848112570357, "cost2_mean": -79.71503707772918, "system_level_velocity_max": 16.55891224490475}, "episode_len_mean": 700.0, "config": {"input": "sampler", "output_compress_columns": ["obs", "new_obs"], "num_envs_per_worker": 1, "sample_batch_size": 750, "num_cpus_for_driver": 1, "preprocessor_pref": "deepmind", "horizon": 1500, "compress_observations": false, "vf_loss_coeff": 1.0, "input_evaluation": null, "gamma": 0.99, "optimizer": {}, "kl_target": 0.01, "entropy_coeff": 0.0, "num_gpus": 0, "sgd_minibatch_size": 128, "lr_schedule": null, "custom_resources_per_worker": {}, "kl_coeff": 0.2, "lambda": 0.97, "vf_clip_param": 1000000.0, "clip_actions": false, "output": null, "output_max_file_size": 67108864, "monitor": false, "model": {"conv_filters": null, "fcnet_activation": "tanh", "framestack": true, "custom_options": {}, "lstm_use_prev_action_reward": false, "channel_major": false, "max_seq_len": 20, "squash_to_range": false, "grayscale": false, "dim": 84, "custom_model": null, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "use_lstm": false, "lstm_cell_size": 256, "free_log_std": false, "zero_mean": true, "conv_activation": "relu"}, "collect_metrics_timeout": 180, "synchronize_filters": true, "env": "MultiWaveAttenuationMergePOEnv-v0done_[eta1, eta2, eta3]:[1.0, 0.05, 0.0]_t_min:5.0_buf_len: 1", "batch_mode": "truncate_episodes", "num_workers": 20, "straggler_mitigation": false, "use_gae": true, "vf_share_layers": false, "sample_async": false, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f89daed2080>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f89daed21d0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f89daed22b0>", "on_sample_end": null, "on_train_result": null}, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "clip_param": 0.3, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "log_level": "INFO", "observation_filter": "NoFilter", "lr": 0.0005, "num_sgd_iter": 10, "simple_optimizer": false, "train_batch_size": 30000, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}}}
{"episode_reward_max": -750.7260820238673, "episode_reward_mean": -1284.6742251640576, "timestamp": 1558587017, "experiment_id": "30635ebb86f4472d97a68d56e6633275", "episodes_this_iter": 29, "timesteps_this_iter": 57399, "pid": 31797, "done": false, "episodes_total": 372, "info": {"sample_time_ms": 31673.866, "update_time_ms": 10.261, "num_steps_trained": 793905, "grad_time_ms": 17747.75, "num_steps_sampled": 793905, "load_time_ms": 5.422, "default": {"vf_loss": 26.12058448791504, "cur_lr": 0.0005000000237487257, "entropy": 1.2243750095367432, "vf_explained_var": 0.8667645454406738, "kl": 0.008137625642120838, "cur_kl_coeff": 0.05624999478459358, "policy_loss": -0.001023598713800311, "total_loss": 26.12001609802246}}, "training_iteration": 13, "hostname": "flow-main", "time_since_restore": 676.3580636978149, "iterations_since_restore": 13, "timesteps_since_restore": 793905, "node_ip": "10.138.0.2", "policy_reward_mean": {}, "timesteps_total": 793905, "num_metric_batches_dropped": 0, "time_total_s": 676.3580636978149, "episode_reward_min": -1728.9361928159342, "time_this_iter_s": 46.9260573387146, "date": "2019-05-23_04-50-17", "custom_metrics": {"cost1_min": 276.1296534894208, "outflow_rate_min": 1103.1750486661194, "cost1_max": 439.003728671259, "system_level_velocity_mean": 13.347344013298425, "cost2_min": -105.87108759341399, "cost1_mean": 353.06441923140386, "system_level_velocity_min": 10.41148489089387, "cost2_max": -40.05286725397656, "outflow_rate_mean": 1262.8315420186864, "outflow_rate_max": 1595.848112570357, "cost2_mean": -72.34670017527779, "system_level_velocity_max": 16.55891224490475}, "episode_len_mean": 700.0, "config": {"input": "sampler", "output_compress_columns": ["obs", "new_obs"], "num_envs_per_worker": 1, "sample_batch_size": 750, "num_cpus_for_driver": 1, "preprocessor_pref": "deepmind", "horizon": 1500, "compress_observations": false, "vf_loss_coeff": 1.0, "input_evaluation": null, "gamma": 0.99, "optimizer": {}, "kl_target": 0.01, "entropy_coeff": 0.0, "num_gpus": 0, "sgd_minibatch_size": 128, "lr_schedule": null, "custom_resources_per_worker": {}, "kl_coeff": 0.2, "lambda": 0.97, "vf_clip_param": 1000000.0, "clip_actions": false, "output": null, "output_max_file_size": 67108864, "monitor": false, "model": {"conv_filters": null, "fcnet_activation": "tanh", "framestack": true, "custom_options": {}, "lstm_use_prev_action_reward": false, "channel_major": false, "max_seq_len": 20, "squash_to_range": false, "grayscale": false, "dim": 84, "custom_model": null, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "use_lstm": false, "lstm_cell_size": 256, "free_log_std": false, "zero_mean": true, "conv_activation": "relu"}, "collect_metrics_timeout": 180, "synchronize_filters": true, "env": "MultiWaveAttenuationMergePOEnv-v0done_[eta1, eta2, eta3]:[1.0, 0.05, 0.0]_t_min:5.0_buf_len: 1", "batch_mode": "truncate_episodes", "num_workers": 20, "straggler_mitigation": false, "use_gae": true, "vf_share_layers": false, "sample_async": false, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f89daed7240>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f89daed7cc0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f89daed7518>", "on_sample_end": null, "on_train_result": null}, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "clip_param": 0.3, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "log_level": "INFO", "observation_filter": "NoFilter", "lr": 0.0005, "num_sgd_iter": 10, "simple_optimizer": false, "train_batch_size": 30000, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}}}
{"episode_reward_max": -750.7260820238673, "episode_reward_mean": -1204.2177073268788, "timestamp": 1558587062, "experiment_id": "30635ebb86f4472d97a68d56e6633275", "episodes_this_iter": 27, "timesteps_this_iter": 55366, "pid": 31797, "done": false, "episodes_total": 399, "info": {"sample_time_ms": 31426.264, "update_time_ms": 10.553, "num_steps_trained": 849271, "grad_time_ms": 17849.821, "num_steps_sampled": 849271, "load_time_ms": 5.37, "default": {"vf_loss": 20.324289321899414, "cur_lr": 0.0005000000237487257, "entropy": 1.238202452659607, "vf_explained_var": 0.8860018253326416, "kl": 0.008942346088588238, "cur_kl_coeff": 0.05624999478459358, "policy_loss": -0.0019481419585645199, "total_loss": 20.322843551635742}}, "training_iteration": 14, "hostname": "flow-main", "time_since_restore": 721.324944972992, "iterations_since_restore": 14, "timesteps_since_restore": 849271, "node_ip": "10.138.0.2", "policy_reward_mean": {}, "timesteps_total": 849271, "num_metric_batches_dropped": 0, "time_total_s": 721.324944972992, "episode_reward_min": -1728.9361928159342, "time_this_iter_s": 44.966881275177, "date": "2019-05-23_04-51-02", "custom_metrics": {"cost1_min": 276.1296534894208, "outflow_rate_min": 1103.1750486661194, "cost1_max": 439.003728671259, "system_level_velocity_mean": 13.441143907446547, "cost2_min": -105.87108759341399, "cost1_mean": 355.78601569348126, "system_level_velocity_min": 10.481184327161676, "cost2_max": -36.7300251509832, "outflow_rate_mean": 1263.542275303843, "outflow_rate_max": 1595.848112570357, "cost2_mean": -64.45817268481613, "system_level_velocity_max": 16.55891224490475}, "episode_len_mean": 700.0, "config": {"input": "sampler", "output_compress_columns": ["obs", "new_obs"], "num_envs_per_worker": 1, "sample_batch_size": 750, "num_cpus_for_driver": 1, "preprocessor_pref": "deepmind", "horizon": 1500, "compress_observations": false, "vf_loss_coeff": 1.0, "input_evaluation": null, "gamma": 0.99, "optimizer": {}, "kl_target": 0.01, "entropy_coeff": 0.0, "num_gpus": 0, "sgd_minibatch_size": 128, "lr_schedule": null, "custom_resources_per_worker": {}, "kl_coeff": 0.2, "lambda": 0.97, "vf_clip_param": 1000000.0, "clip_actions": false, "output": null, "output_max_file_size": 67108864, "monitor": false, "model": {"conv_filters": null, "fcnet_activation": "tanh", "framestack": true, "custom_options": {}, "lstm_use_prev_action_reward": false, "channel_major": false, "max_seq_len": 20, "squash_to_range": false, "grayscale": false, "dim": 84, "custom_model": null, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "use_lstm": false, "lstm_cell_size": 256, "free_log_std": false, "zero_mean": true, "conv_activation": "relu"}, "collect_metrics_timeout": 180, "synchronize_filters": true, "env": "MultiWaveAttenuationMergePOEnv-v0done_[eta1, eta2, eta3]:[1.0, 0.05, 0.0]_t_min:5.0_buf_len: 1", "batch_mode": "truncate_episodes", "num_workers": 20, "straggler_mitigation": false, "use_gae": true, "vf_share_layers": false, "sample_async": false, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f89daed27f0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f89daed2550>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f89daed2780>", "on_sample_end": null, "on_train_result": null}, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "clip_param": 0.3, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "log_level": "INFO", "observation_filter": "NoFilter", "lr": 0.0005, "num_sgd_iter": 10, "simple_optimizer": false, "train_batch_size": 30000, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}}}
{"episode_reward_max": -748.7803794572766, "episode_reward_mean": -1156.3670911647641, "timestamp": 1558587110, "experiment_id": "30635ebb86f4472d97a68d56e6633275", "episodes_this_iter": 27, "timesteps_this_iter": 58848, "pid": 31797, "done": false, "episodes_total": 426, "info": {"sample_time_ms": 31454.569, "update_time_ms": 10.904, "num_steps_trained": 908119, "grad_time_ms": 18303.905, "num_steps_sampled": 908119, "load_time_ms": 5.306, "default": {"vf_loss": 27.164087295532227, "cur_lr": 0.0005000000237487257, "entropy": 1.2207919359207153, "vf_explained_var": 0.8730134963989258, "kl": 0.007132926490157843, "cur_kl_coeff": 0.056249991059303284, "policy_loss": -0.0009006918407976627, "total_loss": 27.16358757019043}}, "training_iteration": 15, "hostname": "flow-main", "time_since_restore": 769.3302264213562, "iterations_since_restore": 15, "timesteps_since_restore": 908119, "node_ip": "10.138.0.2", "policy_reward_mean": {}, "timesteps_total": 908119, "num_metric_batches_dropped": 0, "time_total_s": 769.3302264213562, "episode_reward_min": -1638.480387073066, "time_this_iter_s": 48.00528144836426, "date": "2019-05-23_04-51-50", "custom_metrics": {"cost1_min": 280.92485709986113, "outflow_rate_min": 1101.1419518813914, "cost1_max": 433.5387584708155, "system_level_velocity_mean": 13.62928824686159, "cost2_min": -87.3363801217324, "cost1_mean": 360.7017288938834, "system_level_velocity_min": 10.523798903338697, "cost2_max": -36.7300251509832, "outflow_rate_mean": 1264.7148117927861, "outflow_rate_max": 1472.5447877984084, "cost2_mean": -60.73482536496129, "system_level_velocity_max": 16.520947378565776}, "episode_len_mean": 700.0, "config": {"input": "sampler", "output_compress_columns": ["obs", "new_obs"], "num_envs_per_worker": 1, "sample_batch_size": 750, "num_cpus_for_driver": 1, "preprocessor_pref": "deepmind", "horizon": 1500, "compress_observations": false, "vf_loss_coeff": 1.0, "input_evaluation": null, "gamma": 0.99, "optimizer": {}, "kl_target": 0.01, "entropy_coeff": 0.0, "num_gpus": 0, "sgd_minibatch_size": 128, "lr_schedule": null, "custom_resources_per_worker": {}, "kl_coeff": 0.2, "lambda": 0.97, "vf_clip_param": 1000000.0, "clip_actions": false, "output": null, "output_max_file_size": 67108864, "monitor": false, "model": {"conv_filters": null, "fcnet_activation": "tanh", "framestack": true, "custom_options": {}, "lstm_use_prev_action_reward": false, "channel_major": false, "max_seq_len": 20, "squash_to_range": false, "grayscale": false, "dim": 84, "custom_model": null, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "use_lstm": false, "lstm_cell_size": 256, "free_log_std": false, "zero_mean": true, "conv_activation": "relu"}, "collect_metrics_timeout": 180, "synchronize_filters": true, "env": "MultiWaveAttenuationMergePOEnv-v0done_[eta1, eta2, eta3]:[1.0, 0.05, 0.0]_t_min:5.0_buf_len: 1", "batch_mode": "truncate_episodes", "num_workers": 20, "straggler_mitigation": false, "use_gae": true, "vf_share_layers": false, "sample_async": false, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f89daee1438>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f89daee15f8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f89daee1390>", "on_sample_end": null, "on_train_result": null}, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "clip_param": 0.3, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "log_level": "INFO", "observation_filter": "NoFilter", "lr": 0.0005, "num_sgd_iter": 10, "simple_optimizer": false, "train_batch_size": 30000, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}}}
{"episode_reward_max": -674.7680867919097, "episode_reward_mean": -1132.1767544766317, "timestamp": 1558587158, "experiment_id": "30635ebb86f4472d97a68d56e6633275", "episodes_this_iter": 27, "timesteps_this_iter": 59377, "pid": 31797, "done": false, "episodes_total": 453, "info": {"sample_time_ms": 31719.463, "update_time_ms": 10.943, "num_steps_trained": 967496, "grad_time_ms": 18574.854, "num_steps_sampled": 967496, "load_time_ms": 5.343, "default": {"vf_loss": 28.72926139831543, "cur_lr": 0.0005000000237487257, "entropy": 1.204830527305603, "vf_explained_var": 0.8834899663925171, "kl": 0.008208141662180424, "cur_kl_coeff": 0.05624999478459358, "policy_loss": -0.0013592010363936424, "total_loss": 28.728364944458008}}, "training_iteration": 16, "hostname": "flow-main", "time_since_restore": 817.962767124176, "iterations_since_restore": 16, "timesteps_since_restore": 967496, "node_ip": "10.138.0.2", "policy_reward_mean": {}, "timesteps_total": 967496, "num_metric_batches_dropped": 0, "time_total_s": 817.962767124176, "episode_reward_min": -1525.162554843848, "time_this_iter_s": 48.632540702819824, "date": "2019-05-23_04-52-38", "custom_metrics": {"cost1_min": 280.92485709986113, "outflow_rate_min": 1101.1419518813914, "cost1_max": 448.73844431778105, "system_level_velocity_mean": 13.814427724905846, "cost2_min": -87.78063559077736, "cost1_mean": 364.9137258810283, "system_level_velocity_min": 10.523798903338697, "cost2_max": -36.7300251509832, "outflow_rate_mean": 1273.7806942325162, "outflow_rate_max": 1547.446924586777, "cost2_mean": -62.053669486015814, "system_level_velocity_max": 17.188923385769673}, "episode_len_mean": 700.0, "config": {"input": "sampler", "output_compress_columns": ["obs", "new_obs"], "num_envs_per_worker": 1, "sample_batch_size": 750, "num_cpus_for_driver": 1, "preprocessor_pref": "deepmind", "horizon": 1500, "compress_observations": false, "vf_loss_coeff": 1.0, "input_evaluation": null, "gamma": 0.99, "optimizer": {}, "kl_target": 0.01, "entropy_coeff": 0.0, "num_gpus": 0, "sgd_minibatch_size": 128, "lr_schedule": null, "custom_resources_per_worker": {}, "kl_coeff": 0.2, "lambda": 0.97, "vf_clip_param": 1000000.0, "clip_actions": false, "output": null, "output_max_file_size": 67108864, "monitor": false, "model": {"conv_filters": null, "fcnet_activation": "tanh", "framestack": true, "custom_options": {}, "lstm_use_prev_action_reward": false, "channel_major": false, "max_seq_len": 20, "squash_to_range": false, "grayscale": false, "dim": 84, "custom_model": null, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "use_lstm": false, "lstm_cell_size": 256, "free_log_std": false, "zero_mean": true, "conv_activation": "relu"}, "collect_metrics_timeout": 180, "synchronize_filters": true, "env": "MultiWaveAttenuationMergePOEnv-v0done_[eta1, eta2, eta3]:[1.0, 0.05, 0.0]_t_min:5.0_buf_len: 1", "batch_mode": "truncate_episodes", "num_workers": 20, "straggler_mitigation": false, "use_gae": true, "vf_share_layers": false, "sample_async": false, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f89daed20f0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f89daed22b0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f89daed2320>", "on_sample_end": null, "on_train_result": null}, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "clip_param": 0.3, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "log_level": "INFO", "observation_filter": "NoFilter", "lr": 0.0005, "num_sgd_iter": 10, "simple_optimizer": false, "train_batch_size": 30000, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}}}
{"episode_reward_max": -21.02414297253884, "episode_reward_mean": -1130.6019888388648, "timestamp": 1558587206, "experiment_id": "30635ebb86f4472d97a68d56e6633275", "episodes_this_iter": 29, "timesteps_this_iter": 58020, "pid": 31797, "done": false, "episodes_total": 482, "info": {"sample_time_ms": 31498.968, "update_time_ms": 10.857, "num_steps_trained": 1025516, "grad_time_ms": 18425.458, "num_steps_sampled": 1025516, "load_time_ms": 5.363, "default": {"vf_loss": 25.570308685302734, "cur_lr": 0.0005000000237487257, "entropy": 1.193914532661438, "vf_explained_var": 0.893286943435669, "kl": 0.006986960303038359, "cur_kl_coeff": 0.05624999478459358, "policy_loss": -0.0014618105487897992, "total_loss": 25.56924057006836}}, "training_iteration": 17, "hostname": "flow-main", "time_since_restore": 865.1644456386566, "iterations_since_restore": 17, "timesteps_since_restore": 1025516, "node_ip": "10.138.0.2", "policy_reward_mean": {}, "timesteps_total": 1025516, "num_metric_batches_dropped": 0, "time_total_s": 865.1644456386566, "episode_reward_min": -1525.162554843848, "time_this_iter_s": 47.20167851448059, "date": "2019-05-23_04-53-26", "custom_metrics": {"cost1_min": 18.802430751255592, "outflow_rate_min": 494.7296310415792, "cost1_max": 458.47895986601725, "system_level_velocity_mean": 14.018405414963286, "cost2_min": -91.27349723362539, "cost1_mean": 364.5567251371429, "system_level_velocity_min": 10.886174524559518, "cost2_max": -14.758167426957517, "outflow_rate_mean": 1271.9878443833766, "outflow_rate_max": 1600.3415117514223, "cost2_mean": -66.19494373733316, "system_level_velocity_max": 18.387599740570572}, "episode_len_mean": 693.28, "config": {"input": "sampler", "output_compress_columns": ["obs", "new_obs"], "num_envs_per_worker": 1, "sample_batch_size": 750, "num_cpus_for_driver": 1, "preprocessor_pref": "deepmind", "horizon": 1500, "compress_observations": false, "vf_loss_coeff": 1.0, "input_evaluation": null, "gamma": 0.99, "optimizer": {}, "kl_target": 0.01, "entropy_coeff": 0.0, "num_gpus": 0, "sgd_minibatch_size": 128, "lr_schedule": null, "custom_resources_per_worker": {}, "kl_coeff": 0.2, "lambda": 0.97, "vf_clip_param": 1000000.0, "clip_actions": false, "output": null, "output_max_file_size": 67108864, "monitor": false, "model": {"conv_filters": null, "fcnet_activation": "tanh", "framestack": true, "custom_options": {}, "lstm_use_prev_action_reward": false, "channel_major": false, "max_seq_len": 20, "squash_to_range": false, "grayscale": false, "dim": 84, "custom_model": null, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "use_lstm": false, "lstm_cell_size": 256, "free_log_std": false, "zero_mean": true, "conv_activation": "relu"}, "collect_metrics_timeout": 180, "synchronize_filters": true, "env": "MultiWaveAttenuationMergePOEnv-v0done_[eta1, eta2, eta3]:[1.0, 0.05, 0.0]_t_min:5.0_buf_len: 1", "batch_mode": "truncate_episodes", "num_workers": 20, "straggler_mitigation": false, "use_gae": true, "vf_share_layers": false, "sample_async": false, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f89daed2748>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f89daed2390>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f89daed2cf8>", "on_sample_end": null, "on_train_result": null}, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "clip_param": 0.3, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "log_level": "INFO", "observation_filter": "NoFilter", "lr": 0.0005, "num_sgd_iter": 10, "simple_optimizer": false, "train_batch_size": 30000, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}}}
{"episode_reward_max": -21.02414297253884, "episode_reward_mean": -1145.5449525762854, "timestamp": 1558587253, "experiment_id": "30635ebb86f4472d97a68d56e6633275", "episodes_this_iter": 27, "timesteps_this_iter": 57767, "pid": 31797, "done": false, "episodes_total": 509, "info": {"sample_time_ms": 31389.525, "update_time_ms": 10.516, "num_steps_trained": 1083283, "grad_time_ms": 17977.09, "num_steps_sampled": 1083283, "load_time_ms": 5.306, "default": {"vf_loss": 23.575284957885742, "cur_lr": 0.0005000000237487257, "entropy": 1.195817470550537, "vf_explained_var": 0.9001184105873108, "kl": 0.006746836006641388, "cur_kl_coeff": 0.05624999478459358, "policy_loss": -0.0011018033837899566, "total_loss": 23.57456398010254}}, "training_iteration": 18, "hostname": "flow-main", "time_since_restore": 912.6781826019287, "iterations_since_restore": 18, "timesteps_since_restore": 1083283, "node_ip": "10.138.0.2", "policy_reward_mean": {}, "timesteps_total": 1083283, "num_metric_batches_dropped": 0, "time_total_s": 912.6781826019287, "episode_reward_min": -1525.162554843848, "time_this_iter_s": 47.513736963272095, "date": "2019-05-23_04-54-13", "custom_metrics": {"cost1_min": 18.802430751255592, "outflow_rate_min": 494.7296310415792, "cost1_max": 460.8140931989331, "system_level_velocity_mean": 14.00988753214005, "cost2_min": -91.27349723362539, "cost1_mean": 363.5823509742105, "system_level_velocity_min": 10.886174524559518, "cost2_max": -14.758167426957517, "outflow_rate_mean": 1274.7051160911751, "outflow_rate_max": 1605.8103786589606, "cost2_mean": -70.26454316128321, "system_level_velocity_max": 18.387599740570572}, "episode_len_mean": 693.28, "config": {"input": "sampler", "output_compress_columns": ["obs", "new_obs"], "num_envs_per_worker": 1, "sample_batch_size": 750, "num_cpus_for_driver": 1, "preprocessor_pref": "deepmind", "horizon": 1500, "compress_observations": false, "vf_loss_coeff": 1.0, "input_evaluation": null, "gamma": 0.99, "optimizer": {}, "kl_target": 0.01, "entropy_coeff": 0.0, "num_gpus": 0, "sgd_minibatch_size": 128, "lr_schedule": null, "custom_resources_per_worker": {}, "kl_coeff": 0.2, "lambda": 0.97, "vf_clip_param": 1000000.0, "clip_actions": false, "output": null, "output_max_file_size": 67108864, "monitor": false, "model": {"conv_filters": null, "fcnet_activation": "tanh", "framestack": true, "custom_options": {}, "lstm_use_prev_action_reward": false, "channel_major": false, "max_seq_len": 20, "squash_to_range": false, "grayscale": false, "dim": 84, "custom_model": null, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "use_lstm": false, "lstm_cell_size": 256, "free_log_std": false, "zero_mean": true, "conv_activation": "relu"}, "collect_metrics_timeout": 180, "synchronize_filters": true, "env": "MultiWaveAttenuationMergePOEnv-v0done_[eta1, eta2, eta3]:[1.0, 0.05, 0.0]_t_min:5.0_buf_len: 1", "batch_mode": "truncate_episodes", "num_workers": 20, "straggler_mitigation": false, "use_gae": true, "vf_share_layers": false, "sample_async": false, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f89daef0cf8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f89daef0048>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f89daef00f0>", "on_sample_end": null, "on_train_result": null}, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "clip_param": 0.3, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "log_level": "INFO", "observation_filter": "NoFilter", "lr": 0.0005, "num_sgd_iter": 10, "simple_optimizer": false, "train_batch_size": 30000, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}}}
{"episode_reward_max": -21.02414297253884, "episode_reward_mean": -1131.9309683551196, "timestamp": 1558587302, "experiment_id": "30635ebb86f4472d97a68d56e6633275", "episodes_this_iter": 30, "timesteps_this_iter": 58393, "pid": 31797, "done": false, "episodes_total": 539, "info": {"sample_time_ms": 31402.45, "update_time_ms": 10.643, "num_steps_trained": 1141676, "grad_time_ms": 17668.459, "num_steps_sampled": 1141676, "load_time_ms": 5.295, "default": {"vf_loss": 28.313919067382812, "cur_lr": 0.0005000000237487257, "entropy": 1.195009708404541, "vf_explained_var": 0.8863912224769592, "kl": 0.007686892990022898, "cur_kl_coeff": 0.05624999478459358, "policy_loss": -0.00127809785772115, "total_loss": 28.313074111938477}}, "training_iteration": 19, "hostname": "flow-main", "time_since_restore": 961.4413397312164, "iterations_since_restore": 19, "timesteps_since_restore": 1141676, "node_ip": "10.138.0.2", "policy_reward_mean": {}, "timesteps_total": 1141676, "num_metric_batches_dropped": 0, "time_total_s": 961.4413397312164, "episode_reward_min": -1525.162554843848, "time_this_iter_s": 48.76315712928772, "date": "2019-05-23_04-55-02", "custom_metrics": {"cost1_min": 18.802430751255592, "outflow_rate_min": 494.7296310415792, "cost1_max": 464.77574969807836, "system_level_velocity_mean": 14.138315145415518, "cost2_min": -91.27349723362539, "cost1_mean": 362.6237939481699, "system_level_velocity_min": 10.918623635173935, "cost2_max": -14.758167426957517, "outflow_rate_mean": 1274.6056510347375, "outflow_rate_max": 1605.8103786589606, "cost2_mean": -72.05410284338468, "system_level_velocity_max": 18.65131574369548}, "episode_len_mean": 687.53, "config": {"input": "sampler", "output_compress_columns": ["obs", "new_obs"], "num_envs_per_worker": 1, "sample_batch_size": 750, "num_cpus_for_driver": 1, "preprocessor_pref": "deepmind", "horizon": 1500, "compress_observations": false, "vf_loss_coeff": 1.0, "input_evaluation": null, "gamma": 0.99, "optimizer": {}, "kl_target": 0.01, "entropy_coeff": 0.0, "num_gpus": 0, "sgd_minibatch_size": 128, "lr_schedule": null, "custom_resources_per_worker": {}, "kl_coeff": 0.2, "lambda": 0.97, "vf_clip_param": 1000000.0, "clip_actions": false, "output": null, "output_max_file_size": 67108864, "monitor": false, "model": {"conv_filters": null, "fcnet_activation": "tanh", "framestack": true, "custom_options": {}, "lstm_use_prev_action_reward": false, "channel_major": false, "max_seq_len": 20, "squash_to_range": false, "grayscale": false, "dim": 84, "custom_model": null, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "use_lstm": false, "lstm_cell_size": 256, "free_log_std": false, "zero_mean": true, "conv_activation": "relu"}, "collect_metrics_timeout": 180, "synchronize_filters": true, "env": "MultiWaveAttenuationMergePOEnv-v0done_[eta1, eta2, eta3]:[1.0, 0.05, 0.0]_t_min:5.0_buf_len: 1", "batch_mode": "truncate_episodes", "num_workers": 20, "straggler_mitigation": false, "use_gae": true, "vf_share_layers": false, "sample_async": false, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f89daee1710>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f89daee1e10>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f89daee1e48>", "on_sample_end": null, "on_train_result": null}, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "clip_param": 0.3, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "log_level": "INFO", "observation_filter": "NoFilter", "lr": 0.0005, "num_sgd_iter": 10, "simple_optimizer": false, "train_batch_size": 30000, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}}}
{"episode_reward_max": -21.02414297253884, "episode_reward_mean": -1132.8102839829692, "timestamp": 1558587351, "experiment_id": "30635ebb86f4472d97a68d56e6633275", "episodes_this_iter": 31, "timesteps_this_iter": 56687, "pid": 31797, "done": false, "episodes_total": 570, "info": {"sample_time_ms": 31223.835, "update_time_ms": 10.54, "num_steps_trained": 1198363, "grad_time_ms": 17341.098, "num_steps_sampled": 1198363, "load_time_ms": 5.011, "default": {"vf_loss": 27.167999267578125, "cur_lr": 0.0005000000237487257, "entropy": 1.18113112449646, "vf_explained_var": 0.8806784749031067, "kl": 0.006901850923895836, "cur_kl_coeff": 0.05624999478459358, "policy_loss": -0.0016842444892972708, "total_loss": 27.166702270507812}}, "training_iteration": 20, "hostname": "flow-main", "time_since_restore": 1010.697062253952, "iterations_since_restore": 20, "timesteps_since_restore": 1198363, "node_ip": "10.138.0.2", "policy_reward_mean": {}, "timesteps_total": 1198363, "num_metric_batches_dropped": 0, "time_total_s": 1010.697062253952, "episode_reward_min": -1432.005109270665, "time_this_iter_s": 49.255722522735596, "date": "2019-05-23_04-55-51", "custom_metrics": {"cost1_min": 18.802430751255592, "outflow_rate_min": 494.7296310415792, "cost1_max": 464.77574969807836, "system_level_velocity_mean": 14.057886897159303, "cost2_min": -90.61679393200431, "cost1_mean": 360.08359105808483, "system_level_velocity_min": 11.117892921500191, "cost2_max": -14.758167426957517, "outflow_rate_mean": 1265.075771513138, "outflow_rate_max": 1605.8103786589606, "cost2_mean": -71.52062226875275, "system_level_velocity_max": 18.65131574369548}, "episode_len_mean": 687.53, "config": {"input": "sampler", "output_compress_columns": ["obs", "new_obs"], "num_envs_per_worker": 1, "sample_batch_size": 750, "num_cpus_for_driver": 1, "preprocessor_pref": "deepmind", "horizon": 1500, "compress_observations": false, "vf_loss_coeff": 1.0, "input_evaluation": null, "gamma": 0.99, "optimizer": {}, "kl_target": 0.01, "entropy_coeff": 0.0, "num_gpus": 0, "sgd_minibatch_size": 128, "lr_schedule": null, "custom_resources_per_worker": {}, "kl_coeff": 0.2, "lambda": 0.97, "vf_clip_param": 1000000.0, "clip_actions": false, "output": null, "output_max_file_size": 67108864, "monitor": false, "model": {"conv_filters": null, "fcnet_activation": "tanh", "framestack": true, "custom_options": {}, "lstm_use_prev_action_reward": false, "channel_major": false, "max_seq_len": 20, "squash_to_range": false, "grayscale": false, "dim": 84, "custom_model": null, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "use_lstm": false, "lstm_cell_size": 256, "free_log_std": false, "zero_mean": true, "conv_activation": "relu"}, "collect_metrics_timeout": 180, "synchronize_filters": true, "env": "MultiWaveAttenuationMergePOEnv-v0done_[eta1, eta2, eta3]:[1.0, 0.05, 0.0]_t_min:5.0_buf_len: 1", "batch_mode": "truncate_episodes", "num_workers": 20, "straggler_mitigation": false, "use_gae": true, "vf_share_layers": false, "sample_async": false, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f89daef0b70>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f89daef04a8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f89daef00b8>", "on_sample_end": null, "on_train_result": null}, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "clip_param": 0.3, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "log_level": "INFO", "observation_filter": "NoFilter", "lr": 0.0005, "num_sgd_iter": 10, "simple_optimizer": false, "train_batch_size": 30000, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}}}
{"episode_reward_max": -20.81812897943282, "episode_reward_mean": -1091.4175930300644, "timestamp": 1558587401, "experiment_id": "30635ebb86f4472d97a68d56e6633275", "episodes_this_iter": 36, "timesteps_this_iter": 56827, "pid": 31797, "done": false, "episodes_total": 606, "info": {"sample_time_ms": 31214.251, "update_time_ms": 10.541, "num_steps_trained": 1255190, "grad_time_ms": 16945.946, "num_steps_sampled": 1255190, "load_time_ms": 4.871, "default": {"vf_loss": 28.698272705078125, "cur_lr": 0.0005000000237487257, "entropy": 1.1829930543899536, "vf_explained_var": 0.8775506615638733, "kl": 0.00604602973908186, "cur_kl_coeff": 0.05624999478459358, "policy_loss": -0.0011132282670587301, "total_loss": 28.697500228881836}}, "training_iteration": 21, "hostname": "flow-main", "time_since_restore": 1060.4511268138885, "iterations_since_restore": 21, "timesteps_since_restore": 1255190, "node_ip": "10.138.0.2", "policy_reward_mean": {}, "timesteps_total": 1255190, "num_metric_batches_dropped": 0, "time_total_s": 1060.4511268138885, "episode_reward_min": -1406.024566168826, "time_this_iter_s": 49.75406455993652, "date": "2019-05-23_04-56-41", "custom_metrics": {"cost1_min": 17.841983994682003, "outflow_rate_min": 468.3060651104501, "cost1_max": 464.77574969807836, "system_level_velocity_mean": 14.223548885374953, "cost2_min": -90.61679393200431, "cost1_mean": 351.60336290692095, "system_level_velocity_min": 11.725620877580388, "cost2_max": -11.006294045908362, "outflow_rate_mean": 1242.9882972378855, "outflow_rate_max": 1588.4939414362516, "cost2_mean": -69.77037988561511, "system_level_velocity_max": 18.65131574369548}, "episode_len_mean": 668.23, "config": {"input": "sampler", "output_compress_columns": ["obs", "new_obs"], "num_envs_per_worker": 1, "sample_batch_size": 750, "num_cpus_for_driver": 1, "preprocessor_pref": "deepmind", "horizon": 1500, "compress_observations": false, "vf_loss_coeff": 1.0, "input_evaluation": null, "gamma": 0.99, "optimizer": {}, "kl_target": 0.01, "entropy_coeff": 0.0, "num_gpus": 0, "sgd_minibatch_size": 128, "lr_schedule": null, "custom_resources_per_worker": {}, "kl_coeff": 0.2, "lambda": 0.97, "vf_clip_param": 1000000.0, "clip_actions": false, "output": null, "output_max_file_size": 67108864, "monitor": false, "model": {"conv_filters": null, "fcnet_activation": "tanh", "framestack": true, "custom_options": {}, "lstm_use_prev_action_reward": false, "channel_major": false, "max_seq_len": 20, "squash_to_range": false, "grayscale": false, "dim": 84, "custom_model": null, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "use_lstm": false, "lstm_cell_size": 256, "free_log_std": false, "zero_mean": true, "conv_activation": "relu"}, "collect_metrics_timeout": 180, "synchronize_filters": true, "env": "MultiWaveAttenuationMergePOEnv-v0done_[eta1, eta2, eta3]:[1.0, 0.05, 0.0]_t_min:5.0_buf_len: 1", "batch_mode": "truncate_episodes", "num_workers": 20, "straggler_mitigation": false, "use_gae": true, "vf_share_layers": false, "sample_async": false, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f89daee1940>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f89daee1358>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f89daee1860>", "on_sample_end": null, "on_train_result": null}, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "clip_param": 0.3, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "log_level": "INFO", "observation_filter": "NoFilter", "lr": 0.0005, "num_sgd_iter": 10, "simple_optimizer": false, "train_batch_size": 30000, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}}}
{"episode_reward_max": -20.81812897943282, "episode_reward_mean": -1100.0306497448378, "timestamp": 1558587447, "experiment_id": "30635ebb86f4472d97a68d56e6633275", "episodes_this_iter": 29, "timesteps_this_iter": 57560, "pid": 31797, "done": false, "episodes_total": 635, "info": {"sample_time_ms": 31003.597, "update_time_ms": 10.389, "num_steps_trained": 1312750, "grad_time_ms": 16535.345, "num_steps_sampled": 1312750, "load_time_ms": 4.906, "default": {"vf_loss": 23.141752243041992, "cur_lr": 0.0005000000237487257, "entropy": 1.1532816886901855, "vf_explained_var": 0.9037495851516724, "kl": 0.008654411882162094, "cur_kl_coeff": 0.056249991059303284, "policy_loss": -0.0013837565202265978, "total_loss": 23.14085578918457}}, "training_iteration": 22, "hostname": "flow-main", "time_since_restore": 1106.0930454730988, "iterations_since_restore": 22, "timesteps_since_restore": 1312750, "node_ip": "10.138.0.2", "policy_reward_mean": {}, "timesteps_total": 1312750, "num_metric_batches_dropped": 0, "time_total_s": 1106.0930454730988, "episode_reward_min": -1406.024566168826, "time_this_iter_s": 45.641918659210205, "date": "2019-05-23_04-57-27", "custom_metrics": {"cost1_min": 17.841983994682003, "outflow_rate_min": 468.3060651104501, "cost1_max": 464.11361700609916, "system_level_velocity_mean": 14.09908547028567, "cost2_min": -92.3602436159826, "cost1_mean": 351.94283891678197, "system_level_velocity_min": 11.601151147894036, "cost2_max": -11.006294045908362, "outflow_rate_mean": 1246.2726281401817, "outflow_rate_max": 1598.2410141676498, "cost2_mean": -69.82719627665976, "system_level_velocity_max": 18.5590145518575}, "episode_len_mean": 673.98, "config": {"input": "sampler", "output_compress_columns": ["obs", "new_obs"], "num_envs_per_worker": 1, "sample_batch_size": 750, "num_cpus_for_driver": 1, "preprocessor_pref": "deepmind", "horizon": 1500, "compress_observations": false, "vf_loss_coeff": 1.0, "input_evaluation": null, "gamma": 0.99, "optimizer": {}, "kl_target": 0.01, "entropy_coeff": 0.0, "num_gpus": 0, "sgd_minibatch_size": 128, "lr_schedule": null, "custom_resources_per_worker": {}, "kl_coeff": 0.2, "lambda": 0.97, "vf_clip_param": 1000000.0, "clip_actions": false, "output": null, "output_max_file_size": 67108864, "monitor": false, "model": {"conv_filters": null, "fcnet_activation": "tanh", "framestack": true, "custom_options": {}, "lstm_use_prev_action_reward": false, "channel_major": false, "max_seq_len": 20, "squash_to_range": false, "grayscale": false, "dim": 84, "custom_model": null, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "use_lstm": false, "lstm_cell_size": 256, "free_log_std": false, "zero_mean": true, "conv_activation": "relu"}, "collect_metrics_timeout": 180, "synchronize_filters": true, "env": "MultiWaveAttenuationMergePOEnv-v0done_[eta1, eta2, eta3]:[1.0, 0.05, 0.0]_t_min:5.0_buf_len: 1", "batch_mode": "truncate_episodes", "num_workers": 20, "straggler_mitigation": false, "use_gae": true, "vf_share_layers": false, "sample_async": false, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f89daef0860>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f89daef0390>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f89daef0550>", "on_sample_end": null, "on_train_result": null}, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "clip_param": 0.3, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "log_level": "INFO", "observation_filter": "NoFilter", "lr": 0.0005, "num_sgd_iter": 10, "simple_optimizer": false, "train_batch_size": 30000, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}}}
{"episode_reward_max": -20.81812897943282, "episode_reward_mean": -1069.0182672310223, "timestamp": 1558587494, "experiment_id": "30635ebb86f4472d97a68d56e6633275", "episodes_this_iter": 32, "timesteps_this_iter": 57500, "pid": 31797, "done": false, "episodes_total": 667, "info": {"sample_time_ms": 31285.852, "update_time_ms": 9.503, "num_steps_trained": 1370250, "grad_time_ms": 16289.543, "num_steps_sampled": 1370250, "load_time_ms": 4.803, "default": {"vf_loss": 25.306032180786133, "cur_lr": 0.0005000000237487257, "entropy": 1.1386359930038452, "vf_explained_var": 0.885591983795166, "kl": 0.008748576045036316, "cur_kl_coeff": 0.056249991059303284, "policy_loss": -0.002655224408954382, "total_loss": 25.303869247436523}}, "training_iteration": 23, "hostname": "flow-main", "time_since_restore": 1153.362714290619, "iterations_since_restore": 23, "timesteps_since_restore": 1370250, "node_ip": "10.138.0.2", "policy_reward_mean": {}, "timesteps_total": 1370250, "num_metric_batches_dropped": 0, "time_total_s": 1153.362714290619, "episode_reward_min": -1365.722156629306, "time_this_iter_s": 47.26966881752014, "date": "2019-05-23_04-58-14", "custom_metrics": {"cost1_min": 17.841983994682003, "outflow_rate_min": 460.7989278777953, "cost1_max": 464.11361700609916, "system_level_velocity_mean": 14.301268481177875, "cost2_min": -92.3602436159826, "cost1_mean": 352.50481144751006, "system_level_velocity_min": 11.601151147894036, "cost2_max": -11.006294045908362, "outflow_rate_mean": 1240.0138873261503, "outflow_rate_max": 1598.2410141676498, "cost2_mean": -67.09891481211234, "system_level_velocity_max": 18.708106236244575}, "episode_len_mean": 667.33, "config": {"input": "sampler", "output_compress_columns": ["obs", "new_obs"], "num_envs_per_worker": 1, "sample_batch_size": 750, "num_cpus_for_driver": 1, "preprocessor_pref": "deepmind", "horizon": 1500, "compress_observations": false, "vf_loss_coeff": 1.0, "input_evaluation": null, "gamma": 0.99, "optimizer": {}, "kl_target": 0.01, "entropy_coeff": 0.0, "num_gpus": 0, "sgd_minibatch_size": 128, "lr_schedule": null, "custom_resources_per_worker": {}, "kl_coeff": 0.2, "lambda": 0.97, "vf_clip_param": 1000000.0, "clip_actions": false, "output": null, "output_max_file_size": 67108864, "monitor": false, "model": {"conv_filters": null, "fcnet_activation": "tanh", "framestack": true, "custom_options": {}, "lstm_use_prev_action_reward": false, "channel_major": false, "max_seq_len": 20, "squash_to_range": false, "grayscale": false, "dim": 84, "custom_model": null, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "use_lstm": false, "lstm_cell_size": 256, "free_log_std": false, "zero_mean": true, "conv_activation": "relu"}, "collect_metrics_timeout": 180, "synchronize_filters": true, "env": "MultiWaveAttenuationMergePOEnv-v0done_[eta1, eta2, eta3]:[1.0, 0.05, 0.0]_t_min:5.0_buf_len: 1", "batch_mode": "truncate_episodes", "num_workers": 20, "straggler_mitigation": false, "use_gae": true, "vf_share_layers": false, "sample_async": false, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f89daed2940>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f89daed2278>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f89daed26d8>", "on_sample_end": null, "on_train_result": null}, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "clip_param": 0.3, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "log_level": "INFO", "observation_filter": "NoFilter", "lr": 0.0005, "num_sgd_iter": 10, "simple_optimizer": false, "train_batch_size": 30000, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}}}
{"episode_reward_max": -21.24960983057887, "episode_reward_mean": -1062.3726547318124, "timestamp": 1558587540, "experiment_id": "30635ebb86f4472d97a68d56e6633275", "episodes_this_iter": 30, "timesteps_this_iter": 56915, "pid": 31797, "done": false, "episodes_total": 697, "info": {"sample_time_ms": 31562.203, "update_time_ms": 9.198, "num_steps_trained": 1427165, "grad_time_ms": 16139.659, "num_steps_sampled": 1427165, "load_time_ms": 4.747, "default": {"vf_loss": 23.744298934936523, "cur_lr": 0.0005000000237487257, "entropy": 1.1331019401550293, "vf_explained_var": 0.8818082213401794, "kl": 0.008095866069197655, "cur_kl_coeff": 0.05624999478459358, "policy_loss": -0.001458344398997724, "total_loss": 23.743295669555664}}, "training_iteration": 24, "hostname": "flow-main", "time_since_restore": 1199.5863478183746, "iterations_since_restore": 24, "timesteps_since_restore": 1427165, "node_ip": "10.138.0.2", "policy_reward_mean": {}, "timesteps_total": 1427165, "num_metric_batches_dropped": 0, "time_total_s": 1199.5863478183746, "episode_reward_min": -1387.995408128027, "time_this_iter_s": 46.22363352775574, "date": "2019-05-23_04-59-00", "custom_metrics": {"cost1_min": 17.841983994682003, "outflow_rate_min": 460.7989278777953, "cost1_max": 464.11361700609916, "system_level_velocity_mean": 14.329496350406616, "cost2_min": -92.3602436159826, "cost1_mean": 361.5456003712318, "system_level_velocity_min": 11.218895381242431, "cost2_max": -11.006294045908362, "outflow_rate_mean": 1259.5898349444394, "outflow_rate_max": 1598.2410141676498, "cost2_mean": -65.8320672366378, "system_level_velocity_max": 18.708106236244575}, "episode_len_mean": 679.89, "config": {"input": "sampler", "output_compress_columns": ["obs", "new_obs"], "num_envs_per_worker": 1, "sample_batch_size": 750, "num_cpus_for_driver": 1, "preprocessor_pref": "deepmind", "horizon": 1500, "compress_observations": false, "vf_loss_coeff": 1.0, "input_evaluation": null, "gamma": 0.99, "optimizer": {}, "kl_target": 0.01, "entropy_coeff": 0.0, "num_gpus": 0, "sgd_minibatch_size": 128, "lr_schedule": null, "custom_resources_per_worker": {}, "kl_coeff": 0.2, "lambda": 0.97, "vf_clip_param": 1000000.0, "clip_actions": false, "output": null, "output_max_file_size": 67108864, "monitor": false, "model": {"conv_filters": null, "fcnet_activation": "tanh", "framestack": true, "custom_options": {}, "lstm_use_prev_action_reward": false, "channel_major": false, "max_seq_len": 20, "squash_to_range": false, "grayscale": false, "dim": 84, "custom_model": null, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "use_lstm": false, "lstm_cell_size": 256, "free_log_std": false, "zero_mean": true, "conv_activation": "relu"}, "collect_metrics_timeout": 180, "synchronize_filters": true, "env": "MultiWaveAttenuationMergePOEnv-v0done_[eta1, eta2, eta3]:[1.0, 0.05, 0.0]_t_min:5.0_buf_len: 1", "batch_mode": "truncate_episodes", "num_workers": 20, "straggler_mitigation": false, "use_gae": true, "vf_share_layers": false, "sample_async": false, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f89daef0048>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f89daef0358>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f89daef03c8>", "on_sample_end": null, "on_train_result": null}, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "clip_param": 0.3, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "log_level": "INFO", "observation_filter": "NoFilter", "lr": 0.0005, "num_sgd_iter": 10, "simple_optimizer": false, "train_batch_size": 30000, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}}}
{"episode_reward_max": -28.794435480985275, "episode_reward_mean": -1044.4653065232947, "timestamp": 1558587587, "experiment_id": "30635ebb86f4472d97a68d56e6633275", "episodes_this_iter": 29, "timesteps_this_iter": 56001, "pid": 31797, "done": false, "episodes_total": 726, "info": {"sample_time_ms": 31633.257, "update_time_ms": 8.953, "num_steps_trained": 1483166, "grad_time_ms": 15947.223, "num_steps_sampled": 1483166, "load_time_ms": 4.793, "default": {"vf_loss": 21.241676330566406, "cur_lr": 0.0005000000237487257, "entropy": 1.147011637687683, "vf_explained_var": 0.8891047835350037, "kl": 0.007436042185872793, "cur_kl_coeff": 0.05624999850988388, "policy_loss": -0.0011523939901962876, "total_loss": 21.24094009399414}}, "training_iteration": 25, "hostname": "flow-main", "time_since_restore": 1246.3691878318787, "iterations_since_restore": 25, "timesteps_since_restore": 1483166, "node_ip": "10.138.0.2", "policy_reward_mean": {}, "timesteps_total": 1483166, "num_metric_batches_dropped": 0, "time_total_s": 1246.3691878318787, "episode_reward_min": -1387.995408128027, "time_this_iter_s": 46.78284001350403, "date": "2019-05-23_04-59-47", "custom_metrics": {"cost1_min": 23.289618053824565, "outflow_rate_min": 460.7989278777953, "cost1_max": 464.11361700609916, "system_level_velocity_mean": 14.496612623144635, "cost2_min": -81.19283476436543, "cost1_mean": 373.3619684564296, "system_level_velocity_min": 11.218895381242431, "cost2_max": -17.63173659271243, "outflow_rate_mean": 1279.5412684949013, "outflow_rate_max": 1598.2410141676498, "cost2_mean": -63.707305889949005, "system_level_velocity_max": 18.708106236244575}, "episode_len_mean": 692.02, "config": {"input": "sampler", "output_compress_columns": ["obs", "new_obs"], "num_envs_per_worker": 1, "sample_batch_size": 750, "num_cpus_for_driver": 1, "preprocessor_pref": "deepmind", "horizon": 1500, "compress_observations": false, "vf_loss_coeff": 1.0, "input_evaluation": null, "gamma": 0.99, "optimizer": {}, "kl_target": 0.01, "entropy_coeff": 0.0, "num_gpus": 0, "sgd_minibatch_size": 128, "lr_schedule": null, "custom_resources_per_worker": {}, "kl_coeff": 0.2, "lambda": 0.97, "vf_clip_param": 1000000.0, "clip_actions": false, "output": null, "output_max_file_size": 67108864, "monitor": false, "model": {"conv_filters": null, "fcnet_activation": "tanh", "framestack": true, "custom_options": {}, "lstm_use_prev_action_reward": false, "channel_major": false, "max_seq_len": 20, "squash_to_range": false, "grayscale": false, "dim": 84, "custom_model": null, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "use_lstm": false, "lstm_cell_size": 256, "free_log_std": false, "zero_mean": true, "conv_activation": "relu"}, "collect_metrics_timeout": 180, "synchronize_filters": true, "env": "MultiWaveAttenuationMergePOEnv-v0done_[eta1, eta2, eta3]:[1.0, 0.05, 0.0]_t_min:5.0_buf_len: 1", "batch_mode": "truncate_episodes", "num_workers": 20, "straggler_mitigation": false, "use_gae": true, "vf_share_layers": false, "sample_async": false, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f89daee1358>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f89daee19e8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f89daee1860>", "on_sample_end": null, "on_train_result": null}, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "clip_param": 0.3, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "log_level": "INFO", "observation_filter": "NoFilter", "lr": 0.0005, "num_sgd_iter": 10, "simple_optimizer": false, "train_batch_size": 30000, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}}}
{"episode_reward_max": -28.794435480985275, "episode_reward_mean": -1008.1813626463476, "timestamp": 1558587631, "experiment_id": "30635ebb86f4472d97a68d56e6633275", "episodes_this_iter": 28, "timesteps_this_iter": 53369, "pid": 31797, "done": false, "episodes_total": 754, "info": {"sample_time_ms": 31439.297, "update_time_ms": 9.267, "num_steps_trained": 1536535, "grad_time_ms": 15613.284, "num_steps_sampled": 1536535, "load_time_ms": 4.788, "default": {"vf_loss": 16.774303436279297, "cur_lr": 0.0005000000237487257, "entropy": 1.1504902839660645, "vf_explained_var": 0.8921843767166138, "kl": 0.00916542112827301, "cur_kl_coeff": 0.05624999478459358, "policy_loss": -0.0019563590176403522, "total_loss": 16.77286148071289}}, "training_iteration": 26, "hostname": "flow-main", "time_since_restore": 1289.6957948207855, "iterations_since_restore": 26, "timesteps_since_restore": 1536535, "node_ip": "10.138.0.2", "policy_reward_mean": {}, "timesteps_total": 1536535, "num_metric_batches_dropped": 0, "time_total_s": 1289.6957948207855, "episode_reward_min": -1387.995408128027, "time_this_iter_s": 43.32660698890686, "date": "2019-05-23_05-00-31", "custom_metrics": {"cost1_min": 23.289618053824565, "outflow_rate_min": 460.7989278777953, "cost1_max": 463.0840864006243, "system_level_velocity_mean": 14.542149419684407, "cost2_min": -81.19283476436543, "cost1_mean": 374.16089460457135, "system_level_velocity_min": 11.218895381242431, "cost2_max": -17.63173659271243, "outflow_rate_mean": 1281.7571919714296, "outflow_rate_max": 1544.5895731436042, "cost2_mean": -60.74647014800102, "system_level_velocity_max": 18.708106236244575}, "episode_len_mean": 692.02, "config": {"input": "sampler", "output_compress_columns": ["obs", "new_obs"], "num_envs_per_worker": 1, "sample_batch_size": 750, "num_cpus_for_driver": 1, "preprocessor_pref": "deepmind", "horizon": 1500, "compress_observations": false, "vf_loss_coeff": 1.0, "input_evaluation": null, "gamma": 0.99, "optimizer": {}, "kl_target": 0.01, "entropy_coeff": 0.0, "num_gpus": 0, "sgd_minibatch_size": 128, "lr_schedule": null, "custom_resources_per_worker": {}, "kl_coeff": 0.2, "lambda": 0.97, "vf_clip_param": 1000000.0, "clip_actions": false, "output": null, "output_max_file_size": 67108864, "monitor": false, "model": {"conv_filters": null, "fcnet_activation": "tanh", "framestack": true, "custom_options": {}, "lstm_use_prev_action_reward": false, "channel_major": false, "max_seq_len": 20, "squash_to_range": false, "grayscale": false, "dim": 84, "custom_model": null, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "use_lstm": false, "lstm_cell_size": 256, "free_log_std": false, "zero_mean": true, "conv_activation": "relu"}, "collect_metrics_timeout": 180, "synchronize_filters": true, "env": "MultiWaveAttenuationMergePOEnv-v0done_[eta1, eta2, eta3]:[1.0, 0.05, 0.0]_t_min:5.0_buf_len: 1", "batch_mode": "truncate_episodes", "num_workers": 20, "straggler_mitigation": false, "use_gae": true, "vf_share_layers": false, "sample_async": false, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f89daef0780>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f89daef0d30>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f89daef0160>", "on_sample_end": null, "on_train_result": null}, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "clip_param": 0.3, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "log_level": "INFO", "observation_filter": "NoFilter", "lr": 0.0005, "num_sgd_iter": 10, "simple_optimizer": false, "train_batch_size": 30000, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}}}
{"episode_reward_max": -475.1531085488411, "episode_reward_mean": -965.1699813151073, "timestamp": 1558587674, "experiment_id": "30635ebb86f4472d97a68d56e6633275", "episodes_this_iter": 29, "timesteps_this_iter": 54204, "pid": 31797, "done": false, "episodes_total": 783, "info": {"sample_time_ms": 31324.694, "update_time_ms": 9.377, "num_steps_trained": 1590739, "grad_time_ms": 15369.139, "num_steps_sampled": 1590739, "load_time_ms": 5.187, "default": {"vf_loss": 18.33793830871582, "cur_lr": 0.0005000000237487257, "entropy": 1.1632347106933594, "vf_explained_var": 0.8919067978858948, "kl": 0.007102937903255224, "cur_kl_coeff": 0.05624999850988388, "policy_loss": -0.0007162413094192743, "total_loss": 18.337623596191406}}, "training_iteration": 27, "hostname": "flow-main", "time_since_restore": 1333.2975661754608, "iterations_since_restore": 27, "timesteps_since_restore": 1590739, "node_ip": "10.138.0.2", "policy_reward_mean": {}, "timesteps_total": 1590739, "num_metric_batches_dropped": 0, "time_total_s": 1333.2975661754608, "episode_reward_min": -1308.908116156834, "time_this_iter_s": 43.60177135467529, "date": "2019-05-23_05-01-14", "custom_metrics": {"cost1_min": 302.4801756062488, "outflow_rate_min": 1131.6803835227274, "cost1_max": 463.0840864006243, "system_level_velocity_mean": 14.69954735286338, "cost2_min": -79.95214265689343, "cost1_mean": 382.29084652685714, "system_level_velocity_min": 11.594053359264603, "cost2_max": -34.298808042496326, "outflow_rate_mean": 1305.7359528421543, "outflow_rate_max": 1553.6125909636885, "cost2_mean": -57.47894055687067, "system_level_velocity_max": 18.0404853678522}, "episode_len_mean": 698.67, "config": {"input": "sampler", "output_compress_columns": ["obs", "new_obs"], "num_envs_per_worker": 1, "sample_batch_size": 750, "num_cpus_for_driver": 1, "preprocessor_pref": "deepmind", "horizon": 1500, "compress_observations": false, "vf_loss_coeff": 1.0, "input_evaluation": null, "gamma": 0.99, "optimizer": {}, "kl_target": 0.01, "entropy_coeff": 0.0, "num_gpus": 0, "sgd_minibatch_size": 128, "lr_schedule": null, "custom_resources_per_worker": {}, "kl_coeff": 0.2, "lambda": 0.97, "vf_clip_param": 1000000.0, "clip_actions": false, "output": null, "output_max_file_size": 67108864, "monitor": false, "model": {"conv_filters": null, "fcnet_activation": "tanh", "framestack": true, "custom_options": {}, "lstm_use_prev_action_reward": false, "channel_major": false, "max_seq_len": 20, "squash_to_range": false, "grayscale": false, "dim": 84, "custom_model": null, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "use_lstm": false, "lstm_cell_size": 256, "free_log_std": false, "zero_mean": true, "conv_activation": "relu"}, "collect_metrics_timeout": 180, "synchronize_filters": true, "env": "MultiWaveAttenuationMergePOEnv-v0done_[eta1, eta2, eta3]:[1.0, 0.05, 0.0]_t_min:5.0_buf_len: 1", "batch_mode": "truncate_episodes", "num_workers": 20, "straggler_mitigation": false, "use_gae": true, "vf_share_layers": false, "sample_async": false, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f89daed2160>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f89daed2208>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f89daed2278>", "on_sample_end": null, "on_train_result": null}, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "clip_param": 0.3, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "log_level": "INFO", "observation_filter": "NoFilter", "lr": 0.0005, "num_sgd_iter": 10, "simple_optimizer": false, "train_batch_size": 30000, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}}}
{"episode_reward_max": -27.9149272712738, "episode_reward_mean": -944.8238244294105, "timestamp": 1558587720, "experiment_id": "30635ebb86f4472d97a68d56e6633275", "episodes_this_iter": 31, "timesteps_this_iter": 56501, "pid": 31797, "done": false, "episodes_total": 814, "info": {"sample_time_ms": 31339.825, "update_time_ms": 9.24, "num_steps_trained": 1647240, "grad_time_ms": 15187.53, "num_steps_sampled": 1647240, "load_time_ms": 5.262, "default": {"vf_loss": 21.896406173706055, "cur_lr": 0.0005000000237487257, "entropy": 1.135215401649475, "vf_explained_var": 0.8915903568267822, "kl": 0.009087856858968735, "cur_kl_coeff": 0.05624999478459358, "policy_loss": -0.0014842923264950514, "total_loss": 21.895435333251953}}, "training_iteration": 28, "hostname": "flow-main", "time_since_restore": 1379.1376888751984, "iterations_since_restore": 28, "timesteps_since_restore": 1647240, "node_ip": "10.138.0.2", "policy_reward_mean": {}, "timesteps_total": 1647240, "num_metric_batches_dropped": 0, "time_total_s": 1379.1376888751984, "episode_reward_min": -1308.908116156834, "time_this_iter_s": 45.84012269973755, "date": "2019-05-23_05-02-00", "custom_metrics": {"cost1_min": 22.85022691771659, "outflow_rate_min": 507.1900179631799, "cost1_max": 459.9398866630179, "system_level_velocity_mean": 14.770595322873591, "cost2_min": -78.36438309894739, "cost1_mean": 380.57904615157844, "system_level_velocity_min": 11.565159123613189, "cost2_max": -14.864888446497423, "outflow_rate_mean": 1303.5595668171036, "outflow_rate_max": 1553.6125909636885, "cost2_mean": -55.875951367097166, "system_level_velocity_max": 18.517983160112667}, "episode_len_mean": 693.35, "config": {"input": "sampler", "output_compress_columns": ["obs", "new_obs"], "num_envs_per_worker": 1, "sample_batch_size": 750, "num_cpus_for_driver": 1, "preprocessor_pref": "deepmind", "horizon": 1500, "compress_observations": false, "vf_loss_coeff": 1.0, "input_evaluation": null, "gamma": 0.99, "optimizer": {}, "kl_target": 0.01, "entropy_coeff": 0.0, "num_gpus": 0, "sgd_minibatch_size": 128, "lr_schedule": null, "custom_resources_per_worker": {}, "kl_coeff": 0.2, "lambda": 0.97, "vf_clip_param": 1000000.0, "clip_actions": false, "output": null, "output_max_file_size": 67108864, "monitor": false, "model": {"conv_filters": null, "fcnet_activation": "tanh", "framestack": true, "custom_options": {}, "lstm_use_prev_action_reward": false, "channel_major": false, "max_seq_len": 20, "squash_to_range": false, "grayscale": false, "dim": 84, "custom_model": null, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "use_lstm": false, "lstm_cell_size": 256, "free_log_std": false, "zero_mean": true, "conv_activation": "relu"}, "collect_metrics_timeout": 180, "synchronize_filters": true, "env": "MultiWaveAttenuationMergePOEnv-v0done_[eta1, eta2, eta3]:[1.0, 0.05, 0.0]_t_min:5.0_buf_len: 1", "batch_mode": "truncate_episodes", "num_workers": 20, "straggler_mitigation": false, "use_gae": true, "vf_share_layers": false, "sample_async": false, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f89daef6d68>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f89daef6dd8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f89daef6e80>", "on_sample_end": null, "on_train_result": null}, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "clip_param": 0.3, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "log_level": "INFO", "observation_filter": "NoFilter", "lr": 0.0005, "num_sgd_iter": 10, "simple_optimizer": false, "train_batch_size": 30000, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}}}
{"episode_reward_max": -27.9149272712738, "episode_reward_mean": -963.0085430928308, "timestamp": 1558587765, "experiment_id": "30635ebb86f4472d97a68d56e6633275", "episodes_this_iter": 29, "timesteps_this_iter": 56327, "pid": 31797, "done": false, "episodes_total": 843, "info": {"sample_time_ms": 31203.434, "update_time_ms": 9.073, "num_steps_trained": 1703567, "grad_time_ms": 14908.136, "num_steps_sampled": 1703567, "load_time_ms": 5.267, "default": {"vf_loss": 24.180374145507812, "cur_lr": 0.0005000000237487257, "entropy": 1.1290078163146973, "vf_explained_var": 0.8826097249984741, "kl": 0.007455016952008009, "cur_kl_coeff": 0.056249991059303284, "policy_loss": -0.0012079704320058227, "total_loss": 24.179584503173828}}, "training_iteration": 29, "hostname": "flow-main", "time_since_restore": 1423.7563226222992, "iterations_since_restore": 29, "timesteps_since_restore": 1703567, "node_ip": "10.138.0.2", "policy_reward_mean": {}, "timesteps_total": 1703567, "num_metric_batches_dropped": 0, "time_total_s": 1423.7563226222992, "episode_reward_min": -1380.9648351395333, "time_this_iter_s": 44.61863374710083, "date": "2019-05-23_05-02-45", "custom_metrics": {"cost1_min": 22.85022691771659, "outflow_rate_min": 507.1900179631799, "cost1_max": 459.9398866630179, "system_level_velocity_mean": 14.66028645083987, "cost2_min": -78.73844342213107, "cost1_mean": 375.4525303950023, "system_level_velocity_min": 11.179874731178483, "cost2_max": -14.864888446497423, "outflow_rate_mean": 1296.0102665438924, "outflow_rate_max": 1553.6125909636885, "cost2_mean": -57.212920878367356, "system_level_velocity_max": 18.517983160112667}, "episode_len_mean": 689.32, "config": {"input": "sampler", "output_compress_columns": ["obs", "new_obs"], "num_envs_per_worker": 1, "sample_batch_size": 750, "num_cpus_for_driver": 1, "preprocessor_pref": "deepmind", "horizon": 1500, "compress_observations": false, "vf_loss_coeff": 1.0, "input_evaluation": null, "gamma": 0.99, "optimizer": {}, "kl_target": 0.01, "entropy_coeff": 0.0, "num_gpus": 0, "sgd_minibatch_size": 128, "lr_schedule": null, "custom_resources_per_worker": {}, "kl_coeff": 0.2, "lambda": 0.97, "vf_clip_param": 1000000.0, "clip_actions": false, "output": null, "output_max_file_size": 67108864, "monitor": false, "model": {"conv_filters": null, "fcnet_activation": "tanh", "framestack": true, "custom_options": {}, "lstm_use_prev_action_reward": false, "channel_major": false, "max_seq_len": 20, "squash_to_range": false, "grayscale": false, "dim": 84, "custom_model": null, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "use_lstm": false, "lstm_cell_size": 256, "free_log_std": false, "zero_mean": true, "conv_activation": "relu"}, "collect_metrics_timeout": 180, "synchronize_filters": true, "env": "MultiWaveAttenuationMergePOEnv-v0done_[eta1, eta2, eta3]:[1.0, 0.05, 0.0]_t_min:5.0_buf_len: 1", "batch_mode": "truncate_episodes", "num_workers": 20, "straggler_mitigation": false, "use_gae": true, "vf_share_layers": false, "sample_async": false, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f89daed7320>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f89daed7128>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f89daee1828>", "on_sample_end": null, "on_train_result": null}, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "clip_param": 0.3, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "log_level": "INFO", "observation_filter": "NoFilter", "lr": 0.0005, "num_sgd_iter": 10, "simple_optimizer": false, "train_batch_size": 30000, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}}}
{"episode_reward_max": -27.9149272712738, "episode_reward_mean": -974.1120020086802, "timestamp": 1558587812, "experiment_id": "30635ebb86f4472d97a68d56e6633275", "episodes_this_iter": 35, "timesteps_this_iter": 55927, "pid": 31797, "done": false, "episodes_total": 878, "info": {"sample_time_ms": 31027.73, "update_time_ms": 8.989, "num_steps_trained": 1759494, "grad_time_ms": 14840.635, "num_steps_sampled": 1759494, "load_time_ms": 5.636, "default": {"vf_loss": 25.897563934326172, "cur_lr": 0.0005000000237487257, "entropy": 1.1250765323638916, "vf_explained_var": 0.8698505163192749, "kl": 0.00787893496453762, "cur_kl_coeff": 0.05624999478459358, "policy_loss": -0.001799999037757516, "total_loss": 25.89620590209961}}, "training_iteration": 30, "hostname": "flow-main", "time_since_restore": 1470.584433555603, "iterations_since_restore": 30, "timesteps_since_restore": 1759494, "node_ip": "10.138.0.2", "policy_reward_mean": {}, "timesteps_total": 1759494, "num_metric_batches_dropped": 0, "time_total_s": 1470.584433555603, "episode_reward_min": -1380.9648351395333, "time_this_iter_s": 46.82811093330383, "date": "2019-05-23_05-03-32", "custom_metrics": {"cost1_min": 22.85022691771659, "outflow_rate_min": 507.1900179631799, "cost1_max": 459.9398866630179, "system_level_velocity_mean": 14.788816648881088, "cost2_min": -78.78552077515118, "cost1_mean": 370.9555184738929, "system_level_velocity_min": 11.179874731178483, "cost2_max": -14.864888446497423, "outflow_rate_mean": 1283.732609601887, "outflow_rate_max": 1535.1090950417542, "cost2_mean": -58.233181028136684, "system_level_velocity_max": 18.517983160112667}, "episode_len_mean": 678.13, "config": {"input": "sampler", "output_compress_columns": ["obs", "new_obs"], "num_envs_per_worker": 1, "sample_batch_size": 750, "num_cpus_for_driver": 1, "preprocessor_pref": "deepmind", "horizon": 1500, "compress_observations": false, "vf_loss_coeff": 1.0, "input_evaluation": null, "gamma": 0.99, "optimizer": {}, "kl_target": 0.01, "entropy_coeff": 0.0, "num_gpus": 0, "sgd_minibatch_size": 128, "lr_schedule": null, "custom_resources_per_worker": {}, "kl_coeff": 0.2, "lambda": 0.97, "vf_clip_param": 1000000.0, "clip_actions": false, "output": null, "output_max_file_size": 67108864, "monitor": false, "model": {"conv_filters": null, "fcnet_activation": "tanh", "framestack": true, "custom_options": {}, "lstm_use_prev_action_reward": false, "channel_major": false, "max_seq_len": 20, "squash_to_range": false, "grayscale": false, "dim": 84, "custom_model": null, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "use_lstm": false, "lstm_cell_size": 256, "free_log_std": false, "zero_mean": true, "conv_activation": "relu"}, "collect_metrics_timeout": 180, "synchronize_filters": true, "env": "MultiWaveAttenuationMergePOEnv-v0done_[eta1, eta2, eta3]:[1.0, 0.05, 0.0]_t_min:5.0_buf_len: 1", "batch_mode": "truncate_episodes", "num_workers": 20, "straggler_mitigation": false, "use_gae": true, "vf_share_layers": false, "sample_async": false, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f89daef0da0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f89daef0048>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f89daed2320>", "on_sample_end": null, "on_train_result": null}, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "clip_param": 0.3, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "log_level": "INFO", "observation_filter": "NoFilter", "lr": 0.0005, "num_sgd_iter": 10, "simple_optimizer": false, "train_batch_size": 30000, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}}}
{"episode_reward_max": -160.95507434752412, "episode_reward_mean": -996.9343753450154, "timestamp": 1558587856, "experiment_id": "30635ebb86f4472d97a68d56e6633275", "episodes_this_iter": 31, "timesteps_this_iter": 56139, "pid": 31797, "done": false, "episodes_total": 909, "info": {"sample_time_ms": 30872.174, "update_time_ms": 8.95, "num_steps_trained": 1815633, "grad_time_ms": 14511.571, "num_steps_sampled": 1815633, "load_time_ms": 5.655, "default": {"vf_loss": 22.62348747253418, "cur_lr": 0.0005000000237487257, "entropy": 1.1151899099349976, "vf_explained_var": 0.8846519589424133, "kl": 0.007973059080541134, "cur_kl_coeff": 0.05624999478459358, "policy_loss": -0.002070171758532524, "total_loss": 22.621864318847656}}, "training_iteration": 31, "hostname": "flow-main", "time_since_restore": 1515.4931199550629, "iterations_since_restore": 31, "timesteps_since_restore": 1815633, "node_ip": "10.138.0.2", "policy_reward_mean": {}, "timesteps_total": 1815633, "num_metric_batches_dropped": 0, "time_total_s": 1515.4931199550629, "episode_reward_min": -1380.9648351395333, "time_this_iter_s": 44.90868639945984, "date": "2019-05-23_05-04-16", "custom_metrics": {"cost1_min": 138.88228415640833, "outflow_rate_min": 1034.0429626555072, "cost1_max": 457.438381660127, "system_level_velocity_mean": 14.677365457485587, "cost2_min": -83.55912662664441, "cost1_mean": 372.4962434809147, "system_level_velocity_min": 10.992144885854227, "cost2_max": -26.490565667906395, "outflow_rate_mean": 1286.9646299168567, "outflow_rate_max": 1535.1090950417542, "cost2_mean": -60.146068976932405, "system_level_velocity_max": 18.353740396081665}, "episode_len_mean": 684.78, "config": {"input": "sampler", "output_compress_columns": ["obs", "new_obs"], "num_envs_per_worker": 1, "sample_batch_size": 750, "num_cpus_for_driver": 1, "preprocessor_pref": "deepmind", "horizon": 1500, "compress_observations": false, "vf_loss_coeff": 1.0, "input_evaluation": null, "gamma": 0.99, "optimizer": {}, "kl_target": 0.01, "entropy_coeff": 0.0, "num_gpus": 0, "sgd_minibatch_size": 128, "lr_schedule": null, "custom_resources_per_worker": {}, "kl_coeff": 0.2, "lambda": 0.97, "vf_clip_param": 1000000.0, "clip_actions": false, "output": null, "output_max_file_size": 67108864, "monitor": false, "model": {"conv_filters": null, "fcnet_activation": "tanh", "framestack": true, "custom_options": {}, "lstm_use_prev_action_reward": false, "channel_major": false, "max_seq_len": 20, "squash_to_range": false, "grayscale": false, "dim": 84, "custom_model": null, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "use_lstm": false, "lstm_cell_size": 256, "free_log_std": false, "zero_mean": true, "conv_activation": "relu"}, "collect_metrics_timeout": 180, "synchronize_filters": true, "env": "MultiWaveAttenuationMergePOEnv-v0done_[eta1, eta2, eta3]:[1.0, 0.05, 0.0]_t_min:5.0_buf_len: 1", "batch_mode": "truncate_episodes", "num_workers": 20, "straggler_mitigation": false, "use_gae": true, "vf_share_layers": false, "sample_async": false, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f89daef06a0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f89daef0cc0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f89daef0828>", "on_sample_end": null, "on_train_result": null}, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "clip_param": 0.3, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "log_level": "INFO", "observation_filter": "NoFilter", "lr": 0.0005, "num_sgd_iter": 10, "simple_optimizer": false, "train_batch_size": 30000, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}}}
{"episode_reward_max": -160.95507434752412, "episode_reward_mean": -1012.780697028034, "timestamp": 1558587904, "experiment_id": "30635ebb86f4472d97a68d56e6633275", "episodes_this_iter": 31, "timesteps_this_iter": 57124, "pid": 31797, "done": false, "episodes_total": 940, "info": {"sample_time_ms": 30959.505, "update_time_ms": 8.836, "num_steps_trained": 1872757, "grad_time_ms": 14622.882, "num_steps_sampled": 1872757, "load_time_ms": 5.955, "default": {"vf_loss": 24.938562393188477, "cur_lr": 0.0005000000237487257, "entropy": 1.1059881448745728, "vf_explained_var": 0.8782358169555664, "kl": 0.00827701110392809, "cur_kl_coeff": 0.05624999478459358, "policy_loss": -0.001694238162599504, "total_loss": 24.937334060668945}}, "training_iteration": 32, "hostname": "flow-main", "time_since_restore": 1563.1062796115875, "iterations_since_restore": 32, "timesteps_since_restore": 1872757, "node_ip": "10.138.0.2", "policy_reward_mean": {}, "timesteps_total": 1872757, "num_metric_batches_dropped": 0, "time_total_s": 1563.1062796115875, "episode_reward_min": -1321.8202516256367, "time_this_iter_s": 47.61315965652466, "date": "2019-05-23_05-05-04", "custom_metrics": {"cost1_min": 138.88228415640833, "outflow_rate_min": 1034.0429626555072, "cost1_max": 461.39838937988605, "system_level_velocity_mean": 14.567244866216743, "cost2_min": -83.55912662664441, "cost1_mean": 372.39982881775626, "system_level_velocity_min": 10.992144885854227, "cost2_max": -26.490565667906395, "outflow_rate_mean": 1284.0783234136125, "outflow_rate_max": 1535.1090950417542, "cost2_mean": -60.526483665117176, "system_level_velocity_max": 18.353740396081665}, "episode_len_mean": 688.81, "config": {"input": "sampler", "output_compress_columns": ["obs", "new_obs"], "num_envs_per_worker": 1, "sample_batch_size": 750, "num_cpus_for_driver": 1, "preprocessor_pref": "deepmind", "horizon": 1500, "compress_observations": false, "vf_loss_coeff": 1.0, "input_evaluation": null, "gamma": 0.99, "optimizer": {}, "kl_target": 0.01, "entropy_coeff": 0.0, "num_gpus": 0, "sgd_minibatch_size": 128, "lr_schedule": null, "custom_resources_per_worker": {}, "kl_coeff": 0.2, "lambda": 0.97, "vf_clip_param": 1000000.0, "clip_actions": false, "output": null, "output_max_file_size": 67108864, "monitor": false, "model": {"conv_filters": null, "fcnet_activation": "tanh", "framestack": true, "custom_options": {}, "lstm_use_prev_action_reward": false, "channel_major": false, "max_seq_len": 20, "squash_to_range": false, "grayscale": false, "dim": 84, "custom_model": null, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "use_lstm": false, "lstm_cell_size": 256, "free_log_std": false, "zero_mean": true, "conv_activation": "relu"}, "collect_metrics_timeout": 180, "synchronize_filters": true, "env": "MultiWaveAttenuationMergePOEnv-v0done_[eta1, eta2, eta3]:[1.0, 0.05, 0.0]_t_min:5.0_buf_len: 1", "batch_mode": "truncate_episodes", "num_workers": 20, "straggler_mitigation": false, "use_gae": true, "vf_share_layers": false, "sample_async": false, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f89daef6080>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f89daef6fd0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f89daef6208>", "on_sample_end": null, "on_train_result": null}, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "clip_param": 0.3, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "log_level": "INFO", "observation_filter": "NoFilter", "lr": 0.0005, "num_sgd_iter": 10, "simple_optimizer": false, "train_batch_size": 30000, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}}}
{"episode_reward_max": -32.75781333556884, "episode_reward_mean": -1013.4110482991355, "timestamp": 1558587952, "experiment_id": "30635ebb86f4472d97a68d56e6633275", "episodes_this_iter": 30, "timesteps_this_iter": 56602, "pid": 31797, "done": false, "episodes_total": 970, "info": {"sample_time_ms": 30933.096, "update_time_ms": 8.842, "num_steps_trained": 1929359, "grad_time_ms": 14676.963, "num_steps_sampled": 1929359, "load_time_ms": 6.022, "default": {"vf_loss": 23.864633560180664, "cur_lr": 0.0005000000237487257, "entropy": 1.0865172147750854, "vf_explained_var": 0.8830094337463379, "kl": 0.009816215373575687, "cur_kl_coeff": 0.05624999478459358, "policy_loss": -0.0020175285171717405, "total_loss": 23.86316680908203}}, "training_iteration": 33, "hostname": "flow-main", "time_since_restore": 1610.6407537460327, "iterations_since_restore": 33, "timesteps_since_restore": 1929359, "node_ip": "10.138.0.2", "policy_reward_mean": {}, "timesteps_total": 1929359, "num_metric_batches_dropped": 0, "time_total_s": 1610.6407537460327, "episode_reward_min": -1321.8202516256367, "time_this_iter_s": 47.53447413444519, "date": "2019-05-23_05-05-52", "custom_metrics": {"cost1_min": 27.039731261772094, "outflow_rate_min": 511.344473355598, "cost1_max": 461.39838937988605, "system_level_velocity_mean": 14.537847847167823, "cost2_min": -83.55912662664441, "cost1_mean": 367.38201408881423, "system_level_velocity_min": 10.992144885854227, "cost2_max": -19.800391003578547, "outflow_rate_mean": 1274.3271674625023, "outflow_rate_max": 1524.590519799914, "cost2_mean": -60.43437568218795, "system_level_velocity_max": 18.576152011397205}, "episode_len_mean": 682.3, "config": {"input": "sampler", "output_compress_columns": ["obs", "new_obs"], "num_envs_per_worker": 1, "sample_batch_size": 750, "num_cpus_for_driver": 1, "preprocessor_pref": "deepmind", "horizon": 1500, "compress_observations": false, "vf_loss_coeff": 1.0, "input_evaluation": null, "gamma": 0.99, "optimizer": {}, "kl_target": 0.01, "entropy_coeff": 0.0, "num_gpus": 0, "sgd_minibatch_size": 128, "lr_schedule": null, "custom_resources_per_worker": {}, "kl_coeff": 0.2, "lambda": 0.97, "vf_clip_param": 1000000.0, "clip_actions": false, "output": null, "output_max_file_size": 67108864, "monitor": false, "model": {"conv_filters": null, "fcnet_activation": "tanh", "framestack": true, "custom_options": {}, "lstm_use_prev_action_reward": false, "channel_major": false, "max_seq_len": 20, "squash_to_range": false, "grayscale": false, "dim": 84, "custom_model": null, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "use_lstm": false, "lstm_cell_size": 256, "free_log_std": false, "zero_mean": true, "conv_activation": "relu"}, "collect_metrics_timeout": 180, "synchronize_filters": true, "env": "MultiWaveAttenuationMergePOEnv-v0done_[eta1, eta2, eta3]:[1.0, 0.05, 0.0]_t_min:5.0_buf_len: 1", "batch_mode": "truncate_episodes", "num_workers": 20, "straggler_mitigation": false, "use_gae": true, "vf_share_layers": false, "sample_async": false, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f89daef0828>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f89daef0978>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f89daef06a0>", "on_sample_end": null, "on_train_result": null}, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "clip_param": 0.3, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "log_level": "INFO", "observation_filter": "NoFilter", "lr": 0.0005, "num_sgd_iter": 10, "simple_optimizer": false, "train_batch_size": 30000, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}}}
{"episode_reward_max": -32.75781333556884, "episode_reward_mean": -1001.0109248332024, "timestamp": 1558587998, "experiment_id": "30635ebb86f4472d97a68d56e6633275", "episodes_this_iter": 31, "timesteps_this_iter": 54724, "pid": 31797, "done": false, "episodes_total": 1001, "info": {"sample_time_ms": 30794.84, "update_time_ms": 9.089, "num_steps_trained": 1984083, "grad_time_ms": 14831.753, "num_steps_sampled": 1984083, "load_time_ms": 6.005, "default": {"vf_loss": 22.924999237060547, "cur_lr": 0.0005000000237487257, "entropy": 1.0901868343353271, "vf_explained_var": 0.8733407855033875, "kl": 0.010215993970632553, "cur_kl_coeff": 0.05624999478459358, "policy_loss": -0.0028239015955477953, "total_loss": 22.922748565673828}}, "training_iteration": 34, "hostname": "flow-main", "time_since_restore": 1657.0345640182495, "iterations_since_restore": 34, "timesteps_since_restore": 1984083, "node_ip": "10.138.0.2", "policy_reward_mean": {}, "timesteps_total": 1984083, "num_metric_batches_dropped": 0, "time_total_s": 1657.0345640182495, "episode_reward_min": -1317.9385763553746, "time_this_iter_s": 46.3938102722168, "date": "2019-05-23_05-06-38", "custom_metrics": {"cost1_min": 27.039731261772094, "outflow_rate_min": 511.344473355598, "cost1_max": 461.39838937988605, "system_level_velocity_mean": 14.824560294075994, "cost2_min": -78.83504356293378, "cost1_mean": 378.3903206460856, "system_level_velocity_min": 11.500523747630515, "cost2_max": -19.800391003578547, "outflow_rate_mean": 1276.1905323837561, "outflow_rate_max": 1524.590519799914, "cost2_mean": -57.07623470745512, "system_level_velocity_max": 18.576152011397205}, "episode_len_mean": 688.56, "config": {"input": "sampler", "output_compress_columns": ["obs", "new_obs"], "num_envs_per_worker": 1, "sample_batch_size": 750, "num_cpus_for_driver": 1, "preprocessor_pref": "deepmind", "horizon": 1500, "compress_observations": false, "vf_loss_coeff": 1.0, "input_evaluation": null, "gamma": 0.99, "optimizer": {}, "kl_target": 0.01, "entropy_coeff": 0.0, "num_gpus": 0, "sgd_minibatch_size": 128, "lr_schedule": null, "custom_resources_per_worker": {}, "kl_coeff": 0.2, "lambda": 0.97, "vf_clip_param": 1000000.0, "clip_actions": false, "output": null, "output_max_file_size": 67108864, "monitor": false, "model": {"conv_filters": null, "fcnet_activation": "tanh", "framestack": true, "custom_options": {}, "lstm_use_prev_action_reward": false, "channel_major": false, "max_seq_len": 20, "squash_to_range": false, "grayscale": false, "dim": 84, "custom_model": null, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "use_lstm": false, "lstm_cell_size": 256, "free_log_std": false, "zero_mean": true, "conv_activation": "relu"}, "collect_metrics_timeout": 180, "synchronize_filters": true, "env": "MultiWaveAttenuationMergePOEnv-v0done_[eta1, eta2, eta3]:[1.0, 0.05, 0.0]_t_min:5.0_buf_len: 1", "batch_mode": "truncate_episodes", "num_workers": 20, "straggler_mitigation": false, "use_gae": true, "vf_share_layers": false, "sample_async": false, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f89daef05f8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f89daef09e8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f89daef07f0>", "on_sample_end": null, "on_train_result": null}, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "clip_param": 0.3, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "log_level": "INFO", "observation_filter": "NoFilter", "lr": 0.0005, "num_sgd_iter": 10, "simple_optimizer": false, "train_batch_size": 30000, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}}}
{"episode_reward_max": -32.75781333556884, "episode_reward_mean": -980.9193092726401, "timestamp": 1558588043, "experiment_id": "30635ebb86f4472d97a68d56e6633275", "episodes_this_iter": 28, "timesteps_this_iter": 55924, "pid": 31797, "done": false, "episodes_total": 1029, "info": {"sample_time_ms": 30701.119, "update_time_ms": 9.118, "num_steps_trained": 2040007, "grad_time_ms": 14686.274, "num_steps_sampled": 2040007, "load_time_ms": 5.93, "default": {"vf_loss": 22.954944610595703, "cur_lr": 0.0005000000237487257, "entropy": 1.0668615102767944, "vf_explained_var": 0.8845020532608032, "kl": 0.008099611848592758, "cur_kl_coeff": 0.05624999478459358, "policy_loss": -0.0023777196183800697, "total_loss": 22.953022003173828}}, "training_iteration": 35, "hostname": "flow-main", "time_since_restore": 1701.4281980991364, "iterations_since_restore": 35, "timesteps_since_restore": 2040007, "node_ip": "10.138.0.2", "policy_reward_mean": {}, "timesteps_total": 2040007, "num_metric_batches_dropped": 0, "time_total_s": 1701.4281980991364, "episode_reward_min": -1288.9620530932566, "time_this_iter_s": 44.39363408088684, "date": "2019-05-23_05-07-23", "custom_metrics": {"cost1_min": 27.039731261772094, "outflow_rate_min": 511.344473355598, "cost1_max": 461.39838937988605, "system_level_velocity_mean": 14.991032558166461, "cost2_min": -79.61038571449474, "cost1_mean": 382.44437959691595, "system_level_velocity_min": 11.595689263262516, "cost2_max": -19.800391003578547, "outflow_rate_mean": 1283.2753454250073, "outflow_rate_max": 1517.7539369138246, "cost2_mean": -55.31298268507926, "system_level_velocity_max": 18.576152011397205}, "episode_len_mean": 688.56, "config": {"input": "sampler", "output_compress_columns": ["obs", "new_obs"], "num_envs_per_worker": 1, "sample_batch_size": 750, "num_cpus_for_driver": 1, "preprocessor_pref": "deepmind", "horizon": 1500, "compress_observations": false, "vf_loss_coeff": 1.0, "input_evaluation": null, "gamma": 0.99, "optimizer": {}, "kl_target": 0.01, "entropy_coeff": 0.0, "num_gpus": 0, "sgd_minibatch_size": 128, "lr_schedule": null, "custom_resources_per_worker": {}, "kl_coeff": 0.2, "lambda": 0.97, "vf_clip_param": 1000000.0, "clip_actions": false, "output": null, "output_max_file_size": 67108864, "monitor": false, "model": {"conv_filters": null, "fcnet_activation": "tanh", "framestack": true, "custom_options": {}, "lstm_use_prev_action_reward": false, "channel_major": false, "max_seq_len": 20, "squash_to_range": false, "grayscale": false, "dim": 84, "custom_model": null, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "use_lstm": false, "lstm_cell_size": 256, "free_log_std": false, "zero_mean": true, "conv_activation": "relu"}, "collect_metrics_timeout": 180, "synchronize_filters": true, "env": "MultiWaveAttenuationMergePOEnv-v0done_[eta1, eta2, eta3]:[1.0, 0.05, 0.0]_t_min:5.0_buf_len: 1", "batch_mode": "truncate_episodes", "num_workers": 20, "straggler_mitigation": false, "use_gae": true, "vf_share_layers": false, "sample_async": false, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f89daef69e8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f89daef64a8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f89daef6518>", "on_sample_end": null, "on_train_result": null}, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "clip_param": 0.3, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "log_level": "INFO", "observation_filter": "NoFilter", "lr": 0.0005, "num_sgd_iter": 10, "simple_optimizer": false, "train_batch_size": 30000, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}}}
{"episode_reward_max": -32.75781333556884, "episode_reward_mean": -987.0741955225334, "timestamp": 1558588089, "experiment_id": "30635ebb86f4472d97a68d56e6633275", "episodes_this_iter": 29, "timesteps_this_iter": 58084, "pid": 31797, "done": false, "episodes_total": 1058, "info": {"sample_time_ms": 30932.707, "update_time_ms": 8.751, "num_steps_trained": 2098091, "grad_time_ms": 14717.478, "num_steps_sampled": 2098091, "load_time_ms": 5.923, "default": {"vf_loss": 25.834386825561523, "cur_lr": 0.0005000000237487257, "entropy": 1.061020016670227, "vf_explained_var": 0.8825398683547974, "kl": 0.008516920730471611, "cur_kl_coeff": 0.05624999478459358, "policy_loss": -0.0018159380415454507, "total_loss": 25.83304786682129}}, "training_iteration": 36, "hostname": "flow-main", "time_since_restore": 1747.3824231624603, "iterations_since_restore": 36, "timesteps_since_restore": 2098091, "node_ip": "10.138.0.2", "policy_reward_mean": {}, "timesteps_total": 2098091, "num_metric_batches_dropped": 0, "time_total_s": 1747.3824231624603, "episode_reward_min": -1288.9620530932566, "time_this_iter_s": 45.954225063323975, "date": "2019-05-23_05-08-09", "custom_metrics": {"cost1_min": 27.039731261772094, "outflow_rate_min": 511.344473355598, "cost1_max": 456.46818500554167, "system_level_velocity_mean": 15.04947860370951, "cost2_min": -84.74894187715502, "cost1_mean": 387.2762368374391, "system_level_velocity_min": 11.818939675938582, "cost2_max": -19.800391003578547, "outflow_rate_mean": 1288.8575741315367, "outflow_rate_max": 1470.5501632226476, "cost2_mean": -56.40750444287196, "system_level_velocity_max": 18.576152011397205}, "episode_len_mean": 693.41, "config": {"input": "sampler", "output_compress_columns": ["obs", "new_obs"], "num_envs_per_worker": 1, "sample_batch_size": 750, "num_cpus_for_driver": 1, "preprocessor_pref": "deepmind", "horizon": 1500, "compress_observations": false, "vf_loss_coeff": 1.0, "input_evaluation": null, "gamma": 0.99, "optimizer": {}, "kl_target": 0.01, "entropy_coeff": 0.0, "num_gpus": 0, "sgd_minibatch_size": 128, "lr_schedule": null, "custom_resources_per_worker": {}, "kl_coeff": 0.2, "lambda": 0.97, "vf_clip_param": 1000000.0, "clip_actions": false, "output": null, "output_max_file_size": 67108864, "monitor": false, "model": {"conv_filters": null, "fcnet_activation": "tanh", "framestack": true, "custom_options": {}, "lstm_use_prev_action_reward": false, "channel_major": false, "max_seq_len": 20, "squash_to_range": false, "grayscale": false, "dim": 84, "custom_model": null, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "use_lstm": false, "lstm_cell_size": 256, "free_log_std": false, "zero_mean": true, "conv_activation": "relu"}, "collect_metrics_timeout": 180, "synchronize_filters": true, "env": "MultiWaveAttenuationMergePOEnv-v0done_[eta1, eta2, eta3]:[1.0, 0.05, 0.0]_t_min:5.0_buf_len: 1", "batch_mode": "truncate_episodes", "num_workers": 20, "straggler_mitigation": false, "use_gae": true, "vf_share_layers": false, "sample_async": false, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f89daef0da0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f89daef0b00>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f89daef0b70>", "on_sample_end": null, "on_train_result": null}, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "clip_param": 0.3, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "log_level": "INFO", "observation_filter": "NoFilter", "lr": 0.0005, "num_sgd_iter": 10, "simple_optimizer": false, "train_batch_size": 30000, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}}}
{"episode_reward_max": -601.5367247534838, "episode_reward_mean": -1013.2544235926202, "timestamp": 1558588137, "experiment_id": "30635ebb86f4472d97a68d56e6633275", "episodes_this_iter": 28, "timesteps_this_iter": 58746, "pid": 31797, "done": false, "episodes_total": 1086, "info": {"sample_time_ms": 31124.715, "update_time_ms": 8.722, "num_steps_trained": 2156837, "grad_time_ms": 15011.704, "num_steps_sampled": 2156837, "load_time_ms": 5.565, "default": {"vf_loss": 24.592615127563477, "cur_lr": 0.0005000000237487257, "entropy": 1.0418726205825806, "vf_explained_var": 0.8848870396614075, "kl": 0.009475701488554478, "cur_kl_coeff": 0.05624999478459358, "policy_loss": -0.002023798180744052, "total_loss": 24.591123580932617}}, "training_iteration": 37, "hostname": "flow-main", "time_since_restore": 1795.8768677711487, "iterations_since_restore": 37, "timesteps_since_restore": 2156837, "node_ip": "10.138.0.2", "policy_reward_mean": {}, "timesteps_total": 2156837, "num_metric_batches_dropped": 0, "time_total_s": 1795.8768677711487, "episode_reward_min": -1362.0080639691964, "time_this_iter_s": 48.494444608688354, "date": "2019-05-23_05-08-57", "custom_metrics": {"cost1_min": 312.07198424157906, "outflow_rate_min": 1120.5711469435537, "cost1_max": 457.49398666802665, "system_level_velocity_mean": 14.941343056848877, "cost2_min": -84.74894187715502, "cost1_mean": 389.0263138074843, "system_level_velocity_min": 11.818939675938582, "cost2_max": -29.65564759843773, "outflow_rate_mean": 1299.1249356299932, "outflow_rate_max": 1499.3479189076897, "cost2_mean": -58.49967077410545, "system_level_velocity_max": 17.790786205806985}, "episode_len_mean": 700.0, "config": {"input": "sampler", "output_compress_columns": ["obs", "new_obs"], "num_envs_per_worker": 1, "sample_batch_size": 750, "num_cpus_for_driver": 1, "preprocessor_pref": "deepmind", "horizon": 1500, "compress_observations": false, "vf_loss_coeff": 1.0, "input_evaluation": null, "gamma": 0.99, "optimizer": {}, "kl_target": 0.01, "entropy_coeff": 0.0, "num_gpus": 0, "sgd_minibatch_size": 128, "lr_schedule": null, "custom_resources_per_worker": {}, "kl_coeff": 0.2, "lambda": 0.97, "vf_clip_param": 1000000.0, "clip_actions": false, "output": null, "output_max_file_size": 67108864, "monitor": false, "model": {"conv_filters": null, "fcnet_activation": "tanh", "framestack": true, "custom_options": {}, "lstm_use_prev_action_reward": false, "channel_major": false, "max_seq_len": 20, "squash_to_range": false, "grayscale": false, "dim": 84, "custom_model": null, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "use_lstm": false, "lstm_cell_size": 256, "free_log_std": false, "zero_mean": true, "conv_activation": "relu"}, "collect_metrics_timeout": 180, "synchronize_filters": true, "env": "MultiWaveAttenuationMergePOEnv-v0done_[eta1, eta2, eta3]:[1.0, 0.05, 0.0]_t_min:5.0_buf_len: 1", "batch_mode": "truncate_episodes", "num_workers": 20, "straggler_mitigation": false, "use_gae": true, "vf_share_layers": false, "sample_async": false, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f89daef6470>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f89daef6eb8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f89daef6fd0>", "on_sample_end": null, "on_train_result": null}, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "clip_param": 0.3, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "log_level": "INFO", "observation_filter": "NoFilter", "lr": 0.0005, "num_sgd_iter": 10, "simple_optimizer": false, "train_batch_size": 30000, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}}}
{"episode_reward_max": -601.5367247534838, "episode_reward_mean": -1071.8011703159873, "timestamp": 1558588186, "experiment_id": "30635ebb86f4472d97a68d56e6633275", "episodes_this_iter": 31, "timesteps_this_iter": 56499, "pid": 31797, "done": false, "episodes_total": 1117, "info": {"sample_time_ms": 31170.152, "update_time_ms": 8.983, "num_steps_trained": 2213336, "grad_time_ms": 15296.052, "num_steps_sampled": 2213336, "load_time_ms": 5.533, "default": {"vf_loss": 26.662960052490234, "cur_lr": 0.0005000000237487257, "entropy": 1.0481301546096802, "vf_explained_var": 0.8735347986221313, "kl": 0.00928466022014618, "cur_kl_coeff": 0.05624999478459358, "policy_loss": -0.0017829077551141381, "total_loss": 26.661697387695312}}, "training_iteration": 38, "hostname": "flow-main", "time_since_restore": 1845.024739742279, "iterations_since_restore": 38, "timesteps_since_restore": 2213336, "node_ip": "10.138.0.2", "policy_reward_mean": {}, "timesteps_total": 2213336, "num_metric_batches_dropped": 0, "time_total_s": 1845.024739742279, "episode_reward_min": -1362.0080639691964, "time_this_iter_s": 49.14787197113037, "date": "2019-05-23_05-09-46", "custom_metrics": {"cost1_min": 312.07198424157906, "outflow_rate_min": 1120.5711469435537, "cost1_max": 457.49398666802665, "system_level_velocity_mean": 14.582612197959405, "cost2_min": -84.74894187715502, "cost1_mean": 380.2678844512567, "system_level_velocity_min": 11.821583417004565, "cost2_max": -33.35754423502608, "outflow_rate_mean": 1286.0130118927345, "outflow_rate_max": 1499.3479189076897, "cost2_mean": -62.96046994399214, "system_level_velocity_max": 17.788052257198135}, "episode_len_mean": 700.0, "config": {"input": "sampler", "output_compress_columns": ["obs", "new_obs"], "num_envs_per_worker": 1, "sample_batch_size": 750, "num_cpus_for_driver": 1, "preprocessor_pref": "deepmind", "horizon": 1500, "compress_observations": false, "vf_loss_coeff": 1.0, "input_evaluation": null, "gamma": 0.99, "optimizer": {}, "kl_target": 0.01, "entropy_coeff": 0.0, "num_gpus": 0, "sgd_minibatch_size": 128, "lr_schedule": null, "custom_resources_per_worker": {}, "kl_coeff": 0.2, "lambda": 0.97, "vf_clip_param": 1000000.0, "clip_actions": false, "output": null, "output_max_file_size": 67108864, "monitor": false, "model": {"conv_filters": null, "fcnet_activation": "tanh", "framestack": true, "custom_options": {}, "lstm_use_prev_action_reward": false, "channel_major": false, "max_seq_len": 20, "squash_to_range": false, "grayscale": false, "dim": 84, "custom_model": null, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "use_lstm": false, "lstm_cell_size": 256, "free_log_std": false, "zero_mean": true, "conv_activation": "relu"}, "collect_metrics_timeout": 180, "synchronize_filters": true, "env": "MultiWaveAttenuationMergePOEnv-v0done_[eta1, eta2, eta3]:[1.0, 0.05, 0.0]_t_min:5.0_buf_len: 1", "batch_mode": "truncate_episodes", "num_workers": 20, "straggler_mitigation": false, "use_gae": true, "vf_share_layers": false, "sample_async": false, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f89daed2a90>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f89daed27f0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f89daed23c8>", "on_sample_end": null, "on_train_result": null}, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "clip_param": 0.3, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "log_level": "INFO", "observation_filter": "NoFilter", "lr": 0.0005, "num_sgd_iter": 10, "simple_optimizer": false, "train_batch_size": 30000, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}}}
{"episode_reward_max": -20.925308372291116, "episode_reward_mean": -1092.1517779940273, "timestamp": 1558588232, "experiment_id": "30635ebb86f4472d97a68d56e6633275", "episodes_this_iter": 30, "timesteps_this_iter": 57319, "pid": 31797, "done": false, "episodes_total": 1147, "info": {"sample_time_ms": 31093.921, "update_time_ms": 9.03, "num_steps_trained": 2270655, "grad_time_ms": 15464.09, "num_steps_sampled": 2270655, "load_time_ms": 5.487, "default": {"vf_loss": 25.826290130615234, "cur_lr": 0.0005000000237487257, "entropy": 1.0350443124771118, "vf_explained_var": 0.8793718814849854, "kl": 0.009070306085050106, "cur_kl_coeff": 0.05624999850988388, "policy_loss": -0.0024696430191397667, "total_loss": 25.82433319091797}}, "training_iteration": 39, "hostname": "flow-main", "time_since_restore": 1890.5311434268951, "iterations_since_restore": 39, "timesteps_since_restore": 2270655, "node_ip": "10.138.0.2", "policy_reward_mean": {}, "timesteps_total": 2270655, "num_metric_batches_dropped": 0, "time_total_s": 1890.5311434268951, "episode_reward_min": -1362.0080639691964, "time_this_iter_s": 45.50640368461609, "date": "2019-05-23_05-10-32", "custom_metrics": {"cost1_min": 18.812731218713555, "outflow_rate_min": 497.50056700217027, "cost1_max": 457.49398666802665, "system_level_velocity_mean": 14.396193457418, "cost2_min": -85.95610442417947, "cost1_mean": 371.16106810486554, "system_level_velocity_min": 11.757589416458, "cost2_max": -13.85594095570971, "outflow_rate_mean": 1270.0860614431476, "outflow_rate_max": 1522.8011377862158, "cost2_mean": -64.63685732465376, "system_level_velocity_max": 18.467360952468834}, "episode_len_mean": 693.28, "config": {"input": "sampler", "output_compress_columns": ["obs", "new_obs"], "num_envs_per_worker": 1, "sample_batch_size": 750, "num_cpus_for_driver": 1, "preprocessor_pref": "deepmind", "horizon": 1500, "compress_observations": false, "vf_loss_coeff": 1.0, "input_evaluation": null, "gamma": 0.99, "optimizer": {}, "kl_target": 0.01, "entropy_coeff": 0.0, "num_gpus": 0, "sgd_minibatch_size": 128, "lr_schedule": null, "custom_resources_per_worker": {}, "kl_coeff": 0.2, "lambda": 0.97, "vf_clip_param": 1000000.0, "clip_actions": false, "output": null, "output_max_file_size": 67108864, "monitor": false, "model": {"conv_filters": null, "fcnet_activation": "tanh", "framestack": true, "custom_options": {}, "lstm_use_prev_action_reward": false, "channel_major": false, "max_seq_len": 20, "squash_to_range": false, "grayscale": false, "dim": 84, "custom_model": null, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "use_lstm": false, "lstm_cell_size": 256, "free_log_std": false, "zero_mean": true, "conv_activation": "relu"}, "collect_metrics_timeout": 180, "synchronize_filters": true, "env": "MultiWaveAttenuationMergePOEnv-v0done_[eta1, eta2, eta3]:[1.0, 0.05, 0.0]_t_min:5.0_buf_len: 1", "batch_mode": "truncate_episodes", "num_workers": 20, "straggler_mitigation": false, "use_gae": true, "vf_share_layers": false, "sample_async": false, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f89daef6ac8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f89daef6e48>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f89daef64a8>", "on_sample_end": null, "on_train_result": null}, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "clip_param": 0.3, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "log_level": "INFO", "observation_filter": "NoFilter", "lr": 0.0005, "num_sgd_iter": 10, "simple_optimizer": false, "train_batch_size": 30000, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}}}
{"episode_reward_max": -20.925308372291116, "episode_reward_mean": -1087.3796178005293, "timestamp": 1558588278, "experiment_id": "30635ebb86f4472d97a68d56e6633275", "episodes_this_iter": 31, "timesteps_this_iter": 55476, "pid": 31797, "done": false, "episodes_total": 1178, "info": {"sample_time_ms": 31078.975, "update_time_ms": 8.981, "num_steps_trained": 2326131, "grad_time_ms": 15445.946, "num_steps_sampled": 2326131, "load_time_ms": 5.144, "default": {"vf_loss": 25.968963623046875, "cur_lr": 0.0005000000237487257, "entropy": 1.0317925214767456, "vf_explained_var": 0.8775131106376648, "kl": 0.01053698267787695, "cur_kl_coeff": 0.05624999478459358, "policy_loss": -0.0029286788776516914, "total_loss": 25.966629028320312}}, "training_iteration": 40, "hostname": "flow-main", "time_since_restore": 1937.0342054367065, "iterations_since_restore": 40, "timesteps_since_restore": 2326131, "node_ip": "10.138.0.2", "policy_reward_mean": {}, "timesteps_total": 2326131, "num_metric_batches_dropped": 0, "time_total_s": 1937.0342054367065, "episode_reward_min": -1384.0634635312522, "time_this_iter_s": 46.5030620098114, "date": "2019-05-23_05-11-18", "custom_metrics": {"cost1_min": 18.812731218713555, "outflow_rate_min": 497.50056700217027, "cost1_max": 457.49398666802665, "system_level_velocity_mean": 14.444484903546813, "cost2_min": -91.43727736513873, "cost1_mean": 372.1539724931125, "system_level_velocity_min": 11.605459705471203, "cost2_max": -13.85594095570971, "outflow_rate_mean": 1269.3665890816558, "outflow_rate_max": 1522.8011377862158, "cost2_mean": -64.75237190233334, "system_level_velocity_max": 18.467360952468834}, "episode_len_mean": 693.28, "config": {"input": "sampler", "output_compress_columns": ["obs", "new_obs"], "num_envs_per_worker": 1, "sample_batch_size": 750, "num_cpus_for_driver": 1, "preprocessor_pref": "deepmind", "horizon": 1500, "compress_observations": false, "vf_loss_coeff": 1.0, "input_evaluation": null, "gamma": 0.99, "optimizer": {}, "kl_target": 0.01, "entropy_coeff": 0.0, "num_gpus": 0, "sgd_minibatch_size": 128, "lr_schedule": null, "custom_resources_per_worker": {}, "kl_coeff": 0.2, "lambda": 0.97, "vf_clip_param": 1000000.0, "clip_actions": false, "output": null, "output_max_file_size": 67108864, "monitor": false, "model": {"conv_filters": null, "fcnet_activation": "tanh", "framestack": true, "custom_options": {}, "lstm_use_prev_action_reward": false, "channel_major": false, "max_seq_len": 20, "squash_to_range": false, "grayscale": false, "dim": 84, "custom_model": null, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "use_lstm": false, "lstm_cell_size": 256, "free_log_std": false, "zero_mean": true, "conv_activation": "relu"}, "collect_metrics_timeout": 180, "synchronize_filters": true, "env": "MultiWaveAttenuationMergePOEnv-v0done_[eta1, eta2, eta3]:[1.0, 0.05, 0.0]_t_min:5.0_buf_len: 1", "batch_mode": "truncate_episodes", "num_workers": 20, "straggler_mitigation": false, "use_gae": true, "vf_share_layers": false, "sample_async": false, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f89daef6f60>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f89daef6d30>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f89daef05f8>", "on_sample_end": null, "on_train_result": null}, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "clip_param": 0.3, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "log_level": "INFO", "observation_filter": "NoFilter", "lr": 0.0005, "num_sgd_iter": 10, "simple_optimizer": false, "train_batch_size": 30000, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}}}
{"episode_reward_max": -20.925308372291116, "episode_reward_mean": -1051.8472891265383, "timestamp": 1558588323, "experiment_id": "30635ebb86f4472d97a68d56e6633275", "episodes_this_iter": 33, "timesteps_this_iter": 55761, "pid": 31797, "done": false, "episodes_total": 1211, "info": {"sample_time_ms": 30897.775, "update_time_ms": 8.986, "num_steps_trained": 2381892, "grad_time_ms": 15637.314, "num_steps_sampled": 2381892, "load_time_ms": 5.113, "default": {"vf_loss": 23.937698364257812, "cur_lr": 0.0005000000237487257, "entropy": 1.0208978652954102, "vf_explained_var": 0.8787617087364197, "kl": 0.0105888731777668, "cur_kl_coeff": 0.056249991059303284, "policy_loss": -0.0023717726580798626, "total_loss": 23.9359188079834}}, "training_iteration": 41, "hostname": "flow-main", "time_since_restore": 1982.0434789657593, "iterations_since_restore": 41, "timesteps_since_restore": 2381892, "node_ip": "10.138.0.2", "policy_reward_mean": {}, "timesteps_total": 2381892, "num_metric_batches_dropped": 0, "time_total_s": 1982.0434789657593, "episode_reward_min": -1384.0634635312522, "time_this_iter_s": 45.009273529052734, "date": "2019-05-23_05-12-03", "custom_metrics": {"cost1_min": 18.812731218713555, "outflow_rate_min": 497.50056700217027, "cost1_max": 458.0689902269595, "system_level_velocity_mean": 14.56822136447413, "cost2_min": -91.43727736513873, "cost1_mean": 370.50239329218334, "system_level_velocity_min": 11.605459705471203, "cost2_max": -13.85594095570971, "outflow_rate_mean": 1262.7565284310142, "outflow_rate_max": 1522.8011377862158, "cost2_mean": -62.6507259288998, "system_level_velocity_max": 18.915709636204344}, "episode_len_mean": 686.65, "config": {"input": "sampler", "output_compress_columns": ["obs", "new_obs"], "num_envs_per_worker": 1, "sample_batch_size": 750, "num_cpus_for_driver": 1, "preprocessor_pref": "deepmind", "horizon": 1500, "compress_observations": false, "vf_loss_coeff": 1.0, "input_evaluation": null, "gamma": 0.99, "optimizer": {}, "kl_target": 0.01, "entropy_coeff": 0.0, "num_gpus": 0, "sgd_minibatch_size": 128, "lr_schedule": null, "custom_resources_per_worker": {}, "kl_coeff": 0.2, "lambda": 0.97, "vf_clip_param": 1000000.0, "clip_actions": false, "output": null, "output_max_file_size": 67108864, "monitor": false, "model": {"conv_filters": null, "fcnet_activation": "tanh", "framestack": true, "custom_options": {}, "lstm_use_prev_action_reward": false, "channel_major": false, "max_seq_len": 20, "squash_to_range": false, "grayscale": false, "dim": 84, "custom_model": null, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "use_lstm": false, "lstm_cell_size": 256, "free_log_std": false, "zero_mean": true, "conv_activation": "relu"}, "collect_metrics_timeout": 180, "synchronize_filters": true, "env": "MultiWaveAttenuationMergePOEnv-v0done_[eta1, eta2, eta3]:[1.0, 0.05, 0.0]_t_min:5.0_buf_len: 1", "batch_mode": "truncate_episodes", "num_workers": 20, "straggler_mitigation": false, "use_gae": true, "vf_share_layers": false, "sample_async": false, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f89dac7f6a0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f89dac7f208>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f89dac7f7f0>", "on_sample_end": null, "on_train_result": null}, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "clip_param": 0.3, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "log_level": "INFO", "observation_filter": "NoFilter", "lr": 0.0005, "num_sgd_iter": 10, "simple_optimizer": false, "train_batch_size": 30000, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}}}
{"episode_reward_max": -20.925308372291116, "episode_reward_mean": -1009.3547691185507, "timestamp": 1558588367, "experiment_id": "30635ebb86f4472d97a68d56e6633275", "episodes_this_iter": 28, "timesteps_this_iter": 55530, "pid": 31797, "done": false, "episodes_total": 1239, "info": {"sample_time_ms": 30636.727, "update_time_ms": 9.223, "num_steps_trained": 2437422, "grad_time_ms": 15534.316, "num_steps_sampled": 2437422, "load_time_ms": 4.715, "default": {"vf_loss": 20.873394012451172, "cur_lr": 0.0005000000237487257, "entropy": 1.022429347038269, "vf_explained_var": 0.8929856419563293, "kl": 0.010525861755013466, "cur_kl_coeff": 0.05624999478459358, "policy_loss": -0.0021395354997366667, "total_loss": 20.87184715270996}}, "training_iteration": 42, "hostname": "flow-main", "time_since_restore": 2026.020315170288, "iterations_since_restore": 42, "timesteps_since_restore": 2437422, "node_ip": "10.138.0.2", "policy_reward_mean": {}, "timesteps_total": 2437422, "num_metric_batches_dropped": 0, "time_total_s": 2026.020315170288, "episode_reward_min": -1384.0634635312522, "time_this_iter_s": 43.97683620452881, "date": "2019-05-23_05-12-47", "custom_metrics": {"cost1_min": 18.812731218713555, "outflow_rate_min": 497.50056700217027, "cost1_max": 458.0689902269595, "system_level_velocity_mean": 14.810614129815407, "cost2_min": -91.43727736513873, "cost1_mean": 373.5482368007524, "system_level_velocity_min": 11.605459705471203, "cost2_max": -13.85594095570971, "outflow_rate_mean": 1265.519529205615, "outflow_rate_max": 1476.630642328396, "cost2_mean": -59.19938224229214, "system_level_velocity_max": 18.915709636204344}, "episode_len_mean": 682.62, "config": {"input": "sampler", "output_compress_columns": ["obs", "new_obs"], "num_envs_per_worker": 1, "sample_batch_size": 750, "num_cpus_for_driver": 1, "preprocessor_pref": "deepmind", "horizon": 1500, "compress_observations": false, "vf_loss_coeff": 1.0, "input_evaluation": null, "gamma": 0.99, "optimizer": {}, "kl_target": 0.01, "entropy_coeff": 0.0, "num_gpus": 0, "sgd_minibatch_size": 128, "lr_schedule": null, "custom_resources_per_worker": {}, "kl_coeff": 0.2, "lambda": 0.97, "vf_clip_param": 1000000.0, "clip_actions": false, "output": null, "output_max_file_size": 67108864, "monitor": false, "model": {"conv_filters": null, "fcnet_activation": "tanh", "framestack": true, "custom_options": {}, "lstm_use_prev_action_reward": false, "channel_major": false, "max_seq_len": 20, "squash_to_range": false, "grayscale": false, "dim": 84, "custom_model": null, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "use_lstm": false, "lstm_cell_size": 256, "free_log_std": false, "zero_mean": true, "conv_activation": "relu"}, "collect_metrics_timeout": 180, "synchronize_filters": true, "env": "MultiWaveAttenuationMergePOEnv-v0done_[eta1, eta2, eta3]:[1.0, 0.05, 0.0]_t_min:5.0_buf_len: 1", "batch_mode": "truncate_episodes", "num_workers": 20, "straggler_mitigation": false, "use_gae": true, "vf_share_layers": false, "sample_async": false, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f89daef6278>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f89daef6470>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f89daef6ef0>", "on_sample_end": null, "on_train_result": null}, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "clip_param": 0.3, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "log_level": "INFO", "observation_filter": "NoFilter", "lr": 0.0005, "num_sgd_iter": 10, "simple_optimizer": false, "train_batch_size": 30000, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}}}
{"episode_reward_max": -28.244245602038845, "episode_reward_mean": -984.6921985569892, "timestamp": 1558588412, "experiment_id": "30635ebb86f4472d97a68d56e6633275", "episodes_this_iter": 33, "timesteps_this_iter": 55307, "pid": 31797, "done": false, "episodes_total": 1272, "info": {"sample_time_ms": 30486.611, "update_time_ms": 9.173, "num_steps_trained": 2492729, "grad_time_ms": 15406.174, "num_steps_sampled": 2492729, "load_time_ms": 4.773, "default": {"vf_loss": 23.949363708496094, "cur_lr": 0.0005000000237487257, "entropy": 1.0067330598831177, "vf_explained_var": 0.8684567213058472, "kl": 0.011770885437726974, "cur_kl_coeff": 0.05624999478459358, "policy_loss": -0.002571683144196868, "total_loss": 23.94745635986328}}, "training_iteration": 43, "hostname": "flow-main", "time_since_restore": 2070.7754004001617, "iterations_since_restore": 43, "timesteps_since_restore": 2492729, "node_ip": "10.138.0.2", "policy_reward_mean": {}, "timesteps_total": 2492729, "num_metric_batches_dropped": 0, "time_total_s": 2070.7754004001617, "episode_reward_min": -1308.8627866467143, "time_this_iter_s": 44.75508522987366, "date": "2019-05-23_05-13-32", "custom_metrics": {"cost1_min": 24.48457883838048, "outflow_rate_min": 518.6392970701784, "cost1_max": 458.0689902269595, "system_level_velocity_mean": 14.957459682258378, "cost2_min": -81.01338548574945, "cost1_mean": 381.7661794896207, "system_level_velocity_min": 12.054037674429056, "cost2_max": -14.486483386695124, "outflow_rate_mean": 1278.0655570117397, "outflow_rate_max": 1476.630642328396, "cost2_mean": -55.377061508036434, "system_level_velocity_max": 18.915709636204344}, "episode_len_mean": 689.34, "config": {"input": "sampler", "output_compress_columns": ["obs", "new_obs"], "num_envs_per_worker": 1, "sample_batch_size": 750, "num_cpus_for_driver": 1, "preprocessor_pref": "deepmind", "horizon": 1500, "compress_observations": false, "vf_loss_coeff": 1.0, "input_evaluation": null, "gamma": 0.99, "optimizer": {}, "kl_target": 0.01, "entropy_coeff": 0.0, "num_gpus": 0, "sgd_minibatch_size": 128, "lr_schedule": null, "custom_resources_per_worker": {}, "kl_coeff": 0.2, "lambda": 0.97, "vf_clip_param": 1000000.0, "clip_actions": false, "output": null, "output_max_file_size": 67108864, "monitor": false, "model": {"conv_filters": null, "fcnet_activation": "tanh", "framestack": true, "custom_options": {}, "lstm_use_prev_action_reward": false, "channel_major": false, "max_seq_len": 20, "squash_to_range": false, "grayscale": false, "dim": 84, "custom_model": null, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "use_lstm": false, "lstm_cell_size": 256, "free_log_std": false, "zero_mean": true, "conv_activation": "relu"}, "collect_metrics_timeout": 180, "synchronize_filters": true, "env": "MultiWaveAttenuationMergePOEnv-v0done_[eta1, eta2, eta3]:[1.0, 0.05, 0.0]_t_min:5.0_buf_len: 1", "batch_mode": "truncate_episodes", "num_workers": 20, "straggler_mitigation": false, "use_gae": true, "vf_share_layers": false, "sample_async": false, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f89daef6a20>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f89daef6b70>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f89daef6860>", "on_sample_end": null, "on_train_result": null}, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "clip_param": 0.3, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "log_level": "INFO", "observation_filter": "NoFilter", "lr": 0.0005, "num_sgd_iter": 10, "simple_optimizer": false, "train_batch_size": 30000, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}}}
{"episode_reward_max": -237.23007975053432, "episode_reward_mean": -962.7628686682272, "timestamp": 1558588479, "experiment_id": "30635ebb86f4472d97a68d56e6633275", "episodes_this_iter": 28, "timesteps_this_iter": 54322, "pid": 31797, "done": false, "episodes_total": 1300, "info": {"sample_time_ms": 31858.588, "update_time_ms": 9.032, "num_steps_trained": 2547051, "grad_time_ms": 16034.737, "num_steps_sampled": 2547051, "load_time_ms": 5.17, "default": {"vf_loss": 19.48304557800293, "cur_lr": 0.0005000000237487257, "entropy": 1.0166231393814087, "vf_explained_var": 0.8901693224906921, "kl": 0.00950494222342968, "cur_kl_coeff": 0.05624999478459358, "policy_loss": -0.0025153097230941057, "total_loss": 19.481067657470703}}, "training_iteration": 44, "hostname": "flow-main", "time_since_restore": 2137.3341150283813, "iterations_since_restore": 44, "timesteps_since_restore": 2547051, "node_ip": "10.138.0.2", "policy_reward_mean": {}, "timesteps_total": 2547051, "num_metric_batches_dropped": 0, "time_total_s": 2137.3341150283813, "episode_reward_min": -1335.5688573057398, "time_this_iter_s": 66.5587146282196, "date": "2019-05-23_05-14-39", "custom_metrics": {"cost1_min": 196.41731555576317, "outflow_rate_min": 1140.4174131653467, "cost1_max": 458.0689902269595, "system_level_velocity_mean": 15.084323919569265, "cost2_min": -77.79616880604996, "cost1_mean": 389.57115062102093, "system_level_velocity_min": 11.803330970779836, "cost2_max": -23.34411386462995, "outflow_rate_mean": 1292.7685957016008, "outflow_rate_max": 1476.630642328396, "cost2_mean": -52.94292062013437, "system_level_velocity_max": 18.208051127255384}, "episode_len_mean": 695.97, "config": {"input": "sampler", "output_compress_columns": ["obs", "new_obs"], "num_envs_per_worker": 1, "sample_batch_size": 750, "num_cpus_for_driver": 1, "preprocessor_pref": "deepmind", "horizon": 1500, "compress_observations": false, "vf_loss_coeff": 1.0, "input_evaluation": null, "gamma": 0.99, "optimizer": {}, "kl_target": 0.01, "entropy_coeff": 0.0, "num_gpus": 0, "sgd_minibatch_size": 128, "lr_schedule": null, "custom_resources_per_worker": {}, "kl_coeff": 0.2, "lambda": 0.97, "vf_clip_param": 1000000.0, "clip_actions": false, "output": null, "output_max_file_size": 67108864, "monitor": false, "model": {"conv_filters": null, "fcnet_activation": "tanh", "framestack": true, "custom_options": {}, "lstm_use_prev_action_reward": false, "channel_major": false, "max_seq_len": 20, "squash_to_range": false, "grayscale": false, "dim": 84, "custom_model": null, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "use_lstm": false, "lstm_cell_size": 256, "free_log_std": false, "zero_mean": true, "conv_activation": "relu"}, "collect_metrics_timeout": 180, "synchronize_filters": true, "env": "MultiWaveAttenuationMergePOEnv-v0done_[eta1, eta2, eta3]:[1.0, 0.05, 0.0]_t_min:5.0_buf_len: 1", "batch_mode": "truncate_episodes", "num_workers": 20, "straggler_mitigation": false, "use_gae": true, "vf_share_layers": false, "sample_async": false, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f89daef05c0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f89daef07b8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f89daef0080>", "on_sample_end": null, "on_train_result": null}, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "clip_param": 0.3, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "log_level": "INFO", "observation_filter": "NoFilter", "lr": 0.0005, "num_sgd_iter": 10, "simple_optimizer": false, "train_batch_size": 30000, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}}}
{"episode_reward_max": -29.864662496588643, "episode_reward_mean": -916.8098748543879, "timestamp": 1558588524, "experiment_id": "30635ebb86f4472d97a68d56e6633275", "episodes_this_iter": 31, "timesteps_this_iter": 53183, "pid": 31797, "done": false, "episodes_total": 1331, "info": {"sample_time_ms": 31927.245, "update_time_ms": 9.429, "num_steps_trained": 2600234, "grad_time_ms": 16086.247, "num_steps_sampled": 2600234, "load_time_ms": 5.179, "default": {"vf_loss": 18.492046356201172, "cur_lr": 0.0005000000237487257, "entropy": 1.0062905550003052, "vf_explained_var": 0.8892236948013306, "kl": 0.010592036880552769, "cur_kl_coeff": 0.05624999850988388, "policy_loss": -0.0016680144472047687, "total_loss": 18.490976333618164}}, "training_iteration": 45, "hostname": "flow-main", "time_since_restore": 2182.933148622513, "iterations_since_restore": 45, "timesteps_since_restore": 2600234, "node_ip": "10.138.0.2", "policy_reward_mean": {}, "timesteps_total": 2600234, "num_metric_batches_dropped": 0, "time_total_s": 2182.933148622513, "episode_reward_min": -1335.5688573057398, "time_this_iter_s": 45.59903359413147, "date": "2019-05-23_05-15-24", "custom_metrics": {"cost1_min": 24.231851187954785, "outflow_rate_min": 483.2247637437746, "cost1_max": 456.2837385809058, "system_level_velocity_mean": 15.322304787430989, "cost2_min": -78.76287585903037, "cost1_mean": 390.23963729947405, "system_level_velocity_min": 11.657006420254088, "cost2_max": -14.605617744666551, "outflow_rate_mean": 1293.9539603111566, "outflow_rate_max": 1476.630642328396, "cost2_mean": -49.947318623559724, "system_level_velocity_max": 18.568548024439316}, "episode_len_mean": 688.54, "config": {"input": "sampler", "output_compress_columns": ["obs", "new_obs"], "num_envs_per_worker": 1, "sample_batch_size": 750, "num_cpus_for_driver": 1, "preprocessor_pref": "deepmind", "horizon": 1500, "compress_observations": false, "vf_loss_coeff": 1.0, "input_evaluation": null, "gamma": 0.99, "optimizer": {}, "kl_target": 0.01, "entropy_coeff": 0.0, "num_gpus": 0, "sgd_minibatch_size": 128, "lr_schedule": null, "custom_resources_per_worker": {}, "kl_coeff": 0.2, "lambda": 0.97, "vf_clip_param": 1000000.0, "clip_actions": false, "output": null, "output_max_file_size": 67108864, "monitor": false, "model": {"conv_filters": null, "fcnet_activation": "tanh", "framestack": true, "custom_options": {}, "lstm_use_prev_action_reward": false, "channel_major": false, "max_seq_len": 20, "squash_to_range": false, "grayscale": false, "dim": 84, "custom_model": null, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "use_lstm": false, "lstm_cell_size": 256, "free_log_std": false, "zero_mean": true, "conv_activation": "relu"}, "collect_metrics_timeout": 180, "synchronize_filters": true, "env": "MultiWaveAttenuationMergePOEnv-v0done_[eta1, eta2, eta3]:[1.0, 0.05, 0.0]_t_min:5.0_buf_len: 1", "batch_mode": "truncate_episodes", "num_workers": 20, "straggler_mitigation": false, "use_gae": true, "vf_share_layers": false, "sample_async": false, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f89daf2f048>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f89daef0940>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f89daef0518>", "on_sample_end": null, "on_train_result": null}, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "clip_param": 0.3, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "log_level": "INFO", "observation_filter": "NoFilter", "lr": 0.0005, "num_sgd_iter": 10, "simple_optimizer": false, "train_batch_size": 30000, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}}}
{"episode_reward_max": -29.864662496588643, "episode_reward_mean": -939.4345761004288, "timestamp": 1558588568, "experiment_id": "30635ebb86f4472d97a68d56e6633275", "episodes_this_iter": 28, "timesteps_this_iter": 56342, "pid": 31797, "done": false, "episodes_total": 1359, "info": {"sample_time_ms": 31860.408, "update_time_ms": 9.389, "num_steps_trained": 2656576, "grad_time_ms": 15962.436, "num_steps_sampled": 2656576, "load_time_ms": 5.235, "default": {"vf_loss": 19.384002685546875, "cur_lr": 0.0005000000237487257, "entropy": 0.9807596206665039, "vf_explained_var": 0.8954773545265198, "kl": 0.013675661757588387, "cur_kl_coeff": 0.056249991059303284, "policy_loss": -0.002445582300424576, "total_loss": 19.382328033447266}}, "training_iteration": 46, "hostname": "flow-main", "time_since_restore": 2226.970543861389, "iterations_since_restore": 46, "timesteps_since_restore": 2656576, "node_ip": "10.138.0.2", "policy_reward_mean": {}, "timesteps_total": 2656576, "num_metric_batches_dropped": 0, "time_total_s": 2226.970543861389, "episode_reward_min": -1335.5688573057398, "time_this_iter_s": 44.03739523887634, "date": "2019-05-23_05-16-08", "custom_metrics": {"cost1_min": 24.231851187954785, "outflow_rate_min": 483.2247637437746, "cost1_max": 454.9591757514117, "system_level_velocity_mean": 15.048077513838118, "cost2_min": -78.78668766951928, "cost1_mean": 383.7809169411267, "system_level_velocity_min": 11.657006420254088, "cost2_max": -14.605617744666551, "outflow_rate_mean": 1281.0229063020745, "outflow_rate_max": 1470.3744033109751, "cost2_mean": -51.810797970460186, "system_level_velocity_max": 18.568548024439316}, "episode_len_mean": 688.54, "config": {"input": "sampler", "output_compress_columns": ["obs", "new_obs"], "num_envs_per_worker": 1, "sample_batch_size": 750, "num_cpus_for_driver": 1, "preprocessor_pref": "deepmind", "horizon": 1500, "compress_observations": false, "vf_loss_coeff": 1.0, "input_evaluation": null, "gamma": 0.99, "optimizer": {}, "kl_target": 0.01, "entropy_coeff": 0.0, "num_gpus": 0, "sgd_minibatch_size": 128, "lr_schedule": null, "custom_resources_per_worker": {}, "kl_coeff": 0.2, "lambda": 0.97, "vf_clip_param": 1000000.0, "clip_actions": false, "output": null, "output_max_file_size": 67108864, "monitor": false, "model": {"conv_filters": null, "fcnet_activation": "tanh", "framestack": true, "custom_options": {}, "lstm_use_prev_action_reward": false, "channel_major": false, "max_seq_len": 20, "squash_to_range": false, "grayscale": false, "dim": 84, "custom_model": null, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "use_lstm": false, "lstm_cell_size": 256, "free_log_std": false, "zero_mean": true, "conv_activation": "relu"}, "collect_metrics_timeout": 180, "synchronize_filters": true, "env": "MultiWaveAttenuationMergePOEnv-v0done_[eta1, eta2, eta3]:[1.0, 0.05, 0.0]_t_min:5.0_buf_len: 1", "batch_mode": "truncate_episodes", "num_workers": 20, "straggler_mitigation": false, "use_gae": true, "vf_share_layers": false, "sample_async": false, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f89daef62b0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f89daef6a90>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f89daef6b70>", "on_sample_end": null, "on_train_result": null}, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "clip_param": 0.3, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "log_level": "INFO", "observation_filter": "NoFilter", "lr": 0.0005, "num_sgd_iter": 10, "simple_optimizer": false, "train_batch_size": 30000, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}}}
{"episode_reward_max": -27.035765508056347, "episode_reward_mean": -920.3298589942331, "timestamp": 1558588612, "experiment_id": "30635ebb86f4472d97a68d56e6633275", "episodes_this_iter": 30, "timesteps_this_iter": 54279, "pid": 31797, "done": false, "episodes_total": 1389, "info": {"sample_time_ms": 31708.719, "update_time_ms": 9.161, "num_steps_trained": 2710855, "grad_time_ms": 15612.395, "num_steps_sampled": 2710855, "load_time_ms": 5.298, "default": {"vf_loss": 19.547067642211914, "cur_lr": 0.0005000000237487257, "entropy": 0.9968281984329224, "vf_explained_var": 0.8871785998344421, "kl": 0.011455637402832508, "cur_kl_coeff": 0.05624999478459358, "policy_loss": -0.002186577068641782, "total_loss": 19.545530319213867}}, "training_iteration": 47, "hostname": "flow-main", "time_since_restore": 2270.419610977173, "iterations_since_restore": 47, "timesteps_since_restore": 2710855, "node_ip": "10.138.0.2", "policy_reward_mean": {}, "timesteps_total": 2710855, "num_metric_batches_dropped": 0, "time_total_s": 2270.419610977173, "episode_reward_min": -1346.2264262106496, "time_this_iter_s": 43.44906711578369, "date": "2019-05-23_05-16-52", "custom_metrics": {"cost1_min": 23.139529326239913, "outflow_rate_min": 483.2247637437746, "cost1_max": 453.0023548579928, "system_level_velocity_mean": 15.099588629055267, "cost2_min": -78.78668766951928, "cost1_mean": 380.39340390063654, "system_level_velocity_min": 11.073402514937406, "cost2_max": -14.605617744666551, "outflow_rate_mean": 1270.9189602538652, "outflow_rate_max": 1470.3744033109751, "cost2_mean": -50.82615781919681, "system_level_velocity_max": 18.811266713792758}, "episode_len_mean": 681.89, "config": {"input": "sampler", "output_compress_columns": ["obs", "new_obs"], "num_envs_per_worker": 1, "sample_batch_size": 750, "num_cpus_for_driver": 1, "preprocessor_pref": "deepmind", "horizon": 1500, "compress_observations": false, "vf_loss_coeff": 1.0, "input_evaluation": null, "gamma": 0.99, "optimizer": {}, "kl_target": 0.01, "entropy_coeff": 0.0, "num_gpus": 0, "sgd_minibatch_size": 128, "lr_schedule": null, "custom_resources_per_worker": {}, "kl_coeff": 0.2, "lambda": 0.97, "vf_clip_param": 1000000.0, "clip_actions": false, "output": null, "output_max_file_size": 67108864, "monitor": false, "model": {"conv_filters": null, "fcnet_activation": "tanh", "framestack": true, "custom_options": {}, "lstm_use_prev_action_reward": false, "channel_major": false, "max_seq_len": 20, "squash_to_range": false, "grayscale": false, "dim": 84, "custom_model": null, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "use_lstm": false, "lstm_cell_size": 256, "free_log_std": false, "zero_mean": true, "conv_activation": "relu"}, "collect_metrics_timeout": 180, "synchronize_filters": true, "env": "MultiWaveAttenuationMergePOEnv-v0done_[eta1, eta2, eta3]:[1.0, 0.05, 0.0]_t_min:5.0_buf_len: 1", "batch_mode": "truncate_episodes", "num_workers": 20, "straggler_mitigation": false, "use_gae": true, "vf_share_layers": false, "sample_async": false, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f89daef0e80>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f89daef0278>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f89daef0390>", "on_sample_end": null, "on_train_result": null}, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "clip_param": 0.3, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "log_level": "INFO", "observation_filter": "NoFilter", "lr": 0.0005, "num_sgd_iter": 10, "simple_optimizer": false, "train_batch_size": 30000, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}}}
{"episode_reward_max": -21.04432681595907, "episode_reward_mean": -924.0204121362559, "timestamp": 1558588656, "experiment_id": "30635ebb86f4472d97a68d56e6633275", "episodes_this_iter": 31, "timesteps_this_iter": 53174, "pid": 31797, "done": false, "episodes_total": 1420, "info": {"sample_time_ms": 31373.911, "update_time_ms": 9.032, "num_steps_trained": 2764029, "grad_time_ms": 15391.56, "num_steps_sampled": 2764029, "load_time_ms": 5.282, "default": {"vf_loss": 15.872881889343262, "cur_lr": 0.0005000000237487257, "entropy": 1.0076568126678467, "vf_explained_var": 0.8871091604232788, "kl": 0.012512409128248692, "cur_kl_coeff": 0.05624999850988388, "policy_loss": -0.003043685806915164, "total_loss": 15.8705415725708}}, "training_iteration": 48, "hostname": "flow-main", "time_since_restore": 2313.999829530716, "iterations_since_restore": 48, "timesteps_since_restore": 2764029, "node_ip": "10.138.0.2", "policy_reward_mean": {}, "timesteps_total": 2764029, "num_metric_batches_dropped": 0, "time_total_s": 2313.999829530716, "episode_reward_min": -1346.2264262106496, "time_this_iter_s": 43.58021855354309, "date": "2019-05-23_05-17-36", "custom_metrics": {"cost1_min": 17.933482660821674, "outflow_rate_min": 481.1720529070096, "cost1_max": 453.37181294335886, "system_level_velocity_mean": 14.94141912854754, "cost2_min": -78.78668766951928, "cost1_mean": 379.83926221263783, "system_level_velocity_min": 11.073402514937406, "cost2_max": -14.114055993612494, "outflow_rate_mean": 1268.1323207805349, "outflow_rate_max": 1410.1907965763053, "cost2_mean": -51.30260414652466, "system_level_velocity_max": 18.811266713792758}, "episode_len_mean": 686.62, "config": {"input": "sampler", "output_compress_columns": ["obs", "new_obs"], "num_envs_per_worker": 1, "sample_batch_size": 750, "num_cpus_for_driver": 1, "preprocessor_pref": "deepmind", "horizon": 1500, "compress_observations": false, "vf_loss_coeff": 1.0, "input_evaluation": null, "gamma": 0.99, "optimizer": {}, "kl_target": 0.01, "entropy_coeff": 0.0, "num_gpus": 0, "sgd_minibatch_size": 128, "lr_schedule": null, "custom_resources_per_worker": {}, "kl_coeff": 0.2, "lambda": 0.97, "vf_clip_param": 1000000.0, "clip_actions": false, "output": null, "output_max_file_size": 67108864, "monitor": false, "model": {"conv_filters": null, "fcnet_activation": "tanh", "framestack": true, "custom_options": {}, "lstm_use_prev_action_reward": false, "channel_major": false, "max_seq_len": 20, "squash_to_range": false, "grayscale": false, "dim": 84, "custom_model": null, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "use_lstm": false, "lstm_cell_size": 256, "free_log_std": false, "zero_mean": true, "conv_activation": "relu"}, "collect_metrics_timeout": 180, "synchronize_filters": true, "env": "MultiWaveAttenuationMergePOEnv-v0done_[eta1, eta2, eta3]:[1.0, 0.05, 0.0]_t_min:5.0_buf_len: 1", "batch_mode": "truncate_episodes", "num_workers": 20, "straggler_mitigation": false, "use_gae": true, "vf_share_layers": false, "sample_async": false, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f89daf2fb70>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f89daf2ff60>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f89daf2fa58>", "on_sample_end": null, "on_train_result": null}, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "clip_param": 0.3, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "log_level": "INFO", "observation_filter": "NoFilter", "lr": 0.0005, "num_sgd_iter": 10, "simple_optimizer": false, "train_batch_size": 30000, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}}}
{"episode_reward_max": -21.04432681595907, "episode_reward_mean": -909.8989027581066, "timestamp": 1558588699, "experiment_id": "30635ebb86f4472d97a68d56e6633275", "episodes_this_iter": 32, "timesteps_this_iter": 55909, "pid": 31797, "done": false, "episodes_total": 1452, "info": {"sample_time_ms": 31321.653, "update_time_ms": 8.956, "num_steps_trained": 2819938, "grad_time_ms": 15281.531, "num_steps_sampled": 2819938, "load_time_ms": 5.266, "default": {"vf_loss": 21.398473739624023, "cur_lr": 0.0005000000237487257, "entropy": 0.9861523509025574, "vf_explained_var": 0.8863146305084229, "kl": 0.010301594622433186, "cur_kl_coeff": 0.05624999478459358, "policy_loss": -0.0013978349743410945, "total_loss": 21.397653579711914}}, "training_iteration": 49, "hostname": "flow-main", "time_since_restore": 2357.886877298355, "iterations_since_restore": 49, "timesteps_since_restore": 2819938, "node_ip": "10.138.0.2", "policy_reward_mean": {}, "timesteps_total": 2819938, "num_metric_batches_dropped": 0, "time_total_s": 2357.886877298355, "episode_reward_min": -1346.2264262106496, "time_this_iter_s": 43.88704776763916, "date": "2019-05-23_05-18-19", "custom_metrics": {"cost1_min": 17.933482660821674, "outflow_rate_min": 481.1720529070096, "cost1_max": 453.37181294335886, "system_level_velocity_mean": 14.982868281669514, "cost2_min": -95.75600040928744, "cost1_mean": 380.79096781393383, "system_level_velocity_min": 11.073402514937406, "cost2_max": -14.114055993612494, "outflow_rate_mean": 1271.7371988518526, "outflow_rate_max": 1459.444290336273, "cost2_mean": -52.06190319772843, "system_level_velocity_max": 18.811266713792758}, "episode_len_mean": 686.62, "config": {"input": "sampler", "output_compress_columns": ["obs", "new_obs"], "num_envs_per_worker": 1, "sample_batch_size": 750, "num_cpus_for_driver": 1, "preprocessor_pref": "deepmind", "horizon": 1500, "compress_observations": false, "vf_loss_coeff": 1.0, "input_evaluation": null, "gamma": 0.99, "optimizer": {}, "kl_target": 0.01, "entropy_coeff": 0.0, "num_gpus": 0, "sgd_minibatch_size": 128, "lr_schedule": null, "custom_resources_per_worker": {}, "kl_coeff": 0.2, "lambda": 0.97, "vf_clip_param": 1000000.0, "clip_actions": false, "output": null, "output_max_file_size": 67108864, "monitor": false, "model": {"conv_filters": null, "fcnet_activation": "tanh", "framestack": true, "custom_options": {}, "lstm_use_prev_action_reward": false, "channel_major": false, "max_seq_len": 20, "squash_to_range": false, "grayscale": false, "dim": 84, "custom_model": null, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "use_lstm": false, "lstm_cell_size": 256, "free_log_std": false, "zero_mean": true, "conv_activation": "relu"}, "collect_metrics_timeout": 180, "synchronize_filters": true, "env": "MultiWaveAttenuationMergePOEnv-v0done_[eta1, eta2, eta3]:[1.0, 0.05, 0.0]_t_min:5.0_buf_len: 1", "batch_mode": "truncate_episodes", "num_workers": 20, "straggler_mitigation": false, "use_gae": true, "vf_share_layers": false, "sample_async": false, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f89daee71d0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f89daee70f0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f89daee7ef0>", "on_sample_end": null, "on_train_result": null}, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "clip_param": 0.3, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "log_level": "INFO", "observation_filter": "NoFilter", "lr": 0.0005, "num_sgd_iter": 10, "simple_optimizer": false, "train_batch_size": 30000, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}}}
{"episode_reward_max": -21.04432681595907, "episode_reward_mean": -909.454455481446, "timestamp": 1558588742, "experiment_id": "30635ebb86f4472d97a68d56e6633275", "episodes_this_iter": 29, "timesteps_this_iter": 53299, "pid": 31797, "done": true, "episodes_total": 1481, "info": {"sample_time_ms": 30992.358, "update_time_ms": 8.886, "num_steps_trained": 2873237, "grad_time_ms": 15221.304, "num_steps_sampled": 2873237, "load_time_ms": 5.246, "default": {"vf_loss": 18.590097427368164, "cur_lr": 0.0005000000237487257, "entropy": 0.9732523560523987, "vf_explained_var": 0.8936349153518677, "kl": 0.011726152151823044, "cur_kl_coeff": 0.05624999478459358, "policy_loss": -0.00307214492931962, "total_loss": 18.587684631347656}}, "training_iteration": 50, "hostname": "flow-main", "time_since_restore": 2400.4858841896057, "iterations_since_restore": 50, "timesteps_since_restore": 2873237, "node_ip": "10.138.0.2", "policy_reward_mean": {}, "timesteps_total": 2873237, "num_metric_batches_dropped": 0, "time_total_s": 2400.4858841896057, "episode_reward_min": -1272.627218404742, "time_this_iter_s": 42.59900689125061, "date": "2019-05-23_05-19-02", "custom_metrics": {"cost1_min": 17.933482660821674, "outflow_rate_min": 481.1720529070096, "cost1_max": 464.86881391286465, "system_level_velocity_mean": 15.054464394436495, "cost2_min": -95.75600040928744, "cost1_mean": 386.82778305226157, "system_level_velocity_min": 12.272876364709736, "cost2_max": -14.114055993612494, "outflow_rate_mean": 1288.5988437972474, "outflow_rate_max": 1477.8457528866118, "cost2_mean": -53.78897068786651, "system_level_velocity_max": 18.29888069363342}, "episode_len_mean": 693.27, "config": {"input": "sampler", "output_compress_columns": ["obs", "new_obs"], "num_envs_per_worker": 1, "sample_batch_size": 750, "num_cpus_for_driver": 1, "preprocessor_pref": "deepmind", "horizon": 1500, "compress_observations": false, "vf_loss_coeff": 1.0, "input_evaluation": null, "gamma": 0.99, "optimizer": {}, "kl_target": 0.01, "entropy_coeff": 0.0, "num_gpus": 0, "sgd_minibatch_size": 128, "lr_schedule": null, "custom_resources_per_worker": {}, "kl_coeff": 0.2, "lambda": 0.97, "vf_clip_param": 1000000.0, "clip_actions": false, "output": null, "output_max_file_size": 67108864, "monitor": false, "model": {"conv_filters": null, "fcnet_activation": "tanh", "framestack": true, "custom_options": {}, "lstm_use_prev_action_reward": false, "channel_major": false, "max_seq_len": 20, "squash_to_range": false, "grayscale": false, "dim": 84, "custom_model": null, "custom_preprocessor": null, "fcnet_hiddens": [128, 64, 32], "use_lstm": false, "lstm_cell_size": 256, "free_log_std": false, "zero_mean": true, "conv_activation": "relu"}, "collect_metrics_timeout": 180, "synchronize_filters": true, "env": "MultiWaveAttenuationMergePOEnv-v0done_[eta1, eta2, eta3]:[1.0, 0.05, 0.0]_t_min:5.0_buf_len: 1", "batch_mode": "truncate_episodes", "num_workers": 20, "straggler_mitigation": false, "use_gae": true, "vf_share_layers": false, "sample_async": false, "callbacks": {"on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f89daef62b0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f89daef6a20>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f89daef6f28>", "on_sample_end": null, "on_train_result": null}, "multiagent": {"policy_graphs": {}, "policy_mapping_fn": null, "policies_to_train": null}, "clip_param": 0.3, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "log_level": "INFO", "observation_filter": "NoFilter", "lr": 0.0005, "num_sgd_iter": 10, "simple_optimizer": false, "train_batch_size": 30000, "tf_session_args": {"gpu_options": {"allow_growth": true}, "allow_soft_placement": true, "inter_op_parallelism_threads": 2, "log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2}, "local_evaluator_tf_session_args": {"inter_op_parallelism_threads": 8, "intra_op_parallelism_threads": 8}, "clip_rewards": null, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"buf_length\": 1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.05,\n            \"eta3\": 0.0,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnv\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 600,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}}}
