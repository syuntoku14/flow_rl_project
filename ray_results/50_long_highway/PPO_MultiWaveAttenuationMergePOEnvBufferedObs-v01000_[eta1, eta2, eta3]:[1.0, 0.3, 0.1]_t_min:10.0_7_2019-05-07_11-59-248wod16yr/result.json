{"timesteps_since_restore": 48781, "done": false, "node_ip": "10.138.0.2", "pid": 10867, "date": "2019-05-07_12-00-49", "episode_reward_min": 42.502576087583684, "timesteps_this_iter": 48781, "training_iteration": 1, "episode_reward_mean": 566.6604341760508, "experiment_id": "a183ec7aedea427d9bacd699bea0cf75", "policy_reward_mean": {}, "iterations_since_restore": 1, "custom_metrics": {"cost2_min": -156.20004579596238, "outflow_rate_max": 975.1214425574425, "cost1_mean": 225.5380939724008, "cost2_mean": -114.09320431408203, "system_level_velocity_mean": 14.325123295765762, "cost1_max": 329.23523994045735, "cost1_min": 31.836020676287482, "cost2_max": -34.82627012766698, "outflow_rate_mean": 751.8521160949637, "system_level_velocity_min": 11.744446295807544, "outflow_rate_min": 328.62201022295307, "system_level_velocity_max": 18.831226241947284}, "info": {"num_steps_trained": 48781, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.0022117162588983774, "total_loss": 2.837700605392456, "vf_loss": 2.8383564949035645, "policy_loss": -0.0010983430547639728, "cur_kl_coeff": 0.20000003278255463, "vf_explained_var": 0.8589892387390137, "entropy": 1.4183353185653687}, "num_steps_sampled": 48781, "load_time_ms": 89.233, "update_time_ms": 2642.876, "grad_time_ms": 11656.41, "sample_time_ms": 51509.351}, "episode_len_mean": 482.3333333333333, "time_this_iter_s": 66.03409171104431, "num_metric_batches_dropped": 0, "timesteps_total": 48781, "episodes_total": 3, "hostname": "flow-main", "config": {"custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "kl_coeff": 0.2, "train_batch_size": 30000, "log_level": "INFO", "num_workers": 20, "num_sgd_iter": 10, "lr": 0.0005, "monitor": false, "lr_schedule": null, "compress_observations": false, "input": "sampler", "straggler_mitigation": false, "input_evaluation": null, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "optimizer": {}, "vf_share_layers": false, "model": {"fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "fcnet_activation": "tanh", "dim": 84, "lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "channel_major": false, "conv_activation": "relu", "squash_to_range": false, "conv_filters": null, "zero_mean": true, "grayscale": false, "max_seq_len": 20, "free_log_std": false, "custom_preprocessor": null, "custom_options": {}, "use_lstm": false}, "clip_param": 0.3, "num_cpus_for_driver": 1, "synchronize_filters": true, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "output": null, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.3, 0.1]_t_min:10.0", "batch_mode": "truncate_episodes", "simple_optimizer": false, "sample_batch_size": 200, "collect_metrics_timeout": 180, "clip_rewards": null, "clip_actions": false, "kl_target": 0.01, "observation_filter": "NoFilter", "use_gae": true, "entropy_coeff": 0.0, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb548d0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f9461170e48>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f9461170a20>"}, "gamma": 0.99, "horizon": 1500, "num_gpus_per_worker": 0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "output_max_file_size": 67108864, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "num_gpus": 0, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}}, "timestamp": 1557230449, "episode_reward_max": 836.4333431976088, "episodes_this_iter": 3, "time_total_s": 66.03409171104431, "time_since_restore": 66.03409171104431}
{"timesteps_since_restore": 94786, "done": false, "node_ip": "10.138.0.2", "pid": 10867, "date": "2019-05-07_12-01-16", "episode_reward_min": 42.502576087583684, "timesteps_this_iter": 46005, "training_iteration": 2, "episode_reward_mean": 601.4983660048722, "experiment_id": "a183ec7aedea427d9bacd699bea0cf75", "policy_reward_mean": {}, "iterations_since_restore": 2, "custom_metrics": {"cost2_min": -179.8485975818826, "outflow_rate_max": 993.1987084915086, "cost1_mean": 242.26483225793658, "cost2_mean": -131.5894477578086, "system_level_velocity_mean": 10.001133148763179, "cost1_max": 336.39869354566207, "cost1_min": 31.836020676287482, "cost2_max": -34.82627012766698, "outflow_rate_mean": 583.2157264560761, "system_level_velocity_min": 7.011414866195853, "outflow_rate_min": 304.17485714285715, "system_level_velocity_max": 18.831226241947284}, "info": {"num_steps_trained": 94786, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.0017702140612527728, "total_loss": 1.51400887966156, "vf_loss": 1.5147134065628052, "policy_loss": -0.0008815217879600823, "cur_kl_coeff": 0.10000002384185791, "vf_explained_var": 0.963681697845459, "entropy": 1.4415770769119263}, "num_steps_sampled": 94786, "load_time_ms": 69.793, "update_time_ms": 1324.547, "grad_time_ms": 10825.172, "sample_time_ms": 33913.846}, "episode_len_mean": 668.9047619047619, "time_this_iter_s": 26.45675563812256, "num_metric_batches_dropped": 0, "timesteps_total": 94786, "episodes_total": 21, "hostname": "flow-main", "config": {"custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "kl_coeff": 0.2, "train_batch_size": 30000, "log_level": "INFO", "num_workers": 20, "num_sgd_iter": 10, "lr": 0.0005, "monitor": false, "lr_schedule": null, "compress_observations": false, "input": "sampler", "straggler_mitigation": false, "input_evaluation": null, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "optimizer": {}, "vf_share_layers": false, "model": {"fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "fcnet_activation": "tanh", "dim": 84, "lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "channel_major": false, "conv_activation": "relu", "squash_to_range": false, "conv_filters": null, "zero_mean": true, "grayscale": false, "max_seq_len": 20, "free_log_std": false, "custom_preprocessor": null, "custom_options": {}, "use_lstm": false}, "clip_param": 0.3, "num_cpus_for_driver": 1, "synchronize_filters": true, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "output": null, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.3, 0.1]_t_min:10.0", "batch_mode": "truncate_episodes", "simple_optimizer": false, "sample_batch_size": 200, "collect_metrics_timeout": 180, "clip_rewards": null, "clip_actions": false, "kl_target": 0.01, "observation_filter": "NoFilter", "use_gae": true, "entropy_coeff": 0.0, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f945fd34208>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f9461150be0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f945fd34160>"}, "gamma": 0.99, "horizon": 1500, "num_gpus_per_worker": 0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "output_max_file_size": 67108864, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "num_gpus": 0, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}}, "timestamp": 1557230476, "episode_reward_max": 876.3572266692448, "episodes_this_iter": 18, "time_total_s": 92.49084734916687, "time_since_restore": 92.49084734916687}
{"timesteps_since_restore": 146665, "done": false, "node_ip": "10.138.0.2", "pid": 10867, "date": "2019-05-07_12-01-45", "episode_reward_min": 42.502576087583684, "timesteps_this_iter": 51879, "training_iteration": 3, "episode_reward_mean": 595.9150766356079, "experiment_id": "a183ec7aedea427d9bacd699bea0cf75", "policy_reward_mean": {}, "iterations_since_restore": 3, "custom_metrics": {"cost2_min": -179.8485975818826, "cost2_mean": -133.41312058479042, "cost1_mean": 241.89101115910734, "system_level_velocity_mean": 9.690196571277509, "cost1_max": 336.39869354566207, "cost1_min": 31.836020676287482, "cost2_max": -34.82627012766698, "outflow_rate_max": 993.1987084915086, "system_level_velocity_min": 6.0586289503260975, "outflow_rate_min": 148.79914285714287, "system_level_velocity_max": 18.831226241947284, "outflow_rate_mean": 542.272745569664}, "info": {"num_steps_trained": 146665, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.00540452403947711, "total_loss": 0.9576075673103333, "vf_loss": 0.9589216709136963, "policy_loss": -0.0015842908760532737, "cur_kl_coeff": 0.05000000819563866, "vf_explained_var": 0.9773003458976746, "entropy": 1.435175895690918}, "num_steps_sampled": 146665, "load_time_ms": 51.658, "update_time_ms": 885.366, "grad_time_ms": 11149.576, "sample_time_ms": 28445.975}, "episode_len_mean": 681.3428571428572, "time_this_iter_s": 29.418927907943726, "num_metric_batches_dropped": 0, "timesteps_total": 146665, "episodes_total": 35, "hostname": "flow-main", "config": {"custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "kl_coeff": 0.2, "train_batch_size": 30000, "log_level": "INFO", "num_workers": 20, "num_sgd_iter": 10, "lr": 0.0005, "monitor": false, "lr_schedule": null, "compress_observations": false, "input": "sampler", "straggler_mitigation": false, "input_evaluation": null, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "optimizer": {}, "vf_share_layers": false, "model": {"fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "fcnet_activation": "tanh", "dim": 84, "lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "channel_major": false, "conv_activation": "relu", "squash_to_range": false, "conv_filters": null, "zero_mean": true, "grayscale": false, "max_seq_len": 20, "free_log_std": false, "custom_preprocessor": null, "custom_options": {}, "use_lstm": false}, "clip_param": 0.3, "num_cpus_for_driver": 1, "synchronize_filters": true, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "output": null, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.3, 0.1]_t_min:10.0", "batch_mode": "truncate_episodes", "simple_optimizer": false, "sample_batch_size": 200, "collect_metrics_timeout": 180, "clip_rewards": null, "clip_actions": false, "kl_target": 0.01, "observation_filter": "NoFilter", "use_gae": true, "entropy_coeff": 0.0, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb4ccc0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb4c908>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb4c7f0>"}, "gamma": 0.99, "horizon": 1500, "num_gpus_per_worker": 0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "output_max_file_size": 67108864, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "num_gpus": 0, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}}, "timestamp": 1557230505, "episode_reward_max": 876.3572266692448, "episodes_this_iter": 14, "time_total_s": 121.9097752571106, "time_since_restore": 121.9097752571106}
{"timesteps_since_restore": 192897, "done": false, "node_ip": "10.138.0.2", "pid": 10867, "date": "2019-05-07_12-02-07", "episode_reward_min": 42.502576087583684, "timesteps_this_iter": 46232, "training_iteration": 4, "episode_reward_mean": 593.9651544453003, "experiment_id": "a183ec7aedea427d9bacd699bea0cf75", "policy_reward_mean": {}, "iterations_since_restore": 4, "custom_metrics": {"cost2_min": -179.8485975818826, "outflow_rate_max": 993.1987084915086, "cost1_mean": 241.40045931180296, "cost2_mean": -132.03376746756612, "system_level_velocity_mean": 9.600327510125254, "cost1_max": 336.39869354566207, "cost1_min": 31.836020676287482, "cost2_max": -34.82627012766698, "outflow_rate_mean": 539.8812875863937, "system_level_velocity_min": 6.0586289503260975, "outflow_rate_min": 148.79914285714287, "system_level_velocity_max": 18.831226241947284}, "info": {"num_steps_trained": 192897, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.01007777638733387, "total_loss": 0.9733949303627014, "vf_loss": 0.9775739908218384, "policy_loss": -0.004682998638600111, "cur_kl_coeff": 0.05000000819563866, "vf_explained_var": 0.9844149947166443, "entropy": 1.438201665878296}, "num_steps_sampled": 192897, "load_time_ms": 42.632, "update_time_ms": 665.694, "grad_time_ms": 10492.983, "sample_time_ms": 24734.333}, "episode_len_mean": 684.0731707317074, "time_this_iter_s": 22.232439517974854, "num_metric_batches_dropped": 0, "timesteps_total": 192897, "episodes_total": 41, "hostname": "flow-main", "config": {"custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "kl_coeff": 0.2, "train_batch_size": 30000, "log_level": "INFO", "num_workers": 20, "num_sgd_iter": 10, "lr": 0.0005, "monitor": false, "lr_schedule": null, "compress_observations": false, "input": "sampler", "straggler_mitigation": false, "input_evaluation": null, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "optimizer": {}, "vf_share_layers": false, "model": {"fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "fcnet_activation": "tanh", "dim": 84, "lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "channel_major": false, "conv_activation": "relu", "squash_to_range": false, "conv_filters": null, "zero_mean": true, "grayscale": false, "max_seq_len": 20, "free_log_std": false, "custom_preprocessor": null, "custom_options": {}, "use_lstm": false}, "clip_param": 0.3, "num_cpus_for_driver": 1, "synchronize_filters": true, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "output": null, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.3, 0.1]_t_min:10.0", "batch_mode": "truncate_episodes", "simple_optimizer": false, "sample_batch_size": 200, "collect_metrics_timeout": 180, "clip_rewards": null, "clip_actions": false, "kl_target": 0.01, "observation_filter": "NoFilter", "use_gae": true, "entropy_coeff": 0.0, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f945fcf0208>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f945fcf05f8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f945fcf04e0>"}, "gamma": 0.99, "horizon": 1500, "num_gpus_per_worker": 0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "output_max_file_size": 67108864, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "num_gpus": 0, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}}, "timestamp": 1557230527, "episode_reward_max": 876.3572266692448, "episodes_this_iter": 6, "time_total_s": 144.14221477508545, "time_since_restore": 144.14221477508545}
{"timesteps_since_restore": 236844, "done": false, "node_ip": "10.138.0.2", "pid": 10867, "date": "2019-05-07_12-02-32", "episode_reward_min": 42.502576087583684, "timesteps_this_iter": 43947, "training_iteration": 5, "episode_reward_mean": 553.6317301218603, "experiment_id": "a183ec7aedea427d9bacd699bea0cf75", "policy_reward_mean": {}, "iterations_since_restore": 5, "custom_metrics": {"cost2_min": -179.8485975818826, "cost2_mean": -120.52850260772219, "cost1_mean": 222.93262950092753, "system_level_velocity_mean": 8.79213125870556, "cost1_max": 336.39869354566207, "cost1_min": 31.836020676287482, "cost2_max": -34.82627012766698, "outflow_rate_max": 993.1987084915086, "system_level_velocity_min": 5.382488794439634, "outflow_rate_min": 148.79914285714287, "system_level_velocity_max": 18.831226241947284, "outflow_rate_mean": 495.7581983390851}, "info": {"num_steps_trained": 236844, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.010538688860833645, "total_loss": 1.6258537769317627, "vf_loss": 1.6301789283752441, "policy_loss": -0.004852051846683025, "cur_kl_coeff": 0.05000000819563866, "vf_explained_var": 0.9784271121025085, "entropy": 1.4225536584854126}, "num_steps_sampled": 236844, "load_time_ms": 37.21, "update_time_ms": 534.031, "grad_time_ms": 10464.311, "sample_time_ms": 22524.475}, "episode_len_mean": 688.5438596491229, "time_this_iter_s": 24.140465021133423, "num_metric_batches_dropped": 0, "timesteps_total": 236844, "episodes_total": 57, "hostname": "flow-main", "config": {"custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "kl_coeff": 0.2, "train_batch_size": 30000, "log_level": "INFO", "num_workers": 20, "num_sgd_iter": 10, "lr": 0.0005, "monitor": false, "lr_schedule": null, "compress_observations": false, "input": "sampler", "straggler_mitigation": false, "input_evaluation": null, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "optimizer": {}, "vf_share_layers": false, "model": {"fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "fcnet_activation": "tanh", "dim": 84, "lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "channel_major": false, "conv_activation": "relu", "squash_to_range": false, "conv_filters": null, "zero_mean": true, "grayscale": false, "max_seq_len": 20, "free_log_std": false, "custom_preprocessor": null, "custom_options": {}, "use_lstm": false}, "clip_param": 0.3, "num_cpus_for_driver": 1, "synchronize_filters": true, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "output": null, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.3, 0.1]_t_min:10.0", "batch_mode": "truncate_episodes", "simple_optimizer": false, "sample_batch_size": 200, "collect_metrics_timeout": 180, "clip_rewards": null, "clip_actions": false, "kl_target": 0.01, "observation_filter": "NoFilter", "use_gae": true, "entropy_coeff": 0.0, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f945fcbb438>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f945fcbbef0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f945fcbb390>"}, "gamma": 0.99, "horizon": 1500, "num_gpus_per_worker": 0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "output_max_file_size": 67108864, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "num_gpus": 0, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}}, "timestamp": 1557230552, "episode_reward_max": 876.3572266692448, "episodes_this_iter": 16, "time_total_s": 168.28267979621887, "time_since_restore": 168.28267979621887}
{"timesteps_since_restore": 279742, "done": false, "node_ip": "10.138.0.2", "pid": 10867, "date": "2019-05-07_12-02-53", "episode_reward_min": 41.933118347069616, "timesteps_this_iter": 42898, "training_iteration": 6, "episode_reward_mean": 534.3815391453164, "experiment_id": "a183ec7aedea427d9bacd699bea0cf75", "policy_reward_mean": {}, "iterations_since_restore": 6, "custom_metrics": {"cost2_min": -179.8485975818826, "outflow_rate_max": 993.1987084915086, "cost1_mean": 208.96511820102037, "cost2_mean": -107.5841903081927, "system_level_velocity_mean": 8.408028139366673, "cost1_max": 336.39869354566207, "cost1_min": 28.127117081936788, "cost2_max": -22.595343304652705, "outflow_rate_mean": 477.21562552265584, "system_level_velocity_min": 4.310134217622922, "outflow_rate_min": 148.79914285714287, "system_level_velocity_max": 18.831226241947284}, "info": {"num_steps_trained": 279742, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.013433593325316906, "total_loss": 3.352362632751465, "vf_loss": 3.3577582836151123, "policy_loss": -0.006067059468477964, "cur_kl_coeff": 0.050000011920928955, "vf_explained_var": 0.9369538426399231, "entropy": 1.432226300239563}, "num_steps_sampled": 279742, "load_time_ms": 33.025, "update_time_ms": 446.112, "grad_time_ms": 10080.298, "sample_time_ms": 21030.348}, "episode_len_mean": 682.987012987013, "time_this_iter_s": 21.80919075012207, "num_metric_batches_dropped": 0, "timesteps_total": 279742, "episodes_total": 77, "hostname": "flow-main", "config": {"custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "kl_coeff": 0.2, "train_batch_size": 30000, "log_level": "INFO", "num_workers": 20, "num_sgd_iter": 10, "lr": 0.0005, "monitor": false, "lr_schedule": null, "compress_observations": false, "input": "sampler", "straggler_mitigation": false, "input_evaluation": null, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "optimizer": {}, "vf_share_layers": false, "model": {"fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "fcnet_activation": "tanh", "dim": 84, "lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "channel_major": false, "conv_activation": "relu", "squash_to_range": false, "conv_filters": null, "zero_mean": true, "grayscale": false, "max_seq_len": 20, "free_log_std": false, "custom_preprocessor": null, "custom_options": {}, "use_lstm": false}, "clip_param": 0.3, "num_cpus_for_driver": 1, "synchronize_filters": true, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "output": null, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.3, 0.1]_t_min:10.0", "batch_mode": "truncate_episodes", "simple_optimizer": false, "sample_batch_size": 200, "collect_metrics_timeout": 180, "clip_rewards": null, "clip_actions": false, "kl_target": 0.01, "observation_filter": "NoFilter", "use_gae": true, "entropy_coeff": 0.0, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb4c630>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb4c5f8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb4c7f0>"}, "gamma": 0.99, "horizon": 1500, "num_gpus_per_worker": 0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "output_max_file_size": 67108864, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "num_gpus": 0, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}}, "timestamp": 1557230573, "episode_reward_max": 876.3572266692448, "episodes_this_iter": 20, "time_total_s": 190.09187054634094, "time_since_restore": 190.09187054634094}
{"timesteps_since_restore": 318919, "done": false, "node_ip": "10.138.0.2", "pid": 10867, "date": "2019-05-07_12-03-15", "episode_reward_min": 41.933118347069616, "timesteps_this_iter": 39177, "training_iteration": 7, "episode_reward_mean": 529.5573651312407, "experiment_id": "a183ec7aedea427d9bacd699bea0cf75", "policy_reward_mean": {}, "iterations_since_restore": 7, "custom_metrics": {"cost2_min": -179.8485975818826, "outflow_rate_max": 993.1987084915086, "cost1_mean": 204.82116026635603, "cost2_mean": -101.43886739002923, "system_level_velocity_mean": 8.193179503410759, "cost1_max": 336.39869354566207, "cost1_min": 28.127117081936788, "cost2_max": -22.595343304652705, "outflow_rate_mean": 472.35837622842774, "system_level_velocity_min": 4.310134217622922, "outflow_rate_min": 148.79914285714287, "system_level_velocity_max": 18.831226241947284}, "info": {"num_steps_trained": 318919, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.021222859621047974, "total_loss": 4.11527681350708, "vf_loss": 4.120689392089844, "policy_loss": -0.00647361995652318, "cur_kl_coeff": 0.05000000819563866, "vf_explained_var": 0.9420742392539978, "entropy": 1.416247010231018}, "num_steps_sampled": 318919, "load_time_ms": 30.211, "update_time_ms": 383.309, "grad_time_ms": 10030.749, "sample_time_ms": 19763.823}, "episode_len_mean": 685.1136363636364, "time_this_iter_s": 21.983038187026978, "num_metric_batches_dropped": 0, "timesteps_total": 318919, "episodes_total": 88, "hostname": "flow-main", "config": {"custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "kl_coeff": 0.2, "train_batch_size": 30000, "log_level": "INFO", "num_workers": 20, "num_sgd_iter": 10, "lr": 0.0005, "monitor": false, "lr_schedule": null, "compress_observations": false, "input": "sampler", "straggler_mitigation": false, "input_evaluation": null, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "optimizer": {}, "vf_share_layers": false, "model": {"fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "fcnet_activation": "tanh", "dim": 84, "lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "channel_major": false, "conv_activation": "relu", "squash_to_range": false, "conv_filters": null, "zero_mean": true, "grayscale": false, "max_seq_len": 20, "free_log_std": false, "custom_preprocessor": null, "custom_options": {}, "use_lstm": false}, "clip_param": 0.3, "num_cpus_for_driver": 1, "synchronize_filters": true, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "output": null, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.3, 0.1]_t_min:10.0", "batch_mode": "truncate_episodes", "simple_optimizer": false, "sample_batch_size": 200, "collect_metrics_timeout": 180, "clip_rewards": null, "clip_actions": false, "kl_target": 0.01, "observation_filter": "NoFilter", "use_gae": true, "entropy_coeff": 0.0, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f945fcdf860>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f945fcdfef0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f945fcdf4a8>"}, "gamma": 0.99, "horizon": 1500, "num_gpus_per_worker": 0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "output_max_file_size": 67108864, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "num_gpus": 0, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}}, "timestamp": 1557230595, "episode_reward_max": 876.3572266692448, "episodes_this_iter": 11, "time_total_s": 212.07490873336792, "time_since_restore": 212.07490873336792}
{"timesteps_since_restore": 357611, "done": false, "node_ip": "10.138.0.2", "pid": 10867, "date": "2019-05-07_12-03-36", "episode_reward_min": 41.933118347069616, "timesteps_this_iter": 38692, "training_iteration": 8, "episode_reward_mean": 535.3290442444278, "experiment_id": "a183ec7aedea427d9bacd699bea0cf75", "policy_reward_mean": {}, "iterations_since_restore": 8, "custom_metrics": {"cost2_min": -179.0921094313863, "outflow_rate_max": 761.2242857142857, "cost1_mean": 200.85728215486063, "cost2_mean": -88.88865454928614, "system_level_velocity_mean": 7.838192178009157, "cost1_max": 322.159661180479, "cost1_min": 28.127117081936788, "cost2_max": -22.595343304652705, "outflow_rate_mean": 483.3646713184472, "system_level_velocity_min": 4.310134217622922, "outflow_rate_min": 148.79914285714287, "system_level_velocity_max": 18.702324996475138}, "info": {"num_steps_trained": 357611, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.013745457865297794, "total_loss": 8.169207572937012, "vf_loss": 8.171136856079102, "policy_loss": -0.0029601796995848417, "cur_kl_coeff": 0.07499999552965164, "vf_explained_var": 0.8442332148551941, "entropy": 1.4173616170883179}, "num_steps_sampled": 357611, "load_time_ms": 28.179, "update_time_ms": 336.167, "grad_time_ms": 9966.212, "sample_time_ms": 18710.368}, "episode_len_mean": 693.43, "time_this_iter_s": 20.942833185195923, "num_metric_batches_dropped": 0, "timesteps_total": 357611, "episodes_total": 108, "hostname": "flow-main", "config": {"custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "kl_coeff": 0.2, "train_batch_size": 30000, "log_level": "INFO", "num_workers": 20, "num_sgd_iter": 10, "lr": 0.0005, "monitor": false, "lr_schedule": null, "compress_observations": false, "input": "sampler", "straggler_mitigation": false, "input_evaluation": null, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "optimizer": {}, "vf_share_layers": false, "model": {"fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "fcnet_activation": "tanh", "dim": 84, "lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "channel_major": false, "conv_activation": "relu", "squash_to_range": false, "conv_filters": null, "zero_mean": true, "grayscale": false, "max_seq_len": 20, "free_log_std": false, "custom_preprocessor": null, "custom_options": {}, "use_lstm": false}, "clip_param": 0.3, "num_cpus_for_driver": 1, "synchronize_filters": true, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "output": null, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.3, 0.1]_t_min:10.0", "batch_mode": "truncate_episodes", "simple_optimizer": false, "sample_batch_size": 200, "collect_metrics_timeout": 180, "clip_rewards": null, "clip_actions": false, "kl_target": 0.01, "observation_filter": "NoFilter", "use_gae": true, "entropy_coeff": 0.0, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f945fcbb080>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f945fcbb390>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f945fcbb358>"}, "gamma": 0.99, "horizon": 1500, "num_gpus_per_worker": 0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "output_max_file_size": 67108864, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "num_gpus": 0, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}}, "timestamp": 1557230616, "episode_reward_max": 737.3880264220597, "episodes_this_iter": 20, "time_total_s": 233.01774191856384, "time_since_restore": 233.01774191856384}
{"timesteps_since_restore": 395716, "done": false, "node_ip": "10.138.0.2", "pid": 10867, "date": "2019-05-07_12-03-59", "episode_reward_min": 41.933118347069616, "timesteps_this_iter": 38105, "training_iteration": 9, "episode_reward_mean": 552.9757034173286, "experiment_id": "a183ec7aedea427d9bacd699bea0cf75", "policy_reward_mean": {}, "iterations_since_restore": 9, "custom_metrics": {"cost2_min": -161.85603338519635, "outflow_rate_max": 836.0412000000001, "cost1_mean": 199.61439290466907, "cost2_mean": -75.84418770393238, "system_level_velocity_mean": 7.802091734886387, "cost1_max": 322.159661180479, "cost1_min": 28.127117081936788, "cost2_max": -22.595343304652705, "outflow_rate_mean": 524.5821999538119, "system_level_velocity_min": 4.310134217622922, "outflow_rate_min": 148.79914285714287, "system_level_velocity_max": 18.702324996475138}, "info": {"num_steps_trained": 395716, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.014204333536326885, "total_loss": 8.365490913391113, "vf_loss": 8.369136810302734, "policy_loss": -0.004711694549769163, "cur_kl_coeff": 0.07499999552965164, "vf_explained_var": 0.8153991103172302, "entropy": 1.4063009023666382}, "num_steps_sampled": 395716, "load_time_ms": 26.5, "update_time_ms": 299.777, "grad_time_ms": 9897.814, "sample_time_ms": 18093.056}, "episode_len_mean": 693.43, "time_this_iter_s": 22.598321676254272, "num_metric_batches_dropped": 0, "timesteps_total": 395716, "episodes_total": 124, "hostname": "flow-main", "config": {"custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "kl_coeff": 0.2, "train_batch_size": 30000, "log_level": "INFO", "num_workers": 20, "num_sgd_iter": 10, "lr": 0.0005, "monitor": false, "lr_schedule": null, "compress_observations": false, "input": "sampler", "straggler_mitigation": false, "input_evaluation": null, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "optimizer": {}, "vf_share_layers": false, "model": {"fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "fcnet_activation": "tanh", "dim": 84, "lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "channel_major": false, "conv_activation": "relu", "squash_to_range": false, "conv_filters": null, "zero_mean": true, "grayscale": false, "max_seq_len": 20, "free_log_std": false, "custom_preprocessor": null, "custom_options": {}, "use_lstm": false}, "clip_param": 0.3, "num_cpus_for_driver": 1, "synchronize_filters": true, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "output": null, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.3, 0.1]_t_min:10.0", "batch_mode": "truncate_episodes", "simple_optimizer": false, "sample_batch_size": 200, "collect_metrics_timeout": 180, "clip_rewards": null, "clip_actions": false, "kl_target": 0.01, "observation_filter": "NoFilter", "use_gae": true, "entropy_coeff": 0.0, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb4cf60>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb4cb00>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb4cfd0>"}, "gamma": 0.99, "horizon": 1500, "num_gpus_per_worker": 0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "output_max_file_size": 67108864, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "num_gpus": 0, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}}, "timestamp": 1557230639, "episode_reward_max": 761.0461766435017, "episodes_this_iter": 16, "time_total_s": 255.61606359481812, "time_since_restore": 255.61606359481812}
{"timesteps_since_restore": 434479, "done": false, "node_ip": "10.138.0.2", "pid": 10867, "date": "2019-05-07_12-04-23", "episode_reward_min": 41.933118347069616, "timesteps_this_iter": 38763, "training_iteration": 10, "episode_reward_mean": 583.4497011044552, "experiment_id": "a183ec7aedea427d9bacd699bea0cf75", "policy_reward_mean": {}, "iterations_since_restore": 10, "custom_metrics": {"cost2_min": -124.37175510735398, "outflow_rate_max": 915.1194285714286, "cost1_mean": 201.7212123058199, "cost2_mean": -59.77762581379536, "system_level_velocity_mean": 7.892765121627868, "cost1_max": 256.51199557472785, "cost1_min": 28.127117081936788, "cost2_max": -22.595343304652705, "outflow_rate_mean": 593.4284648848808, "system_level_velocity_min": 4.310134217622922, "outflow_rate_min": 290.40479999999997, "system_level_velocity_max": 18.702324996475138}, "info": {"num_steps_trained": 434479, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.010185093618929386, "total_loss": 9.899806022644043, "vf_loss": 9.901167869567871, "policy_loss": -0.002125758910551667, "cur_kl_coeff": 0.07499999552965164, "vf_explained_var": 0.7163684964179993, "entropy": 1.3632676601409912}, "num_steps_sampled": 434479, "load_time_ms": 24.904, "update_time_ms": 270.458, "grad_time_ms": 9841.348, "sample_time_ms": 17755.717}, "episode_len_mean": 693.43, "time_this_iter_s": 24.14700412750244, "num_metric_batches_dropped": 0, "timesteps_total": 434479, "episodes_total": 145, "hostname": "flow-main", "config": {"custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "kl_coeff": 0.2, "train_batch_size": 30000, "log_level": "INFO", "num_workers": 20, "num_sgd_iter": 10, "lr": 0.0005, "monitor": false, "lr_schedule": null, "compress_observations": false, "input": "sampler", "straggler_mitigation": false, "input_evaluation": null, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "optimizer": {}, "vf_share_layers": false, "model": {"fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "fcnet_activation": "tanh", "dim": 84, "lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "channel_major": false, "conv_activation": "relu", "squash_to_range": false, "conv_filters": null, "zero_mean": true, "grayscale": false, "max_seq_len": 20, "free_log_std": false, "custom_preprocessor": null, "custom_options": {}, "use_lstm": false}, "clip_param": 0.3, "num_cpus_for_driver": 1, "synchronize_filters": true, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "output": null, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.3, 0.1]_t_min:10.0", "batch_mode": "truncate_episodes", "simple_optimizer": false, "sample_batch_size": 200, "collect_metrics_timeout": 180, "clip_rewards": null, "clip_actions": false, "kl_target": 0.01, "observation_filter": "NoFilter", "use_gae": true, "entropy_coeff": 0.0, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f945fcc6358>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f945fcc6e48>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f945fcc6668>"}, "gamma": 0.99, "horizon": 1500, "num_gpus_per_worker": 0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "output_max_file_size": 67108864, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "num_gpus": 0, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}}, "timestamp": 1557230663, "episode_reward_max": 761.0461766435017, "episodes_this_iter": 21, "time_total_s": 279.76306772232056, "time_since_restore": 279.76306772232056}
{"timesteps_since_restore": 472602, "done": false, "node_ip": "10.138.0.2", "pid": 10867, "date": "2019-05-07_12-04-48", "episode_reward_min": 390.2721485305829, "timesteps_this_iter": 38123, "training_iteration": 11, "episode_reward_mean": 632.5292097076003, "experiment_id": "a183ec7aedea427d9bacd699bea0cf75", "policy_reward_mean": {}, "iterations_since_restore": 11, "custom_metrics": {"cost2_min": -86.69043064430655, "outflow_rate_max": 915.1194285714286, "cost1_mean": 213.50644603313904, "cost2_mean": -52.27965676255406, "system_level_velocity_mean": 8.190603357877556, "cost1_max": 257.6254938417918, "cost1_min": 112.83215307761141, "cost2_max": -32.4621018406346, "outflow_rate_mean": 667.84464, "system_level_velocity_min": 4.310134217622922, "outflow_rate_min": 345.8502857142857, "system_level_velocity_max": 10.066376640472624}, "info": {"num_steps_trained": 472602, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.010090352967381477, "total_loss": 10.382174491882324, "vf_loss": 10.383756637573242, "policy_loss": -0.0023385121021419764, "cur_kl_coeff": 0.07499999552965164, "vf_explained_var": 0.70975661277771, "entropy": 1.3428634405136108}, "num_steps_sampled": 472602, "load_time_ms": 17.097, "update_time_ms": 6.94, "grad_time_ms": 9715.486, "sample_time_ms": 14001.553}, "episode_len_mean": 700.0, "time_this_iter_s": 24.457582712173462, "num_metric_batches_dropped": 0, "timesteps_total": 472602, "episodes_total": 164, "hostname": "flow-main", "config": {"custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "kl_coeff": 0.2, "train_batch_size": 30000, "log_level": "INFO", "num_workers": 20, "num_sgd_iter": 10, "lr": 0.0005, "monitor": false, "lr_schedule": null, "compress_observations": false, "input": "sampler", "straggler_mitigation": false, "input_evaluation": null, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "optimizer": {}, "vf_share_layers": false, "model": {"fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "fcnet_activation": "tanh", "dim": 84, "lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "channel_major": false, "conv_activation": "relu", "squash_to_range": false, "conv_filters": null, "zero_mean": true, "grayscale": false, "max_seq_len": 20, "free_log_std": false, "custom_preprocessor": null, "custom_options": {}, "use_lstm": false}, "clip_param": 0.3, "num_cpus_for_driver": 1, "synchronize_filters": true, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "output": null, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.3, 0.1]_t_min:10.0", "batch_mode": "truncate_episodes", "simple_optimizer": false, "sample_batch_size": 200, "collect_metrics_timeout": 180, "clip_rewards": null, "clip_actions": false, "kl_target": 0.01, "observation_filter": "NoFilter", "use_gae": true, "entropy_coeff": 0.0, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f945fcdf1d0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f945fcdf860>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f945fcdf6a0>"}, "gamma": 0.99, "horizon": 1500, "num_gpus_per_worker": 0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "output_max_file_size": 67108864, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "num_gpus": 0, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}}, "timestamp": 1557230688, "episode_reward_max": 767.0799297200914, "episodes_this_iter": 19, "time_total_s": 304.220650434494, "time_since_restore": 304.220650434494}
{"timesteps_since_restore": 509686, "done": false, "node_ip": "10.138.0.2", "pid": 10867, "date": "2019-05-07_12-05-13", "episode_reward_min": 477.0781851986936, "timesteps_this_iter": 37084, "training_iteration": 12, "episode_reward_mean": 687.9999298453358, "experiment_id": "a183ec7aedea427d9bacd699bea0cf75", "policy_reward_mean": {}, "iterations_since_restore": 12, "custom_metrics": {"cost2_min": -63.02970194963262, "outflow_rate_max": 915.1194285714286, "cost1_mean": 229.75577357211606, "cost2_mean": -48.443212798971956, "system_level_velocity_mean": 8.840714346153822, "cost1_max": 271.14336857424234, "cost1_min": 153.1772750009627, "cost2_max": -32.4621018406346, "outflow_rate_mean": 754.0997662857142, "system_level_velocity_min": 5.845704029606125, "outflow_rate_min": 421.9234285714286, "system_level_velocity_max": 10.46672425410137}, "info": {"num_steps_trained": 509686, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.008607891388237476, "total_loss": 12.391315460205078, "vf_loss": 12.392217636108398, "policy_loss": -0.0015478498535230756, "cur_kl_coeff": 0.07499999552965164, "vf_explained_var": 0.6139829158782959, "entropy": 1.3222670555114746}, "num_steps_sampled": 509686, "load_time_ms": 13.161, "update_time_ms": 7.2, "grad_time_ms": 9679.898, "sample_time_ms": 13870.154}, "episode_len_mean": 700.0, "time_this_iter_s": 24.736309051513672, "num_metric_batches_dropped": 0, "timesteps_total": 509686, "episodes_total": 185, "hostname": "flow-main", "config": {"custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "kl_coeff": 0.2, "train_batch_size": 30000, "log_level": "INFO", "num_workers": 20, "num_sgd_iter": 10, "lr": 0.0005, "monitor": false, "lr_schedule": null, "compress_observations": false, "input": "sampler", "straggler_mitigation": false, "input_evaluation": null, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "optimizer": {}, "vf_share_layers": false, "model": {"fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "fcnet_activation": "tanh", "dim": 84, "lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "channel_major": false, "conv_activation": "relu", "squash_to_range": false, "conv_filters": null, "zero_mean": true, "grayscale": false, "max_seq_len": 20, "free_log_std": false, "custom_preprocessor": null, "custom_options": {}, "use_lstm": false}, "clip_param": 0.3, "num_cpus_for_driver": 1, "synchronize_filters": true, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "output": null, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.3, 0.1]_t_min:10.0", "batch_mode": "truncate_episodes", "simple_optimizer": false, "sample_batch_size": 200, "collect_metrics_timeout": 180, "clip_rewards": null, "clip_actions": false, "kl_target": 0.01, "observation_filter": "NoFilter", "use_gae": true, "entropy_coeff": 0.0, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb4cf60>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb4c710>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb4cb00>"}, "gamma": 0.99, "horizon": 1500, "num_gpus_per_worker": 0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "output_max_file_size": 67108864, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "num_gpus": 0, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}}, "timestamp": 1557230713, "episode_reward_max": 807.0557950368225, "episodes_this_iter": 21, "time_total_s": 328.9569594860077, "time_since_restore": 328.9569594860077}
{"timesteps_since_restore": 547543, "done": false, "node_ip": "10.138.0.2", "pid": 10867, "date": "2019-05-07_12-05-34", "episode_reward_min": 356.3153974033994, "timesteps_this_iter": 37857, "training_iteration": 13, "episode_reward_mean": 717.740545549837, "experiment_id": "a183ec7aedea427d9bacd699bea0cf75", "policy_reward_mean": {}, "iterations_since_restore": 13, "custom_metrics": {"cost2_min": -60.09707603584846, "outflow_rate_max": 963.2704571428571, "cost1_mean": 238.62320717447997, "cost2_mean": -47.77482378735648, "system_level_velocity_mean": 9.26171092303245, "cost1_max": 280.9657893199778, "cost1_min": 138.4344432452308, "cost2_max": -32.4621018406346, "outflow_rate_mean": 798.0239946968762, "system_level_velocity_min": 7.025676414407721, "outflow_rate_min": 485.7267428571428, "system_level_velocity_max": 12.42104578755535}, "info": {"num_steps_trained": 547543, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.015674853697419167, "total_loss": 11.083032608032227, "vf_loss": 11.084576606750488, "policy_loss": -0.00271940091624856, "cur_kl_coeff": 0.07499998807907104, "vf_explained_var": 0.5101448893547058, "entropy": 1.3037583827972412}, "num_steps_sampled": 547543, "load_time_ms": 12.966, "update_time_ms": 7.205, "grad_time_ms": 9425.942, "sample_time_ms": 13330.261}, "episode_len_mean": 696.0, "time_this_iter_s": 21.466174125671387, "num_metric_batches_dropped": 0, "timesteps_total": 547543, "episodes_total": 200, "hostname": "flow-main", "config": {"custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "kl_coeff": 0.2, "train_batch_size": 30000, "log_level": "INFO", "num_workers": 20, "num_sgd_iter": 10, "lr": 0.0005, "monitor": false, "lr_schedule": null, "compress_observations": false, "input": "sampler", "straggler_mitigation": false, "input_evaluation": null, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "optimizer": {}, "vf_share_layers": false, "model": {"fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "fcnet_activation": "tanh", "dim": 84, "lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "channel_major": false, "conv_activation": "relu", "squash_to_range": false, "conv_filters": null, "zero_mean": true, "grayscale": false, "max_seq_len": 20, "free_log_std": false, "custom_preprocessor": null, "custom_options": {}, "use_lstm": false}, "clip_param": 0.3, "num_cpus_for_driver": 1, "synchronize_filters": true, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "output": null, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.3, 0.1]_t_min:10.0", "batch_mode": "truncate_episodes", "simple_optimizer": false, "sample_batch_size": 200, "collect_metrics_timeout": 180, "clip_rewards": null, "clip_actions": false, "kl_target": 0.01, "observation_filter": "NoFilter", "use_gae": true, "entropy_coeff": 0.0, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f945fcf0da0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f945fcf09b0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f945fcf0748>"}, "gamma": 0.99, "horizon": 1500, "num_gpus_per_worker": 0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "output_max_file_size": 67108864, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "num_gpus": 0, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}}, "timestamp": 1557230734, "episode_reward_max": 858.1181459940933, "episodes_this_iter": 15, "time_total_s": 350.4231336116791, "time_since_restore": 350.4231336116791}
{"timesteps_since_restore": 585932, "done": false, "node_ip": "10.138.0.2", "pid": 10867, "date": "2019-05-07_12-05-56", "episode_reward_min": 356.3153974033994, "timesteps_this_iter": 38389, "training_iteration": 14, "episode_reward_mean": 738.225151509885, "experiment_id": "a183ec7aedea427d9bacd699bea0cf75", "policy_reward_mean": {}, "iterations_since_restore": 14, "custom_metrics": {"cost2_min": -60.09707603584846, "outflow_rate_max": 1004.066, "cost1_mean": 244.16585978951713, "cost2_mean": -47.65573780997615, "system_level_velocity_mean": 9.479025325948973, "cost1_max": 287.1589688980207, "cost1_min": 138.4344432452308, "cost2_max": -32.4621018406346, "outflow_rate_mean": 824.0646317877852, "system_level_velocity_min": 7.78346349925547, "outflow_rate_min": 637.4900571428573, "system_level_velocity_max": 12.42104578755535}, "info": {"num_steps_trained": 585932, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.009641003794968128, "total_loss": 8.050121307373047, "vf_loss": 8.051312446594238, "policy_loss": -0.0019141449593007565, "cur_kl_coeff": 0.07499998807907104, "vf_explained_var": 0.6765930652618408, "entropy": 1.29308021068573}, "num_steps_sampled": 585932, "load_time_ms": 12.503, "update_time_ms": 7.349, "grad_time_ms": 9420.214, "sample_time_ms": 13329.561}, "episode_len_mean": 696.0, "time_this_iter_s": 22.14862847328186, "num_metric_batches_dropped": 0, "timesteps_total": 585932, "episodes_total": 209, "hostname": "flow-main", "config": {"custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "kl_coeff": 0.2, "train_batch_size": 30000, "log_level": "INFO", "num_workers": 20, "num_sgd_iter": 10, "lr": 0.0005, "monitor": false, "lr_schedule": null, "compress_observations": false, "input": "sampler", "straggler_mitigation": false, "input_evaluation": null, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "optimizer": {}, "vf_share_layers": false, "model": {"fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "fcnet_activation": "tanh", "dim": 84, "lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "channel_major": false, "conv_activation": "relu", "squash_to_range": false, "conv_filters": null, "zero_mean": true, "grayscale": false, "max_seq_len": 20, "free_log_std": false, "custom_preprocessor": null, "custom_options": {}, "use_lstm": false}, "clip_param": 0.3, "num_cpus_for_driver": 1, "synchronize_filters": true, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "output": null, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.3, 0.1]_t_min:10.0", "batch_mode": "truncate_episodes", "simple_optimizer": false, "sample_batch_size": 200, "collect_metrics_timeout": 180, "clip_rewards": null, "clip_actions": false, "kl_target": 0.01, "observation_filter": "NoFilter", "use_gae": true, "entropy_coeff": 0.0, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f945fcf0be0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f94611506d8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f945fcf09e8>"}, "gamma": 0.99, "horizon": 1500, "num_gpus_per_worker": 0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "output_max_file_size": 67108864, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "num_gpus": 0, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}}, "timestamp": 1557230756, "episode_reward_max": 867.2183689255185, "episodes_this_iter": 9, "time_total_s": 372.57176208496094, "time_since_restore": 372.57176208496094}
{"timesteps_since_restore": 625162, "done": false, "node_ip": "10.138.0.2", "pid": 10867, "date": "2019-05-07_12-06-18", "episode_reward_min": 356.3153974033994, "timesteps_this_iter": 39230, "training_iteration": 15, "episode_reward_mean": 762.9113923855662, "experiment_id": "a183ec7aedea427d9bacd699bea0cf75", "policy_reward_mean": {}, "iterations_since_restore": 15, "custom_metrics": {"cost2_min": -58.552802940668926, "outflow_rate_max": 1004.066, "cost1_mean": 250.38595127735607, "cost2_mean": -47.50920115799443, "system_level_velocity_mean": 9.709118470719124, "cost1_max": 287.1589688980207, "cost1_min": 138.4344432452308, "cost2_max": -32.4621018406346, "outflow_rate_mean": 846.1894346449282, "system_level_velocity_min": 8.165225976577236, "outflow_rate_min": 660.4475216356725, "system_level_velocity_max": 12.42104578755535}, "info": {"num_steps_trained": 625162, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.007589422632008791, "total_loss": 13.80950927734375, "vf_loss": 13.810650825500488, "policy_loss": -0.0017102760029956698, "cur_kl_coeff": 0.07499999552965164, "vf_explained_var": 0.5644994378089905, "entropy": 1.273646593093872}, "num_steps_sampled": 625162, "load_time_ms": 12.25, "update_time_ms": 7.514, "grad_time_ms": 9133.761, "sample_time_ms": 13368.02}, "episode_len_mean": 696.0, "time_this_iter_s": 21.658257722854614, "num_metric_batches_dropped": 0, "timesteps_total": 625162, "episodes_total": 229, "hostname": "flow-main", "config": {"custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "kl_coeff": 0.2, "train_batch_size": 30000, "log_level": "INFO", "num_workers": 20, "num_sgd_iter": 10, "lr": 0.0005, "monitor": false, "lr_schedule": null, "compress_observations": false, "input": "sampler", "straggler_mitigation": false, "input_evaluation": null, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "optimizer": {}, "vf_share_layers": false, "model": {"fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "fcnet_activation": "tanh", "dim": 84, "lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "channel_major": false, "conv_activation": "relu", "squash_to_range": false, "conv_filters": null, "zero_mean": true, "grayscale": false, "max_seq_len": 20, "free_log_std": false, "custom_preprocessor": null, "custom_options": {}, "use_lstm": false}, "clip_param": 0.3, "num_cpus_for_driver": 1, "synchronize_filters": true, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "output": null, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.3, 0.1]_t_min:10.0", "batch_mode": "truncate_episodes", "simple_optimizer": false, "sample_batch_size": 200, "collect_metrics_timeout": 180, "clip_rewards": null, "clip_actions": false, "kl_target": 0.01, "observation_filter": "NoFilter", "use_gae": true, "entropy_coeff": 0.0, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f945fcd6128>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f945fcd6710>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f945fcd6748>"}, "gamma": 0.99, "horizon": 1500, "num_gpus_per_worker": 0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "output_max_file_size": 67108864, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "num_gpus": 0, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}}, "timestamp": 1557230778, "episode_reward_max": 891.3154620505262, "episodes_this_iter": 20, "time_total_s": 394.23001980781555, "time_since_restore": 394.23001980781555}
{"timesteps_since_restore": 664391, "done": false, "node_ip": "10.138.0.2", "pid": 10867, "date": "2019-05-07_12-06-43", "episode_reward_min": 356.3153974033994, "timesteps_this_iter": 39229, "training_iteration": 16, "episode_reward_mean": 783.2392492995859, "experiment_id": "a183ec7aedea427d9bacd699bea0cf75", "policy_reward_mean": {}, "iterations_since_restore": 16, "custom_metrics": {"cost2_min": -58.552802940668926, "outflow_rate_max": 1004.066, "cost1_mean": 253.34866546499555, "cost2_mean": -48.096215084620745, "system_level_velocity_mean": 9.808743806127287, "cost1_max": 287.1589688980207, "cost1_min": 138.4344432452308, "cost2_max": -32.4621018406346, "outflow_rate_mean": 854.6212269046684, "system_level_velocity_min": 8.165225976577236, "outflow_rate_min": 660.4475216356725, "system_level_velocity_max": 12.42104578755535}, "info": {"num_steps_trained": 664391, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.009325001388788223, "total_loss": 12.243843078613281, "vf_loss": 12.244539260864258, "policy_loss": -0.0013956603361293674, "cur_kl_coeff": 0.07499999552965164, "vf_explained_var": 0.6566362380981445, "entropy": 1.2753361463546753}, "num_steps_sampled": 664391, "load_time_ms": 11.947, "update_time_ms": 7.633, "grad_time_ms": 9168.519, "sample_time_ms": 13630.976}, "episode_len_mean": 696.0, "time_this_iter_s": 24.794178247451782, "num_metric_batches_dropped": 0, "timesteps_total": 664391, "episodes_total": 247, "hostname": "flow-main", "config": {"custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "kl_coeff": 0.2, "train_batch_size": 30000, "log_level": "INFO", "num_workers": 20, "num_sgd_iter": 10, "lr": 0.0005, "monitor": false, "lr_schedule": null, "compress_observations": false, "input": "sampler", "straggler_mitigation": false, "input_evaluation": null, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "optimizer": {}, "vf_share_layers": false, "model": {"fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "fcnet_activation": "tanh", "dim": 84, "lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "channel_major": false, "conv_activation": "relu", "squash_to_range": false, "conv_filters": null, "zero_mean": true, "grayscale": false, "max_seq_len": 20, "free_log_std": false, "custom_preprocessor": null, "custom_options": {}, "use_lstm": false}, "clip_param": 0.3, "num_cpus_for_driver": 1, "synchronize_filters": true, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "output": null, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.3, 0.1]_t_min:10.0", "batch_mode": "truncate_episodes", "simple_optimizer": false, "sample_batch_size": 200, "collect_metrics_timeout": 180, "clip_rewards": null, "clip_actions": false, "kl_target": 0.01, "observation_filter": "NoFilter", "use_gae": true, "entropy_coeff": 0.0, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb4cdd8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb4c5f8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb4cfd0>"}, "gamma": 0.99, "horizon": 1500, "num_gpus_per_worker": 0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "output_max_file_size": 67108864, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "num_gpus": 0, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}}, "timestamp": 1557230803, "episode_reward_max": 891.3154620505262, "episodes_this_iter": 18, "time_total_s": 419.02419805526733, "time_since_restore": 419.02419805526733}
{"timesteps_since_restore": 703865, "done": false, "node_ip": "10.138.0.2", "pid": 10867, "date": "2019-05-07_12-07-06", "episode_reward_min": 356.3153974033994, "timesteps_this_iter": 39474, "training_iteration": 17, "episode_reward_mean": 801.2712383037929, "experiment_id": "a183ec7aedea427d9bacd699bea0cf75", "policy_reward_mean": {}, "iterations_since_restore": 17, "custom_metrics": {"cost2_min": -58.552802940668926, "outflow_rate_max": 1004.066, "cost1_mean": 257.67997610383134, "cost2_mean": -48.759515081786724, "system_level_velocity_mean": 9.938152274604953, "cost1_max": 287.1589688980207, "cost1_min": 138.4344432452308, "cost2_max": -40.627463536025616, "outflow_rate_mean": 868.4695767747984, "system_level_velocity_min": 8.505873422922921, "outflow_rate_min": 660.4475216356725, "system_level_velocity_max": 12.42104578755535}, "info": {"num_steps_trained": 703865, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.006880707573145628, "total_loss": 13.74179744720459, "vf_loss": 13.742307662963867, "policy_loss": -0.0010265239980071783, "cur_kl_coeff": 0.07499999552965164, "vf_explained_var": 0.6290006041526794, "entropy": 1.2723579406738281}, "num_steps_sampled": 703865, "load_time_ms": 11.987, "update_time_ms": 7.851, "grad_time_ms": 8891.05, "sample_time_ms": 14030.179}, "episode_len_mean": 696.0, "time_this_iter_s": 23.20943856239319, "num_metric_batches_dropped": 0, "timesteps_total": 703865, "episodes_total": 267, "hostname": "flow-main", "config": {"custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "kl_coeff": 0.2, "train_batch_size": 30000, "log_level": "INFO", "num_workers": 20, "num_sgd_iter": 10, "lr": 0.0005, "monitor": false, "lr_schedule": null, "compress_observations": false, "input": "sampler", "straggler_mitigation": false, "input_evaluation": null, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "optimizer": {}, "vf_share_layers": false, "model": {"fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "fcnet_activation": "tanh", "dim": 84, "lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "channel_major": false, "conv_activation": "relu", "squash_to_range": false, "conv_filters": null, "zero_mean": true, "grayscale": false, "max_seq_len": 20, "free_log_std": false, "custom_preprocessor": null, "custom_options": {}, "use_lstm": false}, "clip_param": 0.3, "num_cpus_for_driver": 1, "synchronize_filters": true, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "output": null, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.3, 0.1]_t_min:10.0", "batch_mode": "truncate_episodes", "simple_optimizer": false, "sample_batch_size": 200, "collect_metrics_timeout": 180, "clip_rewards": null, "clip_actions": false, "kl_target": 0.01, "observation_filter": "NoFilter", "use_gae": true, "entropy_coeff": 0.0, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb5d438>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb5de10>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb5d278>"}, "gamma": 0.99, "horizon": 1500, "num_gpus_per_worker": 0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "output_max_file_size": 67108864, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "num_gpus": 0, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}}, "timestamp": 1557230826, "episode_reward_max": 891.3154620505262, "episodes_this_iter": 20, "time_total_s": 442.2336366176605, "time_since_restore": 442.2336366176605}
{"timesteps_since_restore": 741390, "done": false, "node_ip": "10.138.0.2", "pid": 10867, "date": "2019-05-07_12-07-29", "episode_reward_min": 356.3153974033994, "timesteps_this_iter": 37525, "training_iteration": 18, "episode_reward_mean": 812.1571775312774, "experiment_id": "a183ec7aedea427d9bacd699bea0cf75", "policy_reward_mean": {}, "iterations_since_restore": 18, "custom_metrics": {"cost2_min": -58.552802940668926, "outflow_rate_max": 1004.066, "cost1_mean": 260.04626710909156, "cost2_mean": -48.94736918423872, "system_level_velocity_mean": 9.990059350624474, "cost1_max": 287.1589688980207, "cost1_min": 138.4344432452308, "cost2_max": -39.373806519110595, "outflow_rate_mean": 878.114047631941, "system_level_velocity_min": 9.02844246860313, "outflow_rate_min": 660.4475216356725, "system_level_velocity_max": 12.42104578755535}, "info": {"num_steps_trained": 741390, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.007609136868268251, "total_loss": 12.5944185256958, "vf_loss": 12.594840049743652, "policy_loss": -0.0009927880018949509, "cur_kl_coeff": 0.07499999552965164, "vf_explained_var": 0.6847845315933228, "entropy": 1.2738405466079712}, "num_steps_sampled": 741390, "load_time_ms": 11.879, "update_time_ms": 7.898, "grad_time_ms": 8702.782, "sample_time_ms": 14439.679}, "episode_len_mean": 696.0, "time_this_iter_s": 23.154542446136475, "num_metric_batches_dropped": 0, "timesteps_total": 741390, "episodes_total": 286, "hostname": "flow-main", "config": {"custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "kl_coeff": 0.2, "train_batch_size": 30000, "log_level": "INFO", "num_workers": 20, "num_sgd_iter": 10, "lr": 0.0005, "monitor": false, "lr_schedule": null, "compress_observations": false, "input": "sampler", "straggler_mitigation": false, "input_evaluation": null, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "optimizer": {}, "vf_share_layers": false, "model": {"fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "fcnet_activation": "tanh", "dim": 84, "lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "channel_major": false, "conv_activation": "relu", "squash_to_range": false, "conv_filters": null, "zero_mean": true, "grayscale": false, "max_seq_len": 20, "free_log_std": false, "custom_preprocessor": null, "custom_options": {}, "use_lstm": false}, "clip_param": 0.3, "num_cpus_for_driver": 1, "synchronize_filters": true, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "output": null, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.3, 0.1]_t_min:10.0", "batch_mode": "truncate_episodes", "simple_optimizer": false, "sample_batch_size": 200, "collect_metrics_timeout": 180, "clip_rewards": null, "clip_actions": false, "kl_target": 0.01, "observation_filter": "NoFilter", "use_gae": true, "entropy_coeff": 0.0, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f945fcd6518>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f945fcd6128>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f945fcd6ac8>"}, "gamma": 0.99, "horizon": 1500, "num_gpus_per_worker": 0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "output_max_file_size": 67108864, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "num_gpus": 0, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}}, "timestamp": 1557230849, "episode_reward_max": 891.3154620505262, "episodes_this_iter": 19, "time_total_s": 465.388179063797, "time_since_restore": 465.388179063797}
{"timesteps_since_restore": 778816, "done": false, "node_ip": "10.138.0.2", "pid": 10867, "date": "2019-05-07_12-07-52", "episode_reward_min": 710.3382582835379, "timesteps_this_iter": 37426, "training_iteration": 19, "episode_reward_mean": 806.6762163148326, "experiment_id": "a183ec7aedea427d9bacd699bea0cf75", "policy_reward_mean": {}, "iterations_since_restore": 19, "custom_metrics": {"cost2_min": -58.34319179679705, "outflow_rate_max": 1004.066, "cost1_mean": 262.0719111124914, "cost2_mean": -48.635080686173296, "system_level_velocity_mean": 9.977182118892534, "cost1_max": 287.8095549144106, "cost1_min": 237.2724781088785, "cost2_max": -37.99994338390245, "outflow_rate_mean": 875.8193907532468, "system_level_velocity_min": 9.02844246860313, "outflow_rate_min": 781.7307428571428, "system_level_velocity_max": 10.978710451677753}, "info": {"num_steps_trained": 778816, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.00980312004685402, "total_loss": 12.49362564086914, "vf_loss": 12.495548248291016, "policy_loss": -0.0026584251318126917, "cur_kl_coeff": 0.07499999552965164, "vf_explained_var": 0.6916101574897766, "entropy": 1.2609951496124268}, "num_steps_sampled": 778816, "load_time_ms": 11.845, "update_time_ms": 7.723, "grad_time_ms": 8600.38, "sample_time_ms": 14602.253}, "episode_len_mean": 700.0, "time_this_iter_s": 23.204156398773193, "num_metric_batches_dropped": 0, "timesteps_total": 778816, "episodes_total": 306, "hostname": "flow-main", "config": {"custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "kl_coeff": 0.2, "train_batch_size": 30000, "log_level": "INFO", "num_workers": 20, "num_sgd_iter": 10, "lr": 0.0005, "monitor": false, "lr_schedule": null, "compress_observations": false, "input": "sampler", "straggler_mitigation": false, "input_evaluation": null, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "optimizer": {}, "vf_share_layers": false, "model": {"fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "fcnet_activation": "tanh", "dim": 84, "lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "channel_major": false, "conv_activation": "relu", "squash_to_range": false, "conv_filters": null, "zero_mean": true, "grayscale": false, "max_seq_len": 20, "free_log_std": false, "custom_preprocessor": null, "custom_options": {}, "use_lstm": false}, "clip_param": 0.3, "num_cpus_for_driver": 1, "synchronize_filters": true, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "output": null, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.3, 0.1]_t_min:10.0", "batch_mode": "truncate_episodes", "simple_optimizer": false, "sample_batch_size": 200, "collect_metrics_timeout": 180, "clip_rewards": null, "clip_actions": false, "kl_target": 0.01, "observation_filter": "NoFilter", "use_gae": true, "entropy_coeff": 0.0, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb4c898>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb4cb70>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb4cb00>"}, "gamma": 0.99, "horizon": 1500, "num_gpus_per_worker": 0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "output_max_file_size": 67108864, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "num_gpus": 0, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}}, "timestamp": 1557230872, "episode_reward_max": 891.3154620505262, "episodes_this_iter": 20, "time_total_s": 488.5923354625702, "time_since_restore": 488.5923354625702}
{"timesteps_since_restore": 815707, "done": false, "node_ip": "10.138.0.2", "pid": 10867, "date": "2019-05-07_12-08-16", "episode_reward_min": 710.3382582835379, "timesteps_this_iter": 36891, "training_iteration": 20, "episode_reward_mean": 800.274714285513, "experiment_id": "a183ec7aedea427d9bacd699bea0cf75", "policy_reward_mean": {}, "iterations_since_restore": 20, "custom_metrics": {"cost2_min": -69.18658986050616, "outflow_rate_max": 980.5009714285713, "cost1_mean": 264.4885159332535, "cost2_mean": -48.86139477567458, "system_level_velocity_mean": 10.078471618689747, "cost1_max": 304.1159247660783, "cost1_min": 237.2724781088785, "cost2_max": -37.99994338390245, "outflow_rate_mean": 879.5582602597402, "system_level_velocity_min": 9.02844246860313, "outflow_rate_min": 781.7307428571428, "system_level_velocity_max": 11.81238734843144}, "info": {"num_steps_trained": 815707, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.011582656763494015, "total_loss": 11.40273380279541, "vf_loss": 11.40510082244873, "policy_loss": -0.003236769698560238, "cur_kl_coeff": 0.07499999552965164, "vf_explained_var": 0.7003130316734314, "entropy": 1.2589397430419922}, "num_steps_sampled": 815707, "load_time_ms": 12.065, "update_time_ms": 7.711, "grad_time_ms": 8625.06, "sample_time_ms": 14520.071}, "episode_len_mean": 699.28, "time_this_iter_s": 23.57573437690735, "num_metric_batches_dropped": 0, "timesteps_total": 815707, "episodes_total": 322, "hostname": "flow-main", "config": {"custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "kl_coeff": 0.2, "train_batch_size": 30000, "log_level": "INFO", "num_workers": 20, "num_sgd_iter": 10, "lr": 0.0005, "monitor": false, "lr_schedule": null, "compress_observations": false, "input": "sampler", "straggler_mitigation": false, "input_evaluation": null, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "optimizer": {}, "vf_share_layers": false, "model": {"fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "fcnet_activation": "tanh", "dim": 84, "lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "channel_major": false, "conv_activation": "relu", "squash_to_range": false, "conv_filters": null, "zero_mean": true, "grayscale": false, "max_seq_len": 20, "free_log_std": false, "custom_preprocessor": null, "custom_options": {}, "use_lstm": false}, "clip_param": 0.3, "num_cpus_for_driver": 1, "synchronize_filters": true, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "output": null, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.3, 0.1]_t_min:10.0", "batch_mode": "truncate_episodes", "simple_optimizer": false, "sample_batch_size": 200, "collect_metrics_timeout": 180, "clip_rewards": null, "clip_actions": false, "kl_target": 0.01, "observation_filter": "NoFilter", "use_gae": true, "entropy_coeff": 0.0, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb5d0f0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb5d9b0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb5db00>"}, "gamma": 0.99, "horizon": 1500, "num_gpus_per_worker": 0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "output_max_file_size": 67108864, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "num_gpus": 0, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}}, "timestamp": 1557230896, "episode_reward_max": 874.9886257451413, "episodes_this_iter": 16, "time_total_s": 512.1680698394775, "time_since_restore": 512.1680698394775}
{"timesteps_since_restore": 853448, "done": false, "node_ip": "10.138.0.2", "pid": 10867, "date": "2019-05-07_12-08-40", "episode_reward_min": 46.40308877699387, "timesteps_this_iter": 37741, "training_iteration": 21, "episode_reward_mean": 792.141273651188, "experiment_id": "a183ec7aedea427d9bacd699bea0cf75", "policy_reward_mean": {}, "iterations_since_restore": 21, "custom_metrics": {"cost2_min": -69.18658986050616, "outflow_rate_max": 1011.5562857142857, "cost1_mean": 264.4892285926769, "cost2_mean": -48.924547695649906, "system_level_velocity_mean": 10.255297022155968, "cost1_max": 307.65587209443436, "cost1_min": 28.305187401129793, "cost2_max": -20.702782884514562, "outflow_rate_mean": 884.809780001764, "system_level_velocity_min": 9.02844246860313, "outflow_rate_min": 340.0431742023662, "system_level_velocity_max": 19.00103149803655}, "info": {"num_steps_trained": 853448, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.011090649291872978, "total_loss": 10.760424613952637, "vf_loss": 10.763765335083008, "policy_loss": -0.004173345398157835, "cur_kl_coeff": 0.07499998807907104, "vf_explained_var": 0.7121694087982178, "entropy": 1.2574926614761353}, "num_steps_sampled": 853448, "load_time_ms": 12.358, "update_time_ms": 7.67, "grad_time_ms": 8577.457, "sample_time_ms": 14499.091}, "episode_len_mean": 692.71, "time_this_iter_s": 23.777212619781494, "num_metric_batches_dropped": 0, "timesteps_total": 853448, "episodes_total": 335, "hostname": "flow-main", "config": {"custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "kl_coeff": 0.2, "train_batch_size": 30000, "log_level": "INFO", "num_workers": 20, "num_sgd_iter": 10, "lr": 0.0005, "monitor": false, "lr_schedule": null, "compress_observations": false, "input": "sampler", "straggler_mitigation": false, "input_evaluation": null, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "optimizer": {}, "vf_share_layers": false, "model": {"fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "fcnet_activation": "tanh", "dim": 84, "lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "channel_major": false, "conv_activation": "relu", "squash_to_range": false, "conv_filters": null, "zero_mean": true, "grayscale": false, "max_seq_len": 20, "free_log_std": false, "custom_preprocessor": null, "custom_options": {}, "use_lstm": false}, "clip_param": 0.3, "num_cpus_for_driver": 1, "synchronize_filters": true, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "output": null, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.3, 0.1]_t_min:10.0", "batch_mode": "truncate_episodes", "simple_optimizer": false, "sample_batch_size": 200, "collect_metrics_timeout": 180, "clip_rewards": null, "clip_actions": false, "kl_target": 0.01, "observation_filter": "NoFilter", "use_gae": true, "entropy_coeff": 0.0, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f945fcf0748>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f945fcd6860>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f945fcd62e8>"}, "gamma": 0.99, "horizon": 1500, "num_gpus_per_worker": 0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "output_max_file_size": 67108864, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "num_gpus": 0, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}}, "timestamp": 1557230920, "episode_reward_max": 874.9886257451413, "episodes_this_iter": 13, "time_total_s": 535.945282459259, "time_since_restore": 535.945282459259}
{"timesteps_since_restore": 891527, "done": false, "node_ip": "10.138.0.2", "pid": 10867, "date": "2019-05-07_12-09-04", "episode_reward_min": 46.40308877699387, "timesteps_this_iter": 38079, "training_iteration": 22, "episode_reward_mean": 798.3989975459184, "experiment_id": "a183ec7aedea427d9bacd699bea0cf75", "policy_reward_mean": {}, "iterations_since_restore": 22, "custom_metrics": {"cost2_min": -75.21650478475951, "cost2_mean": -49.23673786994587, "cost1_mean": 270.9462544499218, "system_level_velocity_mean": 10.529090012499518, "cost1_max": 322.3566156861839, "cost1_min": 28.305187401129793, "cost2_max": -20.702782884514562, "outflow_rate_max": 1073.5277246753246, "system_level_velocity_min": 9.252993880940004, "outflow_rate_min": 340.0431742023662, "system_level_velocity_max": 19.00103149803655, "outflow_rate_mean": 908.0539504433224}, "info": {"num_steps_trained": 891527, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.00913937482982874, "total_loss": 15.061806678771973, "vf_loss": 15.06397819519043, "policy_loss": -0.002856700448319316, "cur_kl_coeff": 0.07499999552965164, "vf_explained_var": 0.6750978231430054, "entropy": 1.2706265449523926}, "num_steps_sampled": 891527, "load_time_ms": 12.579, "update_time_ms": 7.523, "grad_time_ms": 8599.799, "sample_time_ms": 14385.439}, "episode_len_mean": 691.25, "time_this_iter_s": 23.833592891693115, "num_metric_batches_dropped": 0, "timesteps_total": 891527, "episodes_total": 355, "hostname": "flow-main", "config": {"custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "kl_coeff": 0.2, "train_batch_size": 30000, "log_level": "INFO", "num_workers": 20, "num_sgd_iter": 10, "lr": 0.0005, "monitor": false, "lr_schedule": null, "compress_observations": false, "input": "sampler", "straggler_mitigation": false, "input_evaluation": null, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "optimizer": {}, "vf_share_layers": false, "model": {"fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "fcnet_activation": "tanh", "dim": 84, "lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "channel_major": false, "conv_activation": "relu", "squash_to_range": false, "conv_filters": null, "zero_mean": true, "grayscale": false, "max_seq_len": 20, "free_log_std": false, "custom_preprocessor": null, "custom_options": {}, "use_lstm": false}, "clip_param": 0.3, "num_cpus_for_driver": 1, "synchronize_filters": true, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "output": null, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.3, 0.1]_t_min:10.0", "batch_mode": "truncate_episodes", "simple_optimizer": false, "sample_batch_size": 200, "collect_metrics_timeout": 180, "clip_rewards": null, "clip_actions": false, "kl_target": 0.01, "observation_filter": "NoFilter", "use_gae": true, "entropy_coeff": 0.0, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f94611705c0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f9461170710>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f9461170dd8>"}, "gamma": 0.99, "horizon": 1500, "num_gpus_per_worker": 0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "output_max_file_size": 67108864, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "num_gpus": 0, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}}, "timestamp": 1557230944, "episode_reward_max": 928.6424578903033, "episodes_this_iter": 20, "time_total_s": 559.7788753509521, "time_since_restore": 559.7788753509521}
{"timesteps_since_restore": 929324, "done": false, "node_ip": "10.138.0.2", "pid": 10867, "date": "2019-05-07_12-09-28", "episode_reward_min": 46.40308877699387, "timesteps_this_iter": 37797, "training_iteration": 23, "episode_reward_mean": 807.0249616193479, "experiment_id": "a183ec7aedea427d9bacd699bea0cf75", "policy_reward_mean": {}, "iterations_since_restore": 23, "custom_metrics": {"cost2_min": -75.21650478475951, "outflow_rate_max": 1150.3346649350647, "cost1_mean": 277.57576738146093, "cost2_mean": -49.86698567041968, "system_level_velocity_mean": 10.80742097180279, "cost1_max": 322.3566156861839, "cost1_min": 28.305187401129793, "cost2_max": -20.702782884514562, "outflow_rate_mean": 933.0529162095563, "system_level_velocity_min": 9.252993880940004, "outflow_rate_min": 340.0431742023662, "system_level_velocity_max": 19.00103149803655}, "info": {"num_steps_trained": 929324, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.009990459308028221, "total_loss": 17.20159912109375, "vf_loss": 17.204015731811523, "policy_loss": -0.003166096517816186, "cur_kl_coeff": 0.07499998807907104, "vf_explained_var": 0.6414418816566467, "entropy": 1.2537777423858643}, "num_steps_sampled": 929324, "load_time_ms": 12.757, "update_time_ms": 7.515, "grad_time_ms": 8649.909, "sample_time_ms": 14623.834}, "episode_len_mean": 691.25, "time_this_iter_s": 24.355375051498413, "num_metric_batches_dropped": 0, "timesteps_total": 929324, "episodes_total": 375, "hostname": "flow-main", "config": {"custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "kl_coeff": 0.2, "train_batch_size": 30000, "log_level": "INFO", "num_workers": 20, "num_sgd_iter": 10, "lr": 0.0005, "monitor": false, "lr_schedule": null, "compress_observations": false, "input": "sampler", "straggler_mitigation": false, "input_evaluation": null, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "optimizer": {}, "vf_share_layers": false, "model": {"fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "fcnet_activation": "tanh", "dim": 84, "lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "channel_major": false, "conv_activation": "relu", "squash_to_range": false, "conv_filters": null, "zero_mean": true, "grayscale": false, "max_seq_len": 20, "free_log_std": false, "custom_preprocessor": null, "custom_options": {}, "use_lstm": false}, "clip_param": 0.3, "num_cpus_for_driver": 1, "synchronize_filters": true, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "output": null, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.3, 0.1]_t_min:10.0", "batch_mode": "truncate_episodes", "simple_optimizer": false, "sample_batch_size": 200, "collect_metrics_timeout": 180, "clip_rewards": null, "clip_actions": false, "kl_target": 0.01, "observation_filter": "NoFilter", "use_gae": true, "entropy_coeff": 0.0, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb5deb8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb5dc18>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb5d400>"}, "gamma": 0.99, "horizon": 1500, "num_gpus_per_worker": 0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "output_max_file_size": 67108864, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "num_gpus": 0, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}}, "timestamp": 1557230968, "episode_reward_max": 928.6424578903033, "episodes_this_iter": 20, "time_total_s": 584.1342504024506, "time_since_restore": 584.1342504024506}
{"timesteps_since_restore": 967824, "done": false, "node_ip": "10.138.0.2", "pid": 10867, "date": "2019-05-07_12-09-54", "episode_reward_min": 46.40308877699387, "timesteps_this_iter": 38500, "training_iteration": 24, "episode_reward_mean": 822.7617121980963, "experiment_id": "a183ec7aedea427d9bacd699bea0cf75", "policy_reward_mean": {}, "iterations_since_restore": 24, "custom_metrics": {"cost2_min": -75.21650478475951, "outflow_rate_max": 1150.3346649350647, "cost1_mean": 284.08747731773013, "cost2_mean": -50.75988366697915, "system_level_velocity_mean": 11.075519513386073, "cost1_max": 328.7715168038534, "cost1_min": 28.305187401129793, "cost2_max": -20.702782884514562, "outflow_rate_mean": 958.1895707030626, "system_level_velocity_min": 9.252993880940004, "outflow_rate_min": 340.0431742023662, "system_level_velocity_max": 19.00103149803655}, "info": {"num_steps_trained": 967824, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.009128362871706486, "total_loss": 16.83544921875, "vf_loss": 16.83677864074707, "policy_loss": -0.0020136255770921707, "cur_kl_coeff": 0.07499999552965164, "vf_explained_var": 0.6188997626304626, "entropy": 1.2395548820495605}, "num_steps_sampled": 967824, "load_time_ms": 13.086, "update_time_ms": 7.383, "grad_time_ms": 8936.857, "sample_time_ms": 14744.8}, "episode_len_mean": 691.25, "time_this_iter_s": 26.23532795906067, "num_metric_batches_dropped": 0, "timesteps_total": 967824, "episodes_total": 395, "hostname": "flow-main", "config": {"custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "kl_coeff": 0.2, "train_batch_size": 30000, "log_level": "INFO", "num_workers": 20, "num_sgd_iter": 10, "lr": 0.0005, "monitor": false, "lr_schedule": null, "compress_observations": false, "input": "sampler", "straggler_mitigation": false, "input_evaluation": null, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "optimizer": {}, "vf_share_layers": false, "model": {"fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "fcnet_activation": "tanh", "dim": 84, "lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "channel_major": false, "conv_activation": "relu", "squash_to_range": false, "conv_filters": null, "zero_mean": true, "grayscale": false, "max_seq_len": 20, "free_log_std": false, "custom_preprocessor": null, "custom_options": {}, "use_lstm": false}, "clip_param": 0.3, "num_cpus_for_driver": 1, "synchronize_filters": true, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "output": null, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.3, 0.1]_t_min:10.0", "batch_mode": "truncate_episodes", "simple_optimizer": false, "sample_batch_size": 200, "collect_metrics_timeout": 180, "clip_rewards": null, "clip_actions": false, "kl_target": 0.01, "observation_filter": "NoFilter", "use_gae": true, "entropy_coeff": 0.0, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f94611709e8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f9461170470>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f9461170518>"}, "gamma": 0.99, "horizon": 1500, "num_gpus_per_worker": 0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "output_max_file_size": 67108864, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "num_gpus": 0, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}}, "timestamp": 1557230994, "episode_reward_max": 962.0798791943478, "episodes_this_iter": 20, "time_total_s": 610.3695783615112, "time_since_restore": 610.3695783615112}
{"timesteps_since_restore": 1005518, "done": false, "node_ip": "10.138.0.2", "pid": 10867, "date": "2019-05-07_12-10-16", "episode_reward_min": 46.40308877699387, "timesteps_this_iter": 37694, "training_iteration": 25, "episode_reward_mean": 841.9987411452905, "experiment_id": "a183ec7aedea427d9bacd699bea0cf75", "policy_reward_mean": {}, "iterations_since_restore": 25, "custom_metrics": {"cost2_min": -75.21650478475951, "outflow_rate_max": 1161.8114285714285, "cost1_mean": 288.81006778734513, "cost2_mean": -51.82059529227459, "system_level_velocity_mean": 11.250034389548295, "cost1_max": 332.9101800143326, "cost1_min": 28.305187401129793, "cost2_max": -20.702782884514562, "outflow_rate_mean": 975.5008348589067, "system_level_velocity_min": 9.252993880940004, "outflow_rate_min": 340.0431742023662, "system_level_velocity_max": 19.00103149803655}, "info": {"num_steps_trained": 1005518, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.009088519960641861, "total_loss": 13.92762565612793, "vf_loss": 13.929523468017578, "policy_loss": -0.0025788990315049887, "cur_kl_coeff": 0.07499998807907104, "vf_explained_var": 0.6566185355186462, "entropy": 1.234055519104004}, "num_steps_sampled": 1005518, "load_time_ms": 13.087, "update_time_ms": 7.157, "grad_time_ms": 9167.757, "sample_time_ms": 14526.234}, "episode_len_mean": 691.25, "time_this_iter_s": 21.77470827102661, "num_metric_batches_dropped": 0, "timesteps_total": 1005518, "episodes_total": 409, "hostname": "flow-main", "config": {"custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "kl_coeff": 0.2, "train_batch_size": 30000, "log_level": "INFO", "num_workers": 20, "num_sgd_iter": 10, "lr": 0.0005, "monitor": false, "lr_schedule": null, "compress_observations": false, "input": "sampler", "straggler_mitigation": false, "input_evaluation": null, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "optimizer": {}, "vf_share_layers": false, "model": {"fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "fcnet_activation": "tanh", "dim": 84, "lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "channel_major": false, "conv_activation": "relu", "squash_to_range": false, "conv_filters": null, "zero_mean": true, "grayscale": false, "max_seq_len": 20, "free_log_std": false, "custom_preprocessor": null, "custom_options": {}, "use_lstm": false}, "clip_param": 0.3, "num_cpus_for_driver": 1, "synchronize_filters": true, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "output": null, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.3, 0.1]_t_min:10.0", "batch_mode": "truncate_episodes", "simple_optimizer": false, "sample_batch_size": 200, "collect_metrics_timeout": 180, "clip_rewards": null, "clip_actions": false, "kl_target": 0.01, "observation_filter": "NoFilter", "use_gae": true, "entropy_coeff": 0.0, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f9461170710>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f94611705c0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f9461170c88>"}, "gamma": 0.99, "horizon": 1500, "num_gpus_per_worker": 0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "output_max_file_size": 67108864, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "num_gpus": 0, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}}, "timestamp": 1557231016, "episode_reward_max": 976.8312868094281, "episodes_this_iter": 14, "time_total_s": 632.1442866325378, "time_since_restore": 632.1442866325378}
{"timesteps_since_restore": 1044613, "done": false, "node_ip": "10.138.0.2", "pid": 10867, "date": "2019-05-07_12-10-39", "episode_reward_min": 720.7235465801349, "timesteps_this_iter": 39095, "training_iteration": 26, "episode_reward_mean": 877.0571761407767, "experiment_id": "a183ec7aedea427d9bacd699bea0cf75", "policy_reward_mean": {}, "iterations_since_restore": 26, "custom_metrics": {"cost2_min": -75.21650478475951, "outflow_rate_max": 1161.8114285714285, "cost1_mean": 295.20813740642245, "cost2_mean": -51.94889665544163, "system_level_velocity_mean": 11.293524332140283, "cost1_max": 342.45472050101034, "cost1_min": 235.64086453532246, "cost2_max": -39.28899043118322, "outflow_rate_mean": 999.1797318961039, "system_level_velocity_min": 8.799276445690003, "outflow_rate_min": 865.6029142857143, "system_level_velocity_max": 12.948287741730462}, "info": {"num_steps_trained": 1044613, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.01010192185640335, "total_loss": 18.322790145874023, "vf_loss": 18.325138092041016, "policy_loss": -0.0031059631146490574, "cur_kl_coeff": 0.07499999552965164, "vf_explained_var": 0.5934544205665588, "entropy": 1.2325129508972168}, "num_steps_sampled": 1044613, "load_time_ms": 13.496, "update_time_ms": 7.253, "grad_time_ms": 9271.614, "sample_time_ms": 14218.597}, "episode_len_mean": 698.54, "time_this_iter_s": 22.764650583267212, "num_metric_batches_dropped": 0, "timesteps_total": 1044613, "episodes_total": 427, "hostname": "flow-main", "config": {"custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "kl_coeff": 0.2, "train_batch_size": 30000, "log_level": "INFO", "num_workers": 20, "num_sgd_iter": 10, "lr": 0.0005, "monitor": false, "lr_schedule": null, "compress_observations": false, "input": "sampler", "straggler_mitigation": false, "input_evaluation": null, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "optimizer": {}, "vf_share_layers": false, "model": {"fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "fcnet_activation": "tanh", "dim": 84, "lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "channel_major": false, "conv_activation": "relu", "squash_to_range": false, "conv_filters": null, "zero_mean": true, "grayscale": false, "max_seq_len": 20, "free_log_std": false, "custom_preprocessor": null, "custom_options": {}, "use_lstm": false}, "clip_param": 0.3, "num_cpus_for_driver": 1, "synchronize_filters": true, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "output": null, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.3, 0.1]_t_min:10.0", "batch_mode": "truncate_episodes", "simple_optimizer": false, "sample_batch_size": 200, "collect_metrics_timeout": 180, "clip_rewards": null, "clip_actions": false, "kl_target": 0.01, "observation_filter": "NoFilter", "use_gae": true, "entropy_coeff": 0.0, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb5d5c0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb5d978>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb5d6a0>"}, "gamma": 0.99, "horizon": 1500, "num_gpus_per_worker": 0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "output_max_file_size": 67108864, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "num_gpus": 0, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}}, "timestamp": 1557231039, "episode_reward_max": 1024.802276525463, "episodes_this_iter": 18, "time_total_s": 654.908937215805, "time_since_restore": 654.908937215805}
{"timesteps_since_restore": 1083955, "done": false, "node_ip": "10.138.0.2", "pid": 10867, "date": "2019-05-07_12-11-01", "episode_reward_min": 720.7235465801349, "timesteps_this_iter": 39342, "training_iteration": 27, "episode_reward_mean": 888.3078767269982, "experiment_id": "a183ec7aedea427d9bacd699bea0cf75", "policy_reward_mean": {}, "iterations_since_restore": 27, "custom_metrics": {"cost2_min": -75.21650478475951, "outflow_rate_max": 1161.8114285714285, "cost1_mean": 294.2427313705677, "cost2_mean": -52.14624901983308, "system_level_velocity_mean": 11.227872624126695, "cost1_max": 342.45472050101034, "cost1_min": 235.64086453532246, "cost2_max": -39.28899043118322, "outflow_rate_mean": 996.6159342137862, "system_level_velocity_min": 8.799276445690003, "outflow_rate_min": 836.4771999999999, "system_level_velocity_max": 12.948287741730462}, "info": {"num_steps_trained": 1083955, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.010533393360674381, "total_loss": 15.581727027893066, "vf_loss": 15.58367919921875, "policy_loss": -0.0027414674405008554, "cur_kl_coeff": 0.07499999552965164, "vf_explained_var": 0.565953254699707, "entropy": 1.2305389642715454}, "num_steps_sampled": 1083955, "load_time_ms": 13.332, "update_time_ms": 7.164, "grad_time_ms": 9462.97, "sample_time_ms": 13952.77}, "episode_len_mean": 698.54, "time_this_iter_s": 22.466883182525635, "num_metric_batches_dropped": 0, "timesteps_total": 1083955, "episodes_total": 443, "hostname": "flow-main", "config": {"custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "kl_coeff": 0.2, "train_batch_size": 30000, "log_level": "INFO", "num_workers": 20, "num_sgd_iter": 10, "lr": 0.0005, "monitor": false, "lr_schedule": null, "compress_observations": false, "input": "sampler", "straggler_mitigation": false, "input_evaluation": null, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "optimizer": {}, "vf_share_layers": false, "model": {"fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "fcnet_activation": "tanh", "dim": 84, "lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "channel_major": false, "conv_activation": "relu", "squash_to_range": false, "conv_filters": null, "zero_mean": true, "grayscale": false, "max_seq_len": 20, "free_log_std": false, "custom_preprocessor": null, "custom_options": {}, "use_lstm": false}, "clip_param": 0.3, "num_cpus_for_driver": 1, "synchronize_filters": true, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "output": null, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.3, 0.1]_t_min:10.0", "batch_mode": "truncate_episodes", "simple_optimizer": false, "sample_batch_size": 200, "collect_metrics_timeout": 180, "clip_rewards": null, "clip_actions": false, "kl_target": 0.01, "observation_filter": "NoFilter", "use_gae": true, "entropy_coeff": 0.0, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb4fcf8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb4f320>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb4ff28>"}, "gamma": 0.99, "horizon": 1500, "num_gpus_per_worker": 0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "output_max_file_size": 67108864, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "num_gpus": 0, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}}, "timestamp": 1557231061, "episode_reward_max": 1056.0132971179873, "episodes_this_iter": 16, "time_total_s": 677.3758203983307, "time_since_restore": 677.3758203983307}
{"timesteps_since_restore": 1124492, "done": false, "node_ip": "10.138.0.2", "pid": 10867, "date": "2019-05-07_12-11-24", "episode_reward_min": 383.53396610162923, "timesteps_this_iter": 40537, "training_iteration": 28, "episode_reward_mean": 895.2638183769745, "experiment_id": "a183ec7aedea427d9bacd699bea0cf75", "policy_reward_mean": {}, "iterations_since_restore": 28, "custom_metrics": {"cost2_min": -69.08877494937173, "outflow_rate_max": 1161.8114285714285, "cost1_mean": 291.3201697119731, "cost2_mean": -51.31198000234907, "system_level_velocity_mean": 11.162194116826965, "cost1_max": 342.45472050101034, "cost1_min": 123.03997408009297, "cost2_max": -36.41377939869461, "outflow_rate_mean": 990.0871591857588, "system_level_velocity_min": 8.799276445690003, "outflow_rate_min": 648.5096712232353, "system_level_velocity_max": 12.967935630207519}, "info": {"num_steps_trained": 1124492, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.009818215854465961, "total_loss": 13.205606460571289, "vf_loss": 13.206853866577148, "policy_loss": -0.001983203459531069, "cur_kl_coeff": 0.07499998807907104, "vf_explained_var": 0.6773746609687805, "entropy": 1.2176635265350342}, "num_steps_sampled": 1124492, "load_time_ms": 13.294, "update_time_ms": 7.338, "grad_time_ms": 9580.355, "sample_time_ms": 13753.51}, "episode_len_mean": 695.54, "time_this_iter_s": 22.397459506988525, "num_metric_batches_dropped": 0, "timesteps_total": 1124492, "episodes_total": 455, "hostname": "flow-main", "config": {"custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "kl_coeff": 0.2, "train_batch_size": 30000, "log_level": "INFO", "num_workers": 20, "num_sgd_iter": 10, "lr": 0.0005, "monitor": false, "lr_schedule": null, "compress_observations": false, "input": "sampler", "straggler_mitigation": false, "input_evaluation": null, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "optimizer": {}, "vf_share_layers": false, "model": {"fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "fcnet_activation": "tanh", "dim": 84, "lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "channel_major": false, "conv_activation": "relu", "squash_to_range": false, "conv_filters": null, "zero_mean": true, "grayscale": false, "max_seq_len": 20, "free_log_std": false, "custom_preprocessor": null, "custom_options": {}, "use_lstm": false}, "clip_param": 0.3, "num_cpus_for_driver": 1, "synchronize_filters": true, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "output": null, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.3, 0.1]_t_min:10.0", "batch_mode": "truncate_episodes", "simple_optimizer": false, "sample_batch_size": 200, "collect_metrics_timeout": 180, "clip_rewards": null, "clip_actions": false, "kl_target": 0.01, "observation_filter": "NoFilter", "use_gae": true, "entropy_coeff": 0.0, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb4f400>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f945fcd6710>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f94611bafd0>"}, "gamma": 0.99, "horizon": 1500, "num_gpus_per_worker": 0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "output_max_file_size": 67108864, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "num_gpus": 0, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}}, "timestamp": 1557231084, "episode_reward_max": 1056.0132971179873, "episodes_this_iter": 12, "time_total_s": 699.7732799053192, "time_since_restore": 699.7732799053192}
{"timesteps_since_restore": 1165189, "done": false, "node_ip": "10.138.0.2", "pid": 10867, "date": "2019-05-07_12-11-48", "episode_reward_min": 383.53396610162923, "timesteps_this_iter": 40697, "training_iteration": 29, "episode_reward_mean": 909.6753381948635, "experiment_id": "a183ec7aedea427d9bacd699bea0cf75", "policy_reward_mean": {}, "iterations_since_restore": 29, "custom_metrics": {"cost2_min": -69.08877494937173, "outflow_rate_max": 1161.8114285714285, "cost1_mean": 287.14526400966577, "cost2_mean": -50.42322469102322, "system_level_velocity_mean": 10.951001400939397, "cost1_max": 342.45472050101034, "cost1_min": 123.03997408009297, "cost2_max": -36.41377939869461, "outflow_rate_mean": 972.281690366578, "system_level_velocity_min": 8.799276445690003, "outflow_rate_min": 648.5096712232353, "system_level_velocity_max": 12.967935630207519}, "info": {"num_steps_trained": 1165189, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.010001379996538162, "total_loss": 19.96463966369629, "vf_loss": 19.966920852661133, "policy_loss": -0.0030305387917906046, "cur_kl_coeff": 0.07499999552965164, "vf_explained_var": 0.5611661076545715, "entropy": 1.2154546976089478}, "num_steps_sampled": 1165189, "load_time_ms": 13.415, "update_time_ms": 7.382, "grad_time_ms": 9640.201, "sample_time_ms": 13759.921}, "episode_len_mean": 695.54, "time_this_iter_s": 23.871896266937256, "num_metric_batches_dropped": 0, "timesteps_total": 1165189, "episodes_total": 475, "hostname": "flow-main", "config": {"custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "kl_coeff": 0.2, "train_batch_size": 30000, "log_level": "INFO", "num_workers": 20, "num_sgd_iter": 10, "lr": 0.0005, "monitor": false, "lr_schedule": null, "compress_observations": false, "input": "sampler", "straggler_mitigation": false, "input_evaluation": null, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "optimizer": {}, "vf_share_layers": false, "model": {"fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "fcnet_activation": "tanh", "dim": 84, "lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "channel_major": false, "conv_activation": "relu", "squash_to_range": false, "conv_filters": null, "zero_mean": true, "grayscale": false, "max_seq_len": 20, "free_log_std": false, "custom_preprocessor": null, "custom_options": {}, "use_lstm": false}, "clip_param": 0.3, "num_cpus_for_driver": 1, "synchronize_filters": true, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "output": null, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.3, 0.1]_t_min:10.0", "batch_mode": "truncate_episodes", "simple_optimizer": false, "sample_batch_size": 200, "collect_metrics_timeout": 180, "clip_rewards": null, "clip_actions": false, "kl_target": 0.01, "observation_filter": "NoFilter", "use_gae": true, "entropy_coeff": 0.0, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f945fcf09b0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f945fc91588>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f945fc91390>"}, "gamma": 0.99, "horizon": 1500, "num_gpus_per_worker": 0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "output_max_file_size": 67108864, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "num_gpus": 0, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}}, "timestamp": 1557231108, "episode_reward_max": 1056.0132971179873, "episodes_this_iter": 20, "time_total_s": 723.6451761722565, "time_since_restore": 723.6451761722565}
{"timesteps_since_restore": 1205352, "done": false, "node_ip": "10.138.0.2", "pid": 10867, "date": "2019-05-07_12-12-11", "episode_reward_min": 383.53396610162923, "timesteps_this_iter": 40163, "training_iteration": 30, "episode_reward_mean": 917.26712236173, "experiment_id": "a183ec7aedea427d9bacd699bea0cf75", "policy_reward_mean": {}, "iterations_since_restore": 30, "custom_metrics": {"cost2_min": -64.6207482773945, "cost2_mean": -50.39771961599938, "cost1_mean": 284.5376497469021, "system_level_velocity_mean": 10.814788366535877, "cost1_max": 342.45472050101034, "cost1_min": 123.03997408009297, "cost2_max": -36.41377939869461, "outflow_rate_max": 1161.8114285714285, "system_level_velocity_min": 8.799276445690003, "outflow_rate_min": 648.5096712232353, "system_level_velocity_max": 12.967935630207519, "outflow_rate_mean": 968.0524242886559}, "info": {"num_steps_trained": 1205352, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.010652302764356136, "total_loss": 13.676517486572266, "vf_loss": 13.678050994873047, "policy_loss": -0.0023304240312427282, "cur_kl_coeff": 0.07499999552965164, "vf_explained_var": 0.6935573816299438, "entropy": 1.2079466581344604}, "num_steps_sampled": 1205352, "load_time_ms": 13.403, "update_time_ms": 7.5, "grad_time_ms": 9573.265, "sample_time_ms": 13846.373}, "episode_len_mean": 695.54, "time_this_iter_s": 23.773263692855835, "num_metric_batches_dropped": 0, "timesteps_total": 1205352, "episodes_total": 489, "hostname": "flow-main", "config": {"custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "kl_coeff": 0.2, "train_batch_size": 30000, "log_level": "INFO", "num_workers": 20, "num_sgd_iter": 10, "lr": 0.0005, "monitor": false, "lr_schedule": null, "compress_observations": false, "input": "sampler", "straggler_mitigation": false, "input_evaluation": null, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "optimizer": {}, "vf_share_layers": false, "model": {"fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "fcnet_activation": "tanh", "dim": 84, "lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "channel_major": false, "conv_activation": "relu", "squash_to_range": false, "conv_filters": null, "zero_mean": true, "grayscale": false, "max_seq_len": 20, "free_log_std": false, "custom_preprocessor": null, "custom_options": {}, "use_lstm": false}, "clip_param": 0.3, "num_cpus_for_driver": 1, "synchronize_filters": true, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "output": null, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.3, 0.1]_t_min:10.0", "batch_mode": "truncate_episodes", "simple_optimizer": false, "sample_batch_size": 200, "collect_metrics_timeout": 180, "clip_rewards": null, "clip_actions": false, "kl_target": 0.01, "observation_filter": "NoFilter", "use_gae": true, "entropy_coeff": 0.0, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f945fcc6b38>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f945fcf0b00>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f945fcf02e8>"}, "gamma": 0.99, "horizon": 1500, "num_gpus_per_worker": 0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "output_max_file_size": 67108864, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "num_gpus": 0, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}}, "timestamp": 1557231131, "episode_reward_max": 1056.0132971179873, "episodes_this_iter": 14, "time_total_s": 747.4184398651123, "time_since_restore": 747.4184398651123}
{"timesteps_since_restore": 1245548, "done": false, "node_ip": "10.138.0.2", "pid": 10867, "date": "2019-05-07_12-12-34", "episode_reward_min": 383.53396610162923, "timesteps_this_iter": 40196, "training_iteration": 31, "episode_reward_mean": 925.5445249436572, "experiment_id": "a183ec7aedea427d9bacd699bea0cf75", "policy_reward_mean": {}, "iterations_since_restore": 31, "custom_metrics": {"cost2_min": -64.6207482773945, "outflow_rate_max": 1154.2752655344657, "cost1_mean": 280.98327851163737, "cost2_mean": -49.17433896784591, "system_level_velocity_mean": 10.645393563877228, "cost1_max": 342.45472050101034, "cost1_min": 123.03997408009297, "cost2_max": -36.41377939869461, "outflow_rate_mean": 955.2934547302144, "system_level_velocity_min": 8.799276445690003, "outflow_rate_min": 648.5096712232353, "system_level_velocity_max": 12.967935630207519}, "info": {"num_steps_trained": 1245548, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.01172569952905178, "total_loss": 17.321916580200195, "vf_loss": 17.32343292236328, "policy_loss": -0.0023981700651347637, "cur_kl_coeff": 0.07499999552965164, "vf_explained_var": 0.6089839339256287, "entropy": 1.202705979347229}, "num_steps_sampled": 1245548, "load_time_ms": 13.329, "update_time_ms": 7.683, "grad_time_ms": 9353.643, "sample_time_ms": 13891.693}, "episode_len_mean": 695.54, "time_this_iter_s": 22.043522119522095, "num_metric_batches_dropped": 0, "timesteps_total": 1245548, "episodes_total": 507, "hostname": "flow-main", "config": {"custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "kl_coeff": 0.2, "train_batch_size": 30000, "log_level": "INFO", "num_workers": 20, "num_sgd_iter": 10, "lr": 0.0005, "monitor": false, "lr_schedule": null, "compress_observations": false, "input": "sampler", "straggler_mitigation": false, "input_evaluation": null, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "optimizer": {}, "vf_share_layers": false, "model": {"fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "fcnet_activation": "tanh", "dim": 84, "lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "channel_major": false, "conv_activation": "relu", "squash_to_range": false, "conv_filters": null, "zero_mean": true, "grayscale": false, "max_seq_len": 20, "free_log_std": false, "custom_preprocessor": null, "custom_options": {}, "use_lstm": false}, "clip_param": 0.3, "num_cpus_for_driver": 1, "synchronize_filters": true, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "output": null, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.3, 0.1]_t_min:10.0", "batch_mode": "truncate_episodes", "simple_optimizer": false, "sample_batch_size": 200, "collect_metrics_timeout": 180, "clip_rewards": null, "clip_actions": false, "kl_target": 0.01, "observation_filter": "NoFilter", "use_gae": true, "entropy_coeff": 0.0, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb4fcc0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb4f080>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb4f748>"}, "gamma": 0.99, "horizon": 1500, "num_gpus_per_worker": 0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "output_max_file_size": 67108864, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "num_gpus": 0, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}}, "timestamp": 1557231154, "episode_reward_max": 1056.0132971179873, "episodes_this_iter": 18, "time_total_s": 769.4619619846344, "time_since_restore": 769.4619619846344}
{"timesteps_since_restore": 1284951, "done": false, "node_ip": "10.138.0.2", "pid": 10867, "date": "2019-05-07_12-12-56", "episode_reward_min": 43.06317597637224, "timesteps_this_iter": 39403, "training_iteration": 32, "episode_reward_mean": 903.7729516844729, "experiment_id": "a183ec7aedea427d9bacd699bea0cf75", "policy_reward_mean": {}, "iterations_since_restore": 32, "custom_metrics": {"cost2_min": -64.6207482773945, "outflow_rate_max": 1154.2752655344657, "cost1_mean": 270.2944258225149, "cost2_mean": -47.65633830865208, "system_level_velocity_mean": 10.559551722147644, "cost1_max": 321.75940500857325, "cost1_min": 28.15354321840369, "cost2_max": -19.15349810213022, "outflow_rate_mean": 921.8244526794693, "system_level_velocity_min": 8.89472187058827, "outflow_rate_min": 332.7571298140349, "system_level_velocity_max": 18.765612455761552}, "info": {"num_steps_trained": 1284951, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.01210711244493723, "total_loss": 17.76714324951172, "vf_loss": 17.769371032714844, "policy_loss": -0.00313546066172421, "cur_kl_coeff": 0.07499999552965164, "vf_explained_var": 0.5875197649002075, "entropy": 1.2218679189682007}, "num_steps_sampled": 1284951, "load_time_ms": 13.269, "update_time_ms": 7.882, "grad_time_ms": 9122.697, "sample_time_ms": 13972.941}, "episode_len_mean": 682.47, "time_this_iter_s": 22.332895278930664, "num_metric_batches_dropped": 0, "timesteps_total": 1284951, "episodes_total": 525, "hostname": "flow-main", "config": {"custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "kl_coeff": 0.2, "train_batch_size": 30000, "log_level": "INFO", "num_workers": 20, "num_sgd_iter": 10, "lr": 0.0005, "monitor": false, "lr_schedule": null, "compress_observations": false, "input": "sampler", "straggler_mitigation": false, "input_evaluation": null, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "optimizer": {}, "vf_share_layers": false, "model": {"fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "fcnet_activation": "tanh", "dim": 84, "lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "channel_major": false, "conv_activation": "relu", "squash_to_range": false, "conv_filters": null, "zero_mean": true, "grayscale": false, "max_seq_len": 20, "free_log_std": false, "custom_preprocessor": null, "custom_options": {}, "use_lstm": false}, "clip_param": 0.3, "num_cpus_for_driver": 1, "synchronize_filters": true, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "output": null, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.3, 0.1]_t_min:10.0", "batch_mode": "truncate_episodes", "simple_optimizer": false, "sample_batch_size": 200, "collect_metrics_timeout": 180, "clip_rewards": null, "clip_actions": false, "kl_target": 0.01, "observation_filter": "NoFilter", "use_gae": true, "entropy_coeff": 0.0, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb4f2b0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f945fcd62e8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f945fcd6860>"}, "gamma": 0.99, "horizon": 1500, "num_gpus_per_worker": 0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "output_max_file_size": 67108864, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "num_gpus": 0, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}}, "timestamp": 1557231176, "episode_reward_max": 1056.0132971179873, "episodes_this_iter": 18, "time_total_s": 791.7948572635651, "time_since_restore": 791.7948572635651}
{"timesteps_since_restore": 1324861, "done": false, "node_ip": "10.138.0.2", "pid": 10867, "date": "2019-05-07_12-13-19", "episode_reward_min": 43.06317597637224, "timesteps_this_iter": 39910, "training_iteration": 33, "episode_reward_mean": 902.2958313447604, "experiment_id": "a183ec7aedea427d9bacd699bea0cf75", "policy_reward_mean": {}, "iterations_since_restore": 33, "custom_metrics": {"cost2_min": -61.405621706446816, "outflow_rate_max": 1107.439787012987, "cost1_mean": 266.8237172215042, "cost2_mean": -46.056250180448814, "system_level_velocity_mean": 10.438484065771826, "cost1_max": 321.75940500857325, "cost1_min": 28.15354321840369, "cost2_max": -19.15349810213022, "outflow_rate_mean": 911.7107458423066, "system_level_velocity_min": 8.89472187058827, "outflow_rate_min": 332.7571298140349, "system_level_velocity_max": 18.765612455761552}, "info": {"num_steps_trained": 1324861, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.010575047694146633, "total_loss": 16.153928756713867, "vf_loss": 16.155879974365234, "policy_loss": -0.002743452787399292, "cur_kl_coeff": 0.07499998807907104, "vf_explained_var": 0.6615846157073975, "entropy": 1.2096185684204102}, "num_steps_sampled": 1324861, "load_time_ms": 12.976, "update_time_ms": 7.858, "grad_time_ms": 8971.337, "sample_time_ms": 13962.279}, "episode_len_mean": 682.47, "time_this_iter_s": 22.736948013305664, "num_metric_batches_dropped": 0, "timesteps_total": 1324861, "episodes_total": 542, "hostname": "flow-main", "config": {"custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "kl_coeff": 0.2, "train_batch_size": 30000, "log_level": "INFO", "num_workers": 20, "num_sgd_iter": 10, "lr": 0.0005, "monitor": false, "lr_schedule": null, "compress_observations": false, "input": "sampler", "straggler_mitigation": false, "input_evaluation": null, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "optimizer": {}, "vf_share_layers": false, "model": {"fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "fcnet_activation": "tanh", "dim": 84, "lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "channel_major": false, "conv_activation": "relu", "squash_to_range": false, "conv_filters": null, "zero_mean": true, "grayscale": false, "max_seq_len": 20, "free_log_std": false, "custom_preprocessor": null, "custom_options": {}, "use_lstm": false}, "clip_param": 0.3, "num_cpus_for_driver": 1, "synchronize_filters": true, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "output": null, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.3, 0.1]_t_min:10.0", "batch_mode": "truncate_episodes", "simple_optimizer": false, "sample_batch_size": 200, "collect_metrics_timeout": 180, "clip_rewards": null, "clip_actions": false, "kl_target": 0.01, "observation_filter": "NoFilter", "use_gae": true, "entropy_coeff": 0.0, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f945fc91dd8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f945fc91438>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f945fc91ba8>"}, "gamma": 0.99, "horizon": 1500, "num_gpus_per_worker": 0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "output_max_file_size": 67108864, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "num_gpus": 0, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}}, "timestamp": 1557231199, "episode_reward_max": 1049.270214441011, "episodes_this_iter": 17, "time_total_s": 814.5318052768707, "time_since_restore": 814.5318052768707}
{"timesteps_since_restore": 1366230, "done": false, "node_ip": "10.138.0.2", "pid": 10867, "date": "2019-05-07_12-13-43", "episode_reward_min": 43.06317597637224, "timesteps_this_iter": 41369, "training_iteration": 34, "episode_reward_mean": 903.0686029828811, "experiment_id": "a183ec7aedea427d9bacd699bea0cf75", "policy_reward_mean": {}, "iterations_since_restore": 34, "custom_metrics": {"cost2_min": -61.405621706446816, "outflow_rate_max": 1067.49652987013, "cost1_mean": 264.9600038918916, "cost2_mean": -46.37986332449113, "system_level_velocity_mean": 10.279370447144494, "cost1_max": 321.75940500857325, "cost1_min": 28.15354321840369, "cost2_max": -19.15349810213022, "outflow_rate_mean": 906.3586936495544, "system_level_velocity_min": 8.642849354257034, "outflow_rate_min": 332.7571298140349, "system_level_velocity_max": 18.765612455761552}, "info": {"num_steps_trained": 1366230, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.010990212671458721, "total_loss": 16.04318618774414, "vf_loss": 16.045560836791992, "policy_loss": -0.003200897015631199, "cur_kl_coeff": 0.07499999552965164, "vf_explained_var": 0.6057137250900269, "entropy": 1.1991333961486816}, "num_steps_sampled": 1366230, "load_time_ms": 13.105, "update_time_ms": 7.927, "grad_time_ms": 8763.975, "sample_time_ms": 13958.506}, "episode_len_mean": 686.93, "time_this_iter_s": 24.13753366470337, "num_metric_batches_dropped": 0, "timesteps_total": 1366230, "episodes_total": 560, "hostname": "flow-main", "config": {"custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "kl_coeff": 0.2, "train_batch_size": 30000, "log_level": "INFO", "num_workers": 20, "num_sgd_iter": 10, "lr": 0.0005, "monitor": false, "lr_schedule": null, "compress_observations": false, "input": "sampler", "straggler_mitigation": false, "input_evaluation": null, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "optimizer": {}, "vf_share_layers": false, "model": {"fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "fcnet_activation": "tanh", "dim": 84, "lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "channel_major": false, "conv_activation": "relu", "squash_to_range": false, "conv_filters": null, "zero_mean": true, "grayscale": false, "max_seq_len": 20, "free_log_std": false, "custom_preprocessor": null, "custom_options": {}, "use_lstm": false}, "clip_param": 0.3, "num_cpus_for_driver": 1, "synchronize_filters": true, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "output": null, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.3, 0.1]_t_min:10.0", "batch_mode": "truncate_episodes", "simple_optimizer": false, "sample_batch_size": 200, "collect_metrics_timeout": 180, "clip_rewards": null, "clip_actions": false, "kl_target": 0.01, "observation_filter": "NoFilter", "use_gae": true, "entropy_coeff": 0.0, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb4f588>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb4fe10>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb4fb38>"}, "gamma": 0.99, "horizon": 1500, "num_gpus_per_worker": 0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "output_max_file_size": 67108864, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "num_gpus": 0, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}}, "timestamp": 1557231223, "episode_reward_max": 1049.270214441011, "episodes_this_iter": 18, "time_total_s": 838.6693389415741, "time_since_restore": 838.6693389415741}
{"timesteps_since_restore": 1406805, "done": false, "node_ip": "10.138.0.2", "pid": 10867, "date": "2019-05-07_12-14-05", "episode_reward_min": 43.06317597637224, "timesteps_this_iter": 40575, "training_iteration": 35, "episode_reward_mean": 893.7385830218424, "experiment_id": "a183ec7aedea427d9bacd699bea0cf75", "policy_reward_mean": {}, "iterations_since_restore": 35, "custom_metrics": {"cost2_min": -61.405621706446816, "cost2_mean": -46.325746159478555, "cost1_mean": 262.8687341575556, "system_level_velocity_mean": 10.373350638063675, "cost1_max": 321.75940500857325, "cost1_min": 28.15354321840369, "cost2_max": -19.15349810213022, "outflow_rate_max": 1075.6276467532466, "system_level_velocity_min": 8.642849354257034, "outflow_rate_min": 332.7571298140349, "system_level_velocity_max": 18.765612455761552, "outflow_rate_mean": 900.3715231920105}, "info": {"num_steps_trained": 1406805, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.012105808593332767, "total_loss": 9.443833351135254, "vf_loss": 9.446694374084473, "policy_loss": -0.0037688259035348892, "cur_kl_coeff": 0.07499998807907104, "vf_explained_var": 0.7839916348457336, "entropy": 1.2032122611999512}, "num_steps_sampled": 1406805, "load_time_ms": 13.174, "update_time_ms": 7.915, "grad_time_ms": 8650.438, "sample_time_ms": 14138.773}, "episode_len_mean": 680.39, "time_this_iter_s": 22.442086935043335, "num_metric_batches_dropped": 0, "timesteps_total": 1406805, "episodes_total": 570, "hostname": "flow-main", "config": {"custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "kl_coeff": 0.2, "train_batch_size": 30000, "log_level": "INFO", "num_workers": 20, "num_sgd_iter": 10, "lr": 0.0005, "monitor": false, "lr_schedule": null, "compress_observations": false, "input": "sampler", "straggler_mitigation": false, "input_evaluation": null, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "optimizer": {}, "vf_share_layers": false, "model": {"fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "fcnet_activation": "tanh", "dim": 84, "lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "channel_major": false, "conv_activation": "relu", "squash_to_range": false, "conv_filters": null, "zero_mean": true, "grayscale": false, "max_seq_len": 20, "free_log_std": false, "custom_preprocessor": null, "custom_options": {}, "use_lstm": false}, "clip_param": 0.3, "num_cpus_for_driver": 1, "synchronize_filters": true, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "output": null, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.3, 0.1]_t_min:10.0", "batch_mode": "truncate_episodes", "simple_optimizer": false, "sample_batch_size": 200, "collect_metrics_timeout": 180, "clip_rewards": null, "clip_actions": false, "kl_target": 0.01, "observation_filter": "NoFilter", "use_gae": true, "entropy_coeff": 0.0, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb4c898>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb4cdd8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb4ccc0>"}, "gamma": 0.99, "horizon": 1500, "num_gpus_per_worker": 0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "output_max_file_size": 67108864, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "num_gpus": 0, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}}, "timestamp": 1557231245, "episode_reward_max": 1049.270214441011, "episodes_this_iter": 10, "time_total_s": 861.1114258766174, "time_since_restore": 861.1114258766174}
{"timesteps_since_restore": 1447380, "done": false, "node_ip": "10.138.0.2", "pid": 10867, "date": "2019-05-07_12-14-28", "episode_reward_min": 43.06317597637224, "timesteps_this_iter": 40575, "training_iteration": 36, "episode_reward_mean": 894.8147042876943, "experiment_id": "a183ec7aedea427d9bacd699bea0cf75", "policy_reward_mean": {}, "iterations_since_restore": 36, "custom_metrics": {"cost2_min": -62.598610014161395, "outflow_rate_max": 1112.9549246753247, "cost1_mean": 261.5717559955765, "cost2_mean": -46.5473424100528, "system_level_velocity_mean": 10.33185880241484, "cost1_max": 324.1240790663147, "cost1_min": 28.15354321840369, "cost2_max": -19.15349810213022, "outflow_rate_mean": 900.1205694257766, "system_level_velocity_min": 8.642849354257034, "outflow_rate_min": 332.7571298140349, "system_level_velocity_max": 18.765612455761552}, "info": {"num_steps_trained": 1447380, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.00984397903084755, "total_loss": 16.68391990661621, "vf_loss": 16.68613624572754, "policy_loss": -0.0029540450777858496, "cur_kl_coeff": 0.07499998807907104, "vf_explained_var": 0.6937600374221802, "entropy": 1.1985433101654053}, "num_steps_sampled": 1447380, "load_time_ms": 12.848, "update_time_ms": 7.744, "grad_time_ms": 8580.097, "sample_time_ms": 14150.343}, "episode_len_mean": 680.39, "time_this_iter_s": 22.174160718917847, "num_metric_batches_dropped": 0, "timesteps_total": 1447380, "episodes_total": 587, "hostname": "flow-main", "config": {"custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "kl_coeff": 0.2, "train_batch_size": 30000, "log_level": "INFO", "num_workers": 20, "num_sgd_iter": 10, "lr": 0.0005, "monitor": false, "lr_schedule": null, "compress_observations": false, "input": "sampler", "straggler_mitigation": false, "input_evaluation": null, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "optimizer": {}, "vf_share_layers": false, "model": {"fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "fcnet_activation": "tanh", "dim": 84, "lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "channel_major": false, "conv_activation": "relu", "squash_to_range": false, "conv_filters": null, "zero_mean": true, "grayscale": false, "max_seq_len": 20, "free_log_std": false, "custom_preprocessor": null, "custom_options": {}, "use_lstm": false}, "clip_param": 0.3, "num_cpus_for_driver": 1, "synchronize_filters": true, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "output": null, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.3, 0.1]_t_min:10.0", "batch_mode": "truncate_episodes", "simple_optimizer": false, "sample_batch_size": 200, "collect_metrics_timeout": 180, "clip_rewards": null, "clip_actions": false, "kl_target": 0.01, "observation_filter": "NoFilter", "use_gae": true, "entropy_coeff": 0.0, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb5dc88>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb5d4e0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb5d6a0>"}, "gamma": 0.99, "horizon": 1500, "num_gpus_per_worker": 0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "output_max_file_size": 67108864, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "num_gpus": 0, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}}, "timestamp": 1557231268, "episode_reward_max": 1049.270214441011, "episodes_this_iter": 17, "time_total_s": 883.2855865955353, "time_since_restore": 883.2855865955353}
{"timesteps_since_restore": 1488612, "done": false, "node_ip": "10.138.0.2", "pid": 10867, "date": "2019-05-07_12-14-56", "episode_reward_min": 43.06317597637224, "timesteps_this_iter": 41232, "training_iteration": 37, "episode_reward_mean": 901.0574503723107, "experiment_id": "a183ec7aedea427d9bacd699bea0cf75", "policy_reward_mean": {}, "iterations_since_restore": 37, "custom_metrics": {"cost2_min": -65.74280886164487, "outflow_rate_max": 1112.9549246753247, "cost1_mean": 262.16447942889664, "cost2_mean": -47.12814446329669, "system_level_velocity_mean": 10.356522525540267, "cost1_max": 324.1240790663147, "cost1_min": 28.15354321840369, "cost2_max": -19.15349810213022, "outflow_rate_mean": 900.4687058773254, "system_level_velocity_min": 8.642849354257034, "outflow_rate_min": 332.7571298140349, "system_level_velocity_max": 18.765612455761552}, "info": {"num_steps_trained": 1488612, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.008773929439485073, "total_loss": 18.52556610107422, "vf_loss": 18.52779769897461, "policy_loss": -0.002889529336243868, "cur_kl_coeff": 0.07499999552965164, "vf_explained_var": 0.7126400470733643, "entropy": 1.2163503170013428}, "num_steps_sampled": 1488612, "load_time_ms": 12.975, "update_time_ms": 7.669, "grad_time_ms": 9073.418, "sample_time_ms": 14247.734}, "episode_len_mean": 680.39, "time_this_iter_s": 28.388916969299316, "num_metric_batches_dropped": 0, "timesteps_total": 1488612, "episodes_total": 605, "hostname": "flow-main", "config": {"custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "kl_coeff": 0.2, "train_batch_size": 30000, "log_level": "INFO", "num_workers": 20, "num_sgd_iter": 10, "lr": 0.0005, "monitor": false, "lr_schedule": null, "compress_observations": false, "input": "sampler", "straggler_mitigation": false, "input_evaluation": null, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "optimizer": {}, "vf_share_layers": false, "model": {"fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "fcnet_activation": "tanh", "dim": 84, "lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "channel_major": false, "conv_activation": "relu", "squash_to_range": false, "conv_filters": null, "zero_mean": true, "grayscale": false, "max_seq_len": 20, "free_log_std": false, "custom_preprocessor": null, "custom_options": {}, "use_lstm": false}, "clip_param": 0.3, "num_cpus_for_driver": 1, "synchronize_filters": true, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "output": null, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.3, 0.1]_t_min:10.0", "batch_mode": "truncate_episodes", "simple_optimizer": false, "sample_batch_size": 200, "collect_metrics_timeout": 180, "clip_rewards": null, "clip_actions": false, "kl_target": 0.01, "observation_filter": "NoFilter", "use_gae": true, "entropy_coeff": 0.0, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb4fc18>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb4f0b8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb4f080>"}, "gamma": 0.99, "horizon": 1500, "num_gpus_per_worker": 0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "output_max_file_size": 67108864, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "num_gpus": 0, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}}, "timestamp": 1557231296, "episode_reward_max": 1089.3642554009343, "episodes_this_iter": 18, "time_total_s": 911.6745035648346, "time_since_restore": 911.6745035648346}
{"timesteps_since_restore": 1529059, "done": false, "node_ip": "10.138.0.2", "pid": 10867, "date": "2019-05-07_12-15-20", "episode_reward_min": 43.06317597637224, "timesteps_this_iter": 40447, "training_iteration": 38, "episode_reward_mean": 917.0601106681698, "experiment_id": "a183ec7aedea427d9bacd699bea0cf75", "policy_reward_mean": {}, "iterations_since_restore": 38, "custom_metrics": {"cost2_min": -66.7951501715801, "outflow_rate_max": 1112.9549246753247, "cost1_mean": 268.40447571678635, "cost2_mean": -49.328177291436134, "system_level_velocity_mean": 10.423813042437532, "cost1_max": 330.1532990386051, "cost1_min": 28.15354321840369, "cost2_max": -20.85989227397488, "outflow_rate_mean": 917.4201475661979, "system_level_velocity_min": 7.846371531037718, "outflow_rate_min": 336.6490541456901, "system_level_velocity_max": 18.765612455761552}, "info": {"num_steps_trained": 1529059, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.010051660239696503, "total_loss": 14.824845314025879, "vf_loss": 14.826863288879395, "policy_loss": -0.0027732369489967823, "cur_kl_coeff": 0.07499999552965164, "vf_explained_var": 0.7828081846237183, "entropy": 1.2052823305130005}, "num_steps_sampled": 1529059, "load_time_ms": 13.196, "update_time_ms": 7.674, "grad_time_ms": 9243.315, "sample_time_ms": 14209.514}, "episode_len_mean": 686.89, "time_this_iter_s": 23.666860342025757, "num_metric_batches_dropped": 0, "timesteps_total": 1529059, "episodes_total": 621, "hostname": "flow-main", "config": {"custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "kl_coeff": 0.2, "train_batch_size": 30000, "log_level": "INFO", "num_workers": 20, "num_sgd_iter": 10, "lr": 0.0005, "monitor": false, "lr_schedule": null, "compress_observations": false, "input": "sampler", "straggler_mitigation": false, "input_evaluation": null, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "optimizer": {}, "vf_share_layers": false, "model": {"fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "fcnet_activation": "tanh", "dim": 84, "lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "channel_major": false, "conv_activation": "relu", "squash_to_range": false, "conv_filters": null, "zero_mean": true, "grayscale": false, "max_seq_len": 20, "free_log_std": false, "custom_preprocessor": null, "custom_options": {}, "use_lstm": false}, "clip_param": 0.3, "num_cpus_for_driver": 1, "synchronize_filters": true, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "output": null, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.3, 0.1]_t_min:10.0", "batch_mode": "truncate_episodes", "simple_optimizer": false, "sample_batch_size": 200, "collect_metrics_timeout": 180, "clip_rewards": null, "clip_actions": false, "kl_target": 0.01, "observation_filter": "NoFilter", "use_gae": true, "entropy_coeff": 0.0, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb4fcf8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb4f198>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb4f8d0>"}, "gamma": 0.99, "horizon": 1500, "num_gpus_per_worker": 0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "output_max_file_size": 67108864, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "num_gpus": 0, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}}, "timestamp": 1557231320, "episode_reward_max": 1089.3642554009343, "episodes_this_iter": 16, "time_total_s": 935.3413639068604, "time_since_restore": 935.3413639068604}
{"timesteps_since_restore": 1569237, "done": false, "node_ip": "10.138.0.2", "pid": 10867, "date": "2019-05-07_12-15-43", "episode_reward_min": 50.47263277152834, "timesteps_this_iter": 40178, "training_iteration": 39, "episode_reward_mean": 938.799977890958, "experiment_id": "a183ec7aedea427d9bacd699bea0cf75", "policy_reward_mean": {}, "iterations_since_restore": 39, "custom_metrics": {"cost2_min": -66.7951501715801, "outflow_rate_max": 1155.0904199800198, "cost1_mean": 274.8155027010991, "cost2_mean": -51.36380677491998, "system_level_velocity_mean": 10.477888765004089, "cost1_max": 334.2699669012623, "cost1_min": 29.68033502841419, "cost2_max": -21.332543274710797, "outflow_rate_mean": 936.3403188291691, "system_level_velocity_min": 7.846371531037718, "outflow_rate_min": 336.6490541456901, "system_level_velocity_max": 18.233390173285212}, "info": {"num_steps_trained": 1569237, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.012126398272812366, "total_loss": 18.27025032043457, "vf_loss": 18.273042678833008, "policy_loss": -0.003701754380017519, "cur_kl_coeff": 0.07499999552965164, "vf_explained_var": 0.7440954446792603, "entropy": 1.1871825456619263}, "num_steps_sampled": 1569237, "load_time_ms": 13.224, "update_time_ms": 7.721, "grad_time_ms": 9383.542, "sample_time_ms": 14020.756}, "episode_len_mean": 693.46, "time_this_iter_s": 23.38867425918579, "num_metric_batches_dropped": 0, "timesteps_total": 1569237, "episodes_total": 640, "hostname": "flow-main", "config": {"custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "kl_coeff": 0.2, "train_batch_size": 30000, "log_level": "INFO", "num_workers": 20, "num_sgd_iter": 10, "lr": 0.0005, "monitor": false, "lr_schedule": null, "compress_observations": false, "input": "sampler", "straggler_mitigation": false, "input_evaluation": null, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "optimizer": {}, "vf_share_layers": false, "model": {"fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "fcnet_activation": "tanh", "dim": 84, "lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "channel_major": false, "conv_activation": "relu", "squash_to_range": false, "conv_filters": null, "zero_mean": true, "grayscale": false, "max_seq_len": 20, "free_log_std": false, "custom_preprocessor": null, "custom_options": {}, "use_lstm": false}, "clip_param": 0.3, "num_cpus_for_driver": 1, "synchronize_filters": true, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "output": null, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.3, 0.1]_t_min:10.0", "batch_mode": "truncate_episodes", "simple_optimizer": false, "sample_batch_size": 200, "collect_metrics_timeout": 180, "clip_rewards": null, "clip_actions": false, "kl_target": 0.01, "observation_filter": "NoFilter", "use_gae": true, "entropy_coeff": 0.0, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb4fb70>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb4ff28>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb4f748>"}, "gamma": 0.99, "horizon": 1500, "num_gpus_per_worker": 0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "output_max_file_size": 67108864, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "num_gpus": 0, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}}, "timestamp": 1557231343, "episode_reward_max": 1089.3642554009343, "episodes_this_iter": 19, "time_total_s": 958.7300381660461, "time_since_restore": 958.7300381660461}
{"timesteps_since_restore": 1609574, "done": false, "node_ip": "10.138.0.2", "pid": 10867, "date": "2019-05-07_12-16-07", "episode_reward_min": 50.47263277152834, "timesteps_this_iter": 40337, "training_iteration": 40, "episode_reward_mean": 942.6054239849622, "experiment_id": "a183ec7aedea427d9bacd699bea0cf75", "policy_reward_mean": {}, "iterations_since_restore": 40, "custom_metrics": {"cost2_min": -66.7951501715801, "cost2_mean": -51.60540750517202, "cost1_mean": 278.47705097460846, "system_level_velocity_mean": 10.612282701313811, "cost1_max": 334.2699669012623, "cost1_min": 29.68033502841419, "cost2_max": -21.332543274710797, "outflow_rate_max": 1155.0904199800198, "system_level_velocity_min": 7.846371531037718, "outflow_rate_min": 336.6490541456901, "system_level_velocity_max": 18.233390173285212, "outflow_rate_mean": 943.311834777221}, "info": {"num_steps_trained": 1609574, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.009989263489842415, "total_loss": 13.429407119750977, "vf_loss": 13.431967735290527, "policy_loss": -0.0033092491794377565, "cur_kl_coeff": 0.07499999552965164, "vf_explained_var": 0.8069829940795898, "entropy": 1.1816786527633667}, "num_steps_sampled": 1609574, "load_time_ms": 13.336, "update_time_ms": 7.824, "grad_time_ms": 9539.249, "sample_time_ms": 13858.244}, "episode_len_mean": 693.46, "time_this_iter_s": 23.71042251586914, "num_metric_batches_dropped": 0, "timesteps_total": 1609574, "episodes_total": 653, "hostname": "flow-main", "config": {"custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "kl_coeff": 0.2, "train_batch_size": 30000, "log_level": "INFO", "num_workers": 20, "num_sgd_iter": 10, "lr": 0.0005, "monitor": false, "lr_schedule": null, "compress_observations": false, "input": "sampler", "straggler_mitigation": false, "input_evaluation": null, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "optimizer": {}, "vf_share_layers": false, "model": {"fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "fcnet_activation": "tanh", "dim": 84, "lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "channel_major": false, "conv_activation": "relu", "squash_to_range": false, "conv_filters": null, "zero_mean": true, "grayscale": false, "max_seq_len": 20, "free_log_std": false, "custom_preprocessor": null, "custom_options": {}, "use_lstm": false}, "clip_param": 0.3, "num_cpus_for_driver": 1, "synchronize_filters": true, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "output": null, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.3, 0.1]_t_min:10.0", "batch_mode": "truncate_episodes", "simple_optimizer": false, "sample_batch_size": 200, "collect_metrics_timeout": 180, "clip_rewards": null, "clip_actions": false, "kl_target": 0.01, "observation_filter": "NoFilter", "use_gae": true, "entropy_coeff": 0.0, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb4f080>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb4f710>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb4f400>"}, "gamma": 0.99, "horizon": 1500, "num_gpus_per_worker": 0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "output_max_file_size": 67108864, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "num_gpus": 0, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}}, "timestamp": 1557231367, "episode_reward_max": 1089.3642554009343, "episodes_this_iter": 13, "time_total_s": 982.4404606819153, "time_since_restore": 982.4404606819153}
{"timesteps_since_restore": 1650083, "done": false, "node_ip": "10.138.0.2", "pid": 10867, "date": "2019-05-07_12-16-30", "episode_reward_min": 849.3626346955327, "timesteps_this_iter": 40509, "training_iteration": 41, "episode_reward_mean": 967.0401285891878, "experiment_id": "a183ec7aedea427d9bacd699bea0cf75", "policy_reward_mean": {}, "iterations_since_restore": 41, "custom_metrics": {"cost2_min": -66.7951501715801, "outflow_rate_max": 1155.0904199800198, "cost1_mean": 287.14253966570067, "cost2_mean": -51.59642309648562, "system_level_velocity_mean": 10.778204774878548, "cost1_max": 346.4314562886052, "cost1_min": 209.9964210695224, "cost2_max": -42.469840477260135, "outflow_rate_mean": 966.5687704455547, "system_level_velocity_min": 7.846371531037718, "outflow_rate_min": 783.7783376623375, "system_level_velocity_max": 13.189656061822463}, "info": {"num_steps_trained": 1650083, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.012107198126614094, "total_loss": 16.34339714050293, "vf_loss": 16.346092224121094, "policy_loss": -0.003601586213335395, "cur_kl_coeff": 0.07499998807907104, "vf_explained_var": 0.727726399898529, "entropy": 1.1640794277191162}, "num_steps_sampled": 1650083, "load_time_ms": 13.394, "update_time_ms": 7.661, "grad_time_ms": 9812.305, "sample_time_ms": 13741.227}, "episode_len_mean": 700.0, "time_this_iter_s": 23.604824542999268, "num_metric_batches_dropped": 0, "timesteps_total": 1650083, "episodes_total": 669, "hostname": "flow-main", "config": {"custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "kl_coeff": 0.2, "train_batch_size": 30000, "log_level": "INFO", "num_workers": 20, "num_sgd_iter": 10, "lr": 0.0005, "monitor": false, "lr_schedule": null, "compress_observations": false, "input": "sampler", "straggler_mitigation": false, "input_evaluation": null, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "optimizer": {}, "vf_share_layers": false, "model": {"fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "fcnet_activation": "tanh", "dim": 84, "lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "channel_major": false, "conv_activation": "relu", "squash_to_range": false, "conv_filters": null, "zero_mean": true, "grayscale": false, "max_seq_len": 20, "free_log_std": false, "custom_preprocessor": null, "custom_options": {}, "use_lstm": false}, "clip_param": 0.3, "num_cpus_for_driver": 1, "synchronize_filters": true, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "output": null, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.3, 0.1]_t_min:10.0", "batch_mode": "truncate_episodes", "simple_optimizer": false, "sample_batch_size": 200, "collect_metrics_timeout": 180, "clip_rewards": null, "clip_actions": false, "kl_target": 0.01, "observation_filter": "NoFilter", "use_gae": true, "entropy_coeff": 0.0, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f945fcf05f8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f946116fcf8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f946116f438>"}, "gamma": 0.99, "horizon": 1500, "num_gpus_per_worker": 0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "output_max_file_size": 67108864, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "num_gpus": 0, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}}, "timestamp": 1557231390, "episode_reward_max": 1096.0047686156595, "episodes_this_iter": 16, "time_total_s": 1006.0452852249146, "time_since_restore": 1006.0452852249146}
{"timesteps_since_restore": 1690329, "done": false, "node_ip": "10.138.0.2", "pid": 10867, "date": "2019-05-07_12-16-54", "episode_reward_min": 380.87657130691304, "timesteps_this_iter": 40246, "training_iteration": 42, "episode_reward_mean": 966.185785564038, "experiment_id": "a183ec7aedea427d9bacd699bea0cf75", "policy_reward_mean": {}, "iterations_since_restore": 42, "custom_metrics": {"cost2_min": -66.7951501715801, "outflow_rate_max": 1171.7088051948049, "cost1_mean": 288.4906183824058, "cost2_mean": -51.002636935999696, "system_level_velocity_mean": 10.922210133906725, "cost1_max": 348.2702033590478, "cost1_min": 144.0593140295956, "cost2_max": -36.688407664557545, "outflow_rate_mean": 971.9646793852938, "system_level_velocity_min": 7.846371531037718, "outflow_rate_min": 704.9877962716423, "system_level_velocity_max": 14.957588185905045}, "info": {"num_steps_trained": 1690329, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.01160088274627924, "total_loss": 15.98688793182373, "vf_loss": 15.989889144897461, "policy_loss": -0.0038728020153939724, "cur_kl_coeff": 0.07499999552965164, "vf_explained_var": 0.7850202322006226, "entropy": 1.1811039447784424}, "num_steps_sampled": 1690329, "load_time_ms": 13.589, "update_time_ms": 7.474, "grad_time_ms": 10131.024, "sample_time_ms": 13588.876}, "episode_len_mean": 695.56, "time_this_iter_s": 24.001856565475464, "num_metric_batches_dropped": 0, "timesteps_total": 1690329, "episodes_total": 686, "hostname": "flow-main", "config": {"custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "kl_coeff": 0.2, "train_batch_size": 30000, "log_level": "INFO", "num_workers": 20, "num_sgd_iter": 10, "lr": 0.0005, "monitor": false, "lr_schedule": null, "compress_observations": false, "input": "sampler", "straggler_mitigation": false, "input_evaluation": null, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "optimizer": {}, "vf_share_layers": false, "model": {"fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "fcnet_activation": "tanh", "dim": 84, "lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "channel_major": false, "conv_activation": "relu", "squash_to_range": false, "conv_filters": null, "zero_mean": true, "grayscale": false, "max_seq_len": 20, "free_log_std": false, "custom_preprocessor": null, "custom_options": {}, "use_lstm": false}, "clip_param": 0.3, "num_cpus_for_driver": 1, "synchronize_filters": true, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "output": null, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.3, 0.1]_t_min:10.0", "batch_mode": "truncate_episodes", "simple_optimizer": false, "sample_batch_size": 200, "collect_metrics_timeout": 180, "clip_rewards": null, "clip_actions": false, "kl_target": 0.01, "observation_filter": "NoFilter", "use_gae": true, "entropy_coeff": 0.0, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f945fcc6e48>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f945fc91080>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f945fcc6668>"}, "gamma": 0.99, "horizon": 1500, "num_gpus_per_worker": 0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "output_max_file_size": 67108864, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "num_gpus": 0, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}}, "timestamp": 1557231414, "episode_reward_max": 1107.6790448199088, "episodes_this_iter": 17, "time_total_s": 1030.04714179039, "time_since_restore": 1030.04714179039}
{"timesteps_since_restore": 1730354, "done": false, "node_ip": "10.138.0.2", "pid": 10867, "date": "2019-05-07_12-17-17", "episode_reward_min": 380.87657130691304, "timesteps_this_iter": 40025, "training_iteration": 43, "episode_reward_mean": 969.2770915838005, "experiment_id": "a183ec7aedea427d9bacd699bea0cf75", "policy_reward_mean": {}, "iterations_since_restore": 43, "custom_metrics": {"cost2_min": -66.7951501715801, "outflow_rate_max": 1171.7088051948049, "cost1_mean": 291.59049036288997, "cost2_mean": -50.05376369396442, "system_level_velocity_mean": 11.044898370109067, "cost1_max": 348.2702033590478, "cost1_min": 144.0593140295956, "cost2_max": -36.688407664557545, "outflow_rate_mean": 978.3867638927862, "system_level_velocity_min": 7.846371531037718, "outflow_rate_min": 704.9877962716423, "system_level_velocity_max": 14.957588185905045}, "info": {"num_steps_trained": 1730354, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.010241578333079815, "total_loss": 15.05610179901123, "vf_loss": 15.057936668395996, "policy_loss": -0.0026025199331343174, "cur_kl_coeff": 0.07499999552965164, "vf_explained_var": 0.8172601461410522, "entropy": 1.1696484088897705}, "num_steps_sampled": 1730354, "load_time_ms": 13.683, "update_time_ms": 7.515, "grad_time_ms": 10326.316, "sample_time_ms": 13405.007}, "episode_len_mean": 695.56, "time_this_iter_s": 22.84744882583618, "num_metric_batches_dropped": 0, "timesteps_total": 1730354, "episodes_total": 702, "hostname": "flow-main", "config": {"custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "kl_coeff": 0.2, "train_batch_size": 30000, "log_level": "INFO", "num_workers": 20, "num_sgd_iter": 10, "lr": 0.0005, "monitor": false, "lr_schedule": null, "compress_observations": false, "input": "sampler", "straggler_mitigation": false, "input_evaluation": null, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "optimizer": {}, "vf_share_layers": false, "model": {"fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "fcnet_activation": "tanh", "dim": 84, "lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "channel_major": false, "conv_activation": "relu", "squash_to_range": false, "conv_filters": null, "zero_mean": true, "grayscale": false, "max_seq_len": 20, "free_log_std": false, "custom_preprocessor": null, "custom_options": {}, "use_lstm": false}, "clip_param": 0.3, "num_cpus_for_driver": 1, "synchronize_filters": true, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "output": null, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.3, 0.1]_t_min:10.0", "batch_mode": "truncate_episodes", "simple_optimizer": false, "sample_batch_size": 200, "collect_metrics_timeout": 180, "clip_rewards": null, "clip_actions": false, "kl_target": 0.01, "observation_filter": "NoFilter", "use_gae": true, "entropy_coeff": 0.0, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb5d6a0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb5de48>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb5d978>"}, "gamma": 0.99, "horizon": 1500, "num_gpus_per_worker": 0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "output_max_file_size": 67108864, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "num_gpus": 0, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}}, "timestamp": 1557231437, "episode_reward_max": 1107.6790448199088, "episodes_this_iter": 16, "time_total_s": 1052.8945906162262, "time_since_restore": 1052.8945906162262}
{"timesteps_since_restore": 1771372, "done": false, "node_ip": "10.138.0.2", "pid": 10867, "date": "2019-05-07_12-17-40", "episode_reward_min": 177.40380453504068, "timesteps_this_iter": 41018, "training_iteration": 44, "episode_reward_mean": 966.2925208996869, "experiment_id": "a183ec7aedea427d9bacd699bea0cf75", "policy_reward_mean": {}, "iterations_since_restore": 44, "custom_metrics": {"cost2_min": -61.04877420278457, "outflow_rate_max": 1231.79802037962, "cost1_mean": 291.55449113366046, "cost2_mean": -47.56791931442287, "system_level_velocity_mean": 11.187368160459163, "cost1_max": 350.59886817558834, "cost1_min": 72.58109311972642, "cost2_max": -25.542575329915945, "outflow_rate_mean": 978.6188162210913, "system_level_velocity_min": 8.808669918360922, "outflow_rate_min": 417.55508817512566, "system_level_velocity_max": 16.006109190179128}, "info": {"num_steps_trained": 1771372, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.011583481915295124, "total_loss": 18.59585189819336, "vf_loss": 18.597986221313477, "policy_loss": -0.0030006214510649443, "cur_kl_coeff": 0.07499999552965164, "vf_explained_var": 0.7570091485977173, "entropy": 1.1401273012161255}, "num_steps_sampled": 1771372, "load_time_ms": 13.349, "update_time_ms": 7.737, "grad_time_ms": 10415.059, "sample_time_ms": 13202.906}, "episode_len_mean": 689.79, "time_this_iter_s": 23.017720460891724, "num_metric_batches_dropped": 0, "timesteps_total": 1771372, "episodes_total": 721, "hostname": "flow-main", "config": {"custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "kl_coeff": 0.2, "train_batch_size": 30000, "log_level": "INFO", "num_workers": 20, "num_sgd_iter": 10, "lr": 0.0005, "monitor": false, "lr_schedule": null, "compress_observations": false, "input": "sampler", "straggler_mitigation": false, "input_evaluation": null, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "optimizer": {}, "vf_share_layers": false, "model": {"fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "fcnet_activation": "tanh", "dim": 84, "lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "channel_major": false, "conv_activation": "relu", "squash_to_range": false, "conv_filters": null, "zero_mean": true, "grayscale": false, "max_seq_len": 20, "free_log_std": false, "custom_preprocessor": null, "custom_options": {}, "use_lstm": false}, "clip_param": 0.3, "num_cpus_for_driver": 1, "synchronize_filters": true, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "output": null, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.3, 0.1]_t_min:10.0", "batch_mode": "truncate_episodes", "simple_optimizer": false, "sample_batch_size": 200, "collect_metrics_timeout": 180, "clip_rewards": null, "clip_actions": false, "kl_target": 0.01, "observation_filter": "NoFilter", "use_gae": true, "entropy_coeff": 0.0, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f945fcd6710>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f945fcd65c0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f945fcb0fd0>"}, "gamma": 0.99, "horizon": 1500, "num_gpus_per_worker": 0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "output_max_file_size": 67108864, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "num_gpus": 0, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}}, "timestamp": 1557231460, "episode_reward_max": 1107.6790448199088, "episodes_this_iter": 19, "time_total_s": 1075.912311077118, "time_since_restore": 1075.912311077118}
{"timesteps_since_restore": 1812264, "done": false, "node_ip": "10.138.0.2", "pid": 10867, "date": "2019-05-07_12-18-03", "episode_reward_min": 58.517126838178704, "timesteps_this_iter": 40892, "training_iteration": 45, "episode_reward_mean": 958.3430434876651, "experiment_id": "a183ec7aedea427d9bacd699bea0cf75", "policy_reward_mean": {}, "iterations_since_restore": 45, "custom_metrics": {"cost2_min": -56.28527734713062, "cost2_mean": -46.05012428955463, "cost1_mean": 288.8755531854838, "system_level_velocity_mean": 11.25735236128731, "cost1_max": 350.59886817558834, "cost1_min": 32.619819838943066, "cost2_max": -21.826260953310236, "outflow_rate_max": 1231.79802037962, "system_level_velocity_min": 8.808669918360922, "outflow_rate_min": 332.7571298140349, "system_level_velocity_max": 17.96480499984952, "outflow_rate_mean": 971.5168367220286}, "info": {"num_steps_trained": 1812264, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.012094263918697834, "total_loss": 14.524596214294434, "vf_loss": 14.526985168457031, "policy_loss": -0.003294859081506729, "cur_kl_coeff": 0.07499998807907104, "vf_explained_var": 0.8274968266487122, "entropy": 1.141849160194397}, "num_steps_sampled": 1812264, "load_time_ms": 13.065, "update_time_ms": 8.221, "grad_time_ms": 10507.196, "sample_time_ms": 13125.86}, "episode_len_mean": 683.29, "time_this_iter_s": 22.586896181106567, "num_metric_batches_dropped": 0, "timesteps_total": 1812264, "episodes_total": 736, "hostname": "flow-main", "config": {"custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "kl_coeff": 0.2, "train_batch_size": 30000, "log_level": "INFO", "num_workers": 20, "num_sgd_iter": 10, "lr": 0.0005, "monitor": false, "lr_schedule": null, "compress_observations": false, "input": "sampler", "straggler_mitigation": false, "input_evaluation": null, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "optimizer": {}, "vf_share_layers": false, "model": {"fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "fcnet_activation": "tanh", "dim": 84, "lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "channel_major": false, "conv_activation": "relu", "squash_to_range": false, "conv_filters": null, "zero_mean": true, "grayscale": false, "max_seq_len": 20, "free_log_std": false, "custom_preprocessor": null, "custom_options": {}, "use_lstm": false}, "clip_param": 0.3, "num_cpus_for_driver": 1, "synchronize_filters": true, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "output": null, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.3, 0.1]_t_min:10.0", "batch_mode": "truncate_episodes", "simple_optimizer": false, "sample_batch_size": 200, "collect_metrics_timeout": 180, "clip_rewards": null, "clip_actions": false, "kl_target": 0.01, "observation_filter": "NoFilter", "use_gae": true, "entropy_coeff": 0.0, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb4f0b8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb4f748>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb4f080>"}, "gamma": 0.99, "horizon": 1500, "num_gpus_per_worker": 0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "output_max_file_size": 67108864, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "num_gpus": 0, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}}, "timestamp": 1557231483, "episode_reward_max": 1107.6790448199088, "episodes_this_iter": 15, "time_total_s": 1098.4992072582245, "time_since_restore": 1098.4992072582245}
{"timesteps_since_restore": 1853587, "done": false, "node_ip": "10.138.0.2", "pid": 10867, "date": "2019-05-07_12-18-26", "episode_reward_min": 58.517126838178704, "timesteps_this_iter": 41323, "training_iteration": 46, "episode_reward_mean": 967.137533250288, "experiment_id": "a183ec7aedea427d9bacd699bea0cf75", "policy_reward_mean": {}, "iterations_since_restore": 46, "custom_metrics": {"cost2_min": -62.133175586970616, "outflow_rate_max": 1231.79802037962, "cost1_mean": 293.17547076138015, "cost2_mean": -46.99924766887555, "system_level_velocity_mean": 11.419139052737796, "cost1_max": 350.59886817558834, "cost1_min": 32.619819838943066, "cost2_max": -21.826260953310236, "outflow_rate_mean": 982.0620654932573, "system_level_velocity_min": 8.808669918360922, "outflow_rate_min": 332.7571298140349, "system_level_velocity_max": 17.96480499984952}, "info": {"num_steps_trained": 1853587, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.012498517520725727, "total_loss": 14.598933219909668, "vf_loss": 14.600587844848633, "policy_loss": -0.002592532429844141, "cur_kl_coeff": 0.07499999552965164, "vf_explained_var": 0.8369314074516296, "entropy": 1.1361202001571655}, "num_steps_sampled": 1853587, "load_time_ms": 13.327, "update_time_ms": 8.419, "grad_time_ms": 10621.469, "sample_time_ms": 13098.056}, "episode_len_mean": 683.29, "time_this_iter_s": 23.03857421875, "num_metric_batches_dropped": 0, "timesteps_total": 1853587, "episodes_total": 754, "hostname": "flow-main", "config": {"custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "kl_coeff": 0.2, "train_batch_size": 30000, "log_level": "INFO", "num_workers": 20, "num_sgd_iter": 10, "lr": 0.0005, "monitor": false, "lr_schedule": null, "compress_observations": false, "input": "sampler", "straggler_mitigation": false, "input_evaluation": null, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "optimizer": {}, "vf_share_layers": false, "model": {"fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "fcnet_activation": "tanh", "dim": 84, "lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "channel_major": false, "conv_activation": "relu", "squash_to_range": false, "conv_filters": null, "zero_mean": true, "grayscale": false, "max_seq_len": 20, "free_log_std": false, "custom_preprocessor": null, "custom_options": {}, "use_lstm": false}, "clip_param": 0.3, "num_cpus_for_driver": 1, "synchronize_filters": true, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "output": null, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.3, 0.1]_t_min:10.0", "batch_mode": "truncate_episodes", "simple_optimizer": false, "sample_batch_size": 200, "collect_metrics_timeout": 180, "clip_rewards": null, "clip_actions": false, "kl_target": 0.01, "observation_filter": "NoFilter", "use_gae": true, "entropy_coeff": 0.0, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f946116f518>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f946116ff98>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f946116fe80>"}, "gamma": 0.99, "horizon": 1500, "num_gpus_per_worker": 0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "output_max_file_size": 67108864, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "num_gpus": 0, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}}, "timestamp": 1557231506, "episode_reward_max": 1107.6790448199088, "episodes_this_iter": 18, "time_total_s": 1121.5377814769745, "time_since_restore": 1121.5377814769745}
{"timesteps_since_restore": 1894810, "done": false, "node_ip": "10.138.0.2", "pid": 10867, "date": "2019-05-07_12-18-49", "episode_reward_min": 58.517126838178704, "timesteps_this_iter": 41223, "training_iteration": 47, "episode_reward_mean": 968.5815374686397, "experiment_id": "a183ec7aedea427d9bacd699bea0cf75", "policy_reward_mean": {}, "iterations_since_restore": 47, "custom_metrics": {"cost2_min": -62.133175586970616, "outflow_rate_max": 1231.79802037962, "cost1_mean": 292.6405697229105, "cost2_mean": -46.96672067210703, "system_level_velocity_mean": 11.394414353727065, "cost1_max": 350.59886817558834, "cost1_min": 32.619819838943066, "cost2_max": -21.826260953310236, "outflow_rate_mean": 976.8593286261245, "system_level_velocity_min": 8.808669918360922, "outflow_rate_min": 332.7571298140349, "system_level_velocity_max": 17.96480499984952}, "info": {"num_steps_trained": 1894810, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.011433076113462448, "total_loss": 14.119959831237793, "vf_loss": 14.122340202331543, "policy_loss": -0.0032380796037614346, "cur_kl_coeff": 0.07499999552965164, "vf_explained_var": 0.8421836495399475, "entropy": 1.1237868070602417}, "num_steps_sampled": 1894810, "load_time_ms": 12.704, "update_time_ms": 8.365, "grad_time_ms": 10283.056, "sample_time_ms": 12904.948}, "episode_len_mean": 683.29, "time_this_iter_s": 23.055530548095703, "num_metric_batches_dropped": 0, "timesteps_total": 1894810, "episodes_total": 770, "hostname": "flow-main", "config": {"custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "kl_coeff": 0.2, "train_batch_size": 30000, "log_level": "INFO", "num_workers": 20, "num_sgd_iter": 10, "lr": 0.0005, "monitor": false, "lr_schedule": null, "compress_observations": false, "input": "sampler", "straggler_mitigation": false, "input_evaluation": null, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "optimizer": {}, "vf_share_layers": false, "model": {"fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "fcnet_activation": "tanh", "dim": 84, "lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "channel_major": false, "conv_activation": "relu", "squash_to_range": false, "conv_filters": null, "zero_mean": true, "grayscale": false, "max_seq_len": 20, "free_log_std": false, "custom_preprocessor": null, "custom_options": {}, "use_lstm": false}, "clip_param": 0.3, "num_cpus_for_driver": 1, "synchronize_filters": true, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "output": null, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.3, 0.1]_t_min:10.0", "batch_mode": "truncate_episodes", "simple_optimizer": false, "sample_batch_size": 200, "collect_metrics_timeout": 180, "clip_rewards": null, "clip_actions": false, "kl_target": 0.01, "observation_filter": "NoFilter", "use_gae": true, "entropy_coeff": 0.0, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f945fcd64a8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f945fcd6e48>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f945fcd69b0>"}, "gamma": 0.99, "horizon": 1500, "num_gpus_per_worker": 0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "output_max_file_size": 67108864, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "num_gpus": 0, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}}, "timestamp": 1557231529, "episode_reward_max": 1107.6790448199088, "episodes_this_iter": 16, "time_total_s": 1144.5933120250702, "time_since_restore": 1144.5933120250702}
{"timesteps_since_restore": 1934679, "done": false, "node_ip": "10.138.0.2", "pid": 10867, "date": "2019-05-07_12-19-12", "episode_reward_min": 45.64596317177282, "timesteps_this_iter": 39869, "training_iteration": 48, "episode_reward_mean": 963.2707045269844, "experiment_id": "a183ec7aedea427d9bacd699bea0cf75", "policy_reward_mean": {}, "iterations_since_restore": 48, "custom_metrics": {"cost2_min": -62.133175586970616, "outflow_rate_max": 1231.79802037962, "cost1_mean": 291.54816749020233, "cost2_mean": -46.143196284860196, "system_level_velocity_mean": 11.622995907793129, "cost1_max": 350.59886817558834, "cost1_min": 28.418459393014082, "cost2_max": -21.142014296858285, "outflow_rate_mean": 968.0676737486402, "system_level_velocity_min": 8.883770883200725, "outflow_rate_min": 332.7571298140349, "system_level_velocity_max": 19.16312337519415}, "info": {"num_steps_trained": 1934679, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.015567902475595474, "total_loss": 14.142505645751953, "vf_loss": 14.146697998046875, "policy_loss": -0.005360093433409929, "cur_kl_coeff": 0.07499998807907104, "vf_explained_var": 0.8562678694725037, "entropy": 1.11630117893219}, "num_steps_sampled": 1934679, "load_time_ms": 12.401, "update_time_ms": 8.448, "grad_time_ms": 10253.186, "sample_time_ms": 12820.143}, "episode_len_mean": 674.63, "time_this_iter_s": 22.505369186401367, "num_metric_batches_dropped": 0, "timesteps_total": 1934679, "episodes_total": 786, "hostname": "flow-main", "config": {"custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "kl_coeff": 0.2, "train_batch_size": 30000, "log_level": "INFO", "num_workers": 20, "num_sgd_iter": 10, "lr": 0.0005, "monitor": false, "lr_schedule": null, "compress_observations": false, "input": "sampler", "straggler_mitigation": false, "input_evaluation": null, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "optimizer": {}, "vf_share_layers": false, "model": {"fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "fcnet_activation": "tanh", "dim": 84, "lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "channel_major": false, "conv_activation": "relu", "squash_to_range": false, "conv_filters": null, "zero_mean": true, "grayscale": false, "max_seq_len": 20, "free_log_std": false, "custom_preprocessor": null, "custom_options": {}, "use_lstm": false}, "clip_param": 0.3, "num_cpus_for_driver": 1, "synchronize_filters": true, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "output": null, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.3, 0.1]_t_min:10.0", "batch_mode": "truncate_episodes", "simple_optimizer": false, "sample_batch_size": 200, "collect_metrics_timeout": 180, "clip_rewards": null, "clip_actions": false, "kl_target": 0.01, "observation_filter": "NoFilter", "use_gae": true, "entropy_coeff": 0.0, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f9461170cf8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f94611700f0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f9461170400>"}, "gamma": 0.99, "horizon": 1500, "num_gpus_per_worker": 0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "output_max_file_size": 67108864, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "num_gpus": 0, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}}, "timestamp": 1557231552, "episode_reward_max": 1101.9592982911472, "episodes_this_iter": 16, "time_total_s": 1167.0986812114716, "time_since_restore": 1167.0986812114716}
{"timesteps_since_restore": 1975877, "done": false, "node_ip": "10.138.0.2", "pid": 10867, "date": "2019-05-07_12-19-35", "episode_reward_min": 45.64596317177282, "timesteps_this_iter": 41198, "training_iteration": 49, "episode_reward_mean": 969.6656790177981, "experiment_id": "a183ec7aedea427d9bacd699bea0cf75", "policy_reward_mean": {}, "iterations_since_restore": 49, "custom_metrics": {"cost2_min": -62.133175586970616, "outflow_rate_max": 1231.79802037962, "cost1_mean": 294.8772326050263, "cost2_mean": -47.31412338177851, "system_level_velocity_mean": 11.756687650983874, "cost1_max": 350.59886817558834, "cost1_min": 28.418459393014082, "cost2_max": -21.142014296858285, "outflow_rate_mean": 975.9562682381505, "system_level_velocity_min": 8.883770883200725, "outflow_rate_min": 332.7571298140349, "system_level_velocity_max": 19.16312337519415}, "info": {"num_steps_trained": 1975877, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.010774027556180954, "total_loss": 15.012534141540527, "vf_loss": 15.015625, "policy_loss": -0.00390008301474154, "cur_kl_coeff": 0.07499998807907104, "vf_explained_var": 0.8483282923698425, "entropy": 1.1066811084747314}, "num_steps_sampled": 1975877, "load_time_ms": 12.237, "update_time_ms": 8.481, "grad_time_ms": 10281.486, "sample_time_ms": 12797.425}, "episode_len_mean": 674.63, "time_this_iter_s": 23.440704584121704, "num_metric_batches_dropped": 0, "timesteps_total": 1975877, "episodes_total": 805, "hostname": "flow-main", "config": {"custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "kl_coeff": 0.2, "train_batch_size": 30000, "log_level": "INFO", "num_workers": 20, "num_sgd_iter": 10, "lr": 0.0005, "monitor": false, "lr_schedule": null, "compress_observations": false, "input": "sampler", "straggler_mitigation": false, "input_evaluation": null, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "optimizer": {}, "vf_share_layers": false, "model": {"fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "fcnet_activation": "tanh", "dim": 84, "lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "channel_major": false, "conv_activation": "relu", "squash_to_range": false, "conv_filters": null, "zero_mean": true, "grayscale": false, "max_seq_len": 20, "free_log_std": false, "custom_preprocessor": null, "custom_options": {}, "use_lstm": false}, "clip_param": 0.3, "num_cpus_for_driver": 1, "synchronize_filters": true, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "output": null, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.3, 0.1]_t_min:10.0", "batch_mode": "truncate_episodes", "simple_optimizer": false, "sample_batch_size": 200, "collect_metrics_timeout": 180, "clip_rewards": null, "clip_actions": false, "kl_target": 0.01, "observation_filter": "NoFilter", "use_gae": true, "entropy_coeff": 0.0, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f946116f4a8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f946116f748>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f946116f390>"}, "gamma": 0.99, "horizon": 1500, "num_gpus_per_worker": 0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "output_max_file_size": 67108864, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "num_gpus": 0, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}}, "timestamp": 1557231575, "episode_reward_max": 1113.9048984951444, "episodes_this_iter": 19, "time_total_s": 1190.5393857955933, "time_since_restore": 1190.5393857955933}
{"timesteps_since_restore": 2015955, "done": false, "node_ip": "10.138.0.2", "pid": 10867, "date": "2019-05-07_12-19-59", "episode_reward_min": 43.68908301446364, "timesteps_this_iter": 40078, "training_iteration": 50, "episode_reward_mean": 974.6944890872597, "experiment_id": "a183ec7aedea427d9bacd699bea0cf75", "policy_reward_mean": {}, "iterations_since_restore": 50, "custom_metrics": {"cost2_min": -63.306677212045116, "cost2_mean": -49.18586619596139, "cost1_mean": 293.99316920576626, "system_level_velocity_mean": 11.765613186537026, "cost1_max": 343.10238402869527, "cost1_min": 28.418459393014082, "cost2_max": -21.142014296858285, "outflow_rate_max": 1168.3503136863137, "system_level_velocity_min": 8.883770883200725, "outflow_rate_min": 332.7571298140349, "system_level_velocity_max": 19.343923626557373, "outflow_rate_mean": 971.3207476817086}, "info": {"num_steps_trained": 2015955, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.012478378601372242, "total_loss": 15.220152854919434, "vf_loss": 15.22386646270752, "policy_loss": -0.004653258249163628, "cur_kl_coeff": 0.07499999552965164, "vf_explained_var": 0.8621032238006592, "entropy": 1.1073498725891113}, "num_steps_sampled": 2015955, "load_time_ms": 12.188, "update_time_ms": 8.334, "grad_time_ms": 10248.937, "sample_time_ms": 12848.16}, "episode_len_mean": 673.84, "time_this_iter_s": 23.887788772583008, "num_metric_batches_dropped": 0, "timesteps_total": 2015955, "episodes_total": 823, "hostname": "flow-main", "config": {"custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "kl_coeff": 0.2, "train_batch_size": 30000, "log_level": "INFO", "num_workers": 20, "num_sgd_iter": 10, "lr": 0.0005, "monitor": false, "lr_schedule": null, "compress_observations": false, "input": "sampler", "straggler_mitigation": false, "input_evaluation": null, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "optimizer": {}, "vf_share_layers": false, "model": {"fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "fcnet_activation": "tanh", "dim": 84, "lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "channel_major": false, "conv_activation": "relu", "squash_to_range": false, "conv_filters": null, "zero_mean": true, "grayscale": false, "max_seq_len": 20, "free_log_std": false, "custom_preprocessor": null, "custom_options": {}, "use_lstm": false}, "clip_param": 0.3, "num_cpus_for_driver": 1, "synchronize_filters": true, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "output": null, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.3, 0.1]_t_min:10.0", "batch_mode": "truncate_episodes", "simple_optimizer": false, "sample_batch_size": 200, "collect_metrics_timeout": 180, "clip_rewards": null, "clip_actions": false, "kl_target": 0.01, "observation_filter": "NoFilter", "use_gae": true, "entropy_coeff": 0.0, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f945fcf0208>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f945fcf0b00>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f945fcf09b0>"}, "gamma": 0.99, "horizon": 1500, "num_gpus_per_worker": 0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "output_max_file_size": 67108864, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "num_gpus": 0, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}}, "timestamp": 1557231599, "episode_reward_max": 1117.1523129814686, "episodes_this_iter": 18, "time_total_s": 1214.4271745681763, "time_since_restore": 1214.4271745681763}
{"timesteps_since_restore": 2055859, "done": false, "node_ip": "10.138.0.2", "pid": 10867, "date": "2019-05-07_12-20-22", "episode_reward_min": 43.68908301446364, "timesteps_this_iter": 39904, "training_iteration": 51, "episode_reward_mean": 994.4859145653751, "experiment_id": "a183ec7aedea427d9bacd699bea0cf75", "policy_reward_mean": {}, "iterations_since_restore": 51, "custom_metrics": {"cost2_min": -63.306677212045116, "outflow_rate_max": 1168.3503136863137, "cost1_mean": 299.9296958536886, "cost2_mean": -50.3964506701742, "system_level_velocity_mean": 11.828659600493914, "cost1_max": 343.44102307363323, "cost1_min": 28.418459393014082, "cost2_max": -21.142014296858285, "outflow_rate_mean": 992.602761054897, "system_level_velocity_min": 9.521161216725286, "outflow_rate_min": 335.6139678872712, "system_level_velocity_max": 19.343923626557373}, "info": {"num_steps_trained": 2055859, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.010248871520161629, "total_loss": 13.896248817443848, "vf_loss": 13.898988723754883, "policy_loss": -0.00350822857581079, "cur_kl_coeff": 0.07499998807907104, "vf_explained_var": 0.852932333946228, "entropy": 1.0919597148895264}, "num_steps_sampled": 2055859, "load_time_ms": 11.96, "update_time_ms": 8.313, "grad_time_ms": 10229.8, "sample_time_ms": 12833.424}, "episode_len_mean": 680.34, "time_this_iter_s": 23.24758005142212, "num_metric_batches_dropped": 0, "timesteps_total": 2055859, "episodes_total": 839, "hostname": "flow-main", "config": {"custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "kl_coeff": 0.2, "train_batch_size": 30000, "log_level": "INFO", "num_workers": 20, "num_sgd_iter": 10, "lr": 0.0005, "monitor": false, "lr_schedule": null, "compress_observations": false, "input": "sampler", "straggler_mitigation": false, "input_evaluation": null, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "optimizer": {}, "vf_share_layers": false, "model": {"fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "fcnet_activation": "tanh", "dim": 84, "lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "channel_major": false, "conv_activation": "relu", "squash_to_range": false, "conv_filters": null, "zero_mean": true, "grayscale": false, "max_seq_len": 20, "free_log_std": false, "custom_preprocessor": null, "custom_options": {}, "use_lstm": false}, "clip_param": 0.3, "num_cpus_for_driver": 1, "synchronize_filters": true, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "output": null, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.3, 0.1]_t_min:10.0", "batch_mode": "truncate_episodes", "simple_optimizer": false, "sample_batch_size": 200, "collect_metrics_timeout": 180, "clip_rewards": null, "clip_actions": false, "kl_target": 0.01, "observation_filter": "NoFilter", "use_gae": true, "entropy_coeff": 0.0, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb549e8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb4f898>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb4f208>"}, "gamma": 0.99, "horizon": 1500, "num_gpus_per_worker": 0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "output_max_file_size": 67108864, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "num_gpus": 0, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}}, "timestamp": 1557231622, "episode_reward_max": 1127.0066858103498, "episodes_this_iter": 16, "time_total_s": 1237.6747546195984, "time_since_restore": 1237.6747546195984}
{"timesteps_since_restore": 2095778, "done": false, "node_ip": "10.138.0.2", "pid": 10867, "date": "2019-05-07_12-20-46", "episode_reward_min": 43.68908301446364, "timesteps_this_iter": 39919, "training_iteration": 52, "episode_reward_mean": 1000.7603401452433, "experiment_id": "a183ec7aedea427d9bacd699bea0cf75", "policy_reward_mean": {}, "iterations_since_restore": 52, "custom_metrics": {"cost2_min": -63.306677212045116, "outflow_rate_max": 1221.460475124875, "cost1_mean": 303.7095757233066, "cost2_mean": -50.14260556316303, "system_level_velocity_mean": 12.00418595088626, "cost1_max": 356.8409649929757, "cost1_min": 28.418459393014082, "cost2_max": -21.142014296858285, "outflow_rate_mean": 1005.07553583212, "system_level_velocity_min": 9.521161216725286, "outflow_rate_min": 335.6139678872712, "system_level_velocity_max": 19.343923626557373}, "info": {"num_steps_trained": 2095778, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.016213534399867058, "total_loss": 13.044402122497559, "vf_loss": 13.04842758178711, "policy_loss": -0.005242238752543926, "cur_kl_coeff": 0.07499998807907104, "vf_explained_var": 0.8781428933143616, "entropy": 1.1020361185073853}, "num_steps_sampled": 2095778, "load_time_ms": 11.374, "update_time_ms": 8.349, "grad_time_ms": 10160.354, "sample_time_ms": 12871.726}, "episode_len_mean": 680.34, "time_this_iter_s": 23.67495894432068, "num_metric_batches_dropped": 0, "timesteps_total": 2095778, "episodes_total": 854, "hostname": "flow-main", "config": {"custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "kl_coeff": 0.2, "train_batch_size": 30000, "log_level": "INFO", "num_workers": 20, "num_sgd_iter": 10, "lr": 0.0005, "monitor": false, "lr_schedule": null, "compress_observations": false, "input": "sampler", "straggler_mitigation": false, "input_evaluation": null, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "optimizer": {}, "vf_share_layers": false, "model": {"fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "fcnet_activation": "tanh", "dim": 84, "lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "channel_major": false, "conv_activation": "relu", "squash_to_range": false, "conv_filters": null, "zero_mean": true, "grayscale": false, "max_seq_len": 20, "free_log_std": false, "custom_preprocessor": null, "custom_options": {}, "use_lstm": false}, "clip_param": 0.3, "num_cpus_for_driver": 1, "synchronize_filters": true, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "output": null, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.3, 0.1]_t_min:10.0", "batch_mode": "truncate_episodes", "simple_optimizer": false, "sample_batch_size": 200, "collect_metrics_timeout": 180, "clip_rewards": null, "clip_actions": false, "kl_target": 0.01, "observation_filter": "NoFilter", "use_gae": true, "entropy_coeff": 0.0, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f9461170dd8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f9461170668>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f94611701d0>"}, "gamma": 0.99, "horizon": 1500, "num_gpus_per_worker": 0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "output_max_file_size": 67108864, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "num_gpus": 0, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}}, "timestamp": 1557231646, "episode_reward_max": 1143.9980217424431, "episodes_this_iter": 15, "time_total_s": 1261.349713563919, "time_since_restore": 1261.349713563919}
{"timesteps_since_restore": 2135581, "done": false, "node_ip": "10.138.0.2", "pid": 10867, "date": "2019-05-07_12-21-10", "episode_reward_min": 43.68908301446364, "timesteps_this_iter": 39803, "training_iteration": 53, "episode_reward_mean": 1005.6945418066006, "experiment_id": "a183ec7aedea427d9bacd699bea0cf75", "policy_reward_mean": {}, "iterations_since_restore": 53, "custom_metrics": {"cost2_min": -67.53752828641473, "outflow_rate_max": 1239.7907584415586, "cost1_mean": 309.19789372572245, "cost2_mean": -51.16017676792106, "system_level_velocity_mean": 12.24365613130054, "cost1_max": 363.2040954141221, "cost1_min": 28.418459393014082, "cost2_max": -21.142014296858285, "outflow_rate_mean": 1027.1153342936582, "system_level_velocity_min": 9.521161216725286, "outflow_rate_min": 335.6139678872712, "system_level_velocity_max": 19.343923626557373}, "info": {"num_steps_trained": 2135581, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.011910559609532356, "total_loss": 15.895720481872559, "vf_loss": 15.8982515335083, "policy_loss": -0.0034247352741658688, "cur_kl_coeff": 0.07499999552965164, "vf_explained_var": 0.8668360710144043, "entropy": 1.120930552482605}, "num_steps_sampled": 2135581, "load_time_ms": 11.274, "update_time_ms": 8.343, "grad_time_ms": 10129.47, "sample_time_ms": 13006.964}, "episode_len_mean": 680.34, "time_this_iter_s": 23.883005380630493, "num_metric_batches_dropped": 0, "timesteps_total": 2135581, "episodes_total": 870, "hostname": "flow-main", "config": {"custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "kl_coeff": 0.2, "train_batch_size": 30000, "log_level": "INFO", "num_workers": 20, "num_sgd_iter": 10, "lr": 0.0005, "monitor": false, "lr_schedule": null, "compress_observations": false, "input": "sampler", "straggler_mitigation": false, "input_evaluation": null, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "optimizer": {}, "vf_share_layers": false, "model": {"fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "fcnet_activation": "tanh", "dim": 84, "lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "channel_major": false, "conv_activation": "relu", "squash_to_range": false, "conv_filters": null, "zero_mean": true, "grayscale": false, "max_seq_len": 20, "free_log_std": false, "custom_preprocessor": null, "custom_options": {}, "use_lstm": false}, "clip_param": 0.3, "num_cpus_for_driver": 1, "synchronize_filters": true, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "output": null, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.3, 0.1]_t_min:10.0", "batch_mode": "truncate_episodes", "simple_optimizer": false, "sample_batch_size": 200, "collect_metrics_timeout": 180, "clip_rewards": null, "clip_actions": false, "kl_target": 0.01, "observation_filter": "NoFilter", "use_gae": true, "entropy_coeff": 0.0, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f946116f630>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f946116f4e0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f946116f4a8>"}, "gamma": 0.99, "horizon": 1500, "num_gpus_per_worker": 0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "output_max_file_size": 67108864, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "num_gpus": 0, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}}, "timestamp": 1557231670, "episode_reward_max": 1143.9980217424431, "episodes_this_iter": 16, "time_total_s": 1285.2327189445496, "time_since_restore": 1285.2327189445496}
{"timesteps_since_restore": 2174696, "done": false, "node_ip": "10.138.0.2", "pid": 10867, "date": "2019-05-07_12-21-31", "episode_reward_min": 43.68908301446364, "timesteps_this_iter": 39115, "training_iteration": 54, "episode_reward_mean": 1031.6567031138593, "experiment_id": "a183ec7aedea427d9bacd699bea0cf75", "policy_reward_mean": {}, "iterations_since_restore": 54, "custom_metrics": {"cost2_min": -67.53752828641473, "outflow_rate_max": 1258.6548051948055, "cost1_mean": 319.77103222127676, "cost2_mean": -53.28253022470617, "system_level_velocity_mean": 12.304027271344523, "cost1_max": 363.2040954141221, "cost1_min": 29.36548141355829, "cost2_max": -23.8603339190704, "outflow_rate_mean": 1061.0704961794552, "system_level_velocity_min": 9.521161216725286, "outflow_rate_min": 338.86037478867604, "system_level_velocity_max": 19.343923626557373}, "info": {"num_steps_trained": 2174696, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.01357563491910696, "total_loss": 14.620765686035156, "vf_loss": 14.623650550842285, "policy_loss": -0.0039046236779540777, "cur_kl_coeff": 0.07499999552965164, "vf_explained_var": 0.8931026458740234, "entropy": 1.1145455837249756}, "num_steps_sampled": 2174696, "load_time_ms": 11.208, "update_time_ms": 8.055, "grad_time_ms": 10029.471, "sample_time_ms": 12946.025}, "episode_len_mean": 693.44, "time_this_iter_s": 21.381091356277466, "num_metric_batches_dropped": 0, "timesteps_total": 2174696, "episodes_total": 887, "hostname": "flow-main", "config": {"custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "kl_coeff": 0.2, "train_batch_size": 30000, "log_level": "INFO", "num_workers": 20, "num_sgd_iter": 10, "lr": 0.0005, "monitor": false, "lr_schedule": null, "compress_observations": false, "input": "sampler", "straggler_mitigation": false, "input_evaluation": null, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "optimizer": {}, "vf_share_layers": false, "model": {"fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "fcnet_activation": "tanh", "dim": 84, "lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "channel_major": false, "conv_activation": "relu", "squash_to_range": false, "conv_filters": null, "zero_mean": true, "grayscale": false, "max_seq_len": 20, "free_log_std": false, "custom_preprocessor": null, "custom_options": {}, "use_lstm": false}, "clip_param": 0.3, "num_cpus_for_driver": 1, "synchronize_filters": true, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "output": null, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.3, 0.1]_t_min:10.0", "batch_mode": "truncate_episodes", "simple_optimizer": false, "sample_batch_size": 200, "collect_metrics_timeout": 180, "clip_rewards": null, "clip_actions": false, "kl_target": 0.01, "observation_filter": "NoFilter", "use_gae": true, "entropy_coeff": 0.0, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb4fb70>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb4fac8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb4f2b0>"}, "gamma": 0.99, "horizon": 1500, "num_gpus_per_worker": 0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "output_max_file_size": 67108864, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "num_gpus": 0, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}}, "timestamp": 1557231691, "episode_reward_max": 1143.9980217424431, "episodes_this_iter": 17, "time_total_s": 1306.613810300827, "time_since_restore": 1306.613810300827}
{"timesteps_since_restore": 2213174, "done": false, "node_ip": "10.138.0.2", "pid": 10867, "date": "2019-05-07_12-21-55", "episode_reward_min": 43.68908301446364, "timesteps_this_iter": 38478, "training_iteration": 55, "episode_reward_mean": 1037.8158272988717, "experiment_id": "a183ec7aedea427d9bacd699bea0cf75", "policy_reward_mean": {}, "iterations_since_restore": 55, "custom_metrics": {"cost2_min": -67.53752828641473, "outflow_rate_max": 1259.5251896103896, "cost1_mean": 324.07555192090894, "cost2_mean": -53.48387531076, "system_level_velocity_mean": 12.488171885312877, "cost1_max": 363.2040954141221, "cost1_min": 29.36548141355829, "cost2_max": -23.8603339190704, "outflow_rate_mean": 1078.467545925709, "system_level_velocity_min": 9.521161216725286, "outflow_rate_min": 338.86037478867604, "system_level_velocity_max": 19.343923626557373}, "info": {"num_steps_trained": 2213174, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.012107397429645061, "total_loss": 16.987457275390625, "vf_loss": 16.99077796936035, "policy_loss": -0.004230804275721312, "cur_kl_coeff": 0.07499999552965164, "vf_explained_var": 0.8530119061470032, "entropy": 1.122279405593872}, "num_steps_sampled": 2213174, "load_time_ms": 11.316, "update_time_ms": 7.787, "grad_time_ms": 10064.354, "sample_time_ms": 13008.625}, "episode_len_mean": 693.44, "time_this_iter_s": 23.566250801086426, "num_metric_batches_dropped": 0, "timesteps_total": 2213174, "episodes_total": 905, "hostname": "flow-main", "config": {"custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "kl_coeff": 0.2, "train_batch_size": 30000, "log_level": "INFO", "num_workers": 20, "num_sgd_iter": 10, "lr": 0.0005, "monitor": false, "lr_schedule": null, "compress_observations": false, "input": "sampler", "straggler_mitigation": false, "input_evaluation": null, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "optimizer": {}, "vf_share_layers": false, "model": {"fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "fcnet_activation": "tanh", "dim": 84, "lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "channel_major": false, "conv_activation": "relu", "squash_to_range": false, "conv_filters": null, "zero_mean": true, "grayscale": false, "max_seq_len": 20, "free_log_std": false, "custom_preprocessor": null, "custom_options": {}, "use_lstm": false}, "clip_param": 0.3, "num_cpus_for_driver": 1, "synchronize_filters": true, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "output": null, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.3, 0.1]_t_min:10.0", "batch_mode": "truncate_episodes", "simple_optimizer": false, "sample_batch_size": 200, "collect_metrics_timeout": 180, "clip_rewards": null, "clip_actions": false, "kl_target": 0.01, "observation_filter": "NoFilter", "use_gae": true, "entropy_coeff": 0.0, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f9461170438>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f94611701d0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f9461170860>"}, "gamma": 0.99, "horizon": 1500, "num_gpus_per_worker": 0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "output_max_file_size": 67108864, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "num_gpus": 0, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}}, "timestamp": 1557231715, "episode_reward_max": 1143.9980217424431, "episodes_this_iter": 18, "time_total_s": 1330.1800611019135, "time_since_restore": 1330.1800611019135}
{"timesteps_since_restore": 2252168, "done": false, "node_ip": "10.138.0.2", "pid": 10867, "date": "2019-05-07_12-22-17", "episode_reward_min": 928.948839007762, "timesteps_this_iter": 38994, "training_iteration": 56, "episode_reward_mean": 1049.3465893940347, "experiment_id": "a183ec7aedea427d9bacd699bea0cf75", "policy_reward_mean": {}, "iterations_since_restore": 56, "custom_metrics": {"cost2_min": -69.40405652162269, "outflow_rate_max": 1259.809864935065, "cost1_mean": 331.5402917483441, "cost2_mean": -53.42586160162808, "system_level_velocity_mean": 12.607527287004048, "cost1_max": 363.2040954141221, "cost1_min": 264.93187591418314, "cost2_max": -42.67978232028313, "outflow_rate_mean": 1105.0132388131867, "system_level_velocity_min": 9.846349847135375, "outflow_rate_min": 931.7810753246753, "system_level_velocity_max": 14.044026176993796}, "info": {"num_steps_trained": 2252168, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.01289108395576477, "total_loss": 17.16048812866211, "vf_loss": 17.16261100769043, "policy_loss": -0.003088099882006645, "cur_kl_coeff": 0.07499999552965164, "vf_explained_var": 0.8804275393486023, "entropy": 1.1245197057724}, "num_steps_sampled": 2252168, "load_time_ms": 11.146, "update_time_ms": 7.593, "grad_time_ms": 9990.073, "sample_time_ms": 12976.687}, "episode_len_mean": 700.0, "time_this_iter_s": 21.96301555633545, "num_metric_batches_dropped": 0, "timesteps_total": 2252168, "episodes_total": 924, "hostname": "flow-main", "config": {"custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "kl_coeff": 0.2, "train_batch_size": 30000, "log_level": "INFO", "num_workers": 20, "num_sgd_iter": 10, "lr": 0.0005, "monitor": false, "lr_schedule": null, "compress_observations": false, "input": "sampler", "straggler_mitigation": false, "input_evaluation": null, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "optimizer": {}, "vf_share_layers": false, "model": {"fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "fcnet_activation": "tanh", "dim": 84, "lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "channel_major": false, "conv_activation": "relu", "squash_to_range": false, "conv_filters": null, "zero_mean": true, "grayscale": false, "max_seq_len": 20, "free_log_std": false, "custom_preprocessor": null, "custom_options": {}, "use_lstm": false}, "clip_param": 0.3, "num_cpus_for_driver": 1, "synchronize_filters": true, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "output": null, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.3, 0.1]_t_min:10.0", "batch_mode": "truncate_episodes", "simple_optimizer": false, "sample_batch_size": 200, "collect_metrics_timeout": 180, "clip_rewards": null, "clip_actions": false, "kl_target": 0.01, "observation_filter": "NoFilter", "use_gae": true, "entropy_coeff": 0.0, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f946116f4e0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f946116f780>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f946116f208>"}, "gamma": 0.99, "horizon": 1500, "num_gpus_per_worker": 0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "output_max_file_size": 67108864, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "num_gpus": 0, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}}, "timestamp": 1557231737, "episode_reward_max": 1143.9980217424431, "episodes_this_iter": 19, "time_total_s": 1352.143076658249, "time_since_restore": 1352.143076658249}
{"timesteps_since_restore": 2290914, "done": false, "node_ip": "10.138.0.2", "pid": 10867, "date": "2019-05-07_12-22-40", "episode_reward_min": 261.44678982634406, "timesteps_this_iter": 38746, "training_iteration": 57, "episode_reward_mean": 1031.2285917542445, "experiment_id": "a183ec7aedea427d9bacd699bea0cf75", "policy_reward_mean": {}, "iterations_since_restore": 57, "custom_metrics": {"cost2_min": -69.40405652162269, "outflow_rate_max": 1259.809864935065, "cost1_mean": 329.2603891390409, "cost2_mean": -52.63322321102257, "system_level_velocity_mean": 12.758125839254744, "cost1_max": 364.4861025688359, "cost1_min": 104.77326762640163, "cost2_max": -35.51409717170604, "outflow_rate_mean": 1099.862062741517, "system_level_velocity_min": 9.846349847135375, "outflow_rate_min": 604.0166113625095, "system_level_velocity_max": 15.367830770886462}, "info": {"num_steps_trained": 2290914, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.014403656125068665, "total_loss": 16.662954330444336, "vf_loss": 16.667814254760742, "policy_loss": -0.005939759314060211, "cur_kl_coeff": 0.07499999552965164, "vf_explained_var": 0.8898725509643555, "entropy": 1.1406755447387695}, "num_steps_sampled": 2290914, "load_time_ms": 11.513, "update_time_ms": 7.86, "grad_time_ms": 9839.311, "sample_time_ms": 13086.501}, "episode_len_mean": 690.26, "time_this_iter_s": 22.65006399154663, "num_metric_batches_dropped": 0, "timesteps_total": 2290914, "episodes_total": 943, "hostname": "flow-main", "config": {"custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "kl_coeff": 0.2, "train_batch_size": 30000, "log_level": "INFO", "num_workers": 20, "num_sgd_iter": 10, "lr": 0.0005, "monitor": false, "lr_schedule": null, "compress_observations": false, "input": "sampler", "straggler_mitigation": false, "input_evaluation": null, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "optimizer": {}, "vf_share_layers": false, "model": {"fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "fcnet_activation": "tanh", "dim": 84, "lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "channel_major": false, "conv_activation": "relu", "squash_to_range": false, "conv_filters": null, "zero_mean": true, "grayscale": false, "max_seq_len": 20, "free_log_std": false, "custom_preprocessor": null, "custom_options": {}, "use_lstm": false}, "clip_param": 0.3, "num_cpus_for_driver": 1, "synchronize_filters": true, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "output": null, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.3, 0.1]_t_min:10.0", "batch_mode": "truncate_episodes", "simple_optimizer": false, "sample_batch_size": 200, "collect_metrics_timeout": 180, "clip_rewards": null, "clip_actions": false, "kl_target": 0.01, "observation_filter": "NoFilter", "use_gae": true, "entropy_coeff": 0.0, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb4f2b0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f946116f550>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb4f7b8>"}, "gamma": 0.99, "horizon": 1500, "num_gpus_per_worker": 0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "output_max_file_size": 67108864, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "num_gpus": 0, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}}, "timestamp": 1557231760, "episode_reward_max": 1143.9980217424431, "episodes_this_iter": 19, "time_total_s": 1374.7931406497955, "time_since_restore": 1374.7931406497955}
{"timesteps_since_restore": 2330703, "done": false, "node_ip": "10.138.0.2", "pid": 10867, "date": "2019-05-07_12-23-03", "episode_reward_min": 45.684465056496805, "timesteps_this_iter": 39789, "training_iteration": 58, "episode_reward_mean": 1008.7173002722468, "experiment_id": "a183ec7aedea427d9bacd699bea0cf75", "policy_reward_mean": {}, "iterations_since_restore": 58, "custom_metrics": {"cost2_min": -69.40405652162269, "outflow_rate_max": 1259.809864935065, "cost1_mean": 322.33716640052126, "cost2_mean": -51.31033716384931, "system_level_velocity_mean": 12.841891546455248, "cost1_max": 364.4861025688359, "cost1_min": 31.725588421172404, "cost2_max": -20.992756468084707, "outflow_rate_mean": 1080.4294996923368, "system_level_velocity_min": 9.846349847135375, "outflow_rate_min": 332.7571298140349, "system_level_velocity_max": 18.774612171842275}, "info": {"num_steps_trained": 2330703, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.015115145593881607, "total_loss": 18.592199325561523, "vf_loss": 18.596235275268555, "policy_loss": -0.005167721305042505, "cur_kl_coeff": 0.07499999552965164, "vf_explained_var": 0.8354782462120056, "entropy": 1.1167430877685547}, "num_steps_sampled": 2330703, "load_time_ms": 11.479, "update_time_ms": 7.72, "grad_time_ms": 9781.395, "sample_time_ms": 13237.708}, "episode_len_mean": 677.24, "time_this_iter_s": 23.438447952270508, "num_metric_batches_dropped": 0, "timesteps_total": 2330703, "episodes_total": 962, "hostname": "flow-main", "config": {"custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "kl_coeff": 0.2, "train_batch_size": 30000, "log_level": "INFO", "num_workers": 20, "num_sgd_iter": 10, "lr": 0.0005, "monitor": false, "lr_schedule": null, "compress_observations": false, "input": "sampler", "straggler_mitigation": false, "input_evaluation": null, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "optimizer": {}, "vf_share_layers": false, "model": {"fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "fcnet_activation": "tanh", "dim": 84, "lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "channel_major": false, "conv_activation": "relu", "squash_to_range": false, "conv_filters": null, "zero_mean": true, "grayscale": false, "max_seq_len": 20, "free_log_std": false, "custom_preprocessor": null, "custom_options": {}, "use_lstm": false}, "clip_param": 0.3, "num_cpus_for_driver": 1, "synchronize_filters": true, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "output": null, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.3, 0.1]_t_min:10.0", "batch_mode": "truncate_episodes", "simple_optimizer": false, "sample_batch_size": 200, "collect_metrics_timeout": 180, "clip_rewards": null, "clip_actions": false, "kl_target": 0.01, "observation_filter": "NoFilter", "use_gae": true, "entropy_coeff": 0.0, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb5d198>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb5da20>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb5d6d8>"}, "gamma": 0.99, "horizon": 1500, "num_gpus_per_worker": 0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "output_max_file_size": 67108864, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "num_gpus": 0, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}}, "timestamp": 1557231783, "episode_reward_max": 1142.57754481739, "episodes_this_iter": 19, "time_total_s": 1398.231588602066, "time_since_restore": 1398.231588602066}
{"timesteps_since_restore": 2371292, "done": false, "node_ip": "10.138.0.2", "pid": 10867, "date": "2019-05-07_12-23-26", "episode_reward_min": 45.684465056496805, "timesteps_this_iter": 40589, "training_iteration": 59, "episode_reward_mean": 983.9808717262956, "experiment_id": "a183ec7aedea427d9bacd699bea0cf75", "policy_reward_mean": {}, "iterations_since_restore": 59, "custom_metrics": {"cost2_min": -69.40405652162269, "outflow_rate_max": 1259.809864935065, "cost1_mean": 313.5600399142684, "cost2_mean": -50.20531169392634, "system_level_velocity_mean": 12.84618803925175, "cost1_max": 364.4861025688359, "cost1_min": 31.725588421172404, "cost2_max": -20.992756468084707, "outflow_rate_mean": 1056.6111426991695, "system_level_velocity_min": 9.846349847135375, "outflow_rate_min": 332.7571298140349, "system_level_velocity_max": 18.774612171842275}, "info": {"num_steps_trained": 2371292, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.013724378310143948, "total_loss": 12.877849578857422, "vf_loss": 12.88098430633545, "policy_loss": -0.004163573496043682, "cur_kl_coeff": 0.07499999552965164, "vf_explained_var": 0.9006072282791138, "entropy": 1.108833909034729}, "num_steps_sampled": 2371292, "load_time_ms": 11.474, "update_time_ms": 7.549, "grad_time_ms": 9735.954, "sample_time_ms": 13219.65}, "episode_len_mean": 661.92, "time_this_iter_s": 22.794545650482178, "num_metric_batches_dropped": 0, "timesteps_total": 2371292, "episodes_total": 977, "hostname": "flow-main", "config": {"custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "kl_coeff": 0.2, "train_batch_size": 30000, "log_level": "INFO", "num_workers": 20, "num_sgd_iter": 10, "lr": 0.0005, "monitor": false, "lr_schedule": null, "compress_observations": false, "input": "sampler", "straggler_mitigation": false, "input_evaluation": null, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "optimizer": {}, "vf_share_layers": false, "model": {"fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "fcnet_activation": "tanh", "dim": 84, "lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "channel_major": false, "conv_activation": "relu", "squash_to_range": false, "conv_filters": null, "zero_mean": true, "grayscale": false, "max_seq_len": 20, "free_log_std": false, "custom_preprocessor": null, "custom_options": {}, "use_lstm": false}, "clip_param": 0.3, "num_cpus_for_driver": 1, "synchronize_filters": true, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "output": null, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.3, 0.1]_t_min:10.0", "batch_mode": "truncate_episodes", "simple_optimizer": false, "sample_batch_size": 200, "collect_metrics_timeout": 180, "clip_rewards": null, "clip_actions": false, "kl_target": 0.01, "observation_filter": "NoFilter", "use_gae": true, "entropy_coeff": 0.0, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f946116fba8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f946116f828>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f946116f208>"}, "gamma": 0.99, "horizon": 1500, "num_gpus_per_worker": 0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "output_max_file_size": 67108864, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "num_gpus": 0, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}}, "timestamp": 1557231806, "episode_reward_max": 1141.2118259476426, "episodes_this_iter": 15, "time_total_s": 1421.0261342525482, "time_since_restore": 1421.0261342525482}
{"timesteps_since_restore": 2411592, "done": false, "node_ip": "10.138.0.2", "pid": 10867, "date": "2019-05-07_12-23-48", "episode_reward_min": 45.684465056496805, "timesteps_this_iter": 40300, "training_iteration": 60, "episode_reward_mean": 984.5283244705896, "experiment_id": "a183ec7aedea427d9bacd699bea0cf75", "policy_reward_mean": {}, "iterations_since_restore": 60, "custom_metrics": {"cost2_min": -69.40405652162269, "outflow_rate_max": 1259.809864935065, "cost1_mean": 310.66786081259886, "cost2_mean": -48.732063417318926, "system_level_velocity_mean": 12.737460273844965, "cost1_max": 364.4861025688359, "cost1_min": 31.725588421172404, "cost2_max": -20.992756468084707, "outflow_rate_mean": 1051.197114687181, "system_level_velocity_min": 9.846349847135375, "outflow_rate_min": 332.7571298140349, "system_level_velocity_max": 18.774612171842275}, "info": {"num_steps_trained": 2411592, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.013939728029072285, "total_loss": 14.419654846191406, "vf_loss": 14.423623085021973, "policy_loss": -0.005015120375901461, "cur_kl_coeff": 0.07499999552965164, "vf_explained_var": 0.8659955859184265, "entropy": 1.1038284301757812}, "num_steps_sampled": 2411592, "load_time_ms": 11.565, "update_time_ms": 7.488, "grad_time_ms": 9720.969, "sample_time_ms": 13064.334}, "episode_len_mean": 661.92, "time_this_iter_s": 22.176281690597534, "num_metric_batches_dropped": 0, "timesteps_total": 2411592, "episodes_total": 993, "hostname": "flow-main", "config": {"custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "kl_coeff": 0.2, "train_batch_size": 30000, "log_level": "INFO", "num_workers": 20, "num_sgd_iter": 10, "lr": 0.0005, "monitor": false, "lr_schedule": null, "compress_observations": false, "input": "sampler", "straggler_mitigation": false, "input_evaluation": null, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "optimizer": {}, "vf_share_layers": false, "model": {"fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "fcnet_activation": "tanh", "dim": 84, "lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "channel_major": false, "conv_activation": "relu", "squash_to_range": false, "conv_filters": null, "zero_mean": true, "grayscale": false, "max_seq_len": 20, "free_log_std": false, "custom_preprocessor": null, "custom_options": {}, "use_lstm": false}, "clip_param": 0.3, "num_cpus_for_driver": 1, "synchronize_filters": true, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "output": null, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.3, 0.1]_t_min:10.0", "batch_mode": "truncate_episodes", "simple_optimizer": false, "sample_batch_size": 200, "collect_metrics_timeout": 180, "clip_rewards": null, "clip_actions": false, "kl_target": 0.01, "observation_filter": "NoFilter", "use_gae": true, "entropy_coeff": 0.0, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f9461170f28>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f9461170e10>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f94611705c0>"}, "gamma": 0.99, "horizon": 1500, "num_gpus_per_worker": 0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "output_max_file_size": 67108864, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "num_gpus": 0, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}}, "timestamp": 1557231828, "episode_reward_max": 1141.2118259476426, "episodes_this_iter": 16, "time_total_s": 1443.2024159431458, "time_since_restore": 1443.2024159431458}
{"timesteps_since_restore": 2451379, "done": false, "node_ip": "10.138.0.2", "pid": 10867, "date": "2019-05-07_12-24-10", "episode_reward_min": 45.684465056496805, "timesteps_this_iter": 39787, "training_iteration": 61, "episode_reward_mean": 982.2706969924382, "experiment_id": "a183ec7aedea427d9bacd699bea0cf75", "policy_reward_mean": {}, "iterations_since_restore": 61, "custom_metrics": {"cost2_min": -66.15443480632398, "cost2_mean": -46.94431676308535, "cost1_mean": 307.41605130380367, "system_level_velocity_mean": 12.604815495495709, "cost1_max": 364.4861025688359, "cost1_min": 31.725588421172404, "cost2_max": -20.992756468084707, "outflow_rate_max": 1259.809864935065, "system_level_velocity_min": 9.764159749289535, "outflow_rate_min": 332.7571298140349, "system_level_velocity_max": 18.774612171842275, "outflow_rate_mean": 1038.5241730648036}, "info": {"num_steps_trained": 2451379, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.013163542374968529, "total_loss": 12.763646125793457, "vf_loss": 12.767870903015137, "policy_loss": -0.005211943760514259, "cur_kl_coeff": 0.07499999552965164, "vf_explained_var": 0.9122275114059448, "entropy": 1.1024454832077026}, "num_steps_sampled": 2451379, "load_time_ms": 11.489, "update_time_ms": 7.556, "grad_time_ms": 9690.083, "sample_time_ms": 12954.679}, "episode_len_mean": 661.92, "time_this_iter_s": 21.85009217262268, "num_metric_batches_dropped": 0, "timesteps_total": 2451379, "episodes_total": 1010, "hostname": "flow-main", "config": {"custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "kl_coeff": 0.2, "train_batch_size": 30000, "log_level": "INFO", "num_workers": 20, "num_sgd_iter": 10, "lr": 0.0005, "monitor": false, "lr_schedule": null, "compress_observations": false, "input": "sampler", "straggler_mitigation": false, "input_evaluation": null, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "optimizer": {}, "vf_share_layers": false, "model": {"fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "fcnet_activation": "tanh", "dim": 84, "lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "channel_major": false, "conv_activation": "relu", "squash_to_range": false, "conv_filters": null, "zero_mean": true, "grayscale": false, "max_seq_len": 20, "free_log_std": false, "custom_preprocessor": null, "custom_options": {}, "use_lstm": false}, "clip_param": 0.3, "num_cpus_for_driver": 1, "synchronize_filters": true, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "output": null, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.3, 0.1]_t_min:10.0", "batch_mode": "truncate_episodes", "simple_optimizer": false, "sample_batch_size": 200, "collect_metrics_timeout": 180, "clip_rewards": null, "clip_actions": false, "kl_target": 0.01, "observation_filter": "NoFilter", "use_gae": true, "entropy_coeff": 0.0, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb5d470>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb5d6a0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb5d9b0>"}, "gamma": 0.99, "horizon": 1500, "num_gpus_per_worker": 0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "output_max_file_size": 67108864, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "num_gpus": 0, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}}, "timestamp": 1557231850, "episode_reward_max": 1141.2118259476426, "episodes_this_iter": 17, "time_total_s": 1465.0525081157684, "time_since_restore": 1465.0525081157684}
{"timesteps_since_restore": 2490071, "done": false, "node_ip": "10.138.0.2", "pid": 10867, "date": "2019-05-07_12-24-33", "episode_reward_min": 45.684465056496805, "timesteps_this_iter": 38692, "training_iteration": 62, "episode_reward_mean": 991.4853121142692, "experiment_id": "a183ec7aedea427d9bacd699bea0cf75", "policy_reward_mean": {}, "iterations_since_restore": 62, "custom_metrics": {"cost2_min": -61.60324812192149, "outflow_rate_max": 1255.4297142857142, "cost1_mean": 308.24181477955847, "cost2_mean": -44.47550680160934, "system_level_velocity_mean": 12.429500994331487, "cost1_max": 359.5887101686683, "cost1_min": 31.725588421172404, "cost2_max": -20.992756468084707, "outflow_rate_mean": 1035.1807407408687, "system_level_velocity_min": 9.764159749289535, "outflow_rate_min": 332.7571298140349, "system_level_velocity_max": 18.774612171842275}, "info": {"num_steps_trained": 2490071, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.012081582099199295, "total_loss": 17.256671905517578, "vf_loss": 17.26010513305664, "policy_loss": -0.004339914303272963, "cur_kl_coeff": 0.07499999552965164, "vf_explained_var": 0.8793399930000305, "entropy": 1.120168924331665}, "num_steps_sampled": 2490071, "load_time_ms": 12.064, "update_time_ms": 7.515, "grad_time_ms": 9672.027, "sample_time_ms": 12880.826}, "episode_len_mean": 671.66, "time_this_iter_s": 22.769392013549805, "num_metric_batches_dropped": 0, "timesteps_total": 2490071, "episodes_total": 1028, "hostname": "flow-main", "config": {"custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "kl_coeff": 0.2, "train_batch_size": 30000, "log_level": "INFO", "num_workers": 20, "num_sgd_iter": 10, "lr": 0.0005, "monitor": false, "lr_schedule": null, "compress_observations": false, "input": "sampler", "straggler_mitigation": false, "input_evaluation": null, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "optimizer": {}, "vf_share_layers": false, "model": {"fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "fcnet_activation": "tanh", "dim": 84, "lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "channel_major": false, "conv_activation": "relu", "squash_to_range": false, "conv_filters": null, "zero_mean": true, "grayscale": false, "max_seq_len": 20, "free_log_std": false, "custom_preprocessor": null, "custom_options": {}, "use_lstm": false}, "clip_param": 0.3, "num_cpus_for_driver": 1, "synchronize_filters": true, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "output": null, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.3, 0.1]_t_min:10.0", "batch_mode": "truncate_episodes", "simple_optimizer": false, "sample_batch_size": 200, "collect_metrics_timeout": 180, "clip_rewards": null, "clip_actions": false, "kl_target": 0.01, "observation_filter": "NoFilter", "use_gae": true, "entropy_coeff": 0.0, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f946116f828>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f945fcbb828>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f946116f630>"}, "gamma": 0.99, "horizon": 1500, "num_gpus_per_worker": 0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "output_max_file_size": 67108864, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "num_gpus": 0, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}}, "timestamp": 1557231873, "episode_reward_max": 1141.2118259476426, "episodes_this_iter": 18, "time_total_s": 1487.8219001293182, "time_since_restore": 1487.8219001293182}
{"timesteps_since_restore": 2529343, "done": false, "node_ip": "10.138.0.2", "pid": 10867, "date": "2019-05-07_12-24-55", "episode_reward_min": 45.684465056496805, "timesteps_this_iter": 39272, "training_iteration": 63, "episode_reward_mean": 989.6197255816223, "experiment_id": "a183ec7aedea427d9bacd699bea0cf75", "policy_reward_mean": {}, "iterations_since_restore": 63, "custom_metrics": {"cost2_min": -61.60324812192149, "outflow_rate_max": 1255.4297142857142, "cost1_mean": 307.18652921602285, "cost2_mean": -42.522538454171716, "system_level_velocity_mean": 12.392913614220717, "cost1_max": 359.5887101686683, "cost1_min": 31.725588421172404, "cost2_max": -20.992756468084707, "outflow_rate_mean": 1032.4854610165933, "system_level_velocity_min": 9.764159749289535, "outflow_rate_min": 332.7571298140349, "system_level_velocity_max": 18.774612171842275}, "info": {"num_steps_trained": 2529343, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.011783258058130741, "total_loss": 17.292726516723633, "vf_loss": 17.29530143737793, "policy_loss": -0.003460158361122012, "cur_kl_coeff": 0.07499999552965164, "vf_explained_var": 0.8674577474594116, "entropy": 1.121610403060913}, "num_steps_sampled": 2529343, "load_time_ms": 12.031, "update_time_ms": 7.513, "grad_time_ms": 9668.315, "sample_time_ms": 12759.622}, "episode_len_mean": 671.66, "time_this_iter_s": 22.6451575756073, "num_metric_batches_dropped": 0, "timesteps_total": 2529343, "episodes_total": 1046, "hostname": "flow-main", "config": {"custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "kl_coeff": 0.2, "train_batch_size": 30000, "log_level": "INFO", "num_workers": 20, "num_sgd_iter": 10, "lr": 0.0005, "monitor": false, "lr_schedule": null, "compress_observations": false, "input": "sampler", "straggler_mitigation": false, "input_evaluation": null, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "optimizer": {}, "vf_share_layers": false, "model": {"fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "fcnet_activation": "tanh", "dim": 84, "lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "channel_major": false, "conv_activation": "relu", "squash_to_range": false, "conv_filters": null, "zero_mean": true, "grayscale": false, "max_seq_len": 20, "free_log_std": false, "custom_preprocessor": null, "custom_options": {}, "use_lstm": false}, "clip_param": 0.3, "num_cpus_for_driver": 1, "synchronize_filters": true, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "output": null, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.3, 0.1]_t_min:10.0", "batch_mode": "truncate_episodes", "simple_optimizer": false, "sample_batch_size": 200, "collect_metrics_timeout": 180, "clip_rewards": null, "clip_actions": false, "kl_target": 0.01, "observation_filter": "NoFilter", "use_gae": true, "entropy_coeff": 0.0, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f946116f5f8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f946116f550>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f946116f2b0>"}, "gamma": 0.99, "horizon": 1500, "num_gpus_per_worker": 0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "output_max_file_size": 67108864, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "num_gpus": 0, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}}, "timestamp": 1557231895, "episode_reward_max": 1141.2118259476426, "episodes_this_iter": 18, "time_total_s": 1510.4670577049255, "time_since_restore": 1510.4670577049255}
{"timesteps_since_restore": 2568710, "done": false, "node_ip": "10.138.0.2", "pid": 10867, "date": "2019-05-07_12-25-18", "episode_reward_min": 142.55799189033354, "timesteps_this_iter": 39367, "training_iteration": 64, "episode_reward_mean": 1005.0007749625489, "experiment_id": "a183ec7aedea427d9bacd699bea0cf75", "policy_reward_mean": {}, "iterations_since_restore": 64, "custom_metrics": {"cost2_min": -61.60324812192149, "outflow_rate_max": 1228.4477454545456, "cost1_mean": 310.4933268013319, "cost2_mean": -41.11858166535968, "system_level_velocity_mean": 12.163297661567617, "cost1_max": 354.712110180932, "cost1_min": 69.47773366713709, "cost2_max": -28.671097899824467, "outflow_rate_mean": 1039.4296199938456, "system_level_velocity_min": 9.764159749289535, "outflow_rate_min": 408.4896044609249, "system_level_velocity_max": 16.993953448470673}, "info": {"num_steps_trained": 2568710, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.012960185296833515, "total_loss": 15.214115142822266, "vf_loss": 15.217644691467285, "policy_loss": -0.004503288771957159, "cur_kl_coeff": 0.07499999552965164, "vf_explained_var": 0.8776715397834778, "entropy": 1.1088361740112305}, "num_steps_sampled": 2568710, "load_time_ms": 12.14, "update_time_ms": 7.517, "grad_time_ms": 9782.15, "sample_time_ms": 12733.961}, "episode_len_mean": 684.68, "time_this_iter_s": 22.256332397460938, "num_metric_batches_dropped": 0, "timesteps_total": 2568710, "episodes_total": 1064, "hostname": "flow-main", "config": {"custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "kl_coeff": 0.2, "train_batch_size": 30000, "log_level": "INFO", "num_workers": 20, "num_sgd_iter": 10, "lr": 0.0005, "monitor": false, "lr_schedule": null, "compress_observations": false, "input": "sampler", "straggler_mitigation": false, "input_evaluation": null, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "optimizer": {}, "vf_share_layers": false, "model": {"fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "fcnet_activation": "tanh", "dim": 84, "lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "channel_major": false, "conv_activation": "relu", "squash_to_range": false, "conv_filters": null, "zero_mean": true, "grayscale": false, "max_seq_len": 20, "free_log_std": false, "custom_preprocessor": null, "custom_options": {}, "use_lstm": false}, "clip_param": 0.3, "num_cpus_for_driver": 1, "synchronize_filters": true, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "output": null, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.3, 0.1]_t_min:10.0", "batch_mode": "truncate_episodes", "simple_optimizer": false, "sample_batch_size": 200, "collect_metrics_timeout": 180, "clip_rewards": null, "clip_actions": false, "kl_target": 0.01, "observation_filter": "NoFilter", "use_gae": true, "entropy_coeff": 0.0, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb4f048>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb4f320>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb4fb38>"}, "gamma": 0.99, "horizon": 1500, "num_gpus_per_worker": 0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "output_max_file_size": 67108864, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "num_gpus": 0, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}}, "timestamp": 1557231918, "episode_reward_max": 1141.2118259476426, "episodes_this_iter": 18, "time_total_s": 1532.7233901023865, "time_since_restore": 1532.7233901023865}
{"timesteps_since_restore": 2608310, "done": false, "node_ip": "10.138.0.2", "pid": 10867, "date": "2019-05-07_12-25-41", "episode_reward_min": 905.4631309961188, "timesteps_this_iter": 39600, "training_iteration": 65, "episode_reward_mean": 1022.0387780551824, "experiment_id": "a183ec7aedea427d9bacd699bea0cf75", "policy_reward_mean": {}, "iterations_since_restore": 65, "custom_metrics": {"cost2_min": -54.98384641505391, "outflow_rate_max": 1228.4477454545456, "cost1_mean": 316.2513849651093, "cost2_mean": -39.44786639167803, "system_level_velocity_mean": 12.051468190436605, "cost1_max": 354.712110180932, "cost1_min": 263.961969808032, "cost2_max": -31.292427587479846, "outflow_rate_mean": 1049.7603088511487, "system_level_velocity_min": 9.764159749289535, "outflow_rate_min": 856.4001610389611, "system_level_velocity_max": 13.73028442893435}, "info": {"num_steps_trained": 2608310, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.011918029747903347, "total_loss": 16.053234100341797, "vf_loss": 16.057004928588867, "policy_loss": -0.004665039945393801, "cur_kl_coeff": 0.07499998807907104, "vf_explained_var": 0.87111496925354, "entropy": 1.1280169486999512}, "num_steps_sampled": 2608310, "load_time_ms": 11.988, "update_time_ms": 7.391, "grad_time_ms": 9782.656, "sample_time_ms": 12704.118}, "episode_len_mean": 700.0, "time_this_iter_s": 23.276132583618164, "num_metric_batches_dropped": 0, "timesteps_total": 2608310, "episodes_total": 1080, "hostname": "flow-main", "config": {"custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "kl_coeff": 0.2, "train_batch_size": 30000, "log_level": "INFO", "num_workers": 20, "num_sgd_iter": 10, "lr": 0.0005, "monitor": false, "lr_schedule": null, "compress_observations": false, "input": "sampler", "straggler_mitigation": false, "input_evaluation": null, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "optimizer": {}, "vf_share_layers": false, "model": {"fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "fcnet_activation": "tanh", "dim": 84, "lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "channel_major": false, "conv_activation": "relu", "squash_to_range": false, "conv_filters": null, "zero_mean": true, "grayscale": false, "max_seq_len": 20, "free_log_std": false, "custom_preprocessor": null, "custom_options": {}, "use_lstm": false}, "clip_param": 0.3, "num_cpus_for_driver": 1, "synchronize_filters": true, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "output": null, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.3, 0.1]_t_min:10.0", "batch_mode": "truncate_episodes", "simple_optimizer": false, "sample_batch_size": 200, "collect_metrics_timeout": 180, "clip_rewards": null, "clip_actions": false, "kl_target": 0.01, "observation_filter": "NoFilter", "use_gae": true, "entropy_coeff": 0.0, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f946116fe80>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb4cb00>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f945fcbb828>"}, "gamma": 0.99, "horizon": 1500, "num_gpus_per_worker": 0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "output_max_file_size": 67108864, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "num_gpus": 0, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}}, "timestamp": 1557231941, "episode_reward_max": 1125.0358023289289, "episodes_this_iter": 16, "time_total_s": 1555.9995226860046, "time_since_restore": 1555.9995226860046}
{"timesteps_since_restore": 2647828, "done": false, "node_ip": "10.138.0.2", "pid": 10867, "date": "2019-05-07_12-26-05", "episode_reward_min": 319.658953169433, "timesteps_this_iter": 39518, "training_iteration": 66, "episode_reward_mean": 1005.5695675698314, "experiment_id": "a183ec7aedea427d9bacd699bea0cf75", "policy_reward_mean": {}, "iterations_since_restore": 66, "custom_metrics": {"cost2_min": -51.545429554363906, "cost2_mean": -37.480349558999166, "cost1_mean": 312.44922757010244, "system_level_velocity_mean": 12.007952895661193, "cost1_max": 354.712110180932, "cost1_min": 126.12204028282781, "cost2_max": -23.449582348878184, "outflow_rate_max": 1228.4477454545456, "system_level_velocity_min": 10.0783321983439, "outflow_rate_min": 682.3420347979579, "system_level_velocity_max": 14.391754320353538, "outflow_rate_mean": 1036.2234522121153}, "info": {"num_steps_trained": 2647828, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.017827851697802544, "total_loss": 19.184476852416992, "vf_loss": 19.189712524414062, "policy_loss": -0.006572732701897621, "cur_kl_coeff": 0.07499999552965164, "vf_explained_var": 0.8049088716506958, "entropy": 1.134389877319336}, "num_steps_sampled": 2647828, "load_time_ms": 12.104, "update_time_ms": 7.386, "grad_time_ms": 9828.709, "sample_time_ms": 12866.099}, "episode_len_mean": 695.44, "time_this_iter_s": 24.039900064468384, "num_metric_batches_dropped": 0, "timesteps_total": 2647828, "episodes_total": 1096, "hostname": "flow-main", "config": {"custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "kl_coeff": 0.2, "train_batch_size": 30000, "log_level": "INFO", "num_workers": 20, "num_sgd_iter": 10, "lr": 0.0005, "monitor": false, "lr_schedule": null, "compress_observations": false, "input": "sampler", "straggler_mitigation": false, "input_evaluation": null, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "optimizer": {}, "vf_share_layers": false, "model": {"fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "fcnet_activation": "tanh", "dim": 84, "lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "channel_major": false, "conv_activation": "relu", "squash_to_range": false, "conv_filters": null, "zero_mean": true, "grayscale": false, "max_seq_len": 20, "free_log_std": false, "custom_preprocessor": null, "custom_options": {}, "use_lstm": false}, "clip_param": 0.3, "num_cpus_for_driver": 1, "synchronize_filters": true, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "output": null, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.3, 0.1]_t_min:10.0", "batch_mode": "truncate_episodes", "simple_optimizer": false, "sample_batch_size": 200, "collect_metrics_timeout": 180, "clip_rewards": null, "clip_actions": false, "kl_target": 0.01, "observation_filter": "NoFilter", "use_gae": true, "entropy_coeff": 0.0, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f9461170710>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f9461170c88>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f9461170550>"}, "gamma": 0.99, "horizon": 1500, "num_gpus_per_worker": 0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "output_max_file_size": 67108864, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "num_gpus": 0, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}}, "timestamp": 1557231965, "episode_reward_max": 1106.7367231786134, "episodes_this_iter": 16, "time_total_s": 1580.039422750473, "time_since_restore": 1580.039422750473}
{"timesteps_since_restore": 2687326, "done": false, "node_ip": "10.138.0.2", "pid": 10867, "date": "2019-05-07_12-26-29", "episode_reward_min": 319.658953169433, "timesteps_this_iter": 39498, "training_iteration": 67, "episode_reward_mean": 992.2197990369278, "experiment_id": "a183ec7aedea427d9bacd699bea0cf75", "policy_reward_mean": {}, "iterations_since_restore": 67, "custom_metrics": {"cost2_min": -45.29209538662499, "outflow_rate_max": 1228.4477454545456, "cost1_mean": 309.00781454667396, "cost2_mean": -35.491728337536514, "system_level_velocity_mean": 11.945022411183858, "cost1_max": 354.712110180932, "cost1_min": 126.12204028282781, "cost2_max": -23.449582348878184, "outflow_rate_mean": 1026.2723133091315, "system_level_velocity_min": 10.0783321983439, "outflow_rate_min": 682.3420347979579, "system_level_velocity_max": 14.391754320353538}, "info": {"num_steps_trained": 2687326, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.013884092681109905, "total_loss": 21.077274322509766, "vf_loss": 21.08202362060547, "policy_loss": -0.005791027098894119, "cur_kl_coeff": 0.07499999552965164, "vf_explained_var": 0.7874813079833984, "entropy": 1.122552514076233}, "num_steps_sampled": 2687326, "load_time_ms": 11.891, "update_time_ms": 7.291, "grad_time_ms": 9931.076, "sample_time_ms": 12888.868}, "episode_len_mean": 692.68, "time_this_iter_s": 23.91535782814026, "num_metric_batches_dropped": 0, "timesteps_total": 2687326, "episodes_total": 1114, "hostname": "flow-main", "config": {"custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "kl_coeff": 0.2, "train_batch_size": 30000, "log_level": "INFO", "num_workers": 20, "num_sgd_iter": 10, "lr": 0.0005, "monitor": false, "lr_schedule": null, "compress_observations": false, "input": "sampler", "straggler_mitigation": false, "input_evaluation": null, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "optimizer": {}, "vf_share_layers": false, "model": {"fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "fcnet_activation": "tanh", "dim": 84, "lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "channel_major": false, "conv_activation": "relu", "squash_to_range": false, "conv_filters": null, "zero_mean": true, "grayscale": false, "max_seq_len": 20, "free_log_std": false, "custom_preprocessor": null, "custom_options": {}, "use_lstm": false}, "clip_param": 0.3, "num_cpus_for_driver": 1, "synchronize_filters": true, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "output": null, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.3, 0.1]_t_min:10.0", "batch_mode": "truncate_episodes", "simple_optimizer": false, "sample_batch_size": 200, "collect_metrics_timeout": 180, "clip_rewards": null, "clip_actions": false, "kl_target": 0.01, "observation_filter": "NoFilter", "use_gae": true, "entropy_coeff": 0.0, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f946116f4e0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f946116fba8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f946116f160>"}, "gamma": 0.99, "horizon": 1500, "num_gpus_per_worker": 0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "output_max_file_size": 67108864, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "num_gpus": 0, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}}, "timestamp": 1557231989, "episode_reward_max": 1099.923792782281, "episodes_this_iter": 18, "time_total_s": 1603.9547805786133, "time_since_restore": 1603.9547805786133}
{"timesteps_since_restore": 2725747, "done": false, "node_ip": "10.138.0.2", "pid": 10867, "date": "2019-05-07_12-26-51", "episode_reward_min": 169.0780847465336, "timesteps_this_iter": 38421, "training_iteration": 68, "episode_reward_mean": 977.1368075658919, "experiment_id": "a183ec7aedea427d9bacd699bea0cf75", "policy_reward_mean": {}, "iterations_since_restore": 68, "custom_metrics": {"cost2_min": -45.29209538662499, "outflow_rate_max": 1219.7314637362638, "cost1_mean": 303.40770105590144, "cost2_mean": -34.41529235290129, "system_level_velocity_mean": 11.859850032046415, "cost1_max": 354.712110180932, "cost1_min": 75.20346286057953, "cost2_max": -20.912229437316512, "outflow_rate_mean": 1009.6491621981007, "system_level_velocity_min": 10.0783321983439, "outflow_rate_min": 431.0568425432848, "system_level_velocity_max": 15.947598093171464}, "info": {"num_steps_trained": 2725747, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.018070144578814507, "total_loss": 26.197166442871094, "vf_loss": 26.201751708984375, "policy_loss": -0.005938881076872349, "cur_kl_coeff": 0.07499999552965164, "vf_explained_var": 0.7265113592147827, "entropy": 1.1276938915252686}, "num_steps_sampled": 2725747, "load_time_ms": 11.986, "update_time_ms": 7.317, "grad_time_ms": 9775.074, "sample_time_ms": 12863.337}, "episode_len_mean": 686.96, "time_this_iter_s": 21.615855932235718, "num_metric_batches_dropped": 0, "timesteps_total": 2725747, "episodes_total": 1133, "hostname": "flow-main", "config": {"custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "kl_coeff": 0.2, "train_batch_size": 30000, "log_level": "INFO", "num_workers": 20, "num_sgd_iter": 10, "lr": 0.0005, "monitor": false, "lr_schedule": null, "compress_observations": false, "input": "sampler", "straggler_mitigation": false, "input_evaluation": null, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "optimizer": {}, "vf_share_layers": false, "model": {"fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "fcnet_activation": "tanh", "dim": 84, "lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "channel_major": false, "conv_activation": "relu", "squash_to_range": false, "conv_filters": null, "zero_mean": true, "grayscale": false, "max_seq_len": 20, "free_log_std": false, "custom_preprocessor": null, "custom_options": {}, "use_lstm": false}, "clip_param": 0.3, "num_cpus_for_driver": 1, "synchronize_filters": true, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "output": null, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.3, 0.1]_t_min:10.0", "batch_mode": "truncate_episodes", "simple_optimizer": false, "sample_batch_size": 200, "collect_metrics_timeout": 180, "clip_rewards": null, "clip_actions": false, "kl_target": 0.01, "observation_filter": "NoFilter", "use_gae": true, "entropy_coeff": 0.0, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f94611705c0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb4f400>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb4f438>"}, "gamma": 0.99, "horizon": 1500, "num_gpus_per_worker": 0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "output_max_file_size": 67108864, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "num_gpus": 0, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}}, "timestamp": 1557232011, "episode_reward_max": 1084.2896682209837, "episodes_this_iter": 19, "time_total_s": 1625.570636510849, "time_since_restore": 1625.570636510849}
{"timesteps_since_restore": 2764489, "done": false, "node_ip": "10.138.0.2", "pid": 10867, "date": "2019-05-07_12-27-12", "episode_reward_min": 44.16172180325781, "timesteps_this_iter": 38742, "training_iteration": 69, "episode_reward_mean": 961.8984220146507, "experiment_id": "a183ec7aedea427d9bacd699bea0cf75", "policy_reward_mean": {}, "iterations_since_restore": 69, "custom_metrics": {"cost2_min": -45.29209538662499, "outflow_rate_max": 1181.171096103896, "cost1_mean": 297.6494438421637, "cost2_mean": -32.94101340146311, "system_level_velocity_mean": 11.819605325953118, "cost1_max": 347.6190983127964, "cost1_min": 27.43729271616377, "cost2_max": -16.45800294326402, "outflow_rate_mean": 994.9996901199447, "system_level_velocity_min": 10.0783321983439, "outflow_rate_min": 340.0431742023662, "system_level_velocity_max": 18.56760097879857}, "info": {"num_steps_trained": 2764489, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.016364682465791702, "total_loss": 19.690067291259766, "vf_loss": 19.69504165649414, "policy_loss": -0.006200540345162153, "cur_kl_coeff": 0.07499999552965164, "vf_explained_var": 0.7899447083473206, "entropy": 1.1270657777786255}, "num_steps_sampled": 2764489, "load_time_ms": 12.106, "update_time_ms": 7.265, "grad_time_ms": 9720.519, "sample_time_ms": 12808.126}, "episode_len_mean": 680.39, "time_this_iter_s": 21.73401427268982, "num_metric_batches_dropped": 0, "timesteps_total": 2764489, "episodes_total": 1151, "hostname": "flow-main", "config": {"custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "kl_coeff": 0.2, "train_batch_size": 30000, "log_level": "INFO", "num_workers": 20, "num_sgd_iter": 10, "lr": 0.0005, "monitor": false, "lr_schedule": null, "compress_observations": false, "input": "sampler", "straggler_mitigation": false, "input_evaluation": null, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "optimizer": {}, "vf_share_layers": false, "model": {"fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "fcnet_activation": "tanh", "dim": 84, "lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "channel_major": false, "conv_activation": "relu", "squash_to_range": false, "conv_filters": null, "zero_mean": true, "grayscale": false, "max_seq_len": 20, "free_log_std": false, "custom_preprocessor": null, "custom_options": {}, "use_lstm": false}, "clip_param": 0.3, "num_cpus_for_driver": 1, "synchronize_filters": true, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "output": null, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.3, 0.1]_t_min:10.0", "batch_mode": "truncate_episodes", "simple_optimizer": false, "sample_batch_size": 200, "collect_metrics_timeout": 180, "clip_rewards": null, "clip_actions": false, "kl_target": 0.01, "observation_filter": "NoFilter", "use_gae": true, "entropy_coeff": 0.0, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f946116f7b8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f946116f588>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f946116fe48>"}, "gamma": 0.99, "horizon": 1500, "num_gpus_per_worker": 0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "output_max_file_size": 67108864, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "num_gpus": 0, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}}, "timestamp": 1557232032, "episode_reward_max": 1083.614515737174, "episodes_this_iter": 18, "time_total_s": 1647.3046507835388, "time_since_restore": 1647.3046507835388}
{"timesteps_since_restore": 2802848, "done": false, "node_ip": "10.138.0.2", "pid": 10867, "date": "2019-05-07_12-27-35", "episode_reward_min": 44.16172180325781, "timesteps_this_iter": 38359, "training_iteration": 70, "episode_reward_mean": 943.8240477843015, "experiment_id": "a183ec7aedea427d9bacd699bea0cf75", "policy_reward_mean": {}, "iterations_since_restore": 70, "custom_metrics": {"cost2_min": -43.08709540690694, "outflow_rate_max": 1181.171096103896, "cost1_mean": 294.38628614559957, "cost2_mean": -31.189399330759848, "system_level_velocity_mean": 11.84419749366865, "cost1_max": 339.42303774281305, "cost1_min": 27.43729271616377, "cost2_max": -16.45800294326402, "outflow_rate_mean": 984.1055876596166, "system_level_velocity_min": 10.0783321983439, "outflow_rate_min": 340.0431742023662, "system_level_velocity_max": 18.56760097879857}, "info": {"num_steps_trained": 2802848, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.014431129209697247, "total_loss": 25.018896102905273, "vf_loss": 25.02176856994629, "policy_loss": -0.0039548627100884914, "cur_kl_coeff": 0.07499998807907104, "vf_explained_var": 0.736952543258667, "entropy": 1.120824933052063}, "num_steps_sampled": 2802848, "load_time_ms": 12.106, "update_time_ms": 7.279, "grad_time_ms": 9686.009, "sample_time_ms": 12866.17}, "episode_len_mean": 674.71, "time_this_iter_s": 22.418029069900513, "num_metric_batches_dropped": 0, "timesteps_total": 2802848, "episodes_total": 1170, "hostname": "flow-main", "config": {"custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "kl_coeff": 0.2, "train_batch_size": 30000, "log_level": "INFO", "num_workers": 20, "num_sgd_iter": 10, "lr": 0.0005, "monitor": false, "lr_schedule": null, "compress_observations": false, "input": "sampler", "straggler_mitigation": false, "input_evaluation": null, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "optimizer": {}, "vf_share_layers": false, "model": {"fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "fcnet_activation": "tanh", "dim": 84, "lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "channel_major": false, "conv_activation": "relu", "squash_to_range": false, "conv_filters": null, "zero_mean": true, "grayscale": false, "max_seq_len": 20, "free_log_std": false, "custom_preprocessor": null, "custom_options": {}, "use_lstm": false}, "clip_param": 0.3, "num_cpus_for_driver": 1, "synchronize_filters": true, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "output": null, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.3, 0.1]_t_min:10.0", "batch_mode": "truncate_episodes", "simple_optimizer": false, "sample_batch_size": 200, "collect_metrics_timeout": 180, "clip_rewards": null, "clip_actions": false, "kl_target": 0.01, "observation_filter": "NoFilter", "use_gae": true, "entropy_coeff": 0.0, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb5d978>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f945fcd6cc0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f945fcd6128>"}, "gamma": 0.99, "horizon": 1500, "num_gpus_per_worker": 0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "output_max_file_size": 67108864, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "num_gpus": 0, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}}, "timestamp": 1557232055, "episode_reward_max": 1069.9762192951814, "episodes_this_iter": 19, "time_total_s": 1669.7226798534393, "time_since_restore": 1669.7226798534393}
{"timesteps_since_restore": 2840943, "done": false, "node_ip": "10.138.0.2", "pid": 10867, "date": "2019-05-07_12-27-59", "episode_reward_min": 44.16172180325781, "timesteps_this_iter": 38095, "training_iteration": 71, "episode_reward_mean": 925.5268138277785, "experiment_id": "a183ec7aedea427d9bacd699bea0cf75", "policy_reward_mean": {}, "iterations_since_restore": 71, "custom_metrics": {"cost2_min": -37.64026087438359, "outflow_rate_max": 1181.171096103896, "cost1_mean": 290.15488256966745, "cost2_mean": -30.07987880679344, "system_level_velocity_mean": 11.897007748878229, "cost1_max": 339.42303774281305, "cost1_min": 26.362816234529024, "cost2_max": -12.833315489654508, "outflow_rate_mean": 971.1444910625843, "system_level_velocity_min": 10.285379493368014, "outflow_rate_min": 340.0431742023662, "system_level_velocity_max": 18.56760097879857}, "info": {"num_steps_trained": 2840943, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.018419956788420677, "total_loss": 30.149477005004883, "vf_loss": 30.153215408325195, "policy_loss": -0.0051230816170573235, "cur_kl_coeff": 0.07499999552965164, "vf_explained_var": 0.6909220814704895, "entropy": 1.1146761178970337}, "num_steps_sampled": 2840943, "load_time_ms": 12.169, "update_time_ms": 7.111, "grad_time_ms": 9602.235, "sample_time_ms": 13129.853}, "episode_len_mean": 666.9, "time_this_iter_s": 23.630518436431885, "num_metric_batches_dropped": 0, "timesteps_total": 2840943, "episodes_total": 1192, "hostname": "flow-main", "config": {"custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "kl_coeff": 0.2, "train_batch_size": 30000, "log_level": "INFO", "num_workers": 20, "num_sgd_iter": 10, "lr": 0.0005, "monitor": false, "lr_schedule": null, "compress_observations": false, "input": "sampler", "straggler_mitigation": false, "input_evaluation": null, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "optimizer": {}, "vf_share_layers": false, "model": {"fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "fcnet_activation": "tanh", "dim": 84, "lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "channel_major": false, "conv_activation": "relu", "squash_to_range": false, "conv_filters": null, "zero_mean": true, "grayscale": false, "max_seq_len": 20, "free_log_std": false, "custom_preprocessor": null, "custom_options": {}, "use_lstm": false}, "clip_param": 0.3, "num_cpus_for_driver": 1, "synchronize_filters": true, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "output": null, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.3, 0.1]_t_min:10.0", "batch_mode": "truncate_episodes", "simple_optimizer": false, "sample_batch_size": 200, "collect_metrics_timeout": 180, "clip_rewards": null, "clip_actions": false, "kl_target": 0.01, "observation_filter": "NoFilter", "use_gae": true, "entropy_coeff": 0.0, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f9461170470>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f94611700f0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f9461170f28>"}, "gamma": 0.99, "horizon": 1500, "num_gpus_per_worker": 0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "output_max_file_size": 67108864, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "num_gpus": 0, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}}, "timestamp": 1557232079, "episode_reward_max": 1040.66675353508, "episodes_this_iter": 22, "time_total_s": 1693.3531982898712, "time_since_restore": 1693.3531982898712}
{"timesteps_since_restore": 2878993, "done": false, "node_ip": "10.138.0.2", "pid": 10867, "date": "2019-05-07_12-28-21", "episode_reward_min": 44.16172180325781, "timesteps_this_iter": 38050, "training_iteration": 72, "episode_reward_mean": 907.4439565070891, "experiment_id": "a183ec7aedea427d9bacd699bea0cf75", "policy_reward_mean": {}, "iterations_since_restore": 72, "custom_metrics": {"cost2_min": -37.6034987129515, "outflow_rate_max": 1181.171096103896, "cost1_mean": 286.65358703669364, "cost2_mean": -29.359277688995284, "system_level_velocity_mean": 12.033034875697206, "cost1_max": 333.9025917864138, "cost1_min": 26.362816234529024, "cost2_max": -12.833315489654508, "outflow_rate_mean": 966.7689253498856, "system_level_velocity_min": 10.285379493368014, "outflow_rate_min": 340.0431742023662, "system_level_velocity_max": 18.56760097879857}, "info": {"num_steps_trained": 2878993, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.013681822456419468, "total_loss": 22.84502601623535, "vf_loss": 22.84796905517578, "policy_loss": -0.003970807418227196, "cur_kl_coeff": 0.07499999552965164, "vf_explained_var": 0.7615261077880859, "entropy": 1.1233131885528564}, "num_steps_sampled": 2878993, "load_time_ms": 11.478, "update_time_ms": 7.006, "grad_time_ms": 9556.173, "sample_time_ms": 13164.246}, "episode_len_mean": 656.65, "time_this_iter_s": 22.638273000717163, "num_metric_batches_dropped": 0, "timesteps_total": 2878993, "episodes_total": 1211, "hostname": "flow-main", "config": {"custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "kl_coeff": 0.2, "train_batch_size": 30000, "log_level": "INFO", "num_workers": 20, "num_sgd_iter": 10, "lr": 0.0005, "monitor": false, "lr_schedule": null, "compress_observations": false, "input": "sampler", "straggler_mitigation": false, "input_evaluation": null, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "optimizer": {}, "vf_share_layers": false, "model": {"fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "fcnet_activation": "tanh", "dim": 84, "lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "channel_major": false, "conv_activation": "relu", "squash_to_range": false, "conv_filters": null, "zero_mean": true, "grayscale": false, "max_seq_len": 20, "free_log_std": false, "custom_preprocessor": null, "custom_options": {}, "use_lstm": false}, "clip_param": 0.3, "num_cpus_for_driver": 1, "synchronize_filters": true, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "output": null, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.3, 0.1]_t_min:10.0", "batch_mode": "truncate_episodes", "simple_optimizer": false, "sample_batch_size": 200, "collect_metrics_timeout": 180, "clip_rewards": null, "clip_actions": false, "kl_target": 0.01, "observation_filter": "NoFilter", "use_gae": true, "entropy_coeff": 0.0, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb5d5c0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb5db38>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb5d9b0>"}, "gamma": 0.99, "horizon": 1500, "num_gpus_per_worker": 0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "output_max_file_size": 67108864, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "num_gpus": 0, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}}, "timestamp": 1557232101, "episode_reward_max": 1040.66675353508, "episodes_this_iter": 19, "time_total_s": 1715.9914712905884, "time_since_restore": 1715.9914712905884}
{"timesteps_since_restore": 2917023, "done": false, "node_ip": "10.138.0.2", "pid": 10867, "date": "2019-05-07_12-28-44", "episode_reward_min": 44.16172180325781, "timesteps_this_iter": 38030, "training_iteration": 73, "episode_reward_mean": 890.1957953941937, "experiment_id": "a183ec7aedea427d9bacd699bea0cf75", "policy_reward_mean": {}, "iterations_since_restore": 73, "custom_metrics": {"cost2_min": -36.29166182421211, "outflow_rate_max": 1181.171096103896, "cost1_mean": 283.59975345386357, "cost2_mean": -28.667755878881067, "system_level_velocity_mean": 12.208343846197776, "cost1_max": 334.3937418689265, "cost1_min": 26.362816234529024, "cost2_max": -12.63163756121688, "outflow_rate_mean": 960.2018956126539, "system_level_velocity_min": 10.348107664597851, "outflow_rate_min": 340.0431742023662, "system_level_velocity_max": 18.56760097879857}, "info": {"num_steps_trained": 2917023, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.01574915088713169, "total_loss": 23.109670639038086, "vf_loss": 23.113807678222656, "policy_loss": -0.005318086594343185, "cur_kl_coeff": 0.07499999552965164, "vf_explained_var": 0.760229766368866, "entropy": 1.107105016708374}, "num_steps_sampled": 2917023, "load_time_ms": 11.161, "update_time_ms": 7.001, "grad_time_ms": 9509.629, "sample_time_ms": 13246.863}, "episode_len_mean": 645.45, "time_this_iter_s": 22.994816064834595, "num_metric_batches_dropped": 0, "timesteps_total": 2917023, "episodes_total": 1231, "hostname": "flow-main", "config": {"custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "kl_coeff": 0.2, "train_batch_size": 30000, "log_level": "INFO", "num_workers": 20, "num_sgd_iter": 10, "lr": 0.0005, "monitor": false, "lr_schedule": null, "compress_observations": false, "input": "sampler", "straggler_mitigation": false, "input_evaluation": null, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "optimizer": {}, "vf_share_layers": false, "model": {"fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "fcnet_activation": "tanh", "dim": 84, "lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "channel_major": false, "conv_activation": "relu", "squash_to_range": false, "conv_filters": null, "zero_mean": true, "grayscale": false, "max_seq_len": 20, "free_log_std": false, "custom_preprocessor": null, "custom_options": {}, "use_lstm": false}, "clip_param": 0.3, "num_cpus_for_driver": 1, "synchronize_filters": true, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "output": null, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.3, 0.1]_t_min:10.0", "batch_mode": "truncate_episodes", "simple_optimizer": false, "sample_batch_size": 200, "collect_metrics_timeout": 180, "clip_rewards": null, "clip_actions": false, "kl_target": 0.01, "observation_filter": "NoFilter", "use_gae": true, "entropy_coeff": 0.0, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f9461170550>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb5de10>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb5d828>"}, "gamma": 0.99, "horizon": 1500, "num_gpus_per_worker": 0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "output_max_file_size": 67108864, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "num_gpus": 0, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}}, "timestamp": 1557232124, "episode_reward_max": 1040.66675353508, "episodes_this_iter": 20, "time_total_s": 1738.986287355423, "time_since_restore": 1738.986287355423}
{"timesteps_since_restore": 2955231, "done": false, "node_ip": "10.138.0.2", "pid": 10867, "date": "2019-05-07_12-29-07", "episode_reward_min": 44.16172180325781, "timesteps_this_iter": 38208, "training_iteration": 74, "episode_reward_mean": 887.8315677589933, "experiment_id": "a183ec7aedea427d9bacd699bea0cf75", "policy_reward_mean": {}, "iterations_since_restore": 74, "custom_metrics": {"cost2_min": -36.29166182421211, "outflow_rate_max": 1159.0433662337662, "cost1_mean": 285.92738178464356, "cost2_mean": -28.58661237545838, "system_level_velocity_mean": 12.259506970289651, "cost1_max": 337.12659046271693, "cost1_min": 26.362816234529024, "cost2_max": -12.63163756121688, "outflow_rate_mean": 966.481791407996, "system_level_velocity_min": 10.348107664597851, "outflow_rate_min": 340.0431742023662, "system_level_velocity_max": 18.56760097879857}, "info": {"num_steps_trained": 2955231, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.015428616665303707, "total_loss": 24.489931106567383, "vf_loss": 24.493818283081055, "policy_loss": -0.005044694524258375, "cur_kl_coeff": 0.07499999552965164, "vf_explained_var": 0.6429539322853088, "entropy": 1.112359881401062}, "num_steps_sampled": 2955231, "load_time_ms": 11.168, "update_time_ms": 7.035, "grad_time_ms": 9435.421, "sample_time_ms": 13391.52}, "episode_len_mean": 647.57, "time_this_iter_s": 22.963354349136353, "num_metric_batches_dropped": 0, "timesteps_total": 2955231, "episodes_total": 1248, "hostname": "flow-main", "config": {"custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "kl_coeff": 0.2, "train_batch_size": 30000, "log_level": "INFO", "num_workers": 20, "num_sgd_iter": 10, "lr": 0.0005, "monitor": false, "lr_schedule": null, "compress_observations": false, "input": "sampler", "straggler_mitigation": false, "input_evaluation": null, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "optimizer": {}, "vf_share_layers": false, "model": {"fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "fcnet_activation": "tanh", "dim": 84, "lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "channel_major": false, "conv_activation": "relu", "squash_to_range": false, "conv_filters": null, "zero_mean": true, "grayscale": false, "max_seq_len": 20, "free_log_std": false, "custom_preprocessor": null, "custom_options": {}, "use_lstm": false}, "clip_param": 0.3, "num_cpus_for_driver": 1, "synchronize_filters": true, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "output": null, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.3, 0.1]_t_min:10.0", "batch_mode": "truncate_episodes", "simple_optimizer": false, "sample_batch_size": 200, "collect_metrics_timeout": 180, "clip_rewards": null, "clip_actions": false, "kl_target": 0.01, "observation_filter": "NoFilter", "use_gae": true, "entropy_coeff": 0.0, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb4f828>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb4f588>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb4fcc0>"}, "gamma": 0.99, "horizon": 1500, "num_gpus_per_worker": 0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "output_max_file_size": 67108864, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "num_gpus": 0, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}}, "timestamp": 1557232147, "episode_reward_max": 1049.5644452570145, "episodes_this_iter": 17, "time_total_s": 1761.9496417045593, "time_since_restore": 1761.9496417045593}
{"timesteps_since_restore": 2992993, "done": false, "node_ip": "10.138.0.2", "pid": 10867, "date": "2019-05-07_12-29-30", "episode_reward_min": 44.276886947077536, "timesteps_this_iter": 37762, "training_iteration": 75, "episode_reward_mean": 899.8652830298843, "experiment_id": "a183ec7aedea427d9bacd699bea0cf75", "policy_reward_mean": {}, "iterations_since_restore": 75, "custom_metrics": {"cost2_min": -38.74708499653822, "outflow_rate_max": 1159.0433662337662, "cost1_mean": 291.2249154138709, "cost2_mean": -28.96814019464483, "system_level_velocity_mean": 12.199837325661854, "cost1_max": 337.12659046271693, "cost1_min": 26.362816234529024, "cost2_max": -12.63163756121688, "outflow_rate_mean": 978.9360949015252, "system_level_velocity_min": 10.348107664597851, "outflow_rate_min": 340.0431742023662, "system_level_velocity_max": 18.41314096719941}, "info": {"num_steps_trained": 2992993, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.01705217733979225, "total_loss": 24.83415985107422, "vf_loss": 24.837854385375977, "policy_loss": -0.00497523183003068, "cur_kl_coeff": 0.07499998807907104, "vf_explained_var": 0.7393885850906372, "entropy": 1.0998709201812744}, "num_steps_sampled": 2992993, "load_time_ms": 11.35, "update_time_ms": 6.924, "grad_time_ms": 9372.859, "sample_time_ms": 13426.502}, "episode_len_mean": 659.82, "time_this_iter_s": 22.993622064590454, "num_metric_batches_dropped": 0, "timesteps_total": 2992993, "episodes_total": 1267, "hostname": "flow-main", "config": {"custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "kl_coeff": 0.2, "train_batch_size": 30000, "log_level": "INFO", "num_workers": 20, "num_sgd_iter": 10, "lr": 0.0005, "monitor": false, "lr_schedule": null, "compress_observations": false, "input": "sampler", "straggler_mitigation": false, "input_evaluation": null, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "optimizer": {}, "vf_share_layers": false, "model": {"fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "fcnet_activation": "tanh", "dim": 84, "lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "channel_major": false, "conv_activation": "relu", "squash_to_range": false, "conv_filters": null, "zero_mean": true, "grayscale": false, "max_seq_len": 20, "free_log_std": false, "custom_preprocessor": null, "custom_options": {}, "use_lstm": false}, "clip_param": 0.3, "num_cpus_for_driver": 1, "synchronize_filters": true, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "output": null, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.3, 0.1]_t_min:10.0", "batch_mode": "truncate_episodes", "simple_optimizer": false, "sample_batch_size": 200, "collect_metrics_timeout": 180, "clip_rewards": null, "clip_actions": false, "kl_target": 0.01, "observation_filter": "NoFilter", "use_gae": true, "entropy_coeff": 0.0, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb4f320>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb4f390>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb4f550>"}, "gamma": 0.99, "horizon": 1500, "num_gpus_per_worker": 0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "output_max_file_size": 67108864, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "num_gpus": 0, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}}, "timestamp": 1557232170, "episode_reward_max": 1049.5644452570145, "episodes_this_iter": 19, "time_total_s": 1784.9432637691498, "time_since_restore": 1784.9432637691498}
{"timesteps_since_restore": 3030354, "done": false, "node_ip": "10.138.0.2", "pid": 10867, "date": "2019-05-07_12-29-55", "episode_reward_min": 42.97754298423214, "timesteps_this_iter": 37361, "training_iteration": 76, "episode_reward_mean": 888.1597053641806, "experiment_id": "a183ec7aedea427d9bacd699bea0cf75", "policy_reward_mean": {}, "iterations_since_restore": 76, "custom_metrics": {"cost2_min": -38.74708499653822, "outflow_rate_max": 1159.0433662337662, "cost1_mean": 291.754584958473, "cost2_mean": -28.894543011215845, "system_level_velocity_mean": 12.320223232160785, "cost1_max": 339.1194751580699, "cost1_min": 26.392857397541373, "cost2_max": -12.63163756121688, "outflow_rate_mean": 982.1529498219018, "system_level_velocity_min": 10.365932148882763, "outflow_rate_min": 338.35525222187107, "system_level_velocity_max": 18.457262546391224}, "info": {"num_steps_trained": 3030354, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.015579941682517529, "total_loss": 27.433759689331055, "vf_loss": 27.43704605102539, "policy_loss": -0.004456702154129744, "cur_kl_coeff": 0.07499998807907104, "vf_explained_var": 0.6910676956176758, "entropy": 1.0896791219711304}, "num_steps_sampled": 3030354, "load_time_ms": 11.612, "update_time_ms": 6.855, "grad_time_ms": 9382.27, "sample_time_ms": 13491.636}, "episode_len_mean": 657.94, "time_this_iter_s": 24.793514251708984, "num_metric_batches_dropped": 0, "timesteps_total": 3030354, "episodes_total": 1286, "hostname": "flow-main", "config": {"custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "kl_coeff": 0.2, "train_batch_size": 30000, "log_level": "INFO", "num_workers": 20, "num_sgd_iter": 10, "lr": 0.0005, "monitor": false, "lr_schedule": null, "compress_observations": false, "input": "sampler", "straggler_mitigation": false, "input_evaluation": null, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "optimizer": {}, "vf_share_layers": false, "model": {"fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "fcnet_activation": "tanh", "dim": 84, "lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "channel_major": false, "conv_activation": "relu", "squash_to_range": false, "conv_filters": null, "zero_mean": true, "grayscale": false, "max_seq_len": 20, "free_log_std": false, "custom_preprocessor": null, "custom_options": {}, "use_lstm": false}, "clip_param": 0.3, "num_cpus_for_driver": 1, "synchronize_filters": true, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "output": null, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.3, 0.1]_t_min:10.0", "batch_mode": "truncate_episodes", "simple_optimizer": false, "sample_batch_size": 200, "collect_metrics_timeout": 180, "clip_rewards": null, "clip_actions": false, "kl_target": 0.01, "observation_filter": "NoFilter", "use_gae": true, "entropy_coeff": 0.0, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f946116fe10>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f946116f160>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f946116f128>"}, "gamma": 0.99, "horizon": 1500, "num_gpus_per_worker": 0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "output_max_file_size": 67108864, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "num_gpus": 0, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}}, "timestamp": 1557232195, "episode_reward_max": 1049.5644452570145, "episodes_this_iter": 19, "time_total_s": 1809.7367780208588, "time_since_restore": 1809.7367780208588}
{"timesteps_since_restore": 3067200, "done": false, "node_ip": "10.138.0.2", "pid": 10867, "date": "2019-05-07_12-30-20", "episode_reward_min": 42.97754298423214, "timesteps_this_iter": 36846, "training_iteration": 77, "episode_reward_mean": 894.6019540640285, "experiment_id": "a183ec7aedea427d9bacd699bea0cf75", "policy_reward_mean": {}, "iterations_since_restore": 77, "custom_metrics": {"cost2_min": -38.74708499653822, "outflow_rate_max": 1177.8697558441559, "cost1_mean": 297.9307275610318, "cost2_mean": -28.71356115463923, "system_level_velocity_mean": 12.367622775643138, "cost1_max": 339.1194751580699, "cost1_min": 26.392857397541373, "cost2_max": -12.63163756121688, "outflow_rate_mean": 998.5528790041479, "system_level_velocity_min": 10.365932148882763, "outflow_rate_min": 338.35525222187107, "system_level_velocity_max": 18.457262546391224}, "info": {"num_steps_trained": 3067200, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.017255667597055435, "total_loss": 27.156808853149414, "vf_loss": 27.162553787231445, "policy_loss": -0.0070409574545919895, "cur_kl_coeff": 0.07499999552965164, "vf_explained_var": 0.6404328346252441, "entropy": 1.1052850484848022}, "num_steps_sampled": 3067200, "load_time_ms": 12.144, "update_time_ms": 6.696, "grad_time_ms": 9280.472, "sample_time_ms": 13682.993}, "episode_len_mean": 669.94, "time_this_iter_s": 24.78795599937439, "num_metric_batches_dropped": 0, "timesteps_total": 3067200, "episodes_total": 1308, "hostname": "flow-main", "config": {"custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "kl_coeff": 0.2, "train_batch_size": 30000, "log_level": "INFO", "num_workers": 20, "num_sgd_iter": 10, "lr": 0.0005, "monitor": false, "lr_schedule": null, "compress_observations": false, "input": "sampler", "straggler_mitigation": false, "input_evaluation": null, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "optimizer": {}, "vf_share_layers": false, "model": {"fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "fcnet_activation": "tanh", "dim": 84, "lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "channel_major": false, "conv_activation": "relu", "squash_to_range": false, "conv_filters": null, "zero_mean": true, "grayscale": false, "max_seq_len": 20, "free_log_std": false, "custom_preprocessor": null, "custom_options": {}, "use_lstm": false}, "clip_param": 0.3, "num_cpus_for_driver": 1, "synchronize_filters": true, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "output": null, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.3, 0.1]_t_min:10.0", "batch_mode": "truncate_episodes", "simple_optimizer": false, "sample_batch_size": 200, "collect_metrics_timeout": 180, "clip_rewards": null, "clip_actions": false, "kl_target": 0.01, "observation_filter": "NoFilter", "use_gae": true, "entropy_coeff": 0.0, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f9461150278>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f9461150d30>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f94611509e8>"}, "gamma": 0.99, "horizon": 1500, "num_gpus_per_worker": 0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "output_max_file_size": 67108864, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "num_gpus": 0, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}}, "timestamp": 1557232220, "episode_reward_max": 1049.5644452570145, "episodes_this_iter": 22, "time_total_s": 1834.5247340202332, "time_since_restore": 1834.5247340202332}
{"timesteps_since_restore": 3104714, "done": false, "node_ip": "10.138.0.2", "pid": 10867, "date": "2019-05-07_12-30-43", "episode_reward_min": 42.97754298423214, "timesteps_this_iter": 37514, "training_iteration": 78, "episode_reward_mean": 870.5843023261759, "experiment_id": "a183ec7aedea427d9bacd699bea0cf75", "policy_reward_mean": {}, "iterations_since_restore": 78, "custom_metrics": {"cost2_min": -38.74708499653822, "outflow_rate_max": 1177.8697558441559, "cost1_mean": 294.116891925958, "cost2_mean": -28.454457570806188, "system_level_velocity_mean": 12.440979218896828, "cost1_max": 339.1194751580699, "cost1_min": 26.392857397541373, "cost2_max": -12.63163756121688, "outflow_rate_mean": 994.1430405240295, "system_level_velocity_min": 10.365932148882763, "outflow_rate_min": 338.35525222187107, "system_level_velocity_max": 18.457262546391224}, "info": {"num_steps_trained": 3104714, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.016821397468447685, "total_loss": 29.55238151550293, "vf_loss": 29.556140899658203, "policy_loss": -0.005020957440137863, "cur_kl_coeff": 0.07499999552965164, "vf_explained_var": 0.7381803393363953, "entropy": 1.069779634475708}, "num_steps_sampled": 3104714, "load_time_ms": 12.152, "update_time_ms": 6.564, "grad_time_ms": 9386.906, "sample_time_ms": 13758.888}, "episode_len_mean": 660.31, "time_this_iter_s": 23.475829124450684, "num_metric_batches_dropped": 0, "timesteps_total": 3104714, "episodes_total": 1328, "hostname": "flow-main", "config": {"custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "kl_coeff": 0.2, "train_batch_size": 30000, "log_level": "INFO", "num_workers": 20, "num_sgd_iter": 10, "lr": 0.0005, "monitor": false, "lr_schedule": null, "compress_observations": false, "input": "sampler", "straggler_mitigation": false, "input_evaluation": null, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "optimizer": {}, "vf_share_layers": false, "model": {"fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "fcnet_activation": "tanh", "dim": 84, "lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "channel_major": false, "conv_activation": "relu", "squash_to_range": false, "conv_filters": null, "zero_mean": true, "grayscale": false, "max_seq_len": 20, "free_log_std": false, "custom_preprocessor": null, "custom_options": {}, "use_lstm": false}, "clip_param": 0.3, "num_cpus_for_driver": 1, "synchronize_filters": true, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "output": null, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.3, 0.1]_t_min:10.0", "batch_mode": "truncate_episodes", "simple_optimizer": false, "sample_batch_size": 200, "collect_metrics_timeout": 180, "clip_rewards": null, "clip_actions": false, "kl_target": 0.01, "observation_filter": "NoFilter", "use_gae": true, "entropy_coeff": 0.0, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb69cc0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb69668>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb691d0>"}, "gamma": 0.99, "horizon": 1500, "num_gpus_per_worker": 0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "output_max_file_size": 67108864, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "num_gpus": 0, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}}, "timestamp": 1557232243, "episode_reward_max": 1049.5644452570145, "episodes_this_iter": 20, "time_total_s": 1858.0005631446838, "time_since_restore": 1858.0005631446838}
{"timesteps_since_restore": 3141680, "done": false, "node_ip": "10.138.0.2", "pid": 10867, "date": "2019-05-07_12-31-06", "episode_reward_min": 42.97754298423214, "timesteps_this_iter": 36966, "training_iteration": 79, "episode_reward_mean": 865.9495719019548, "experiment_id": "a183ec7aedea427d9bacd699bea0cf75", "policy_reward_mean": {}, "iterations_since_restore": 79, "custom_metrics": {"cost2_min": -38.74708499653822, "outflow_rate_max": 1177.8697558441559, "cost1_mean": 293.50939871782776, "cost2_mean": -27.922289050173458, "system_level_velocity_mean": 12.421255066662534, "cost1_max": 339.1194751580699, "cost1_min": 26.688333866759915, "cost2_max": -13.713619233692274, "outflow_rate_mean": 992.2914845337666, "system_level_velocity_min": 10.230574831642087, "outflow_rate_min": 336.6808336172199, "system_level_velocity_max": 18.457262546391224}, "info": {"num_steps_trained": 3141680, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.01479974202811718, "total_loss": 27.241044998168945, "vf_loss": 27.24555206298828, "policy_loss": -0.00561772845685482, "cur_kl_coeff": 0.07499999552965164, "vf_explained_var": 0.7129666805267334, "entropy": 1.0848175287246704}, "num_steps_sampled": 3141680, "load_time_ms": 12.029, "update_time_ms": 6.952, "grad_time_ms": 9347.293, "sample_time_ms": 13886.125}, "episode_len_mean": 662.37, "time_this_iter_s": 22.569782495498657, "num_metric_batches_dropped": 0, "timesteps_total": 3141680, "episodes_total": 1349, "hostname": "flow-main", "config": {"custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "kl_coeff": 0.2, "train_batch_size": 30000, "log_level": "INFO", "num_workers": 20, "num_sgd_iter": 10, "lr": 0.0005, "monitor": false, "lr_schedule": null, "compress_observations": false, "input": "sampler", "straggler_mitigation": false, "input_evaluation": null, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "optimizer": {}, "vf_share_layers": false, "model": {"fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "fcnet_activation": "tanh", "dim": 84, "lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "channel_major": false, "conv_activation": "relu", "squash_to_range": false, "conv_filters": null, "zero_mean": true, "grayscale": false, "max_seq_len": 20, "free_log_std": false, "custom_preprocessor": null, "custom_options": {}, "use_lstm": false}, "clip_param": 0.3, "num_cpus_for_driver": 1, "synchronize_filters": true, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "output": null, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.3, 0.1]_t_min:10.0", "batch_mode": "truncate_episodes", "simple_optimizer": false, "sample_batch_size": 200, "collect_metrics_timeout": 180, "clip_rewards": null, "clip_actions": false, "kl_target": 0.01, "observation_filter": "NoFilter", "use_gae": true, "entropy_coeff": 0.0, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f946116fe10>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f946116fc50>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f946116f2e8>"}, "gamma": 0.99, "horizon": 1500, "num_gpus_per_worker": 0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "output_max_file_size": 67108864, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "num_gpus": 0, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}}, "timestamp": 1557232266, "episode_reward_max": 983.6253659064837, "episodes_this_iter": 21, "time_total_s": 1880.5703456401825, "time_since_restore": 1880.5703456401825}
{"timesteps_since_restore": 3179126, "done": false, "node_ip": "10.138.0.2", "pid": 10867, "date": "2019-05-07_12-31-28", "episode_reward_min": 42.97754298423214, "timesteps_this_iter": 37446, "training_iteration": 80, "episode_reward_mean": 852.1157881975302, "experiment_id": "a183ec7aedea427d9bacd699bea0cf75", "policy_reward_mean": {}, "iterations_since_restore": 80, "custom_metrics": {"cost2_min": -34.66619220538922, "outflow_rate_max": 1177.8697558441559, "cost1_mean": 290.6644019058097, "cost2_mean": -27.236620656563527, "system_level_velocity_mean": 12.571203636904627, "cost1_max": 340.43870248674153, "cost1_min": 26.688333866759915, "cost2_max": -13.713619233692274, "outflow_rate_mean": 990.65492137168, "system_level_velocity_min": 10.230574831642087, "outflow_rate_min": 332.7571298140349, "system_level_velocity_max": 18.457262546391224}, "info": {"num_steps_trained": 3179126, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.018438734114170074, "total_loss": 29.645893096923828, "vf_loss": 29.648845672607422, "policy_loss": -0.004338389728218317, "cur_kl_coeff": 0.07499999552965164, "vf_explained_var": 0.7038692831993103, "entropy": 1.0309339761734009}, "num_steps_sampled": 3179126, "load_time_ms": 12.116, "update_time_ms": 6.902, "grad_time_ms": 9322.376, "sample_time_ms": 13912.506}, "episode_len_mean": 651.84, "time_this_iter_s": 22.42443084716797, "num_metric_batches_dropped": 0, "timesteps_total": 3179126, "episodes_total": 1369, "hostname": "flow-main", "config": {"custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "kl_coeff": 0.2, "train_batch_size": 30000, "log_level": "INFO", "num_workers": 20, "num_sgd_iter": 10, "lr": 0.0005, "monitor": false, "lr_schedule": null, "compress_observations": false, "input": "sampler", "straggler_mitigation": false, "input_evaluation": null, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "optimizer": {}, "vf_share_layers": false, "model": {"fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "fcnet_activation": "tanh", "dim": 84, "lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "channel_major": false, "conv_activation": "relu", "squash_to_range": false, "conv_filters": null, "zero_mean": true, "grayscale": false, "max_seq_len": 20, "free_log_std": false, "custom_preprocessor": null, "custom_options": {}, "use_lstm": false}, "clip_param": 0.3, "num_cpus_for_driver": 1, "synchronize_filters": true, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "output": null, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.3, 0.1]_t_min:10.0", "batch_mode": "truncate_episodes", "simple_optimizer": false, "sample_batch_size": 200, "collect_metrics_timeout": 180, "clip_rewards": null, "clip_actions": false, "kl_target": 0.01, "observation_filter": "NoFilter", "use_gae": true, "entropy_coeff": 0.0, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb5d550>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb5d6d8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb5d400>"}, "gamma": 0.99, "horizon": 1500, "num_gpus_per_worker": 0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "output_max_file_size": 67108864, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "num_gpus": 0, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}}, "timestamp": 1557232288, "episode_reward_max": 999.1690926272688, "episodes_this_iter": 20, "time_total_s": 1902.9947764873505, "time_since_restore": 1902.9947764873505}
{"timesteps_since_restore": 3216436, "done": false, "node_ip": "10.138.0.2", "pid": 10867, "date": "2019-05-07_12-31-51", "episode_reward_min": 44.26492506720753, "timesteps_this_iter": 37310, "training_iteration": 81, "episode_reward_mean": 860.9651145432057, "experiment_id": "a183ec7aedea427d9bacd699bea0cf75", "policy_reward_mean": {}, "iterations_since_restore": 81, "custom_metrics": {"cost2_min": -34.66619220538922, "outflow_rate_max": 1177.8697558441559, "cost1_mean": 293.0211295902824, "cost2_mean": -27.310197184073733, "system_level_velocity_mean": 12.616249313486096, "cost1_max": 341.0385736746756, "cost1_min": 26.688333866759915, "cost2_max": -13.713619233692274, "outflow_rate_mean": 1004.898004546723, "system_level_velocity_min": 10.230574831642087, "outflow_rate_min": 332.7571298140349, "system_level_velocity_max": 18.0280304253734}, "info": {"num_steps_trained": 3216436, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.017301185056567192, "total_loss": 26.986793518066406, "vf_loss": 26.99148941040039, "policy_loss": -0.005994205363094807, "cur_kl_coeff": 0.07499998807907104, "vf_explained_var": 0.637040376663208, "entropy": 1.0288569927215576}, "num_steps_sampled": 3216436, "load_time_ms": 12.075, "update_time_ms": 7.132, "grad_time_ms": 9346.593, "sample_time_ms": 13759.807}, "episode_len_mean": 651.88, "time_this_iter_s": 22.353046655654907, "num_metric_batches_dropped": 0, "timesteps_total": 3216436, "episodes_total": 1388, "hostname": "flow-main", "config": {"custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "kl_coeff": 0.2, "train_batch_size": 30000, "log_level": "INFO", "num_workers": 20, "num_sgd_iter": 10, "lr": 0.0005, "monitor": false, "lr_schedule": null, "compress_observations": false, "input": "sampler", "straggler_mitigation": false, "input_evaluation": null, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "optimizer": {}, "vf_share_layers": false, "model": {"fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "fcnet_activation": "tanh", "dim": 84, "lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "channel_major": false, "conv_activation": "relu", "squash_to_range": false, "conv_filters": null, "zero_mean": true, "grayscale": false, "max_seq_len": 20, "free_log_std": false, "custom_preprocessor": null, "custom_options": {}, "use_lstm": false}, "clip_param": 0.3, "num_cpus_for_driver": 1, "synchronize_filters": true, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "output": null, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.3, 0.1]_t_min:10.0", "batch_mode": "truncate_episodes", "simple_optimizer": false, "sample_batch_size": 200, "collect_metrics_timeout": 180, "clip_rewards": null, "clip_actions": false, "kl_target": 0.01, "observation_filter": "NoFilter", "use_gae": true, "entropy_coeff": 0.0, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb69128>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb699e8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb696d8>"}, "gamma": 0.99, "horizon": 1500, "num_gpus_per_worker": 0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "output_max_file_size": 67108864, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "num_gpus": 0, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}}, "timestamp": 1557232311, "episode_reward_max": 1050.2937814690624, "episodes_this_iter": 19, "time_total_s": 1925.3478231430054, "time_since_restore": 1925.3478231430054}
{"timesteps_since_restore": 3254011, "done": false, "node_ip": "10.138.0.2", "pid": 10867, "date": "2019-05-07_12-32-13", "episode_reward_min": 44.26492506720753, "timesteps_this_iter": 37575, "training_iteration": 82, "episode_reward_mean": 867.8419932999237, "experiment_id": "a183ec7aedea427d9bacd699bea0cf75", "policy_reward_mean": {}, "iterations_since_restore": 82, "custom_metrics": {"cost2_min": -34.66619220538922, "outflow_rate_max": 1213.6983844155843, "cost1_mean": 293.2806082782816, "cost2_mean": -27.34233946355044, "system_level_velocity_mean": 12.676587191913136, "cost1_max": 342.27533509388365, "cost1_min": 26.688333866759915, "cost2_max": -13.713619233692274, "outflow_rate_mean": 1010.6313567859033, "system_level_velocity_min": 10.230574831642087, "outflow_rate_min": 332.7571298140349, "system_level_velocity_max": 18.0280304253734}, "info": {"num_steps_trained": 3254011, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.01629895716905594, "total_loss": 29.259279251098633, "vf_loss": 29.26226806640625, "policy_loss": -0.004209144040942192, "cur_kl_coeff": 0.07499999552965164, "vf_explained_var": 0.6648243069648743, "entropy": 1.0345442295074463}, "num_steps_sampled": 3254011, "load_time_ms": 12.502, "update_time_ms": 7.354, "grad_time_ms": 9314.517, "sample_time_ms": 13759.521}, "episode_len_mean": 648.11, "time_this_iter_s": 22.32670259475708, "num_metric_batches_dropped": 0, "timesteps_total": 3254011, "episodes_total": 1407, "hostname": "flow-main", "config": {"custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "kl_coeff": 0.2, "train_batch_size": 30000, "log_level": "INFO", "num_workers": 20, "num_sgd_iter": 10, "lr": 0.0005, "monitor": false, "lr_schedule": null, "compress_observations": false, "input": "sampler", "straggler_mitigation": false, "input_evaluation": null, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "optimizer": {}, "vf_share_layers": false, "model": {"fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "fcnet_activation": "tanh", "dim": 84, "lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "channel_major": false, "conv_activation": "relu", "squash_to_range": false, "conv_filters": null, "zero_mean": true, "grayscale": false, "max_seq_len": 20, "free_log_std": false, "custom_preprocessor": null, "custom_options": {}, "use_lstm": false}, "clip_param": 0.3, "num_cpus_for_driver": 1, "synchronize_filters": true, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "output": null, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.3, 0.1]_t_min:10.0", "batch_mode": "truncate_episodes", "simple_optimizer": false, "sample_batch_size": 200, "collect_metrics_timeout": 180, "clip_rewards": null, "clip_actions": false, "kl_target": 0.01, "observation_filter": "NoFilter", "use_gae": true, "entropy_coeff": 0.0, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f9461170dd8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb4ccc0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f9461170550>"}, "gamma": 0.99, "horizon": 1500, "num_gpus_per_worker": 0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "output_max_file_size": 67108864, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "num_gpus": 0, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}}, "timestamp": 1557232333, "episode_reward_max": 1050.2937814690624, "episodes_this_iter": 19, "time_total_s": 1947.6745257377625, "time_since_restore": 1947.6745257377625}
{"timesteps_since_restore": 3291162, "done": false, "node_ip": "10.138.0.2", "pid": 10867, "date": "2019-05-07_12-32-35", "episode_reward_min": 44.26492506720753, "timesteps_this_iter": 37151, "training_iteration": 83, "episode_reward_mean": 884.4933583010665, "experiment_id": "a183ec7aedea427d9bacd699bea0cf75", "policy_reward_mean": {}, "iterations_since_restore": 83, "custom_metrics": {"cost2_min": -33.62289194812679, "cost2_mean": -27.427667186577633, "cost1_mean": 297.40639976548596, "system_level_velocity_mean": 12.666476249047019, "cost1_max": 342.27533509388365, "cost1_min": 26.688333866759915, "cost2_max": -13.713619233692274, "outflow_rate_max": 1213.6983844155843, "system_level_velocity_min": 10.230574831642087, "outflow_rate_min": 332.7571298140349, "system_level_velocity_max": 18.0280304253734, "outflow_rate_mean": 1020.4832272110278}, "info": {"num_steps_trained": 3291162, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.01683889329433441, "total_loss": 25.0983943939209, "vf_loss": 25.102645874023438, "policy_loss": -0.005515794735401869, "cur_kl_coeff": 0.07499999552965164, "vf_explained_var": 0.7399819493293762, "entropy": 1.0182266235351562}, "num_steps_sampled": 3291162, "load_time_ms": 12.79, "update_time_ms": 7.283, "grad_time_ms": 9292.118, "sample_time_ms": 13716.495}, "episode_len_mean": 656.54, "time_this_iter_s": 22.343605041503906, "num_metric_batches_dropped": 0, "timesteps_total": 3291162, "episodes_total": 1425, "hostname": "flow-main", "config": {"custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "kl_coeff": 0.2, "train_batch_size": 30000, "log_level": "INFO", "num_workers": 20, "num_sgd_iter": 10, "lr": 0.0005, "monitor": false, "lr_schedule": null, "compress_observations": false, "input": "sampler", "straggler_mitigation": false, "input_evaluation": null, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "optimizer": {}, "vf_share_layers": false, "model": {"fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "fcnet_activation": "tanh", "dim": 84, "lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "channel_major": false, "conv_activation": "relu", "squash_to_range": false, "conv_filters": null, "zero_mean": true, "grayscale": false, "max_seq_len": 20, "free_log_std": false, "custom_preprocessor": null, "custom_options": {}, "use_lstm": false}, "clip_param": 0.3, "num_cpus_for_driver": 1, "synchronize_filters": true, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "output": null, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.3, 0.1]_t_min:10.0", "batch_mode": "truncate_episodes", "simple_optimizer": false, "sample_batch_size": 200, "collect_metrics_timeout": 180, "clip_rewards": null, "clip_actions": false, "kl_target": 0.01, "observation_filter": "NoFilter", "use_gae": true, "entropy_coeff": 0.0, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f945fc91438>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f946116f710>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f946116f8d0>"}, "gamma": 0.99, "horizon": 1500, "num_gpus_per_worker": 0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "output_max_file_size": 67108864, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "num_gpus": 0, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}}, "timestamp": 1557232355, "episode_reward_max": 1050.2937814690624, "episodes_this_iter": 18, "time_total_s": 1970.0181307792664, "time_since_restore": 1970.0181307792664}
{"timesteps_since_restore": 3328997, "done": false, "node_ip": "10.138.0.2", "pid": 10867, "date": "2019-05-07_12-32-59", "episode_reward_min": 57.986874330451045, "timesteps_this_iter": 37835, "training_iteration": 84, "episode_reward_mean": 902.8726535939048, "experiment_id": "a183ec7aedea427d9bacd699bea0cf75", "policy_reward_mean": {}, "iterations_since_restore": 84, "custom_metrics": {"cost2_min": -33.62289194812679, "outflow_rate_max": 1213.6983844155843, "cost1_mean": 303.43378927180987, "cost2_mean": -27.74957943267532, "system_level_velocity_mean": 12.688655511008221, "cost1_max": 342.27533509388365, "cost1_min": 30.61562668192831, "cost2_max": -15.25217158725611, "outflow_rate_mean": 1035.9970491086222, "system_level_velocity_min": 10.484588687240393, "outflow_rate_min": 332.7571298140349, "system_level_velocity_max": 16.910594586072918}, "info": {"num_steps_trained": 3328997, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.016187893226742744, "total_loss": 25.08487319946289, "vf_loss": 25.090524673461914, "policy_loss": -0.006864812225103378, "cur_kl_coeff": 0.07499998807907104, "vf_explained_var": 0.7049065828323364, "entropy": 1.0433483123779297}, "num_steps_sampled": 3328997, "load_time_ms": 12.587, "update_time_ms": 7.314, "grad_time_ms": 9290.98, "sample_time_ms": 13794.633}, "episode_len_mean": 664.65, "time_this_iter_s": 23.728997707366943, "num_metric_batches_dropped": 0, "timesteps_total": 3328997, "episodes_total": 1446, "hostname": "flow-main", "config": {"custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "kl_coeff": 0.2, "train_batch_size": 30000, "log_level": "INFO", "num_workers": 20, "num_sgd_iter": 10, "lr": 0.0005, "monitor": false, "lr_schedule": null, "compress_observations": false, "input": "sampler", "straggler_mitigation": false, "input_evaluation": null, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "optimizer": {}, "vf_share_layers": false, "model": {"fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "fcnet_activation": "tanh", "dim": 84, "lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "channel_major": false, "conv_activation": "relu", "squash_to_range": false, "conv_filters": null, "zero_mean": true, "grayscale": false, "max_seq_len": 20, "free_log_std": false, "custom_preprocessor": null, "custom_options": {}, "use_lstm": false}, "clip_param": 0.3, "num_cpus_for_driver": 1, "synchronize_filters": true, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "output": null, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.3, 0.1]_t_min:10.0", "batch_mode": "truncate_episodes", "simple_optimizer": false, "sample_batch_size": 200, "collect_metrics_timeout": 180, "clip_rewards": null, "clip_actions": false, "kl_target": 0.01, "observation_filter": "NoFilter", "use_gae": true, "entropy_coeff": 0.0, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb699e8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb69d30>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb69e48>"}, "gamma": 0.99, "horizon": 1500, "num_gpus_per_worker": 0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "output_max_file_size": 67108864, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "num_gpus": 0, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}}, "timestamp": 1557232379, "episode_reward_max": 1050.2937814690624, "episodes_this_iter": 21, "time_total_s": 1993.7471284866333, "time_since_restore": 1993.7471284866333}
{"timesteps_since_restore": 3366381, "done": false, "node_ip": "10.138.0.2", "pid": 10867, "date": "2019-05-07_12-33-23", "episode_reward_min": 148.3685575097555, "timesteps_this_iter": 37384, "training_iteration": 85, "episode_reward_mean": 915.6769011436696, "experiment_id": "a183ec7aedea427d9bacd699bea0cf75", "policy_reward_mean": {}, "iterations_since_restore": 85, "custom_metrics": {"cost2_min": -35.4047020407557, "cost2_mean": -28.126820387471216, "cost1_mean": 308.3613574323088, "system_level_velocity_mean": 12.72824815392751, "cost1_max": 342.27533509388365, "cost1_min": 65.40100930923855, "cost2_max": -20.387116481836628, "outflow_rate_max": 1213.6983844155843, "system_level_velocity_min": 10.499087901068025, "outflow_rate_min": 397.5454814270729, "system_level_velocity_max": 15.351101781054094, "outflow_rate_mean": 1051.3382404809854}, "info": {"num_steps_trained": 3366381, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.019119298085570335, "total_loss": 19.99422836303711, "vf_loss": 19.996658325195312, "policy_loss": -0.0038666545879095793, "cur_kl_coeff": 0.07499999552965164, "vf_explained_var": 0.7960508465766907, "entropy": 1.030781626701355}, "num_steps_sampled": 3366381, "load_time_ms": 12.663, "update_time_ms": 7.407, "grad_time_ms": 9286.583, "sample_time_ms": 13839.989}, "episode_len_mean": 670.79, "time_this_iter_s": 23.404181957244873, "num_metric_batches_dropped": 0, "timesteps_total": 3366381, "episodes_total": 1463, "hostname": "flow-main", "config": {"custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "kl_coeff": 0.2, "train_batch_size": 30000, "log_level": "INFO", "num_workers": 20, "num_sgd_iter": 10, "lr": 0.0005, "monitor": false, "lr_schedule": null, "compress_observations": false, "input": "sampler", "straggler_mitigation": false, "input_evaluation": null, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "optimizer": {}, "vf_share_layers": false, "model": {"fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "fcnet_activation": "tanh", "dim": 84, "lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "channel_major": false, "conv_activation": "relu", "squash_to_range": false, "conv_filters": null, "zero_mean": true, "grayscale": false, "max_seq_len": 20, "free_log_std": false, "custom_preprocessor": null, "custom_options": {}, "use_lstm": false}, "clip_param": 0.3, "num_cpus_for_driver": 1, "synchronize_filters": true, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "output": null, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.3, 0.1]_t_min:10.0", "batch_mode": "truncate_episodes", "simple_optimizer": false, "sample_batch_size": 200, "collect_metrics_timeout": 180, "clip_rewards": null, "clip_actions": false, "kl_target": 0.01, "observation_filter": "NoFilter", "use_gae": true, "entropy_coeff": 0.0, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f946116fe10>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f945fcd6748>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f945fcd6ef0>"}, "gamma": 0.99, "horizon": 1500, "num_gpus_per_worker": 0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "output_max_file_size": 67108864, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "num_gpus": 0, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}}, "timestamp": 1557232403, "episode_reward_max": 1050.2937814690624, "episodes_this_iter": 17, "time_total_s": 2017.1513104438782, "time_since_restore": 2017.1513104438782}
{"timesteps_since_restore": 3404007, "done": false, "node_ip": "10.138.0.2", "pid": 10867, "date": "2019-05-07_12-33-46", "episode_reward_min": 148.3685575097555, "timesteps_this_iter": 37626, "training_iteration": 86, "episode_reward_mean": 917.3067335438569, "experiment_id": "a183ec7aedea427d9bacd699bea0cf75", "policy_reward_mean": {}, "iterations_since_restore": 86, "custom_metrics": {"cost2_min": -48.82568636167271, "outflow_rate_max": 1232.3340675324675, "cost1_mean": 309.6260653847782, "cost2_mean": -28.484145209467037, "system_level_velocity_mean": 12.718020294562699, "cost1_max": 353.45403327934713, "cost1_min": 65.40100930923855, "cost2_max": -19.861098100406842, "outflow_rate_mean": 1053.268068479159, "system_level_velocity_min": 10.965122613816497, "outflow_rate_min": 397.5454814270729, "system_level_velocity_max": 15.351101781054094}, "info": {"num_steps_trained": 3404007, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.019665440544486046, "total_loss": 26.023149490356445, "vf_loss": 26.027334213256836, "policy_loss": -0.005660326220095158, "cur_kl_coeff": 0.07499999552965164, "vf_explained_var": 0.7584965229034424, "entropy": 1.0105890035629272}, "num_steps_sampled": 3404007, "load_time_ms": 12.451, "update_time_ms": 7.645, "grad_time_ms": 9237.677, "sample_time_ms": 13692.794}, "episode_len_mean": 673.05, "time_this_iter_s": 22.8371639251709, "num_metric_batches_dropped": 0, "timesteps_total": 3404007, "episodes_total": 1483, "hostname": "flow-main", "config": {"custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "kl_coeff": 0.2, "train_batch_size": 30000, "log_level": "INFO", "num_workers": 20, "num_sgd_iter": 10, "lr": 0.0005, "monitor": false, "lr_schedule": null, "compress_observations": false, "input": "sampler", "straggler_mitigation": false, "input_evaluation": null, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "optimizer": {}, "vf_share_layers": false, "model": {"fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "fcnet_activation": "tanh", "dim": 84, "lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "channel_major": false, "conv_activation": "relu", "squash_to_range": false, "conv_filters": null, "zero_mean": true, "grayscale": false, "max_seq_len": 20, "free_log_std": false, "custom_preprocessor": null, "custom_options": {}, "use_lstm": false}, "clip_param": 0.3, "num_cpus_for_driver": 1, "synchronize_filters": true, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "output": null, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.3, 0.1]_t_min:10.0", "batch_mode": "truncate_episodes", "simple_optimizer": false, "sample_batch_size": 200, "collect_metrics_timeout": 180, "clip_rewards": null, "clip_actions": false, "kl_target": 0.01, "observation_filter": "NoFilter", "use_gae": true, "entropy_coeff": 0.0, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb54400>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb697f0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb69470>"}, "gamma": 0.99, "horizon": 1500, "num_gpus_per_worker": 0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "output_max_file_size": 67108864, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "num_gpus": 0, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}}, "timestamp": 1557232426, "episode_reward_max": 1030.824418310137, "episodes_this_iter": 20, "time_total_s": 2039.988474369049, "time_since_restore": 2039.988474369049}
{"timesteps_since_restore": 3441043, "done": false, "node_ip": "10.138.0.2", "pid": 10867, "date": "2019-05-07_12-34-09", "episode_reward_min": 178.36292555351864, "timesteps_this_iter": 37036, "training_iteration": 87, "episode_reward_mean": 927.0240641212331, "experiment_id": "a183ec7aedea427d9bacd699bea0cf75", "policy_reward_mean": {}, "iterations_since_restore": 87, "custom_metrics": {"cost2_min": -48.82568636167271, "outflow_rate_max": 1232.3340675324675, "cost1_mean": 312.3218869144433, "cost2_mean": -28.469096162813038, "system_level_velocity_mean": 12.651677717462427, "cost1_max": 353.45403327934713, "cost1_min": 74.56958185712085, "cost2_max": -19.861098100406842, "outflow_rate_mean": 1057.6614861533546, "system_level_velocity_min": 10.83421968224761, "outflow_rate_min": 427.73388293869897, "system_level_velocity_max": 14.663286109561241}, "info": {"num_steps_trained": 3441043, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.019304947927594185, "total_loss": 30.00370979309082, "vf_loss": 30.008899688720703, "policy_loss": -0.00664227781817317, "cur_kl_coeff": 0.07499999552965164, "vf_explained_var": 0.6550784111022949, "entropy": 1.0313031673431396}, "num_steps_sampled": 3441043, "load_time_ms": 12.357, "update_time_ms": 7.617, "grad_time_ms": 9268.42, "sample_time_ms": 13551.671}, "episode_len_mean": 680.91, "time_this_iter_s": 23.691916704177856, "num_metric_batches_dropped": 0, "timesteps_total": 3441043, "episodes_total": 1503, "hostname": "flow-main", "config": {"custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "kl_coeff": 0.2, "train_batch_size": 30000, "log_level": "INFO", "num_workers": 20, "num_sgd_iter": 10, "lr": 0.0005, "monitor": false, "lr_schedule": null, "compress_observations": false, "input": "sampler", "straggler_mitigation": false, "input_evaluation": null, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "optimizer": {}, "vf_share_layers": false, "model": {"fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "fcnet_activation": "tanh", "dim": 84, "lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "channel_major": false, "conv_activation": "relu", "squash_to_range": false, "conv_filters": null, "zero_mean": true, "grayscale": false, "max_seq_len": 20, "free_log_std": false, "custom_preprocessor": null, "custom_options": {}, "use_lstm": false}, "clip_param": 0.3, "num_cpus_for_driver": 1, "synchronize_filters": true, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "output": null, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.3, 0.1]_t_min:10.0", "batch_mode": "truncate_episodes", "simple_optimizer": false, "sample_batch_size": 200, "collect_metrics_timeout": 180, "clip_rewards": null, "clip_actions": false, "kl_target": 0.01, "observation_filter": "NoFilter", "use_gae": true, "entropy_coeff": 0.0, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb69cc0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb69080>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb699b0>"}, "gamma": 0.99, "horizon": 1500, "num_gpus_per_worker": 0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "output_max_file_size": 67108864, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "num_gpus": 0, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}}, "timestamp": 1557232449, "episode_reward_max": 1030.3546839432074, "episodes_this_iter": 20, "time_total_s": 2063.680391073227, "time_since_restore": 2063.680391073227}
{"timesteps_since_restore": 3478012, "done": false, "node_ip": "10.138.0.2", "pid": 10867, "date": "2019-05-07_12-34-33", "episode_reward_min": 253.09233609014902, "timesteps_this_iter": 36969, "training_iteration": 88, "episode_reward_mean": 927.6475555879783, "experiment_id": "a183ec7aedea427d9bacd699bea0cf75", "policy_reward_mean": {}, "iterations_since_restore": 88, "custom_metrics": {"cost2_min": -48.82568636167271, "outflow_rate_max": 1232.3340675324675, "cost1_mean": 312.4472379805753, "cost2_mean": -28.236004386799337, "system_level_velocity_mean": 12.704178462298582, "cost1_max": 353.45403327934713, "cost1_min": 99.78185372604176, "cost2_max": -19.861098100406842, "outflow_rate_mean": 1062.247843043772, "system_level_velocity_min": 10.83421968224761, "outflow_rate_min": 539.6410770681679, "system_level_velocity_max": 14.3528007894229}, "info": {"num_steps_trained": 3478012, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.017497556284070015, "total_loss": 27.012346267700195, "vf_loss": 27.016870498657227, "policy_loss": -0.005837549921125174, "cur_kl_coeff": 0.07499999552965164, "vf_explained_var": 0.6518238186836243, "entropy": 1.02193021774292}, "num_steps_sampled": 3478012, "load_time_ms": 12.376, "update_time_ms": 7.658, "grad_time_ms": 9274.849, "sample_time_ms": 13540.781}, "episode_len_mean": 678.77, "time_this_iter_s": 23.401336431503296, "num_metric_batches_dropped": 0, "timesteps_total": 3478012, "episodes_total": 1523, "hostname": "flow-main", "config": {"custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "kl_coeff": 0.2, "train_batch_size": 30000, "log_level": "INFO", "num_workers": 20, "num_sgd_iter": 10, "lr": 0.0005, "monitor": false, "lr_schedule": null, "compress_observations": false, "input": "sampler", "straggler_mitigation": false, "input_evaluation": null, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "optimizer": {}, "vf_share_layers": false, "model": {"fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "fcnet_activation": "tanh", "dim": 84, "lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "channel_major": false, "conv_activation": "relu", "squash_to_range": false, "conv_filters": null, "zero_mean": true, "grayscale": false, "max_seq_len": 20, "free_log_std": false, "custom_preprocessor": null, "custom_options": {}, "use_lstm": false}, "clip_param": 0.3, "num_cpus_for_driver": 1, "synchronize_filters": true, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "output": null, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.3, 0.1]_t_min:10.0", "batch_mode": "truncate_episodes", "simple_optimizer": false, "sample_batch_size": 200, "collect_metrics_timeout": 180, "clip_rewards": null, "clip_actions": false, "kl_target": 0.01, "observation_filter": "NoFilter", "use_gae": true, "entropy_coeff": 0.0, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f946116f128>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f946116f2e8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f946116fe10>"}, "gamma": 0.99, "horizon": 1500, "num_gpus_per_worker": 0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "output_max_file_size": 67108864, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "num_gpus": 0, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}}, "timestamp": 1557232473, "episode_reward_max": 1030.3546839432074, "episodes_this_iter": 20, "time_total_s": 2087.08172750473, "time_since_restore": 2087.08172750473}
{"timesteps_since_restore": 3515339, "done": false, "node_ip": "10.138.0.2", "pid": 10867, "date": "2019-05-07_12-34-55", "episode_reward_min": 253.09233609014902, "timesteps_this_iter": 37327, "training_iteration": 89, "episode_reward_mean": 923.9213877387914, "experiment_id": "a183ec7aedea427d9bacd699bea0cf75", "policy_reward_mean": {}, "iterations_since_restore": 89, "custom_metrics": {"cost2_min": -48.82568636167271, "outflow_rate_max": 1232.3340675324675, "cost1_mean": 312.5370806201518, "cost2_mean": -27.89700862024565, "system_level_velocity_mean": 12.775063352925748, "cost1_max": 353.45403327934713, "cost1_min": 99.78185372604176, "cost2_max": -19.861098100406842, "outflow_rate_mean": 1065.1608195986125, "system_level_velocity_min": 10.83421968224761, "outflow_rate_min": 539.6410770681679, "system_level_velocity_max": 14.3528007894229}, "info": {"num_steps_trained": 3515339, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.01729978621006012, "total_loss": 23.258419036865234, "vf_loss": 23.262544631958008, "policy_loss": -0.005422435700893402, "cur_kl_coeff": 0.07499998807907104, "vf_explained_var": 0.7361189126968384, "entropy": 1.0072294473648071}, "num_steps_sampled": 3515339, "load_time_ms": 12.405, "update_time_ms": 7.478, "grad_time_ms": 9291.836, "sample_time_ms": 13531.11}, "episode_len_mean": 676.96, "time_this_iter_s": 22.64800214767456, "num_metric_batches_dropped": 0, "timesteps_total": 3515339, "episodes_total": 1540, "hostname": "flow-main", "config": {"custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "kl_coeff": 0.2, "train_batch_size": 30000, "log_level": "INFO", "num_workers": 20, "num_sgd_iter": 10, "lr": 0.0005, "monitor": false, "lr_schedule": null, "compress_observations": false, "input": "sampler", "straggler_mitigation": false, "input_evaluation": null, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "optimizer": {}, "vf_share_layers": false, "model": {"fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "fcnet_activation": "tanh", "dim": 84, "lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "channel_major": false, "conv_activation": "relu", "squash_to_range": false, "conv_filters": null, "zero_mean": true, "grayscale": false, "max_seq_len": 20, "free_log_std": false, "custom_preprocessor": null, "custom_options": {}, "use_lstm": false}, "clip_param": 0.3, "num_cpus_for_driver": 1, "synchronize_filters": true, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "output": null, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.3, 0.1]_t_min:10.0", "batch_mode": "truncate_episodes", "simple_optimizer": false, "sample_batch_size": 200, "collect_metrics_timeout": 180, "clip_rewards": null, "clip_actions": false, "kl_target": 0.01, "observation_filter": "NoFilter", "use_gae": true, "entropy_coeff": 0.0, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb692e8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb69cf8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb69c50>"}, "gamma": 0.99, "horizon": 1500, "num_gpus_per_worker": 0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "output_max_file_size": 67108864, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "num_gpus": 0, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}}, "timestamp": 1557232495, "episode_reward_max": 1030.3546839432074, "episodes_this_iter": 17, "time_total_s": 2109.729729652405, "time_since_restore": 2109.729729652405}
{"timesteps_since_restore": 3553003, "done": false, "node_ip": "10.138.0.2", "pid": 10867, "date": "2019-05-07_12-35-18", "episode_reward_min": 253.09233609014902, "timesteps_this_iter": 37664, "training_iteration": 90, "episode_reward_mean": 923.9028771973126, "experiment_id": "a183ec7aedea427d9bacd699bea0cf75", "policy_reward_mean": {}, "iterations_since_restore": 90, "custom_metrics": {"cost2_min": -48.82568636167271, "outflow_rate_max": 1232.3340675324675, "cost1_mean": 309.8844827167271, "cost2_mean": -27.54682977530012, "system_level_velocity_mean": 12.661945500098149, "cost1_max": 353.45403327934713, "cost1_min": 99.78185372604176, "cost2_max": -19.861098100406842, "outflow_rate_mean": 1052.044084872945, "system_level_velocity_min": 10.457806873364706, "outflow_rate_min": 539.6410770681679, "system_level_velocity_max": 14.3528007894229}, "info": {"num_steps_trained": 3553003, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.02116205170750618, "total_loss": 24.027179718017578, "vf_loss": 24.0329647064209, "policy_loss": -0.007372956722974777, "cur_kl_coeff": 0.07499998807907104, "vf_explained_var": 0.7142068147659302, "entropy": 0.9930622577667236}, "num_steps_sampled": 3553003, "load_time_ms": 12.09, "update_time_ms": 7.536, "grad_time_ms": 9279.459, "sample_time_ms": 13525.41}, "episode_len_mean": 676.9, "time_this_iter_s": 22.24883222579956, "num_metric_batches_dropped": 0, "timesteps_total": 3553003, "episodes_total": 1560, "hostname": "flow-main", "config": {"custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "kl_coeff": 0.2, "train_batch_size": 30000, "log_level": "INFO", "num_workers": 20, "num_sgd_iter": 10, "lr": 0.0005, "monitor": false, "lr_schedule": null, "compress_observations": false, "input": "sampler", "straggler_mitigation": false, "input_evaluation": null, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "optimizer": {}, "vf_share_layers": false, "model": {"fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "fcnet_activation": "tanh", "dim": 84, "lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "channel_major": false, "conv_activation": "relu", "squash_to_range": false, "conv_filters": null, "zero_mean": true, "grayscale": false, "max_seq_len": 20, "free_log_std": false, "custom_preprocessor": null, "custom_options": {}, "use_lstm": false}, "clip_param": 0.3, "num_cpus_for_driver": 1, "synchronize_filters": true, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "output": null, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.3, 0.1]_t_min:10.0", "batch_mode": "truncate_episodes", "simple_optimizer": false, "sample_batch_size": 200, "collect_metrics_timeout": 180, "clip_rewards": null, "clip_actions": false, "kl_target": 0.01, "observation_filter": "NoFilter", "use_gae": true, "entropy_coeff": 0.0, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb4fe48>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb4f048>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb4f208>"}, "gamma": 0.99, "horizon": 1500, "num_gpus_per_worker": 0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "output_max_file_size": 67108864, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "num_gpus": 0, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}}, "timestamp": 1557232518, "episode_reward_max": 1030.3546839432074, "episodes_this_iter": 20, "time_total_s": 2131.9785618782043, "time_since_restore": 2131.9785618782043}
{"timesteps_since_restore": 3590373, "done": false, "node_ip": "10.138.0.2", "pid": 10867, "date": "2019-05-07_12-35-42", "episode_reward_min": 301.39276018700053, "timesteps_this_iter": 37370, "training_iteration": 91, "episode_reward_mean": 925.4586801951016, "experiment_id": "a183ec7aedea427d9bacd699bea0cf75", "policy_reward_mean": {}, "iterations_since_restore": 91, "custom_metrics": {"cost2_min": -32.42646879176225, "outflow_rate_max": 1194.5426025974027, "cost1_mean": 310.6210745078831, "cost2_mean": -26.794114523793663, "system_level_velocity_mean": 12.66674183888224, "cost1_max": 345.0791197443299, "cost1_min": 117.07921766589723, "cost2_max": -20.582734930039283, "outflow_rate_mean": 1054.3312765934618, "system_level_velocity_min": 10.457806873364706, "outflow_rate_min": 684.8640021428024, "system_level_velocity_max": 14.3528007894229}, "info": {"num_steps_trained": 3590373, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.01786024495959282, "total_loss": 26.15011215209961, "vf_loss": 26.154722213745117, "policy_loss": -0.006618200801312923, "cur_kl_coeff": 0.11250001192092896, "vf_explained_var": 0.6848307847976685, "entropy": 0.9909213781356812}, "num_steps_sampled": 3590373, "load_time_ms": 12.274, "update_time_ms": 7.435, "grad_time_ms": 9355.455, "sample_time_ms": 13624.673}, "episode_len_mean": 679.47, "time_this_iter_s": 24.125030755996704, "num_metric_batches_dropped": 0, "timesteps_total": 3590373, "episodes_total": 1580, "hostname": "flow-main", "config": {"custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "kl_coeff": 0.2, "train_batch_size": 30000, "log_level": "INFO", "num_workers": 20, "num_sgd_iter": 10, "lr": 0.0005, "monitor": false, "lr_schedule": null, "compress_observations": false, "input": "sampler", "straggler_mitigation": false, "input_evaluation": null, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "optimizer": {}, "vf_share_layers": false, "model": {"fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "fcnet_activation": "tanh", "dim": 84, "lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "channel_major": false, "conv_activation": "relu", "squash_to_range": false, "conv_filters": null, "zero_mean": true, "grayscale": false, "max_seq_len": 20, "free_log_std": false, "custom_preprocessor": null, "custom_options": {}, "use_lstm": false}, "clip_param": 0.3, "num_cpus_for_driver": 1, "synchronize_filters": true, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "output": null, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.3, 0.1]_t_min:10.0", "batch_mode": "truncate_episodes", "simple_optimizer": false, "sample_batch_size": 200, "collect_metrics_timeout": 180, "clip_rewards": null, "clip_actions": false, "kl_target": 0.01, "observation_filter": "NoFilter", "use_gae": true, "entropy_coeff": 0.0, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f94611509e8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb69828>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb69320>"}, "gamma": 0.99, "horizon": 1500, "num_gpus_per_worker": 0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "output_max_file_size": 67108864, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "num_gpus": 0, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}}, "timestamp": 1557232542, "episode_reward_max": 1030.3546839432074, "episodes_this_iter": 20, "time_total_s": 2156.103592634201, "time_since_restore": 2156.103592634201}
{"timesteps_since_restore": 3627657, "done": false, "node_ip": "10.138.0.2", "pid": 10867, "date": "2019-05-07_12-36-05", "episode_reward_min": 300.3086865653284, "timesteps_this_iter": 37284, "training_iteration": 92, "episode_reward_mean": 909.9778572395287, "experiment_id": "a183ec7aedea427d9bacd699bea0cf75", "policy_reward_mean": {}, "iterations_since_restore": 92, "custom_metrics": {"cost2_min": -32.42646879176225, "outflow_rate_max": 1194.5426025974027, "cost1_mean": 306.6538339517345, "cost2_mean": -26.453256647398735, "system_level_velocity_mean": 12.692451324394554, "cost1_max": 342.912530259046, "cost1_min": 114.94816269180367, "cost2_max": -19.048372241682245, "outflow_rate_mean": 1046.088374584729, "system_level_velocity_min": 10.457806873364706, "outflow_rate_min": 652.3110670593151, "system_level_velocity_max": 14.3528007894229}, "info": {"num_steps_trained": 3627657, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.014493167400360107, "total_loss": 26.561664581298828, "vf_loss": 26.566648483276367, "policy_loss": -0.006616159342229366, "cur_kl_coeff": 0.11250001192092896, "vf_explained_var": 0.7031198740005493, "entropy": 1.020714521408081}, "num_steps_sampled": 3627657, "load_time_ms": 11.841, "update_time_ms": 7.43, "grad_time_ms": 9366.15, "sample_time_ms": 13732.318}, "episode_len_mean": 670.67, "time_this_iter_s": 23.494723081588745, "num_metric_batches_dropped": 0, "timesteps_total": 3627657, "episodes_total": 1600, "hostname": "flow-main", "config": {"custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "kl_coeff": 0.2, "train_batch_size": 30000, "log_level": "INFO", "num_workers": 20, "num_sgd_iter": 10, "lr": 0.0005, "monitor": false, "lr_schedule": null, "compress_observations": false, "input": "sampler", "straggler_mitigation": false, "input_evaluation": null, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "optimizer": {}, "vf_share_layers": false, "model": {"fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "fcnet_activation": "tanh", "dim": 84, "lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "channel_major": false, "conv_activation": "relu", "squash_to_range": false, "conv_filters": null, "zero_mean": true, "grayscale": false, "max_seq_len": 20, "free_log_std": false, "custom_preprocessor": null, "custom_options": {}, "use_lstm": false}, "clip_param": 0.3, "num_cpus_for_driver": 1, "synchronize_filters": true, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "output": null, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.3, 0.1]_t_min:10.0", "batch_mode": "truncate_episodes", "simple_optimizer": false, "sample_batch_size": 200, "collect_metrics_timeout": 180, "clip_rewards": null, "clip_actions": false, "kl_target": 0.01, "observation_filter": "NoFilter", "use_gae": true, "entropy_coeff": 0.0, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f9461170208>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f9461170320>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f94611703c8>"}, "gamma": 0.99, "horizon": 1500, "num_gpus_per_worker": 0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "output_max_file_size": 67108864, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "num_gpus": 0, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}}, "timestamp": 1557232565, "episode_reward_max": 1020.2233874619706, "episodes_this_iter": 20, "time_total_s": 2179.59831571579, "time_since_restore": 2179.59831571579}
{"timesteps_since_restore": 3665158, "done": false, "node_ip": "10.138.0.2", "pid": 10867, "date": "2019-05-07_12-36-27", "episode_reward_min": 158.7203687546698, "timesteps_this_iter": 37501, "training_iteration": 93, "episode_reward_mean": 896.8281362028329, "experiment_id": "a183ec7aedea427d9bacd699bea0cf75", "policy_reward_mean": {}, "iterations_since_restore": 93, "custom_metrics": {"cost2_min": -37.02796777328621, "outflow_rate_max": 1190.3831428571427, "cost1_mean": 304.2821217986707, "cost2_mean": -26.313890374606682, "system_level_velocity_mean": 12.684388401380575, "cost1_max": 342.4009110198341, "cost1_min": 64.74826094899228, "cost2_max": -14.793365832443245, "outflow_rate_mean": 1037.8954200849478, "system_level_velocity_min": 10.457806873364706, "outflow_rate_min": 389.11066546930584, "system_level_velocity_max": 14.116394962912583}, "info": {"num_steps_trained": 3665158, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.017813296988606453, "total_loss": 30.105709075927734, "vf_loss": 30.110685348510742, "policy_loss": -0.006976360455155373, "cur_kl_coeff": 0.11250000447034836, "vf_explained_var": 0.6419064998626709, "entropy": 1.025901436805725}, "num_steps_sampled": 3665158, "load_time_ms": 11.838, "update_time_ms": 7.528, "grad_time_ms": 9378.585, "sample_time_ms": 13698.826}, "episode_len_mean": 667.43, "time_this_iter_s": 22.132941246032715, "num_metric_batches_dropped": 0, "timesteps_total": 3665158, "episodes_total": 1621, "hostname": "flow-main", "config": {"custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "kl_coeff": 0.2, "train_batch_size": 30000, "log_level": "INFO", "num_workers": 20, "num_sgd_iter": 10, "lr": 0.0005, "monitor": false, "lr_schedule": null, "compress_observations": false, "input": "sampler", "straggler_mitigation": false, "input_evaluation": null, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "optimizer": {}, "vf_share_layers": false, "model": {"fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "fcnet_activation": "tanh", "dim": 84, "lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "channel_major": false, "conv_activation": "relu", "squash_to_range": false, "conv_filters": null, "zero_mean": true, "grayscale": false, "max_seq_len": 20, "free_log_std": false, "custom_preprocessor": null, "custom_options": {}, "use_lstm": false}, "clip_param": 0.3, "num_cpus_for_driver": 1, "synchronize_filters": true, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "output": null, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.3, 0.1]_t_min:10.0", "batch_mode": "truncate_episodes", "simple_optimizer": false, "sample_batch_size": 200, "collect_metrics_timeout": 180, "clip_rewards": null, "clip_actions": false, "kl_target": 0.01, "observation_filter": "NoFilter", "use_gae": true, "entropy_coeff": 0.0, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f946116fa20>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f946116fb70>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f946116f3c8>"}, "gamma": 0.99, "horizon": 1500, "num_gpus_per_worker": 0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "output_max_file_size": 67108864, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "num_gpus": 0, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}}, "timestamp": 1557232587, "episode_reward_max": 1020.2233874619706, "episodes_this_iter": 21, "time_total_s": 2201.7312569618225, "time_since_restore": 2201.7312569618225}
{"timesteps_since_restore": 3701788, "done": false, "node_ip": "10.138.0.2", "pid": 10867, "date": "2019-05-07_12-36-50", "episode_reward_min": 158.7203687546698, "timesteps_this_iter": 36630, "training_iteration": 94, "episode_reward_mean": 882.448974176151, "experiment_id": "a183ec7aedea427d9bacd699bea0cf75", "policy_reward_mean": {}, "iterations_since_restore": 94, "custom_metrics": {"cost2_min": -37.02796777328621, "outflow_rate_max": 1184.906966233766, "cost1_mean": 298.89479002180724, "cost2_mean": -25.835210372788943, "system_level_velocity_mean": 12.667545115392102, "cost1_max": 342.4009110198341, "cost1_min": 64.74826094899228, "cost2_max": -14.793365832443245, "outflow_rate_mean": 1026.5423152218455, "system_level_velocity_min": 10.457806873364706, "outflow_rate_min": 389.11066546930584, "system_level_velocity_max": 14.259121798707653}, "info": {"num_steps_trained": 3701788, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.015382243320345879, "total_loss": 29.319175720214844, "vf_loss": 29.32333755493164, "policy_loss": -0.005893494933843613, "cur_kl_coeff": 0.11250001192092896, "vf_explained_var": 0.6024420261383057, "entropy": 1.0229073762893677}, "num_steps_sampled": 3701788, "load_time_ms": 12.14, "update_time_ms": 7.49, "grad_time_ms": 9341.013, "sample_time_ms": 13639.231}, "episode_len_mean": 657.83, "time_this_iter_s": 22.76820993423462, "num_metric_batches_dropped": 0, "timesteps_total": 3701788, "episodes_total": 1641, "hostname": "flow-main", "config": {"custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "kl_coeff": 0.2, "train_batch_size": 30000, "log_level": "INFO", "num_workers": 20, "num_sgd_iter": 10, "lr": 0.0005, "monitor": false, "lr_schedule": null, "compress_observations": false, "input": "sampler", "straggler_mitigation": false, "input_evaluation": null, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "optimizer": {}, "vf_share_layers": false, "model": {"fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "fcnet_activation": "tanh", "dim": 84, "lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "channel_major": false, "conv_activation": "relu", "squash_to_range": false, "conv_filters": null, "zero_mean": true, "grayscale": false, "max_seq_len": 20, "free_log_std": false, "custom_preprocessor": null, "custom_options": {}, "use_lstm": false}, "clip_param": 0.3, "num_cpus_for_driver": 1, "synchronize_filters": true, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "output": null, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.3, 0.1]_t_min:10.0", "batch_mode": "truncate_episodes", "simple_optimizer": false, "sample_batch_size": 200, "collect_metrics_timeout": 180, "clip_rewards": null, "clip_actions": false, "kl_target": 0.01, "observation_filter": "NoFilter", "use_gae": true, "entropy_coeff": 0.0, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb69d68>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb699b0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb69128>"}, "gamma": 0.99, "horizon": 1500, "num_gpus_per_worker": 0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "output_max_file_size": 67108864, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "num_gpus": 0, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}}, "timestamp": 1557232610, "episode_reward_max": 1020.2233874619706, "episodes_this_iter": 20, "time_total_s": 2224.499466896057, "time_since_restore": 2224.499466896057}
{"timesteps_since_restore": 3738394, "done": false, "node_ip": "10.138.0.2", "pid": 10867, "date": "2019-05-07_12-37-13", "episode_reward_min": 55.505591871930655, "timesteps_this_iter": 36606, "training_iteration": 95, "episode_reward_mean": 866.6830296968006, "experiment_id": "a183ec7aedea427d9bacd699bea0cf75", "policy_reward_mean": {}, "iterations_since_restore": 95, "custom_metrics": {"cost2_min": -37.02796777328621, "outflow_rate_max": 1184.9897974025976, "cost1_mean": 296.4540394847408, "cost2_mean": -25.476513855129557, "system_level_velocity_mean": 12.756035641188005, "cost1_max": 342.02965155608024, "cost1_min": 30.22562941605736, "cost2_max": -13.794208089657735, "outflow_rate_mean": 1023.6173480510433, "system_level_velocity_min": 10.700928028162183, "outflow_rate_min": 332.7571298140349, "system_level_velocity_max": 16.7706325879562}, "info": {"num_steps_trained": 3738394, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.01793730817735195, "total_loss": 29.06709861755371, "vf_loss": 29.071666717529297, "policy_loss": -0.006586859002709389, "cur_kl_coeff": 0.11249999701976776, "vf_explained_var": 0.6402431130409241, "entropy": 1.0260100364685059}, "num_steps_sampled": 3738394, "load_time_ms": 11.953, "update_time_ms": 7.457, "grad_time_ms": 9338.366, "sample_time_ms": 13592.812}, "episode_len_mean": 651.9, "time_this_iter_s": 22.905959367752075, "num_metric_batches_dropped": 0, "timesteps_total": 3738394, "episodes_total": 1662, "hostname": "flow-main", "config": {"custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "kl_coeff": 0.2, "train_batch_size": 30000, "log_level": "INFO", "num_workers": 20, "num_sgd_iter": 10, "lr": 0.0005, "monitor": false, "lr_schedule": null, "compress_observations": false, "input": "sampler", "straggler_mitigation": false, "input_evaluation": null, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "optimizer": {}, "vf_share_layers": false, "model": {"fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "fcnet_activation": "tanh", "dim": 84, "lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "channel_major": false, "conv_activation": "relu", "squash_to_range": false, "conv_filters": null, "zero_mean": true, "grayscale": false, "max_seq_len": 20, "free_log_std": false, "custom_preprocessor": null, "custom_options": {}, "use_lstm": false}, "clip_param": 0.3, "num_cpus_for_driver": 1, "synchronize_filters": true, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "output": null, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.3, 0.1]_t_min:10.0", "batch_mode": "truncate_episodes", "simple_optimizer": false, "sample_batch_size": 200, "collect_metrics_timeout": 180, "clip_rewards": null, "clip_actions": false, "kl_target": 0.01, "observation_filter": "NoFilter", "use_gae": true, "entropy_coeff": 0.0, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb693c8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb692b0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb690f0>"}, "gamma": 0.99, "horizon": 1500, "num_gpus_per_worker": 0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "output_max_file_size": 67108864, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "num_gpus": 0, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}}, "timestamp": 1557232633, "episode_reward_max": 1007.061439124681, "episodes_this_iter": 21, "time_total_s": 2247.405426263809, "time_since_restore": 2247.405426263809}
{"timesteps_since_restore": 3775141, "done": false, "node_ip": "10.138.0.2", "pid": 10867, "date": "2019-05-07_12-37-36", "episode_reward_min": 53.07615769059916, "timesteps_this_iter": 36747, "training_iteration": 96, "episode_reward_mean": 848.9893095415268, "experiment_id": "a183ec7aedea427d9bacd699bea0cf75", "policy_reward_mean": {}, "iterations_since_restore": 96, "custom_metrics": {"cost2_min": -37.02796777328621, "outflow_rate_max": 1184.9897974025976, "cost1_mean": 292.1261108655903, "cost2_mean": -25.606789228214115, "system_level_velocity_mean": 12.82783887329289, "cost1_max": 342.02965155608024, "cost1_min": 30.22562941605736, "cost2_max": -13.764987518007727, "outflow_rate_mean": 1011.0507365918862, "system_level_velocity_min": 10.700928028162183, "outflow_rate_min": 317.75050677530305, "system_level_velocity_max": 17.161969770359928}, "info": {"num_steps_trained": 3775141, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.015518798492848873, "total_loss": 28.839292526245117, "vf_loss": 28.843286514282227, "policy_loss": -0.005738760344684124, "cur_kl_coeff": 0.11250001937150955, "vf_explained_var": 0.6055675148963928, "entropy": 1.0121608972549438}, "num_steps_sampled": 3775141, "load_time_ms": 11.912, "update_time_ms": 7.296, "grad_time_ms": 9320.622, "sample_time_ms": 13636.04}, "episode_len_mean": 642.42, "time_this_iter_s": 23.074556589126587, "num_metric_batches_dropped": 0, "timesteps_total": 3775141, "episodes_total": 1683, "hostname": "flow-main", "config": {"custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "kl_coeff": 0.2, "train_batch_size": 30000, "log_level": "INFO", "num_workers": 20, "num_sgd_iter": 10, "lr": 0.0005, "monitor": false, "lr_schedule": null, "compress_observations": false, "input": "sampler", "straggler_mitigation": false, "input_evaluation": null, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "optimizer": {}, "vf_share_layers": false, "model": {"fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "fcnet_activation": "tanh", "dim": 84, "lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "channel_major": false, "conv_activation": "relu", "squash_to_range": false, "conv_filters": null, "zero_mean": true, "grayscale": false, "max_seq_len": 20, "free_log_std": false, "custom_preprocessor": null, "custom_options": {}, "use_lstm": false}, "clip_param": 0.3, "num_cpus_for_driver": 1, "synchronize_filters": true, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "output": null, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.3, 0.1]_t_min:10.0", "batch_mode": "truncate_episodes", "simple_optimizer": false, "sample_batch_size": 200, "collect_metrics_timeout": 180, "clip_rewards": null, "clip_actions": false, "kl_target": 0.01, "observation_filter": "NoFilter", "use_gae": true, "entropy_coeff": 0.0, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f946116fef0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb5dfd0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f946116f860>"}, "gamma": 0.99, "horizon": 1500, "num_gpus_per_worker": 0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "output_max_file_size": 67108864, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "num_gpus": 0, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}}, "timestamp": 1557232656, "episode_reward_max": 1000.0870084682349, "episodes_this_iter": 21, "time_total_s": 2270.479982852936, "time_since_restore": 2270.479982852936}
{"timesteps_since_restore": 3812385, "done": false, "node_ip": "10.138.0.2", "pid": 10867, "date": "2019-05-07_12-38-00", "episode_reward_min": 46.4723315785788, "timesteps_this_iter": 37244, "training_iteration": 97, "episode_reward_mean": 854.1119313029066, "experiment_id": "a183ec7aedea427d9bacd699bea0cf75", "policy_reward_mean": {}, "iterations_since_restore": 97, "custom_metrics": {"cost2_min": -37.02796777328621, "outflow_rate_max": 1184.9897974025976, "cost1_mean": 292.88896799057784, "cost2_mean": -25.522599850765655, "system_level_velocity_mean": 12.828745732238163, "cost1_max": 342.02965155608024, "cost1_min": 26.171898286037404, "cost2_max": -12.162751070943642, "outflow_rate_mean": 1010.9968785914986, "system_level_velocity_min": 10.700928028162183, "outflow_rate_min": 317.75050677530305, "system_level_velocity_max": 17.763707935494917}, "info": {"num_steps_trained": 3812385, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.01721683330833912, "total_loss": 29.172714233398438, "vf_loss": 29.178003311157227, "policy_loss": -0.007227082271128893, "cur_kl_coeff": 0.11249999701976776, "vf_explained_var": 0.6381554007530212, "entropy": 1.0181453227996826}, "num_steps_sampled": 3812385, "load_time_ms": 11.873, "update_time_ms": 7.417, "grad_time_ms": 9355.997, "sample_time_ms": 13571.914}, "episode_len_mean": 645.51, "time_this_iter_s": 23.404276609420776, "num_metric_batches_dropped": 0, "timesteps_total": 3812385, "episodes_total": 1703, "hostname": "flow-main", "config": {"custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "kl_coeff": 0.2, "train_batch_size": 30000, "log_level": "INFO", "num_workers": 20, "num_sgd_iter": 10, "lr": 0.0005, "monitor": false, "lr_schedule": null, "compress_observations": false, "input": "sampler", "straggler_mitigation": false, "input_evaluation": null, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "optimizer": {}, "vf_share_layers": false, "model": {"fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "fcnet_activation": "tanh", "dim": 84, "lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "channel_major": false, "conv_activation": "relu", "squash_to_range": false, "conv_filters": null, "zero_mean": true, "grayscale": false, "max_seq_len": 20, "free_log_std": false, "custom_preprocessor": null, "custom_options": {}, "use_lstm": false}, "clip_param": 0.3, "num_cpus_for_driver": 1, "synchronize_filters": true, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "output": null, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.3, 0.1]_t_min:10.0", "batch_mode": "truncate_episodes", "simple_optimizer": false, "sample_batch_size": 200, "collect_metrics_timeout": 180, "clip_rewards": null, "clip_actions": false, "kl_target": 0.01, "observation_filter": "NoFilter", "use_gae": true, "entropy_coeff": 0.0, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb69470>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb69128>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb69c50>"}, "gamma": 0.99, "horizon": 1500, "num_gpus_per_worker": 0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "output_max_file_size": 67108864, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "num_gpus": 0, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}}, "timestamp": 1557232680, "episode_reward_max": 1000.0870084682349, "episodes_this_iter": 20, "time_total_s": 2293.8842594623566, "time_since_restore": 2293.8842594623566}
{"timesteps_since_restore": 3849509, "done": false, "node_ip": "10.138.0.2", "pid": 10867, "date": "2019-05-07_12-38-23", "episode_reward_min": 46.4723315785788, "timesteps_this_iter": 37124, "training_iteration": 98, "episode_reward_mean": 861.6632499472231, "experiment_id": "a183ec7aedea427d9bacd699bea0cf75", "policy_reward_mean": {}, "iterations_since_restore": 98, "custom_metrics": {"cost2_min": -36.21032252165426, "outflow_rate_max": 1184.9897974025976, "cost1_mean": 295.49856892948833, "cost2_mean": -25.56917264001556, "system_level_velocity_mean": 12.826549832791805, "cost1_max": 347.3581815310822, "cost1_min": 26.171898286037404, "cost2_max": -12.162751070943642, "outflow_rate_mean": 1016.5061010704878, "system_level_velocity_min": 10.384508935177411, "outflow_rate_min": 317.75050677530305, "system_level_velocity_max": 17.763707935494917}, "info": {"num_steps_trained": 3849509, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.01718635857105255, "total_loss": 28.142393112182617, "vf_loss": 28.14676284790039, "policy_loss": -0.006298938300460577, "cur_kl_coeff": 0.11249999701976776, "vf_explained_var": 0.6028643846511841, "entropy": 1.0104891061782837}, "num_steps_sampled": 3849509, "load_time_ms": 11.602, "update_time_ms": 7.492, "grad_time_ms": 9362.812, "sample_time_ms": 13499.807}, "episode_len_mean": 652.04, "time_this_iter_s": 22.761229276657104, "num_metric_batches_dropped": 0, "timesteps_total": 3849509, "episodes_total": 1722, "hostname": "flow-main", "config": {"custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "kl_coeff": 0.2, "train_batch_size": 30000, "log_level": "INFO", "num_workers": 20, "num_sgd_iter": 10, "lr": 0.0005, "monitor": false, "lr_schedule": null, "compress_observations": false, "input": "sampler", "straggler_mitigation": false, "input_evaluation": null, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "optimizer": {}, "vf_share_layers": false, "model": {"fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "fcnet_activation": "tanh", "dim": 84, "lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "channel_major": false, "conv_activation": "relu", "squash_to_range": false, "conv_filters": null, "zero_mean": true, "grayscale": false, "max_seq_len": 20, "free_log_std": false, "custom_preprocessor": null, "custom_options": {}, "use_lstm": false}, "clip_param": 0.3, "num_cpus_for_driver": 1, "synchronize_filters": true, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "output": null, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.3, 0.1]_t_min:10.0", "batch_mode": "truncate_episodes", "simple_optimizer": false, "sample_batch_size": 200, "collect_metrics_timeout": 180, "clip_rewards": null, "clip_actions": false, "kl_target": 0.01, "observation_filter": "NoFilter", "use_gae": true, "entropy_coeff": 0.0, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb69a58>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb699e8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb692b0>"}, "gamma": 0.99, "horizon": 1500, "num_gpus_per_worker": 0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "output_max_file_size": 67108864, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "num_gpus": 0, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}}, "timestamp": 1557232703, "episode_reward_max": 989.4817577490824, "episodes_this_iter": 19, "time_total_s": 2316.6454887390137, "time_since_restore": 2316.6454887390137}
{"timesteps_since_restore": 3886707, "done": false, "node_ip": "10.138.0.2", "pid": 10867, "date": "2019-05-07_12-38-46", "episode_reward_min": 46.4723315785788, "timesteps_this_iter": 37198, "training_iteration": 99, "episode_reward_mean": 864.9154896587243, "experiment_id": "a183ec7aedea427d9bacd699bea0cf75", "policy_reward_mean": {}, "iterations_since_restore": 99, "custom_metrics": {"cost2_min": -36.21032252165426, "outflow_rate_max": 1184.9897974025976, "cost1_mean": 296.16953717553764, "cost2_mean": -25.911354680947134, "system_level_velocity_mean": 12.810010043914668, "cost1_max": 347.3581815310822, "cost1_min": 26.171898286037404, "cost2_max": -11.494267467126514, "outflow_rate_mean": 1012.2879038898599, "system_level_velocity_min": 10.384508935177411, "outflow_rate_min": 309.1099134487595, "system_level_velocity_max": 17.763707935494917}, "info": {"num_steps_trained": 3886707, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.01952585205435753, "total_loss": 27.3844051361084, "vf_loss": 27.390195846557617, "policy_loss": -0.007987109944224358, "cur_kl_coeff": 0.11249999701976776, "vf_explained_var": 0.6310762166976929, "entropy": 1.0258879661560059}, "num_steps_sampled": 3886707, "load_time_ms": 11.167, "update_time_ms": 7.391, "grad_time_ms": 9327.392, "sample_time_ms": 13596.585}, "episode_len_mean": 655.55, "time_this_iter_s": 23.25387930870056, "num_metric_batches_dropped": 0, "timesteps_total": 3886707, "episodes_total": 1742, "hostname": "flow-main", "config": {"custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "kl_coeff": 0.2, "train_batch_size": 30000, "log_level": "INFO", "num_workers": 20, "num_sgd_iter": 10, "lr": 0.0005, "monitor": false, "lr_schedule": null, "compress_observations": false, "input": "sampler", "straggler_mitigation": false, "input_evaluation": null, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "optimizer": {}, "vf_share_layers": false, "model": {"fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "fcnet_activation": "tanh", "dim": 84, "lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "channel_major": false, "conv_activation": "relu", "squash_to_range": false, "conv_filters": null, "zero_mean": true, "grayscale": false, "max_seq_len": 20, "free_log_std": false, "custom_preprocessor": null, "custom_options": {}, "use_lstm": false}, "clip_param": 0.3, "num_cpus_for_driver": 1, "synchronize_filters": true, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "output": null, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.3, 0.1]_t_min:10.0", "batch_mode": "truncate_episodes", "simple_optimizer": false, "sample_batch_size": 200, "collect_metrics_timeout": 180, "clip_rewards": null, "clip_actions": false, "kl_target": 0.01, "observation_filter": "NoFilter", "use_gae": true, "entropy_coeff": 0.0, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f946116f780>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f946116f668>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f946116fa90>"}, "gamma": 0.99, "horizon": 1500, "num_gpus_per_worker": 0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "output_max_file_size": 67108864, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "num_gpus": 0, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}}, "timestamp": 1557232726, "episode_reward_max": 988.6011224456302, "episodes_this_iter": 20, "time_total_s": 2339.8993680477142, "time_since_restore": 2339.8993680477142}
{"timesteps_since_restore": 3923673, "done": false, "node_ip": "10.138.0.2", "pid": 10867, "date": "2019-05-07_12-39-09", "episode_reward_min": 46.4723315785788, "timesteps_this_iter": 36966, "training_iteration": 100, "episode_reward_mean": 873.5119641494296, "experiment_id": "a183ec7aedea427d9bacd699bea0cf75", "policy_reward_mean": {}, "iterations_since_restore": 100, "custom_metrics": {"cost2_min": -43.05274987439379, "outflow_rate_max": 1156.679412987013, "cost1_mean": 297.6935591597778, "cost2_mean": -26.25814193759369, "system_level_velocity_mean": 12.680469093151544, "cost1_max": 347.3581815310822, "cost1_min": 26.171898286037404, "cost2_max": -11.494267467126514, "outflow_rate_mean": 1011.7154798124989, "system_level_velocity_min": 10.384508935177411, "outflow_rate_min": 309.1099134487595, "system_level_velocity_max": 17.763707935494917}, "info": {"num_steps_trained": 3923673, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.01848560944199562, "total_loss": 24.108022689819336, "vf_loss": 24.11357307434082, "policy_loss": -0.007630833424627781, "cur_kl_coeff": 0.11250000447034836, "vf_explained_var": 0.6265075206756592, "entropy": 1.045727014541626}, "num_steps_sampled": 3923673, "load_time_ms": 11.12, "update_time_ms": 7.339, "grad_time_ms": 9303.168, "sample_time_ms": 13668.664}, "episode_len_mean": 662.33, "time_this_iter_s": 22.712330102920532, "num_metric_batches_dropped": 0, "timesteps_total": 3923673, "episodes_total": 1760, "hostname": "flow-main", "config": {"custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "kl_coeff": 0.2, "train_batch_size": 30000, "log_level": "INFO", "num_workers": 20, "num_sgd_iter": 10, "lr": 0.0005, "monitor": false, "lr_schedule": null, "compress_observations": false, "input": "sampler", "straggler_mitigation": false, "input_evaluation": null, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "optimizer": {}, "vf_share_layers": false, "model": {"fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "fcnet_activation": "tanh", "dim": 84, "lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "channel_major": false, "conv_activation": "relu", "squash_to_range": false, "conv_filters": null, "zero_mean": true, "grayscale": false, "max_seq_len": 20, "free_log_std": false, "custom_preprocessor": null, "custom_options": {}, "use_lstm": false}, "clip_param": 0.3, "num_cpus_for_driver": 1, "synchronize_filters": true, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "output": null, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.3, 0.1]_t_min:10.0", "batch_mode": "truncate_episodes", "simple_optimizer": false, "sample_batch_size": 200, "collect_metrics_timeout": 180, "clip_rewards": null, "clip_actions": false, "kl_target": 0.01, "observation_filter": "NoFilter", "use_gae": true, "entropy_coeff": 0.0, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb69828>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f945fcf0b00>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb69a20>"}, "gamma": 0.99, "horizon": 1500, "num_gpus_per_worker": 0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "output_max_file_size": 67108864, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "num_gpus": 0, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}}, "timestamp": 1557232749, "episode_reward_max": 988.6011224456302, "episodes_this_iter": 18, "time_total_s": 2362.6116981506348, "time_since_restore": 2362.6116981506348}
{"timesteps_since_restore": 3960621, "done": false, "node_ip": "10.138.0.2", "pid": 10867, "date": "2019-05-07_12-39-32", "episode_reward_min": 46.4723315785788, "timesteps_this_iter": 36948, "training_iteration": 101, "episode_reward_mean": 884.2488746053938, "experiment_id": "a183ec7aedea427d9bacd699bea0cf75", "policy_reward_mean": {}, "iterations_since_restore": 101, "custom_metrics": {"cost2_min": -43.05274987439379, "outflow_rate_max": 1156.679412987013, "cost1_mean": 300.9024308934732, "cost2_mean": -26.417475558374157, "system_level_velocity_mean": 12.563974261961434, "cost1_max": 347.3581815310822, "cost1_min": 26.171898286037404, "cost2_max": -11.494267467126514, "outflow_rate_mean": 1020.9001384811346, "system_level_velocity_min": 10.384508935177411, "outflow_rate_min": 309.1099134487595, "system_level_velocity_max": 17.763707935494917}, "info": {"num_steps_trained": 3960621, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.014455407857894897, "total_loss": 32.242919921875, "vf_loss": 32.245662689208984, "policy_loss": -0.004371118266135454, "cur_kl_coeff": 0.11250000447034836, "vf_explained_var": 0.5584586262702942, "entropy": 1.0234870910644531}, "num_steps_sampled": 3960621, "load_time_ms": 10.657, "update_time_ms": 7.189, "grad_time_ms": 9219.653, "sample_time_ms": 13674.092}, "episode_len_mean": 673.75, "time_this_iter_s": 23.323115587234497, "num_metric_batches_dropped": 0, "timesteps_total": 3960621, "episodes_total": 1782, "hostname": "flow-main", "config": {"custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "kl_coeff": 0.2, "train_batch_size": 30000, "log_level": "INFO", "num_workers": 20, "num_sgd_iter": 10, "lr": 0.0005, "monitor": false, "lr_schedule": null, "compress_observations": false, "input": "sampler", "straggler_mitigation": false, "input_evaluation": null, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "optimizer": {}, "vf_share_layers": false, "model": {"fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "fcnet_activation": "tanh", "dim": 84, "lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "channel_major": false, "conv_activation": "relu", "squash_to_range": false, "conv_filters": null, "zero_mean": true, "grayscale": false, "max_seq_len": 20, "free_log_std": false, "custom_preprocessor": null, "custom_options": {}, "use_lstm": false}, "clip_param": 0.3, "num_cpus_for_driver": 1, "synchronize_filters": true, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "output": null, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.3, 0.1]_t_min:10.0", "batch_mode": "truncate_episodes", "simple_optimizer": false, "sample_batch_size": 200, "collect_metrics_timeout": 180, "clip_rewards": null, "clip_actions": false, "kl_target": 0.01, "observation_filter": "NoFilter", "use_gae": true, "entropy_coeff": 0.0, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f9461170240>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f9461170320>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f9461170470>"}, "gamma": 0.99, "horizon": 1500, "num_gpus_per_worker": 0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "output_max_file_size": 67108864, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "num_gpus": 0, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}}, "timestamp": 1557232772, "episode_reward_max": 988.6011224456302, "episodes_this_iter": 22, "time_total_s": 2385.9348137378693, "time_since_restore": 2385.9348137378693}
{"timesteps_since_restore": 3998383, "done": false, "node_ip": "10.138.0.2", "pid": 10867, "date": "2019-05-07_12-39-54", "episode_reward_min": 46.4723315785788, "timesteps_this_iter": 37762, "training_iteration": 102, "episode_reward_mean": 881.3308075518809, "experiment_id": "a183ec7aedea427d9bacd699bea0cf75", "policy_reward_mean": {}, "iterations_since_restore": 102, "custom_metrics": {"cost2_min": -43.05274987439379, "outflow_rate_max": 1146.7607792207789, "cost1_mean": 299.0525770272165, "cost2_mean": -26.084774341813283, "system_level_velocity_mean": 12.502109835248575, "cost1_max": 347.3581815310822, "cost1_min": 26.171898286037404, "cost2_max": -11.494267467126514, "outflow_rate_mean": 1009.9355347408749, "system_level_velocity_min": 9.947535357826096, "outflow_rate_min": 309.1099134487595, "system_level_velocity_max": 17.763707935494917}, "info": {"num_steps_trained": 3998383, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.020502617582678795, "total_loss": 20.497501373291016, "vf_loss": 20.502347946166992, "policy_loss": -0.0071517168544232845, "cur_kl_coeff": 0.11250001192092896, "vf_explained_var": 0.7612148523330688, "entropy": 1.0339568853378296}, "num_steps_sampled": 3998383, "load_time_ms": 11.27, "update_time_ms": 6.97, "grad_time_ms": 9254.054, "sample_time_ms": 13533.656}, "episode_len_mean": 673.75, "time_this_iter_s": 22.446375846862793, "num_metric_batches_dropped": 0, "timesteps_total": 3998383, "episodes_total": 1798, "hostname": "flow-main", "config": {"custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "kl_coeff": 0.2, "train_batch_size": 30000, "log_level": "INFO", "num_workers": 20, "num_sgd_iter": 10, "lr": 0.0005, "monitor": false, "lr_schedule": null, "compress_observations": false, "input": "sampler", "straggler_mitigation": false, "input_evaluation": null, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "optimizer": {}, "vf_share_layers": false, "model": {"fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "fcnet_activation": "tanh", "dim": 84, "lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "channel_major": false, "conv_activation": "relu", "squash_to_range": false, "conv_filters": null, "zero_mean": true, "grayscale": false, "max_seq_len": 20, "free_log_std": false, "custom_preprocessor": null, "custom_options": {}, "use_lstm": false}, "clip_param": 0.3, "num_cpus_for_driver": 1, "synchronize_filters": true, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "output": null, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.3, 0.1]_t_min:10.0", "batch_mode": "truncate_episodes", "simple_optimizer": false, "sample_batch_size": 200, "collect_metrics_timeout": 180, "clip_rewards": null, "clip_actions": false, "kl_target": 0.01, "observation_filter": "NoFilter", "use_gae": true, "entropy_coeff": 0.0, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f9461150d30>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb5d400>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb5db38>"}, "gamma": 0.99, "horizon": 1500, "num_gpus_per_worker": 0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "output_max_file_size": 67108864, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "num_gpus": 0, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}}, "timestamp": 1557232794, "episode_reward_max": 982.263716183666, "episodes_this_iter": 16, "time_total_s": 2408.381189584732, "time_since_restore": 2408.381189584732}
{"timesteps_since_restore": 4035872, "done": false, "node_ip": "10.138.0.2", "pid": 10867, "date": "2019-05-07_12-40-17", "episode_reward_min": 50.005687570861284, "timesteps_this_iter": 37489, "training_iteration": 103, "episode_reward_mean": 892.6280902685368, "experiment_id": "a183ec7aedea427d9bacd699bea0cf75", "policy_reward_mean": {}, "iterations_since_restore": 103, "custom_metrics": {"cost2_min": -43.05274987439379, "outflow_rate_max": 1146.7607792207789, "cost1_mean": 301.0063052607658, "cost2_mean": -26.158097023112575, "system_level_velocity_mean": 12.313469294556988, "cost1_max": 335.9496389739178, "cost1_min": 28.997999854574783, "cost2_max": -11.494267467126514, "outflow_rate_mean": 1008.9202198952437, "system_level_velocity_min": 9.947535357826096, "outflow_rate_min": 309.1099134487595, "system_level_velocity_max": 16.77780510834205}, "info": {"num_steps_trained": 4035872, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.01652025803923607, "total_loss": 23.57135581970215, "vf_loss": 23.574514389038086, "policy_loss": -0.005945912096649408, "cur_kl_coeff": 0.16875001788139343, "vf_explained_var": 0.6900467276573181, "entropy": 1.036641001701355}, "num_steps_sampled": 4035872, "load_time_ms": 11.431, "update_time_ms": 6.975, "grad_time_ms": 9245.242, "sample_time_ms": 13605.522}, "episode_len_mean": 683.82, "time_this_iter_s": 22.770507097244263, "num_metric_batches_dropped": 0, "timesteps_total": 4035872, "episodes_total": 1817, "hostname": "flow-main", "config": {"custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "kl_coeff": 0.2, "train_batch_size": 30000, "log_level": "INFO", "num_workers": 20, "num_sgd_iter": 10, "lr": 0.0005, "monitor": false, "lr_schedule": null, "compress_observations": false, "input": "sampler", "straggler_mitigation": false, "input_evaluation": null, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "optimizer": {}, "vf_share_layers": false, "model": {"fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "fcnet_activation": "tanh", "dim": 84, "lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "channel_major": false, "conv_activation": "relu", "squash_to_range": false, "conv_filters": null, "zero_mean": true, "grayscale": false, "max_seq_len": 20, "free_log_std": false, "custom_preprocessor": null, "custom_options": {}, "use_lstm": false}, "clip_param": 0.3, "num_cpus_for_driver": 1, "synchronize_filters": true, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "output": null, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.3, 0.1]_t_min:10.0", "batch_mode": "truncate_episodes", "simple_optimizer": false, "sample_batch_size": 200, "collect_metrics_timeout": 180, "clip_rewards": null, "clip_actions": false, "kl_target": 0.01, "observation_filter": "NoFilter", "use_gae": true, "entropy_coeff": 0.0, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb69160>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb69710>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb69e48>"}, "gamma": 0.99, "horizon": 1500, "num_gpus_per_worker": 0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "output_max_file_size": 67108864, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "num_gpus": 0, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}}, "timestamp": 1557232817, "episode_reward_max": 972.5158861381236, "episodes_this_iter": 19, "time_total_s": 2431.1516966819763, "time_since_restore": 2431.1516966819763}
{"timesteps_since_restore": 4073257, "done": false, "node_ip": "10.138.0.2", "pid": 10867, "date": "2019-05-07_12-40-40", "episode_reward_min": 52.81857438167051, "timesteps_this_iter": 37385, "training_iteration": 104, "episode_reward_mean": 892.322088445468, "experiment_id": "a183ec7aedea427d9bacd699bea0cf75", "policy_reward_mean": {}, "iterations_since_restore": 104, "custom_metrics": {"cost2_min": -43.05274987439379, "cost2_mean": -26.010584369375515, "cost1_mean": 300.0182138288967, "system_level_velocity_mean": 12.235937458777729, "cost1_max": 335.9496389739178, "cost1_min": 30.93351493125217, "cost2_max": -13.909273234543962, "outflow_rate_max": 1131.5092935064933, "system_level_velocity_min": 9.947535357826096, "outflow_rate_min": 332.7571298140349, "system_level_velocity_max": 17.100659507392766, "outflow_rate_mean": 1005.4789780329226}, "info": {"num_steps_trained": 4073257, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.017318833619356155, "total_loss": 21.7569522857666, "vf_loss": 21.761104583740234, "policy_loss": -0.007071887608617544, "cur_kl_coeff": 0.16875001788139343, "vf_explained_var": 0.6967302560806274, "entropy": 1.0563777685165405}, "num_steps_sampled": 4073257, "load_time_ms": 10.95, "update_time_ms": 6.987, "grad_time_ms": 9271.838, "sample_time_ms": 13622.652}, "episode_len_mean": 684.71, "time_this_iter_s": 23.19425344467163, "num_metric_batches_dropped": 0, "timesteps_total": 4073257, "episodes_total": 1836, "hostname": "flow-main", "config": {"custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "kl_coeff": 0.2, "train_batch_size": 30000, "log_level": "INFO", "num_workers": 20, "num_sgd_iter": 10, "lr": 0.0005, "monitor": false, "lr_schedule": null, "compress_observations": false, "input": "sampler", "straggler_mitigation": false, "input_evaluation": null, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "optimizer": {}, "vf_share_layers": false, "model": {"fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "fcnet_activation": "tanh", "dim": 84, "lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "channel_major": false, "conv_activation": "relu", "squash_to_range": false, "conv_filters": null, "zero_mean": true, "grayscale": false, "max_seq_len": 20, "free_log_std": false, "custom_preprocessor": null, "custom_options": {}, "use_lstm": false}, "clip_param": 0.3, "num_cpus_for_driver": 1, "synchronize_filters": true, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "output": null, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.3, 0.1]_t_min:10.0", "batch_mode": "truncate_episodes", "simple_optimizer": false, "sample_batch_size": 200, "collect_metrics_timeout": 180, "clip_rewards": null, "clip_actions": false, "kl_target": 0.01, "observation_filter": "NoFilter", "use_gae": true, "entropy_coeff": 0.0, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f9461170470>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f9461150d30>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f94611700f0>"}, "gamma": 0.99, "horizon": 1500, "num_gpus_per_worker": 0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "output_max_file_size": 67108864, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "num_gpus": 0, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}}, "timestamp": 1557232840, "episode_reward_max": 970.2088796759917, "episodes_this_iter": 19, "time_total_s": 2454.345950126648, "time_since_restore": 2454.345950126648}
{"timesteps_since_restore": 4110985, "done": false, "node_ip": "10.138.0.2", "pid": 10867, "date": "2019-05-07_12-41-04", "episode_reward_min": 52.81857438167051, "timesteps_this_iter": 37728, "training_iteration": 105, "episode_reward_mean": 876.2805812389716, "experiment_id": "a183ec7aedea427d9bacd699bea0cf75", "policy_reward_mean": {}, "iterations_since_restore": 105, "custom_metrics": {"cost2_min": -41.43307860236649, "outflow_rate_max": 1131.5092935064933, "cost1_mean": 294.38156533631087, "cost2_mean": -25.64882521422417, "system_level_velocity_mean": 12.219391008906934, "cost1_max": 335.44160048729344, "cost1_min": 30.93351493125217, "cost2_max": -13.909273234543962, "outflow_rate_mean": 990.807476542915, "system_level_velocity_min": 9.947535357826096, "outflow_rate_min": 332.7571298140349, "system_level_velocity_max": 17.100659507392766}, "info": {"num_steps_trained": 4110985, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.016546539962291718, "total_loss": 23.736282348632812, "vf_loss": 23.73995590209961, "policy_loss": -0.006464670412242413, "cur_kl_coeff": 0.16875000298023224, "vf_explained_var": 0.725555419921875, "entropy": 1.0572577714920044}, "num_steps_sampled": 4110985, "load_time_ms": 11.111, "update_time_ms": 7.041, "grad_time_ms": 9302.467, "sample_time_ms": 13696.663}, "episode_len_mean": 674.03, "time_this_iter_s": 23.966125965118408, "num_metric_batches_dropped": 0, "timesteps_total": 4110985, "episodes_total": 1855, "hostname": "flow-main", "config": {"custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "kl_coeff": 0.2, "train_batch_size": 30000, "log_level": "INFO", "num_workers": 20, "num_sgd_iter": 10, "lr": 0.0005, "monitor": false, "lr_schedule": null, "compress_observations": false, "input": "sampler", "straggler_mitigation": false, "input_evaluation": null, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "optimizer": {}, "vf_share_layers": false, "model": {"fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "fcnet_activation": "tanh", "dim": 84, "lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "channel_major": false, "conv_activation": "relu", "squash_to_range": false, "conv_filters": null, "zero_mean": true, "grayscale": false, "max_seq_len": 20, "free_log_std": false, "custom_preprocessor": null, "custom_options": {}, "use_lstm": false}, "clip_param": 0.3, "num_cpus_for_driver": 1, "synchronize_filters": true, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "output": null, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.3, 0.1]_t_min:10.0", "batch_mode": "truncate_episodes", "simple_optimizer": false, "sample_batch_size": 200, "collect_metrics_timeout": 180, "clip_rewards": null, "clip_actions": false, "kl_target": 0.01, "observation_filter": "NoFilter", "use_gae": true, "entropy_coeff": 0.0, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb5db70>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb5db38>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb5d470>"}, "gamma": 0.99, "horizon": 1500, "num_gpus_per_worker": 0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "output_max_file_size": 67108864, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "num_gpus": 0, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}}, "timestamp": 1557232864, "episode_reward_max": 970.2088796759917, "episodes_this_iter": 19, "time_total_s": 2478.3120760917664, "time_since_restore": 2478.3120760917664}
{"timesteps_since_restore": 4148188, "done": false, "node_ip": "10.138.0.2", "pid": 10867, "date": "2019-05-07_12-41-27", "episode_reward_min": 46.124250042090594, "timesteps_this_iter": 37203, "training_iteration": 106, "episode_reward_mean": 864.6586618453808, "experiment_id": "a183ec7aedea427d9bacd699bea0cf75", "policy_reward_mean": {}, "iterations_since_restore": 106, "custom_metrics": {"cost2_min": -41.43307860236649, "outflow_rate_max": 1131.5092935064933, "cost1_mean": 289.7243981996261, "cost2_mean": -25.131704189068806, "system_level_velocity_mean": 12.20695767315566, "cost1_max": 333.5009745387515, "cost1_min": 25.332870155136945, "cost2_max": -9.922029754562232, "outflow_rate_mean": 974.8470821109676, "system_level_velocity_min": 9.947535357826096, "outflow_rate_min": 327.3926328531922, "system_level_velocity_max": 17.113651040372133}, "info": {"num_steps_trained": 4148188, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.01750403828918934, "total_loss": 26.162372589111328, "vf_loss": 26.16748046875, "policy_loss": -0.008063576184213161, "cur_kl_coeff": 0.16875003278255463, "vf_explained_var": 0.6047504544258118, "entropy": 1.0445616245269775}, "num_steps_sampled": 4148188, "load_time_ms": 11.202, "update_time_ms": 7.024, "grad_time_ms": 9298.674, "sample_time_ms": 13675.769}, "episode_len_mean": 668.07, "time_this_iter_s": 22.847798824310303, "num_metric_batches_dropped": 0, "timesteps_total": 4148188, "episodes_total": 1877, "hostname": "flow-main", "config": {"custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "kl_coeff": 0.2, "train_batch_size": 30000, "log_level": "INFO", "num_workers": 20, "num_sgd_iter": 10, "lr": 0.0005, "monitor": false, "lr_schedule": null, "compress_observations": false, "input": "sampler", "straggler_mitigation": false, "input_evaluation": null, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "optimizer": {}, "vf_share_layers": false, "model": {"fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "fcnet_activation": "tanh", "dim": 84, "lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "channel_major": false, "conv_activation": "relu", "squash_to_range": false, "conv_filters": null, "zero_mean": true, "grayscale": false, "max_seq_len": 20, "free_log_std": false, "custom_preprocessor": null, "custom_options": {}, "use_lstm": false}, "clip_param": 0.3, "num_cpus_for_driver": 1, "synchronize_filters": true, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "output": null, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.3, 0.1]_t_min:10.0", "batch_mode": "truncate_episodes", "simple_optimizer": false, "sample_batch_size": 200, "collect_metrics_timeout": 180, "clip_rewards": null, "clip_actions": false, "kl_target": 0.01, "observation_filter": "NoFilter", "use_gae": true, "entropy_coeff": 0.0, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb69ac8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb69cc0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb69588>"}, "gamma": 0.99, "horizon": 1500, "num_gpus_per_worker": 0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "output_max_file_size": 67108864, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "num_gpus": 0, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}}, "timestamp": 1557232887, "episode_reward_max": 970.2088796759917, "episodes_this_iter": 22, "time_total_s": 2501.1598749160767, "time_since_restore": 2501.1598749160767}
{"timesteps_since_restore": 4185405, "done": false, "node_ip": "10.138.0.2", "pid": 10867, "date": "2019-05-07_12-41-50", "episode_reward_min": 41.81796814058681, "timesteps_this_iter": 37217, "training_iteration": 107, "episode_reward_mean": 838.1184975401316, "experiment_id": "a183ec7aedea427d9bacd699bea0cf75", "policy_reward_mean": {}, "iterations_since_restore": 107, "custom_metrics": {"cost2_min": -41.43307860236649, "outflow_rate_max": 1131.5092935064933, "cost1_mean": 282.421456691126, "cost2_mean": -24.599991679392268, "system_level_velocity_mean": 12.275577723585872, "cost1_max": 333.5009745387515, "cost1_min": 25.332870155136945, "cost2_max": -9.922029754562232, "outflow_rate_mean": 959.0866172128372, "system_level_velocity_min": 9.440124488085639, "outflow_rate_min": 327.3926328531922, "system_level_velocity_max": 17.98173238251353}, "info": {"num_steps_trained": 4185405, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.01613505557179451, "total_loss": 27.662307739257812, "vf_loss": 27.6671199798584, "policy_loss": -0.007534682285040617, "cur_kl_coeff": 0.16875003278255463, "vf_explained_var": 0.6353461146354675, "entropy": 1.055220127105713}, "num_steps_sampled": 4185405, "load_time_ms": 10.781, "update_time_ms": 6.987, "grad_time_ms": 9279.153, "sample_time_ms": 13635.669}, "episode_len_mean": 652.42, "time_this_iter_s": 22.80034375190735, "num_metric_batches_dropped": 0, "timesteps_total": 4185405, "episodes_total": 1899, "hostname": "flow-main", "config": {"custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "kl_coeff": 0.2, "train_batch_size": 30000, "log_level": "INFO", "num_workers": 20, "num_sgd_iter": 10, "lr": 0.0005, "monitor": false, "lr_schedule": null, "compress_observations": false, "input": "sampler", "straggler_mitigation": false, "input_evaluation": null, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "optimizer": {}, "vf_share_layers": false, "model": {"fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "fcnet_activation": "tanh", "dim": 84, "lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "channel_major": false, "conv_activation": "relu", "squash_to_range": false, "conv_filters": null, "zero_mean": true, "grayscale": false, "max_seq_len": 20, "free_log_std": false, "custom_preprocessor": null, "custom_options": {}, "use_lstm": false}, "clip_param": 0.3, "num_cpus_for_driver": 1, "synchronize_filters": true, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "output": null, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.3, 0.1]_t_min:10.0", "batch_mode": "truncate_episodes", "simple_optimizer": false, "sample_batch_size": 200, "collect_metrics_timeout": 180, "clip_rewards": null, "clip_actions": false, "kl_target": 0.01, "observation_filter": "NoFilter", "use_gae": true, "entropy_coeff": 0.0, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb4fc18>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb69f28>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb4f0b8>"}, "gamma": 0.99, "horizon": 1500, "num_gpus_per_worker": 0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "output_max_file_size": 67108864, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "num_gpus": 0, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}}, "timestamp": 1557232910, "episode_reward_max": 970.2088796759917, "episodes_this_iter": 22, "time_total_s": 2523.960218667984, "time_since_restore": 2523.960218667984}
{"timesteps_since_restore": 4222179, "done": false, "node_ip": "10.138.0.2", "pid": 10867, "date": "2019-05-07_12-42-13", "episode_reward_min": 41.81796814058681, "timesteps_this_iter": 36774, "training_iteration": 108, "episode_reward_mean": 820.3709221428913, "experiment_id": "a183ec7aedea427d9bacd699bea0cf75", "policy_reward_mean": {}, "iterations_since_restore": 108, "custom_metrics": {"cost2_min": -34.56362829683845, "outflow_rate_max": 1126.8868311688313, "cost1_mean": 278.1370280814748, "cost2_mean": -24.073953662144135, "system_level_velocity_mean": 12.328986907042164, "cost1_max": 333.5009745387515, "cost1_min": 25.332870155136945, "cost2_max": -9.922029754562232, "outflow_rate_mean": 948.5893842702768, "system_level_velocity_min": 9.440124488085639, "outflow_rate_min": 327.3926328531922, "system_level_velocity_max": 17.98173238251353}, "info": {"num_steps_trained": 4222179, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.015277654863893986, "total_loss": 28.23175811767578, "vf_loss": 28.234947204589844, "policy_loss": -0.005765367299318314, "cur_kl_coeff": 0.16875000298023224, "vf_explained_var": 0.5991697907447815, "entropy": 1.0630403757095337}, "num_steps_sampled": 4222179, "load_time_ms": 10.845, "update_time_ms": 6.906, "grad_time_ms": 9301.135, "sample_time_ms": 13673.358}, "episode_len_mean": 643.09, "time_this_iter_s": 23.336581468582153, "num_metric_batches_dropped": 0, "timesteps_total": 4222179, "episodes_total": 1920, "hostname": "flow-main", "config": {"custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "kl_coeff": 0.2, "train_batch_size": 30000, "log_level": "INFO", "num_workers": 20, "num_sgd_iter": 10, "lr": 0.0005, "monitor": false, "lr_schedule": null, "compress_observations": false, "input": "sampler", "straggler_mitigation": false, "input_evaluation": null, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "optimizer": {}, "vf_share_layers": false, "model": {"fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "fcnet_activation": "tanh", "dim": 84, "lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "channel_major": false, "conv_activation": "relu", "squash_to_range": false, "conv_filters": null, "zero_mean": true, "grayscale": false, "max_seq_len": 20, "free_log_std": false, "custom_preprocessor": null, "custom_options": {}, "use_lstm": false}, "clip_param": 0.3, "num_cpus_for_driver": 1, "synchronize_filters": true, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "output": null, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.3, 0.1]_t_min:10.0", "batch_mode": "truncate_episodes", "simple_optimizer": false, "sample_batch_size": 200, "collect_metrics_timeout": 180, "clip_rewards": null, "clip_actions": false, "kl_target": 0.01, "observation_filter": "NoFilter", "use_gae": true, "entropy_coeff": 0.0, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f9461150d30>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb5db70>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb5d5c0>"}, "gamma": 0.99, "horizon": 1500, "num_gpus_per_worker": 0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "output_max_file_size": 67108864, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "num_gpus": 0, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}}, "timestamp": 1557232933, "episode_reward_max": 970.2088796759917, "episodes_this_iter": 21, "time_total_s": 2547.296800136566, "time_since_restore": 2547.296800136566}
{"timesteps_since_restore": 4259053, "done": false, "node_ip": "10.138.0.2", "pid": 10867, "date": "2019-05-07_12-42-36", "episode_reward_min": 41.81796814058681, "timesteps_this_iter": 36874, "training_iteration": 109, "episode_reward_mean": 821.0570441823933, "experiment_id": "a183ec7aedea427d9bacd699bea0cf75", "policy_reward_mean": {}, "iterations_since_restore": 109, "custom_metrics": {"cost2_min": -34.56362829683845, "outflow_rate_max": 1122.201688311688, "cost1_mean": 280.9438637700778, "cost2_mean": -24.00783989675886, "system_level_velocity_mean": 12.318316331074714, "cost1_max": 331.5744957768623, "cost1_min": 25.332870155136945, "cost2_max": -9.922029754562232, "outflow_rate_mean": 950.0477954656428, "system_level_velocity_min": 9.440124488085639, "outflow_rate_min": 327.3926328531922, "system_level_velocity_max": 17.98173238251353}, "info": {"num_steps_trained": 4259053, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.015118595212697983, "total_loss": 23.18549156188965, "vf_loss": 23.189144134521484, "policy_loss": -0.006205871235579252, "cur_kl_coeff": 0.16875001788139343, "vf_explained_var": 0.655150294303894, "entropy": 1.064633846282959}, "num_steps_sampled": 4259053, "load_time_ms": 11.173, "update_time_ms": 6.871, "grad_time_ms": 9288.949, "sample_time_ms": 13627.869}, "episode_len_mean": 650.1, "time_this_iter_s": 22.686382055282593, "num_metric_batches_dropped": 0, "timesteps_total": 4259053, "episodes_total": 1939, "hostname": "flow-main", "config": {"custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "kl_coeff": 0.2, "train_batch_size": 30000, "log_level": "INFO", "num_workers": 20, "num_sgd_iter": 10, "lr": 0.0005, "monitor": false, "lr_schedule": null, "compress_observations": false, "input": "sampler", "straggler_mitigation": false, "input_evaluation": null, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "optimizer": {}, "vf_share_layers": false, "model": {"fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "fcnet_activation": "tanh", "dim": 84, "lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "channel_major": false, "conv_activation": "relu", "squash_to_range": false, "conv_filters": null, "zero_mean": true, "grayscale": false, "max_seq_len": 20, "free_log_std": false, "custom_preprocessor": null, "custom_options": {}, "use_lstm": false}, "clip_param": 0.3, "num_cpus_for_driver": 1, "synchronize_filters": true, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "output": null, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.3, 0.1]_t_min:10.0", "batch_mode": "truncate_episodes", "simple_optimizer": false, "sample_batch_size": 200, "collect_metrics_timeout": 180, "clip_rewards": null, "clip_actions": false, "kl_target": 0.01, "observation_filter": "NoFilter", "use_gae": true, "entropy_coeff": 0.0, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f945fcd65c0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f945fcd6748>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f945fcd6cc0>"}, "gamma": 0.99, "horizon": 1500, "num_gpus_per_worker": 0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "output_max_file_size": 67108864, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "num_gpus": 0, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}}, "timestamp": 1557232956, "episode_reward_max": 958.0745572349139, "episodes_this_iter": 19, "time_total_s": 2569.9831821918488, "time_since_restore": 2569.9831821918488}
{"timesteps_since_restore": 4295289, "done": false, "node_ip": "10.138.0.2", "pid": 10867, "date": "2019-05-07_12-42-59", "episode_reward_min": 41.81796814058681, "timesteps_this_iter": 36236, "training_iteration": 110, "episode_reward_mean": 822.8037652782825, "experiment_id": "a183ec7aedea427d9bacd699bea0cf75", "policy_reward_mean": {}, "iterations_since_restore": 110, "custom_metrics": {"cost2_min": -30.29837310822538, "outflow_rate_max": 1121.9917246753246, "cost1_mean": 282.20307579730087, "cost2_mean": -23.818100005866732, "system_level_velocity_mean": 12.249638987391732, "cost1_max": 331.5744957768623, "cost1_min": 25.332870155136945, "cost2_max": -9.922029754562232, "outflow_rate_mean": 955.3607909511119, "system_level_velocity_min": 9.440124488085639, "outflow_rate_min": 327.3926328531922, "system_level_velocity_max": 17.98173238251353}, "info": {"num_steps_trained": 4295289, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.015758700668811798, "total_loss": 27.079090118408203, "vf_loss": 27.082189559936523, "policy_loss": -0.005758027546107769, "cur_kl_coeff": 0.16875001788139343, "vf_explained_var": 0.5166965126991272, "entropy": 1.0493102073669434}, "num_steps_sampled": 4295289, "load_time_ms": 11.306, "update_time_ms": 7.001, "grad_time_ms": 9310.286, "sample_time_ms": 13576.749}, "episode_len_mean": 655.81, "time_this_iter_s": 22.42254662513733, "num_metric_batches_dropped": 0, "timesteps_total": 4295289, "episodes_total": 1959, "hostname": "flow-main", "config": {"custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "kl_coeff": 0.2, "train_batch_size": 30000, "log_level": "INFO", "num_workers": 20, "num_sgd_iter": 10, "lr": 0.0005, "monitor": false, "lr_schedule": null, "compress_observations": false, "input": "sampler", "straggler_mitigation": false, "input_evaluation": null, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "optimizer": {}, "vf_share_layers": false, "model": {"fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "fcnet_activation": "tanh", "dim": 84, "lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "channel_major": false, "conv_activation": "relu", "squash_to_range": false, "conv_filters": null, "zero_mean": true, "grayscale": false, "max_seq_len": 20, "free_log_std": false, "custom_preprocessor": null, "custom_options": {}, "use_lstm": false}, "clip_param": 0.3, "num_cpus_for_driver": 1, "synchronize_filters": true, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "output": null, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.3, 0.1]_t_min:10.0", "batch_mode": "truncate_episodes", "simple_optimizer": false, "sample_batch_size": 200, "collect_metrics_timeout": 180, "clip_rewards": null, "clip_actions": false, "kl_target": 0.01, "observation_filter": "NoFilter", "use_gae": true, "entropy_coeff": 0.0, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f9461170668>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb4f0b8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f94611701d0>"}, "gamma": 0.99, "horizon": 1500, "num_gpus_per_worker": 0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "output_max_file_size": 67108864, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "num_gpus": 0, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}}, "timestamp": 1557232979, "episode_reward_max": 948.1470667581217, "episodes_this_iter": 20, "time_total_s": 2592.405728816986, "time_since_restore": 2592.405728816986}
{"timesteps_since_restore": 4332350, "done": false, "node_ip": "10.138.0.2", "pid": 10867, "date": "2019-05-07_12-43-21", "episode_reward_min": 41.81796814058681, "timesteps_this_iter": 37061, "training_iteration": 111, "episode_reward_mean": 829.9289062138616, "experiment_id": "a183ec7aedea427d9bacd699bea0cf75", "policy_reward_mean": {}, "iterations_since_restore": 111, "custom_metrics": {"cost2_min": -30.187729047820827, "outflow_rate_max": 1124.8601766233764, "cost1_mean": 284.6774058336857, "cost2_mean": -23.776461378375103, "system_level_velocity_mean": 12.150577359181641, "cost1_max": 331.5744957768623, "cost1_min": 26.410729728866116, "cost2_max": -13.645348661605734, "outflow_rate_mean": 960.5850329025333, "system_level_velocity_min": 9.440124488085639, "outflow_rate_min": 340.0431742023662, "system_level_velocity_max": 17.98173238251353}, "info": {"num_steps_trained": 4332350, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.015739381313323975, "total_loss": 23.532663345336914, "vf_loss": 23.53582191467285, "policy_loss": -0.005813549738377333, "cur_kl_coeff": 0.16875001788139343, "vf_explained_var": 0.5901058912277222, "entropy": 1.0607855319976807}, "num_steps_sampled": 4332350, "load_time_ms": 11.751, "update_time_ms": 7.117, "grad_time_ms": 9292.615, "sample_time_ms": 13493.045}, "episode_len_mean": 663.2, "time_this_iter_s": 22.320292234420776, "num_metric_batches_dropped": 0, "timesteps_total": 4332350, "episodes_total": 1978, "hostname": "flow-main", "config": {"custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "kl_coeff": 0.2, "train_batch_size": 30000, "log_level": "INFO", "num_workers": 20, "num_sgd_iter": 10, "lr": 0.0005, "monitor": false, "lr_schedule": null, "compress_observations": false, "input": "sampler", "straggler_mitigation": false, "input_evaluation": null, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "optimizer": {}, "vf_share_layers": false, "model": {"fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "fcnet_activation": "tanh", "dim": 84, "lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "channel_major": false, "conv_activation": "relu", "squash_to_range": false, "conv_filters": null, "zero_mean": true, "grayscale": false, "max_seq_len": 20, "free_log_std": false, "custom_preprocessor": null, "custom_options": {}, "use_lstm": false}, "clip_param": 0.3, "num_cpus_for_driver": 1, "synchronize_filters": true, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "output": null, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.3, 0.1]_t_min:10.0", "batch_mode": "truncate_episodes", "simple_optimizer": false, "sample_batch_size": 200, "collect_metrics_timeout": 180, "clip_rewards": null, "clip_actions": false, "kl_target": 0.01, "observation_filter": "NoFilter", "use_gae": true, "entropy_coeff": 0.0, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb5d400>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb5d390>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb5d5c0>"}, "gamma": 0.99, "horizon": 1500, "num_gpus_per_worker": 0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "output_max_file_size": 67108864, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "num_gpus": 0, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}}, "timestamp": 1557233001, "episode_reward_max": 935.630026027004, "episodes_this_iter": 19, "time_total_s": 2614.726021051407, "time_since_restore": 2614.726021051407}
{"timesteps_since_restore": 4369100, "done": false, "node_ip": "10.138.0.2", "pid": 10867, "date": "2019-05-07_12-43-43", "episode_reward_min": 142.35376523906584, "timesteps_this_iter": 36750, "training_iteration": 112, "episode_reward_mean": 846.9813488987493, "experiment_id": "a183ec7aedea427d9bacd699bea0cf75", "policy_reward_mean": {}, "iterations_since_restore": 112, "custom_metrics": {"cost2_min": -31.218903815714743, "outflow_rate_max": 1162.832748051948, "cost1_mean": 290.8564838003349, "cost2_mean": -24.164347243050607, "system_level_velocity_mean": 12.110768746770331, "cost1_max": 330.01318665860833, "cost1_min": 63.27630488443344, "cost2_max": -17.031713082088558, "outflow_rate_mean": 975.6616479178741, "system_level_velocity_min": 10.193612283193833, "outflow_rate_min": 381.87862023084017, "system_level_velocity_max": 14.973134315845897}, "info": {"num_steps_trained": 4369100, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.01695215329527855, "total_loss": 21.84307098388672, "vf_loss": 21.846927642822266, "policy_loss": -0.006717338692396879, "cur_kl_coeff": 0.16875000298023224, "vf_explained_var": 0.5957083106040955, "entropy": 1.0214277505874634}, "num_steps_sampled": 4369100, "load_time_ms": 11.599, "update_time_ms": 7.193, "grad_time_ms": 9242.277, "sample_time_ms": 13533.258}, "episode_len_mean": 675.36, "time_this_iter_s": 22.342822074890137, "num_metric_batches_dropped": 0, "timesteps_total": 4369100, "episodes_total": 1996, "hostname": "flow-main", "config": {"custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "kl_coeff": 0.2, "train_batch_size": 30000, "log_level": "INFO", "num_workers": 20, "num_sgd_iter": 10, "lr": 0.0005, "monitor": false, "lr_schedule": null, "compress_observations": false, "input": "sampler", "straggler_mitigation": false, "input_evaluation": null, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "optimizer": {}, "vf_share_layers": false, "model": {"fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "fcnet_activation": "tanh", "dim": 84, "lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "channel_major": false, "conv_activation": "relu", "squash_to_range": false, "conv_filters": null, "zero_mean": true, "grayscale": false, "max_seq_len": 20, "free_log_std": false, "custom_preprocessor": null, "custom_options": {}, "use_lstm": false}, "clip_param": 0.3, "num_cpus_for_driver": 1, "synchronize_filters": true, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "output": null, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.3, 0.1]_t_min:10.0", "batch_mode": "truncate_episodes", "simple_optimizer": false, "sample_batch_size": 200, "collect_metrics_timeout": 180, "clip_rewards": null, "clip_actions": false, "kl_target": 0.01, "observation_filter": "NoFilter", "use_gae": true, "entropy_coeff": 0.0, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb69588>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f9461170cf8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f94611700f0>"}, "gamma": 0.99, "horizon": 1500, "num_gpus_per_worker": 0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "output_max_file_size": 67108864, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "num_gpus": 0, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}}, "timestamp": 1557233023, "episode_reward_max": 935.630026027004, "episodes_this_iter": 18, "time_total_s": 2637.068843126297, "time_since_restore": 2637.068843126297}
{"timesteps_since_restore": 4405856, "done": false, "node_ip": "10.138.0.2", "pid": 10867, "date": "2019-05-07_12-44-06", "episode_reward_min": 142.35376523906584, "timesteps_this_iter": 36756, "training_iteration": 113, "episode_reward_mean": 848.5019119405368, "experiment_id": "a183ec7aedea427d9bacd699bea0cf75", "policy_reward_mean": {}, "iterations_since_restore": 113, "custom_metrics": {"cost2_min": -31.218903815714743, "outflow_rate_max": 1162.832748051948, "cost1_mean": 293.8345796529136, "cost2_mean": -24.376669589511035, "system_level_velocity_mean": 12.161324325278771, "cost1_max": 330.01318665860833, "cost1_min": 63.27630488443344, "cost2_max": -17.031713082088558, "outflow_rate_mean": 984.8016859507431, "system_level_velocity_min": 10.337439784929403, "outflow_rate_min": 381.87862023084017, "system_level_velocity_max": 13.753957866999029}, "info": {"num_steps_trained": 4405856, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.016325632110238075, "total_loss": 27.34567642211914, "vf_loss": 27.349214553833008, "policy_loss": -0.006295203231275082, "cur_kl_coeff": 0.16875000298023224, "vf_explained_var": 0.5161417722702026, "entropy": 1.0247167348861694}, "num_steps_sampled": 4405856, "load_time_ms": 10.977, "update_time_ms": 7.215, "grad_time_ms": 9219.132, "sample_time_ms": 13524.621}, "episode_len_mean": 679.22, "time_this_iter_s": 22.442465782165527, "num_metric_batches_dropped": 0, "timesteps_total": 4405856, "episodes_total": 2017, "hostname": "flow-main", "config": {"custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "kl_coeff": 0.2, "train_batch_size": 30000, "log_level": "INFO", "num_workers": 20, "num_sgd_iter": 10, "lr": 0.0005, "monitor": false, "lr_schedule": null, "compress_observations": false, "input": "sampler", "straggler_mitigation": false, "input_evaluation": null, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "optimizer": {}, "vf_share_layers": false, "model": {"fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "fcnet_activation": "tanh", "dim": 84, "lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "channel_major": false, "conv_activation": "relu", "squash_to_range": false, "conv_filters": null, "zero_mean": true, "grayscale": false, "max_seq_len": 20, "free_log_std": false, "custom_preprocessor": null, "custom_options": {}, "use_lstm": false}, "clip_param": 0.3, "num_cpus_for_driver": 1, "synchronize_filters": true, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "output": null, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.3, 0.1]_t_min:10.0", "batch_mode": "truncate_episodes", "simple_optimizer": false, "sample_batch_size": 200, "collect_metrics_timeout": 180, "clip_rewards": null, "clip_actions": false, "kl_target": 0.01, "observation_filter": "NoFilter", "use_gae": true, "entropy_coeff": 0.0, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f9461150d30>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb6ecf8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb6e4a8>"}, "gamma": 0.99, "horizon": 1500, "num_gpus_per_worker": 0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "output_max_file_size": 67108864, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "num_gpus": 0, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}}, "timestamp": 1557233046, "episode_reward_max": 954.309450421665, "episodes_this_iter": 21, "time_total_s": 2659.5113089084625, "time_since_restore": 2659.5113089084625}
{"timesteps_since_restore": 4442497, "done": false, "node_ip": "10.138.0.2", "pid": 10867, "date": "2019-05-07_12-44-28", "episode_reward_min": 126.4954195591463, "timesteps_this_iter": 36641, "training_iteration": 114, "episode_reward_mean": 834.6955503984941, "experiment_id": "a183ec7aedea427d9bacd699bea0cf75", "policy_reward_mean": {}, "iterations_since_restore": 114, "custom_metrics": {"cost2_min": -31.218903815714743, "outflow_rate_max": 1162.832748051948, "cost1_mean": 289.8260583954632, "cost2_mean": -23.900742680473705, "system_level_velocity_mean": 12.209560259396051, "cost1_max": 334.3053703358088, "cost1_min": 52.5795953536825, "cost2_max": -12.473666818742938, "outflow_rate_mean": 978.4751853209486, "system_level_velocity_min": 10.337439784929403, "outflow_rate_min": 381.87862023084017, "system_level_velocity_max": 13.899706024427681}, "info": {"num_steps_trained": 4442497, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.013862618245184422, "total_loss": 27.393800735473633, "vf_loss": 27.396671295166016, "policy_loss": -0.005209277383983135, "cur_kl_coeff": 0.16875001788139343, "vf_explained_var": 0.513563334941864, "entropy": 1.0163434743881226}, "num_steps_sampled": 4442497, "load_time_ms": 11.478, "update_time_ms": 7.377, "grad_time_ms": 9189.813, "sample_time_ms": 13450.932}, "episode_len_mean": 668.76, "time_this_iter_s": 22.17349648475647, "num_metric_batches_dropped": 0, "timesteps_total": 4442497, "episodes_total": 2038, "hostname": "flow-main", "config": {"custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "kl_coeff": 0.2, "train_batch_size": 30000, "log_level": "INFO", "num_workers": 20, "num_sgd_iter": 10, "lr": 0.0005, "monitor": false, "lr_schedule": null, "compress_observations": false, "input": "sampler", "straggler_mitigation": false, "input_evaluation": null, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "optimizer": {}, "vf_share_layers": false, "model": {"fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "fcnet_activation": "tanh", "dim": 84, "lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "channel_major": false, "conv_activation": "relu", "squash_to_range": false, "conv_filters": null, "zero_mean": true, "grayscale": false, "max_seq_len": 20, "free_log_std": false, "custom_preprocessor": null, "custom_options": {}, "use_lstm": false}, "clip_param": 0.3, "num_cpus_for_driver": 1, "synchronize_filters": true, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "output": null, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.3, 0.1]_t_min:10.0", "batch_mode": "truncate_episodes", "simple_optimizer": false, "sample_batch_size": 200, "collect_metrics_timeout": 180, "clip_rewards": null, "clip_actions": false, "kl_target": 0.01, "observation_filter": "NoFilter", "use_gae": true, "entropy_coeff": 0.0, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f946116f0b8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f946116f710>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb69240>"}, "gamma": 0.99, "horizon": 1500, "num_gpus_per_worker": 0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "output_max_file_size": 67108864, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "num_gpus": 0, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}}, "timestamp": 1557233068, "episode_reward_max": 954.309450421665, "episodes_this_iter": 21, "time_total_s": 2681.684805393219, "time_since_restore": 2681.684805393219}
{"timesteps_since_restore": 4479600, "done": false, "node_ip": "10.138.0.2", "pid": 10867, "date": "2019-05-07_12-44-51", "episode_reward_min": 126.4954195591463, "timesteps_this_iter": 37103, "training_iteration": 115, "episode_reward_mean": 841.61923879517, "experiment_id": "a183ec7aedea427d9bacd699bea0cf75", "policy_reward_mean": {}, "iterations_since_restore": 115, "custom_metrics": {"cost2_min": -31.218903815714743, "outflow_rate_max": 1162.832748051948, "cost1_mean": 292.4961867568088, "cost2_mean": -23.776414332545723, "system_level_velocity_mean": 12.244667711644375, "cost1_max": 342.4994436409577, "cost1_min": 52.5795953536825, "cost2_max": -12.473666818742938, "outflow_rate_mean": 978.6446656631498, "system_level_velocity_min": 9.636381507173532, "outflow_rate_min": 381.87862023084017, "system_level_velocity_max": 13.899706024427681}, "info": {"num_steps_trained": 4479600, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.017008138820528984, "total_loss": 24.592330932617188, "vf_loss": 24.597270965576172, "policy_loss": -0.007809904403984547, "cur_kl_coeff": 0.16875001788139343, "vf_explained_var": 0.6795606017112732, "entropy": 1.036683201789856}, "num_steps_sampled": 4479600, "load_time_ms": 11.399, "update_time_ms": 7.343, "grad_time_ms": 9162.612, "sample_time_ms": 13423.074}, "episode_len_mean": 673.73, "time_this_iter_s": 23.411234855651855, "num_metric_batches_dropped": 0, "timesteps_total": 4479600, "episodes_total": 2059, "hostname": "flow-main", "config": {"custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "kl_coeff": 0.2, "train_batch_size": 30000, "log_level": "INFO", "num_workers": 20, "num_sgd_iter": 10, "lr": 0.0005, "monitor": false, "lr_schedule": null, "compress_observations": false, "input": "sampler", "straggler_mitigation": false, "input_evaluation": null, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "optimizer": {}, "vf_share_layers": false, "model": {"fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "fcnet_activation": "tanh", "dim": 84, "lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "channel_major": false, "conv_activation": "relu", "squash_to_range": false, "conv_filters": null, "zero_mean": true, "grayscale": false, "max_seq_len": 20, "free_log_std": false, "custom_preprocessor": null, "custom_options": {}, "use_lstm": false}, "clip_param": 0.3, "num_cpus_for_driver": 1, "synchronize_filters": true, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "output": null, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.3, 0.1]_t_min:10.0", "batch_mode": "truncate_episodes", "simple_optimizer": false, "sample_batch_size": 200, "collect_metrics_timeout": 180, "clip_rewards": null, "clip_actions": false, "kl_target": 0.01, "observation_filter": "NoFilter", "use_gae": true, "entropy_coeff": 0.0, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f9461170320>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb6edd8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb6e1d0>"}, "gamma": 0.99, "horizon": 1500, "num_gpus_per_worker": 0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "output_max_file_size": 67108864, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "num_gpus": 0, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}}, "timestamp": 1557233091, "episode_reward_max": 954.309450421665, "episodes_this_iter": 21, "time_total_s": 2705.096040248871, "time_since_restore": 2705.096040248871}
{"timesteps_since_restore": 4516223, "done": false, "node_ip": "10.138.0.2", "pid": 10867, "date": "2019-05-07_12-45-15", "episode_reward_min": 126.4954195591463, "timesteps_this_iter": 36623, "training_iteration": 116, "episode_reward_mean": 842.8538964519929, "experiment_id": "a183ec7aedea427d9bacd699bea0cf75", "policy_reward_mean": {}, "iterations_since_restore": 116, "custom_metrics": {"cost2_min": -31.218903815714743, "outflow_rate_max": 1162.832748051948, "cost1_mean": 295.0029027163405, "cost2_mean": -23.62144608098029, "system_level_velocity_mean": 12.389086457314004, "cost1_max": 342.4994436409577, "cost1_min": 52.5795953536825, "cost2_max": -12.473666818742938, "outflow_rate_mean": 981.773520614546, "system_level_velocity_min": 9.636381507173532, "outflow_rate_min": 382.72089343242357, "system_level_velocity_max": 14.674813116254976}, "info": {"num_steps_trained": 4516223, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.014253111556172371, "total_loss": 23.983097076416016, "vf_loss": 23.986553192138672, "policy_loss": -0.005859931465238333, "cur_kl_coeff": 0.16875001788139343, "vf_explained_var": 0.606228768825531, "entropy": 1.0211608409881592}, "num_steps_sampled": 4516223, "load_time_ms": 11.326, "update_time_ms": 7.348, "grad_time_ms": 9181.852, "sample_time_ms": 13430.73}, "episode_len_mean": 673.61, "time_this_iter_s": 23.111300706863403, "num_metric_batches_dropped": 0, "timesteps_total": 4516223, "episodes_total": 2079, "hostname": "flow-main", "config": {"custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "kl_coeff": 0.2, "train_batch_size": 30000, "log_level": "INFO", "num_workers": 20, "num_sgd_iter": 10, "lr": 0.0005, "monitor": false, "lr_schedule": null, "compress_observations": false, "input": "sampler", "straggler_mitigation": false, "input_evaluation": null, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "optimizer": {}, "vf_share_layers": false, "model": {"fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "fcnet_activation": "tanh", "dim": 84, "lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "channel_major": false, "conv_activation": "relu", "squash_to_range": false, "conv_filters": null, "zero_mean": true, "grayscale": false, "max_seq_len": 20, "free_log_std": false, "custom_preprocessor": null, "custom_options": {}, "use_lstm": false}, "clip_param": 0.3, "num_cpus_for_driver": 1, "synchronize_filters": true, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "output": null, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.3, 0.1]_t_min:10.0", "batch_mode": "truncate_episodes", "simple_optimizer": false, "sample_batch_size": 200, "collect_metrics_timeout": 180, "clip_rewards": null, "clip_actions": false, "kl_target": 0.01, "observation_filter": "NoFilter", "use_gae": true, "entropy_coeff": 0.0, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f946116f0f0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f946116f0b8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f946116f710>"}, "gamma": 0.99, "horizon": 1500, "num_gpus_per_worker": 0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "output_max_file_size": 67108864, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "num_gpus": 0, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}}, "timestamp": 1557233115, "episode_reward_max": 954.309450421665, "episodes_this_iter": 20, "time_total_s": 2728.2073409557343, "time_since_restore": 2728.2073409557343}
{"timesteps_since_restore": 4552744, "done": false, "node_ip": "10.138.0.2", "pid": 10867, "date": "2019-05-07_12-45-38", "episode_reward_min": 47.393523363664166, "timesteps_this_iter": 36521, "training_iteration": 117, "episode_reward_mean": 827.9690819262682, "experiment_id": "a183ec7aedea427d9bacd699bea0cf75", "policy_reward_mean": {}, "iterations_since_restore": 117, "custom_metrics": {"cost2_min": -30.50386408639348, "outflow_rate_max": 1125.773044155844, "cost1_mean": 291.2498152286905, "cost2_mean": -23.25007329000245, "system_level_velocity_mean": 12.500102011112228, "cost1_max": 342.4994436409577, "cost1_min": 27.16926024937208, "cost2_max": -12.473666818742938, "outflow_rate_mean": 971.781573054061, "system_level_velocity_min": 9.636381507173532, "outflow_rate_min": 334.13704299220814, "system_level_velocity_max": 17.513414060510453}, "info": {"num_steps_trained": 4552744, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.013994118198752403, "total_loss": 27.35498809814453, "vf_loss": 27.35885238647461, "policy_loss": -0.006225135643035173, "cur_kl_coeff": 0.16875003278255463, "vf_explained_var": 0.5420024394989014, "entropy": 1.042097806930542}, "num_steps_sampled": 4552744, "load_time_ms": 11.717, "update_time_ms": 7.403, "grad_time_ms": 9138.202, "sample_time_ms": 13561.039}, "episode_len_mean": 663.28, "time_this_iter_s": 23.678815364837646, "num_metric_batches_dropped": 0, "timesteps_total": 4552744, "episodes_total": 2100, "hostname": "flow-main", "config": {"custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "kl_coeff": 0.2, "train_batch_size": 30000, "log_level": "INFO", "num_workers": 20, "num_sgd_iter": 10, "lr": 0.0005, "monitor": false, "lr_schedule": null, "compress_observations": false, "input": "sampler", "straggler_mitigation": false, "input_evaluation": null, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "optimizer": {}, "vf_share_layers": false, "model": {"fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "fcnet_activation": "tanh", "dim": 84, "lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "channel_major": false, "conv_activation": "relu", "squash_to_range": false, "conv_filters": null, "zero_mean": true, "grayscale": false, "max_seq_len": 20, "free_log_std": false, "custom_preprocessor": null, "custom_options": {}, "use_lstm": false}, "clip_param": 0.3, "num_cpus_for_driver": 1, "synchronize_filters": true, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "output": null, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.3, 0.1]_t_min:10.0", "batch_mode": "truncate_episodes", "simple_optimizer": false, "sample_batch_size": 200, "collect_metrics_timeout": 180, "clip_rewards": null, "clip_actions": false, "kl_target": 0.01, "observation_filter": "NoFilter", "use_gae": true, "entropy_coeff": 0.0, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f945fcd6748>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f946116fe10>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f945fcd65c0>"}, "gamma": 0.99, "horizon": 1500, "num_gpus_per_worker": 0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "output_max_file_size": 67108864, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "num_gpus": 0, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}}, "timestamp": 1557233138, "episode_reward_max": 940.8780224651346, "episodes_this_iter": 21, "time_total_s": 2751.886156320572, "time_since_restore": 2751.886156320572}
{"timesteps_since_restore": 4589436, "done": false, "node_ip": "10.138.0.2", "pid": 10867, "date": "2019-05-07_12-46-02", "episode_reward_min": 47.393523363664166, "timesteps_this_iter": 36692, "training_iteration": 118, "episode_reward_mean": 823.5152351084612, "experiment_id": "a183ec7aedea427d9bacd699bea0cf75", "policy_reward_mean": {}, "iterations_since_restore": 118, "custom_metrics": {"cost2_min": -30.863960206701826, "outflow_rate_max": 1125.773044155844, "cost1_mean": 289.78737831521977, "cost2_mean": -23.35183085885368, "system_level_velocity_mean": 12.555699093254603, "cost1_max": 342.4994436409577, "cost1_min": 27.16926024937208, "cost2_max": -12.473666818742938, "outflow_rate_mean": 962.4296644077314, "system_level_velocity_min": 9.636381507173532, "outflow_rate_min": 334.13704299220814, "system_level_velocity_max": 17.513414060510453}, "info": {"num_steps_trained": 4589436, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.014084392227232456, "total_loss": 23.5534610748291, "vf_loss": 23.55757713317871, "policy_loss": -0.006491005886346102, "cur_kl_coeff": 0.16875001788139343, "vf_explained_var": 0.651353657245636, "entropy": 1.0298471450805664}, "num_steps_sampled": 4589436, "load_time_ms": 11.892, "update_time_ms": 7.354, "grad_time_ms": 9222.329, "sample_time_ms": 13539.768}, "episode_len_mean": 658.71, "time_this_iter_s": 23.97180199623108, "num_metric_batches_dropped": 0, "timesteps_total": 4589436, "episodes_total": 2120, "hostname": "flow-main", "config": {"custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "kl_coeff": 0.2, "train_batch_size": 30000, "log_level": "INFO", "num_workers": 20, "num_sgd_iter": 10, "lr": 0.0005, "monitor": false, "lr_schedule": null, "compress_observations": false, "input": "sampler", "straggler_mitigation": false, "input_evaluation": null, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "optimizer": {}, "vf_share_layers": false, "model": {"fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "fcnet_activation": "tanh", "dim": 84, "lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "channel_major": false, "conv_activation": "relu", "squash_to_range": false, "conv_filters": null, "zero_mean": true, "grayscale": false, "max_seq_len": 20, "free_log_std": false, "custom_preprocessor": null, "custom_options": {}, "use_lstm": false}, "clip_param": 0.3, "num_cpus_for_driver": 1, "synchronize_filters": true, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "output": null, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.3, 0.1]_t_min:10.0", "batch_mode": "truncate_episodes", "simple_optimizer": false, "sample_batch_size": 200, "collect_metrics_timeout": 180, "clip_rewards": null, "clip_actions": false, "kl_target": 0.01, "observation_filter": "NoFilter", "use_gae": true, "entropy_coeff": 0.0, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb6e400>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb6e278>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb6eda0>"}, "gamma": 0.99, "horizon": 1500, "num_gpus_per_worker": 0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "output_max_file_size": 67108864, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "num_gpus": 0, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}}, "timestamp": 1557233162, "episode_reward_max": 941.0478842325691, "episodes_this_iter": 20, "time_total_s": 2775.857958316803, "time_since_restore": 2775.857958316803}
{"timesteps_since_restore": 4625948, "done": false, "node_ip": "10.138.0.2", "pid": 10867, "date": "2019-05-07_12-46-25", "episode_reward_min": 47.393523363664166, "timesteps_this_iter": 36512, "training_iteration": 119, "episode_reward_mean": 822.9824659611232, "experiment_id": "a183ec7aedea427d9bacd699bea0cf75", "policy_reward_mean": {}, "iterations_since_restore": 119, "custom_metrics": {"cost2_min": -30.863960206701826, "outflow_rate_max": 1130.28665974026, "cost1_mean": 290.7851722908559, "cost2_mean": -23.81644458795699, "system_level_velocity_mean": 12.599224093587372, "cost1_max": 342.4994436409577, "cost1_min": 27.16926024937208, "cost2_max": -13.058163640510958, "outflow_rate_mean": 967.2228245995223, "system_level_velocity_min": 9.636381507173532, "outflow_rate_min": 334.13704299220814, "system_level_velocity_max": 17.513414060510453}, "info": {"num_steps_trained": 4625948, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.014706640504300594, "total_loss": 25.70526695251465, "vf_loss": 25.70787811279297, "policy_loss": -0.0050931572914123535, "cur_kl_coeff": 0.16875003278255463, "vf_explained_var": 0.6012835502624512, "entropy": 1.005903720855713}, "num_steps_sampled": 4625948, "load_time_ms": 12.042, "update_time_ms": 7.456, "grad_time_ms": 9252.873, "sample_time_ms": 13508.293}, "episode_len_mean": 658.8, "time_this_iter_s": 22.679194450378418, "num_metric_batches_dropped": 0, "timesteps_total": 4625948, "episodes_total": 2141, "hostname": "flow-main", "config": {"custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "kl_coeff": 0.2, "train_batch_size": 30000, "log_level": "INFO", "num_workers": 20, "num_sgd_iter": 10, "lr": 0.0005, "monitor": false, "lr_schedule": null, "compress_observations": false, "input": "sampler", "straggler_mitigation": false, "input_evaluation": null, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "optimizer": {}, "vf_share_layers": false, "model": {"fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "fcnet_activation": "tanh", "dim": 84, "lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "channel_major": false, "conv_activation": "relu", "squash_to_range": false, "conv_filters": null, "zero_mean": true, "grayscale": false, "max_seq_len": 20, "free_log_std": false, "custom_preprocessor": null, "custom_options": {}, "use_lstm": false}, "clip_param": 0.3, "num_cpus_for_driver": 1, "synchronize_filters": true, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "output": null, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.3, 0.1]_t_min:10.0", "batch_mode": "truncate_episodes", "simple_optimizer": false, "sample_batch_size": 200, "collect_metrics_timeout": 180, "clip_rewards": null, "clip_actions": false, "kl_target": 0.01, "observation_filter": "NoFilter", "use_gae": true, "entropy_coeff": 0.0, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f946116fa58>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f946116f198>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f946116f0f0>"}, "gamma": 0.99, "horizon": 1500, "num_gpus_per_worker": 0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "output_max_file_size": 67108864, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "num_gpus": 0, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}}, "timestamp": 1557233185, "episode_reward_max": 941.0478842325691, "episodes_this_iter": 21, "time_total_s": 2798.5371527671814, "time_since_restore": 2798.5371527671814}
{"timesteps_since_restore": 4662705, "done": false, "node_ip": "10.138.0.2", "pid": 10867, "date": "2019-05-07_12-46-47", "episode_reward_min": 47.393523363664166, "timesteps_this_iter": 36757, "training_iteration": 120, "episode_reward_mean": 822.2255223079982, "experiment_id": "a183ec7aedea427d9bacd699bea0cf75", "policy_reward_mean": {}, "iterations_since_restore": 120, "custom_metrics": {"cost2_min": -34.96196082009138, "outflow_rate_max": 1141.3569402597402, "cost1_mean": 292.465036518695, "cost2_mean": -24.31379599663078, "system_level_velocity_mean": 12.752143714131764, "cost1_max": 334.90341482982393, "cost1_min": 27.16926024937208, "cost2_max": -13.058163640510958, "outflow_rate_mean": 976.689154539155, "system_level_velocity_min": 10.506933500541885, "outflow_rate_min": 334.13704299220814, "system_level_velocity_max": 17.513414060510453}, "info": {"num_steps_trained": 4662705, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.0158353503793478, "total_loss": 20.53180503845215, "vf_loss": 20.535655975341797, "policy_loss": -0.006521865725517273, "cur_kl_coeff": 0.16875000298023224, "vf_explained_var": 0.703929603099823, "entropy": 1.0192975997924805}, "num_steps_sampled": 4662705, "load_time_ms": 11.939, "update_time_ms": 7.41, "grad_time_ms": 9238.208, "sample_time_ms": 13460.927}, "episode_len_mean": 656.43, "time_this_iter_s": 21.799328565597534, "num_metric_batches_dropped": 0, "timesteps_total": 4662705, "episodes_total": 2160, "hostname": "flow-main", "config": {"custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "kl_coeff": 0.2, "train_batch_size": 30000, "log_level": "INFO", "num_workers": 20, "num_sgd_iter": 10, "lr": 0.0005, "monitor": false, "lr_schedule": null, "compress_observations": false, "input": "sampler", "straggler_mitigation": false, "input_evaluation": null, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "optimizer": {}, "vf_share_layers": false, "model": {"fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "fcnet_activation": "tanh", "dim": 84, "lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "channel_major": false, "conv_activation": "relu", "squash_to_range": false, "conv_filters": null, "zero_mean": true, "grayscale": false, "max_seq_len": 20, "free_log_std": false, "custom_preprocessor": null, "custom_options": {}, "use_lstm": false}, "clip_param": 0.3, "num_cpus_for_driver": 1, "synchronize_filters": true, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "output": null, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.3, 0.1]_t_min:10.0", "batch_mode": "truncate_episodes", "simple_optimizer": false, "sample_batch_size": 200, "collect_metrics_timeout": 180, "clip_rewards": null, "clip_actions": false, "kl_target": 0.01, "observation_filter": "NoFilter", "use_gae": true, "entropy_coeff": 0.0, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f945fcd69b0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f945fcd6748>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f945fcd6a58>"}, "gamma": 0.99, "horizon": 1500, "num_gpus_per_worker": 0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "output_max_file_size": 67108864, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "num_gpus": 0, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}}, "timestamp": 1557233207, "episode_reward_max": 941.844966146282, "episodes_this_iter": 19, "time_total_s": 2820.336481332779, "time_since_restore": 2820.336481332779}
{"timesteps_since_restore": 4699336, "done": false, "node_ip": "10.138.0.2", "pid": 10867, "date": "2019-05-07_12-47-10", "episode_reward_min": 47.393523363664166, "timesteps_this_iter": 36631, "training_iteration": 121, "episode_reward_mean": 821.1974786278532, "experiment_id": "a183ec7aedea427d9bacd699bea0cf75", "policy_reward_mean": {}, "iterations_since_restore": 121, "custom_metrics": {"cost2_min": -35.46005676719949, "outflow_rate_max": 1182.7255896103895, "cost1_mean": 294.08498503681733, "cost2_mean": -24.976295586641005, "system_level_velocity_mean": 12.782421062438196, "cost1_max": 338.39355870738757, "cost1_min": 27.16926024937208, "cost2_max": -13.058163640510958, "outflow_rate_mean": 984.6864674033459, "system_level_velocity_min": 10.506933500541885, "outflow_rate_min": 334.13704299220814, "system_level_velocity_max": 17.513414060510453}, "info": {"num_steps_trained": 4699336, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.01585102453827858, "total_loss": 25.895971298217773, "vf_loss": 25.89972686767578, "policy_loss": -0.00643174210563302, "cur_kl_coeff": 0.16875001788139343, "vf_explained_var": 0.694252073764801, "entropy": 1.0123194456100464}, "num_steps_sampled": 4699336, "load_time_ms": 11.847, "update_time_ms": 7.562, "grad_time_ms": 9250.47, "sample_time_ms": 13547.444}, "episode_len_mean": 658.47, "time_this_iter_s": 23.31984806060791, "num_metric_batches_dropped": 0, "timesteps_total": 4699336, "episodes_total": 2181, "hostname": "flow-main", "config": {"custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "kl_coeff": 0.2, "train_batch_size": 30000, "log_level": "INFO", "num_workers": 20, "num_sgd_iter": 10, "lr": 0.0005, "monitor": false, "lr_schedule": null, "compress_observations": false, "input": "sampler", "straggler_mitigation": false, "input_evaluation": null, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "optimizer": {}, "vf_share_layers": false, "model": {"fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "fcnet_activation": "tanh", "dim": 84, "lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "channel_major": false, "conv_activation": "relu", "squash_to_range": false, "conv_filters": null, "zero_mean": true, "grayscale": false, "max_seq_len": 20, "free_log_std": false, "custom_preprocessor": null, "custom_options": {}, "use_lstm": false}, "clip_param": 0.3, "num_cpus_for_driver": 1, "synchronize_filters": true, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "output": null, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.3, 0.1]_t_min:10.0", "batch_mode": "truncate_episodes", "simple_optimizer": false, "sample_batch_size": 200, "collect_metrics_timeout": 180, "clip_rewards": null, "clip_actions": false, "kl_target": 0.01, "observation_filter": "NoFilter", "use_gae": true, "entropy_coeff": 0.0, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb6e668>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb6ecf8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb6e400>"}, "gamma": 0.99, "horizon": 1500, "num_gpus_per_worker": 0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "output_max_file_size": 67108864, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "num_gpus": 0, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}}, "timestamp": 1557233230, "episode_reward_max": 941.844966146282, "episodes_this_iter": 21, "time_total_s": 2843.656329393387, "time_since_restore": 2843.656329393387}
{"timesteps_since_restore": 4735342, "done": false, "node_ip": "10.138.0.2", "pid": 10867, "date": "2019-05-07_12-47-33", "episode_reward_min": 130.16199679123102, "timesteps_this_iter": 36006, "training_iteration": 122, "episode_reward_mean": 822.135682913998, "experiment_id": "a183ec7aedea427d9bacd699bea0cf75", "policy_reward_mean": {}, "iterations_since_restore": 122, "custom_metrics": {"cost2_min": -40.667867479717984, "outflow_rate_max": 1182.7255896103895, "cost1_mean": 298.51166117728735, "cost2_mean": -25.523971138398934, "system_level_velocity_mean": 12.81250468226644, "cost1_max": 344.67849908756295, "cost1_min": 54.89120918659534, "cost2_max": -13.058163640510958, "outflow_rate_mean": 991.0073578729221, "system_level_velocity_min": 9.955368445805613, "outflow_rate_min": 408.4843258685496, "system_level_velocity_max": 15.497775387391979}, "info": {"num_steps_trained": 4735342, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.01725931651890278, "total_loss": 22.47079849243164, "vf_loss": 22.476444244384766, "policy_loss": -0.008558168075978756, "cur_kl_coeff": 0.16875001788139343, "vf_explained_var": 0.7186883687973022, "entropy": 1.055132508277893}, "num_steps_sampled": 4735342, "load_time_ms": 11.879, "update_time_ms": 7.648, "grad_time_ms": 9240.81, "sample_time_ms": 13588.593}, "episode_len_mean": 667.0, "time_this_iter_s": 22.65996742248535, "num_metric_batches_dropped": 0, "timesteps_total": 4735342, "episodes_total": 2202, "hostname": "flow-main", "config": {"custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "kl_coeff": 0.2, "train_batch_size": 30000, "log_level": "INFO", "num_workers": 20, "num_sgd_iter": 10, "lr": 0.0005, "monitor": false, "lr_schedule": null, "compress_observations": false, "input": "sampler", "straggler_mitigation": false, "input_evaluation": null, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "optimizer": {}, "vf_share_layers": false, "model": {"fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "fcnet_activation": "tanh", "dim": 84, "lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "channel_major": false, "conv_activation": "relu", "squash_to_range": false, "conv_filters": null, "zero_mean": true, "grayscale": false, "max_seq_len": 20, "free_log_std": false, "custom_preprocessor": null, "custom_options": {}, "use_lstm": false}, "clip_param": 0.3, "num_cpus_for_driver": 1, "synchronize_filters": true, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "output": null, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.3, 0.1]_t_min:10.0", "batch_mode": "truncate_episodes", "simple_optimizer": false, "sample_batch_size": 200, "collect_metrics_timeout": 180, "clip_rewards": null, "clip_actions": false, "kl_target": 0.01, "observation_filter": "NoFilter", "use_gae": true, "entropy_coeff": 0.0, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f946116f860>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f946116f400>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f946116f908>"}, "gamma": 0.99, "horizon": 1500, "num_gpus_per_worker": 0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "output_max_file_size": 67108864, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "num_gpus": 0, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}}, "timestamp": 1557233253, "episode_reward_max": 941.844966146282, "episodes_this_iter": 21, "time_total_s": 2866.316296815872, "time_since_restore": 2866.316296815872}
{"timesteps_since_restore": 4771382, "done": false, "node_ip": "10.138.0.2", "pid": 10867, "date": "2019-05-07_12-47-55", "episode_reward_min": 265.49431623451267, "timesteps_this_iter": 36040, "training_iteration": 123, "episode_reward_mean": 829.4590998154802, "experiment_id": "a183ec7aedea427d9bacd699bea0cf75", "policy_reward_mean": {}, "iterations_since_restore": 123, "custom_metrics": {"cost2_min": -40.667867479717984, "outflow_rate_max": 1182.7255896103895, "cost1_mean": 304.5105856688967, "cost2_mean": -25.48251873098069, "system_level_velocity_mean": 12.866336073578008, "cost1_max": 349.34087087855517, "cost1_min": 106.85801787111751, "cost2_max": -17.525673719855124, "outflow_rate_mean": 1007.7768061331609, "system_level_velocity_min": 9.955368445805613, "outflow_rate_min": 590.6388800254149, "system_level_velocity_max": 14.578438125230084}, "info": {"num_steps_trained": 4771382, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.014793302863836288, "total_loss": 21.477649688720703, "vf_loss": 21.481918334960938, "policy_loss": -0.006764497607946396, "cur_kl_coeff": 0.16875001788139343, "vf_explained_var": 0.6241880655288696, "entropy": 1.0435580015182495}, "num_steps_sampled": 4771382, "load_time_ms": 12.051, "update_time_ms": 7.567, "grad_time_ms": 9231.865, "sample_time_ms": 13550.901}, "episode_len_mean": 677.73, "time_this_iter_s": 21.98157525062561, "num_metric_batches_dropped": 0, "timesteps_total": 4771382, "episodes_total": 2222, "hostname": "flow-main", "config": {"custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "kl_coeff": 0.2, "train_batch_size": 30000, "log_level": "INFO", "num_workers": 20, "num_sgd_iter": 10, "lr": 0.0005, "monitor": false, "lr_schedule": null, "compress_observations": false, "input": "sampler", "straggler_mitigation": false, "input_evaluation": null, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "optimizer": {}, "vf_share_layers": false, "model": {"fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "fcnet_activation": "tanh", "dim": 84, "lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "channel_major": false, "conv_activation": "relu", "squash_to_range": false, "conv_filters": null, "zero_mean": true, "grayscale": false, "max_seq_len": 20, "free_log_std": false, "custom_preprocessor": null, "custom_options": {}, "use_lstm": false}, "clip_param": 0.3, "num_cpus_for_driver": 1, "synchronize_filters": true, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "output": null, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.3, 0.1]_t_min:10.0", "batch_mode": "truncate_episodes", "simple_optimizer": false, "sample_batch_size": 200, "collect_metrics_timeout": 180, "clip_rewards": null, "clip_actions": false, "kl_target": 0.01, "observation_filter": "NoFilter", "use_gae": true, "entropy_coeff": 0.0, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb4fc50>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb4f048>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb4f588>"}, "gamma": 0.99, "horizon": 1500, "num_gpus_per_worker": 0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "output_max_file_size": 67108864, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "num_gpus": 0, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}}, "timestamp": 1557233275, "episode_reward_max": 941.844966146282, "episodes_this_iter": 20, "time_total_s": 2888.297872066498, "time_since_restore": 2888.297872066498}
{"timesteps_since_restore": 4807692, "done": false, "node_ip": "10.138.0.2", "pid": 10867, "date": "2019-05-07_12-48-17", "episode_reward_min": 27.46681251843368, "timesteps_this_iter": 36310, "training_iteration": 124, "episode_reward_mean": 832.500885247425, "experiment_id": "a183ec7aedea427d9bacd699bea0cf75", "policy_reward_mean": {}, "iterations_since_restore": 124, "custom_metrics": {"cost2_min": -40.667867479717984, "outflow_rate_max": 1182.7255896103895, "cost1_mean": 309.15934426840704, "cost2_mean": -24.98715374256759, "system_level_velocity_mean": 13.022082296773752, "cost1_max": 349.34087087855517, "cost1_min": 17.797397739532904, "cost2_max": -10.701772942794369, "outflow_rate_mean": 1013.8512757205461, "system_level_velocity_min": 9.955368445805613, "outflow_rate_min": 316.4741373407306, "system_level_velocity_max": 17.948051193107638}, "info": {"num_steps_trained": 4807692, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.013977999798953533, "total_loss": 25.119365692138672, "vf_loss": 25.123960494995117, "policy_loss": -0.006954312790185213, "cur_kl_coeff": 0.16875001788139343, "vf_explained_var": 0.6051123738288879, "entropy": 1.040590763092041}, "num_steps_sampled": 4807692, "load_time_ms": 11.814, "update_time_ms": 7.381, "grad_time_ms": 9231.526, "sample_time_ms": 13592.613}, "episode_len_mean": 684.32, "time_this_iter_s": 22.582170963287354, "num_metric_batches_dropped": 0, "timesteps_total": 4807692, "episodes_total": 2244, "hostname": "flow-main", "config": {"custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "kl_coeff": 0.2, "train_batch_size": 30000, "log_level": "INFO", "num_workers": 20, "num_sgd_iter": 10, "lr": 0.0005, "monitor": false, "lr_schedule": null, "compress_observations": false, "input": "sampler", "straggler_mitigation": false, "input_evaluation": null, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "optimizer": {}, "vf_share_layers": false, "model": {"fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "fcnet_activation": "tanh", "dim": 84, "lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "channel_major": false, "conv_activation": "relu", "squash_to_range": false, "conv_filters": null, "zero_mean": true, "grayscale": false, "max_seq_len": 20, "free_log_std": false, "custom_preprocessor": null, "custom_options": {}, "use_lstm": false}, "clip_param": 0.3, "num_cpus_for_driver": 1, "synchronize_filters": true, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "output": null, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.3, 0.1]_t_min:10.0", "batch_mode": "truncate_episodes", "simple_optimizer": false, "sample_batch_size": 200, "collect_metrics_timeout": 180, "clip_rewards": null, "clip_actions": false, "kl_target": 0.01, "observation_filter": "NoFilter", "use_gae": true, "entropy_coeff": 0.0, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb6ec18>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb6e710>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb6e278>"}, "gamma": 0.99, "horizon": 1500, "num_gpus_per_worker": 0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "output_max_file_size": 67108864, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "num_gpus": 0, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}}, "timestamp": 1557233297, "episode_reward_max": 941.844966146282, "episodes_this_iter": 22, "time_total_s": 2910.880043029785, "time_since_restore": 2910.880043029785}
{"timesteps_since_restore": 4843788, "done": false, "node_ip": "10.138.0.2", "pid": 10867, "date": "2019-05-07_12-48-39", "episode_reward_min": 27.46681251843368, "timesteps_this_iter": 36096, "training_iteration": 125, "episode_reward_mean": 805.3519079196959, "experiment_id": "a183ec7aedea427d9bacd699bea0cf75", "policy_reward_mean": {}, "iterations_since_restore": 125, "custom_metrics": {"cost2_min": -40.667867479717984, "outflow_rate_max": 1182.7255896103895, "cost1_mean": 302.78672944130835, "cost2_mean": -24.430795296934374, "system_level_velocity_mean": 13.126502503187483, "cost1_max": 349.34087087855517, "cost1_min": 17.797397739532904, "cost2_max": -10.701772942794369, "outflow_rate_mean": 1000.0474988761833, "system_level_velocity_min": 9.955368445805613, "outflow_rate_min": 316.4741373407306, "system_level_velocity_max": 17.948051193107638}, "info": {"num_steps_trained": 4843788, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.014336048625409603, "total_loss": 26.3803653717041, "vf_loss": 26.383026123046875, "policy_loss": -0.005078386981040239, "cur_kl_coeff": 0.16875001788139343, "vf_explained_var": 0.4584605395793915, "entropy": 1.0363562107086182}, "num_steps_sampled": 4843788, "load_time_ms": 11.867, "update_time_ms": 7.352, "grad_time_ms": 9196.059, "sample_time_ms": 13475.448}, "episode_len_mean": 668.05, "time_this_iter_s": 21.884555339813232, "num_metric_batches_dropped": 0, "timesteps_total": 4843788, "episodes_total": 2265, "hostname": "flow-main", "config": {"custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "kl_coeff": 0.2, "train_batch_size": 30000, "log_level": "INFO", "num_workers": 20, "num_sgd_iter": 10, "lr": 0.0005, "monitor": false, "lr_schedule": null, "compress_observations": false, "input": "sampler", "straggler_mitigation": false, "input_evaluation": null, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "optimizer": {}, "vf_share_layers": false, "model": {"fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "fcnet_activation": "tanh", "dim": 84, "lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "channel_major": false, "conv_activation": "relu", "squash_to_range": false, "conv_filters": null, "zero_mean": true, "grayscale": false, "max_seq_len": 20, "free_log_std": false, "custom_preprocessor": null, "custom_options": {}, "use_lstm": false}, "clip_param": 0.3, "num_cpus_for_driver": 1, "synchronize_filters": true, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "output": null, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.3, 0.1]_t_min:10.0", "batch_mode": "truncate_episodes", "simple_optimizer": false, "sample_batch_size": 200, "collect_metrics_timeout": 180, "clip_rewards": null, "clip_actions": false, "kl_target": 0.01, "observation_filter": "NoFilter", "use_gae": true, "entropy_coeff": 0.0, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f946116fbe0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f946116f198>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f946116f908>"}, "gamma": 0.99, "horizon": 1500, "num_gpus_per_worker": 0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "output_max_file_size": 67108864, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "num_gpus": 0, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}}, "timestamp": 1557233319, "episode_reward_max": 925.3961876293902, "episodes_this_iter": 21, "time_total_s": 2932.7645983695984, "time_since_restore": 2932.7645983695984}
{"timesteps_since_restore": 4879613, "done": false, "node_ip": "10.138.0.2", "pid": 10867, "date": "2019-05-07_12-49-02", "episode_reward_min": 27.46681251843368, "timesteps_this_iter": 35825, "training_iteration": 126, "episode_reward_mean": 789.6263961034456, "experiment_id": "a183ec7aedea427d9bacd699bea0cf75", "policy_reward_mean": {}, "iterations_since_restore": 126, "custom_metrics": {"cost2_min": -39.81195241998391, "outflow_rate_max": 1152.5733402597402, "cost1_mean": 298.43257415178834, "cost2_mean": -23.9302872535744, "system_level_velocity_mean": 13.261383199726513, "cost1_max": 349.34087087855517, "cost1_min": 17.797397739532904, "cost2_max": -10.701772942794369, "outflow_rate_mean": 991.2146157383679, "system_level_velocity_min": 9.955368445805613, "outflow_rate_min": 316.4741373407306, "system_level_velocity_max": 17.948051193107638}, "info": {"num_steps_trained": 4879613, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.015249433927237988, "total_loss": 27.914670944213867, "vf_loss": 27.91975975036621, "policy_loss": -0.0076623354107141495, "cur_kl_coeff": 0.16875001788139343, "vf_explained_var": 0.5766783952713013, "entropy": 1.0969229936599731}, "num_steps_sampled": 4879613, "load_time_ms": 11.697, "update_time_ms": 7.402, "grad_time_ms": 9164.876, "sample_time_ms": 13483.509}, "episode_len_mean": 656.72, "time_this_iter_s": 22.877688884735107, "num_metric_batches_dropped": 0, "timesteps_total": 4879613, "episodes_total": 2288, "hostname": "flow-main", "config": {"custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "kl_coeff": 0.2, "train_batch_size": 30000, "log_level": "INFO", "num_workers": 20, "num_sgd_iter": 10, "lr": 0.0005, "monitor": false, "lr_schedule": null, "compress_observations": false, "input": "sampler", "straggler_mitigation": false, "input_evaluation": null, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "optimizer": {}, "vf_share_layers": false, "model": {"fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "fcnet_activation": "tanh", "dim": 84, "lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "channel_major": false, "conv_activation": "relu", "squash_to_range": false, "conv_filters": null, "zero_mean": true, "grayscale": false, "max_seq_len": 20, "free_log_std": false, "custom_preprocessor": null, "custom_options": {}, "use_lstm": false}, "clip_param": 0.3, "num_cpus_for_driver": 1, "synchronize_filters": true, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "output": null, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.3, 0.1]_t_min:10.0", "batch_mode": "truncate_episodes", "simple_optimizer": false, "sample_batch_size": 200, "collect_metrics_timeout": 180, "clip_rewards": null, "clip_actions": false, "kl_target": 0.01, "observation_filter": "NoFilter", "use_gae": true, "entropy_coeff": 0.0, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb6ecc0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb6e128>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb6eb00>"}, "gamma": 0.99, "horizon": 1500, "num_gpus_per_worker": 0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "output_max_file_size": 67108864, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "num_gpus": 0, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}}, "timestamp": 1557233342, "episode_reward_max": 922.0326013690689, "episodes_this_iter": 23, "time_total_s": 2955.6422872543335, "time_since_restore": 2955.6422872543335}
{"timesteps_since_restore": 4915474, "done": false, "node_ip": "10.138.0.2", "pid": 10867, "date": "2019-05-07_12-49-25", "episode_reward_min": 27.46681251843368, "timesteps_this_iter": 35861, "training_iteration": 127, "episode_reward_mean": 770.0774683721415, "experiment_id": "a183ec7aedea427d9bacd699bea0cf75", "policy_reward_mean": {}, "iterations_since_restore": 127, "custom_metrics": {"cost2_min": -39.81195241998391, "outflow_rate_max": 1186.6709142857142, "cost1_mean": 293.23109089996905, "cost2_mean": -23.63781568620904, "system_level_velocity_mean": 13.403856086784847, "cost1_max": 354.4368013021809, "cost1_min": 17.797397739532904, "cost2_max": -10.701772942794369, "outflow_rate_mean": 983.3947845430408, "system_level_velocity_min": 10.748228574981791, "outflow_rate_min": 316.4741373407306, "system_level_velocity_max": 17.948051193107638}, "info": {"num_steps_trained": 4915474, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.015698259696364403, "total_loss": 28.747365951538086, "vf_loss": 28.751502990722656, "policy_loss": -0.006784678436815739, "cur_kl_coeff": 0.16875003278255463, "vf_explained_var": 0.5185023546218872, "entropy": 1.0735608339309692}, "num_steps_sampled": 4915474, "load_time_ms": 11.798, "update_time_ms": 7.719, "grad_time_ms": 9164.822, "sample_time_ms": 13405.557}, "episode_len_mean": 642.49, "time_this_iter_s": 22.903234481811523, "num_metric_batches_dropped": 0, "timesteps_total": 4915474, "episodes_total": 2311, "hostname": "flow-main", "config": {"custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "kl_coeff": 0.2, "train_batch_size": 30000, "log_level": "INFO", "num_workers": 20, "num_sgd_iter": 10, "lr": 0.0005, "monitor": false, "lr_schedule": null, "compress_observations": false, "input": "sampler", "straggler_mitigation": false, "input_evaluation": null, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "optimizer": {}, "vf_share_layers": false, "model": {"fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "fcnet_activation": "tanh", "dim": 84, "lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "channel_major": false, "conv_activation": "relu", "squash_to_range": false, "conv_filters": null, "zero_mean": true, "grayscale": false, "max_seq_len": 20, "free_log_std": false, "custom_preprocessor": null, "custom_options": {}, "use_lstm": false}, "clip_param": 0.3, "num_cpus_for_driver": 1, "synchronize_filters": true, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "output": null, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.3, 0.1]_t_min:10.0", "batch_mode": "truncate_episodes", "simple_optimizer": false, "sample_batch_size": 200, "collect_metrics_timeout": 180, "clip_rewards": null, "clip_actions": false, "kl_target": 0.01, "observation_filter": "NoFilter", "use_gae": true, "entropy_coeff": 0.0, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb69d30>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb69780>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb694e0>"}, "gamma": 0.99, "horizon": 1500, "num_gpus_per_worker": 0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "output_max_file_size": 67108864, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "num_gpus": 0, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}}, "timestamp": 1557233365, "episode_reward_max": 924.6407846375384, "episodes_this_iter": 23, "time_total_s": 2978.545521736145, "time_since_restore": 2978.545521736145}
{"timesteps_since_restore": 4951421, "done": false, "node_ip": "10.138.0.2", "pid": 10867, "date": "2019-05-07_12-49-47", "episode_reward_min": 46.56645702459112, "timesteps_this_iter": 35947, "training_iteration": 128, "episode_reward_mean": 779.1252310730944, "experiment_id": "a183ec7aedea427d9bacd699bea0cf75", "policy_reward_mean": {}, "iterations_since_restore": 128, "custom_metrics": {"cost2_min": -39.81195241998391, "outflow_rate_max": 1186.6709142857142, "cost1_mean": 295.9918027290903, "cost2_mean": -23.60014133158154, "system_level_velocity_mean": 13.36890709105629, "cost1_max": 354.4368013021809, "cost1_min": 26.419580005304354, "cost2_max": -12.27837759967429, "outflow_rate_mean": 994.0321204163869, "system_level_velocity_min": 10.748228574981791, "outflow_rate_min": 332.7571298140349, "system_level_velocity_max": 17.677660050700084}, "info": {"num_steps_trained": 4951421, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.017471354454755783, "total_loss": 25.1298828125, "vf_loss": 25.135982513427734, "policy_loss": -0.009048244915902615, "cur_kl_coeff": 0.16875003278255463, "vf_explained_var": 0.6306895613670349, "entropy": 1.1052712202072144}, "num_steps_sampled": 4951421, "load_time_ms": 11.363, "update_time_ms": 7.794, "grad_time_ms": 9023.402, "sample_time_ms": 13347.843}, "episode_len_mean": 649.3, "time_this_iter_s": 21.97227907180786, "num_metric_batches_dropped": 0, "timesteps_total": 4951421, "episodes_total": 2332, "hostname": "flow-main", "config": {"custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "kl_coeff": 0.2, "train_batch_size": 30000, "log_level": "INFO", "num_workers": 20, "num_sgd_iter": 10, "lr": 0.0005, "monitor": false, "lr_schedule": null, "compress_observations": false, "input": "sampler", "straggler_mitigation": false, "input_evaluation": null, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "optimizer": {}, "vf_share_layers": false, "model": {"fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "fcnet_activation": "tanh", "dim": 84, "lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "channel_major": false, "conv_activation": "relu", "squash_to_range": false, "conv_filters": null, "zero_mean": true, "grayscale": false, "max_seq_len": 20, "free_log_std": false, "custom_preprocessor": null, "custom_options": {}, "use_lstm": false}, "clip_param": 0.3, "num_cpus_for_driver": 1, "synchronize_filters": true, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "output": null, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.3, 0.1]_t_min:10.0", "batch_mode": "truncate_episodes", "simple_optimizer": false, "sample_batch_size": 200, "collect_metrics_timeout": 180, "clip_rewards": null, "clip_actions": false, "kl_target": 0.01, "observation_filter": "NoFilter", "use_gae": true, "entropy_coeff": 0.0, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb6ef60>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb6e9e8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb6e048>"}, "gamma": 0.99, "horizon": 1500, "num_gpus_per_worker": 0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "output_max_file_size": 67108864, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "num_gpus": 0, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}}, "timestamp": 1557233387, "episode_reward_max": 937.1589495843376, "episodes_this_iter": 21, "time_total_s": 3000.517800807953, "time_since_restore": 3000.517800807953}
{"timesteps_since_restore": 4988164, "done": false, "node_ip": "10.138.0.2", "pid": 10867, "date": "2019-05-07_12-50-10", "episode_reward_min": 46.56645702459112, "timesteps_this_iter": 36743, "training_iteration": 129, "episode_reward_mean": 777.5587400848506, "experiment_id": "a183ec7aedea427d9bacd699bea0cf75", "policy_reward_mean": {}, "iterations_since_restore": 129, "custom_metrics": {"cost2_min": -39.81195241998391, "outflow_rate_max": 1186.6709142857142, "cost1_mean": 294.3724099825288, "cost2_mean": -23.670418778974298, "system_level_velocity_mean": 13.33804572756746, "cost1_max": 354.4368013021809, "cost1_min": 26.419580005304354, "cost2_max": -12.27837759967429, "outflow_rate_mean": 990.8916770949221, "system_level_velocity_min": 10.1701278328252, "outflow_rate_min": 332.7571298140349, "system_level_velocity_max": 17.677660050700084}, "info": {"num_steps_trained": 4988164, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.014597580768167973, "total_loss": 19.51585578918457, "vf_loss": 19.520416259765625, "policy_loss": -0.007021365687251091, "cur_kl_coeff": 0.16875000298023224, "vf_explained_var": 0.8007533550262451, "entropy": 1.1445229053497314}, "num_steps_sampled": 4988164, "load_time_ms": 11.336, "update_time_ms": 7.8, "grad_time_ms": 9017.009, "sample_time_ms": 13374.734}, "episode_len_mean": 647.93, "time_this_iter_s": 22.88646149635315, "num_metric_batches_dropped": 0, "timesteps_total": 4988164, "episodes_total": 2350, "hostname": "flow-main", "config": {"custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "kl_coeff": 0.2, "train_batch_size": 30000, "log_level": "INFO", "num_workers": 20, "num_sgd_iter": 10, "lr": 0.0005, "monitor": false, "lr_schedule": null, "compress_observations": false, "input": "sampler", "straggler_mitigation": false, "input_evaluation": null, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "optimizer": {}, "vf_share_layers": false, "model": {"fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "fcnet_activation": "tanh", "dim": 84, "lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "channel_major": false, "conv_activation": "relu", "squash_to_range": false, "conv_filters": null, "zero_mean": true, "grayscale": false, "max_seq_len": 20, "free_log_std": false, "custom_preprocessor": null, "custom_options": {}, "use_lstm": false}, "clip_param": 0.3, "num_cpus_for_driver": 1, "synchronize_filters": true, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "output": null, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.3, 0.1]_t_min:10.0", "batch_mode": "truncate_episodes", "simple_optimizer": false, "sample_batch_size": 200, "collect_metrics_timeout": 180, "clip_rewards": null, "clip_actions": false, "kl_target": 0.01, "observation_filter": "NoFilter", "use_gae": true, "entropy_coeff": 0.0, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb6e668>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb6e518>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb6e710>"}, "gamma": 0.99, "horizon": 1500, "num_gpus_per_worker": 0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "output_max_file_size": 67108864, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "num_gpus": 0, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}}, "timestamp": 1557233410, "episode_reward_max": 937.1589495843376, "episodes_this_iter": 18, "time_total_s": 3023.404262304306, "time_since_restore": 3023.404262304306}
{"timesteps_since_restore": 5024555, "done": false, "node_ip": "10.138.0.2", "pid": 10867, "date": "2019-05-07_12-50-32", "episode_reward_min": 46.56645702459112, "timesteps_this_iter": 36391, "training_iteration": 130, "episode_reward_mean": 792.8903480666994, "experiment_id": "a183ec7aedea427d9bacd699bea0cf75", "policy_reward_mean": {}, "iterations_since_restore": 130, "custom_metrics": {"cost2_min": -39.10565329029733, "outflow_rate_max": 1186.6709142857142, "cost1_mean": 297.72264095050207, "cost2_mean": -23.988530899826525, "system_level_velocity_mean": 13.20767878039004, "cost1_max": 354.4368013021809, "cost1_min": 26.419580005304354, "cost2_max": -12.27837759967429, "outflow_rate_mean": 997.9801747079873, "system_level_velocity_min": 10.119377505800879, "outflow_rate_min": 334.5172410120101, "system_level_velocity_max": 17.677660050700084}, "info": {"num_steps_trained": 5024555, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.01539452001452446, "total_loss": 29.375810623168945, "vf_loss": 29.381099700927734, "policy_loss": -0.007886798121035099, "cur_kl_coeff": 0.16875001788139343, "vf_explained_var": 0.5303460955619812, "entropy": 1.1421011686325073}, "num_steps_sampled": 5024555, "load_time_ms": 11.463, "update_time_ms": 7.816, "grad_time_ms": 9005.229, "sample_time_ms": 13443.127}, "episode_len_mean": 658.95, "time_this_iter_s": 22.376962661743164, "num_metric_batches_dropped": 0, "timesteps_total": 5024555, "episodes_total": 2373, "hostname": "flow-main", "config": {"custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "kl_coeff": 0.2, "train_batch_size": 30000, "log_level": "INFO", "num_workers": 20, "num_sgd_iter": 10, "lr": 0.0005, "monitor": false, "lr_schedule": null, "compress_observations": false, "input": "sampler", "straggler_mitigation": false, "input_evaluation": null, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "optimizer": {}, "vf_share_layers": false, "model": {"fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "fcnet_activation": "tanh", "dim": 84, "lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "channel_major": false, "conv_activation": "relu", "squash_to_range": false, "conv_filters": null, "zero_mean": true, "grayscale": false, "max_seq_len": 20, "free_log_std": false, "custom_preprocessor": null, "custom_options": {}, "use_lstm": false}, "clip_param": 0.3, "num_cpus_for_driver": 1, "synchronize_filters": true, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "output": null, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.3, 0.1]_t_min:10.0", "batch_mode": "truncate_episodes", "simple_optimizer": false, "sample_batch_size": 200, "collect_metrics_timeout": 180, "clip_rewards": null, "clip_actions": false, "kl_target": 0.01, "observation_filter": "NoFilter", "use_gae": true, "entropy_coeff": 0.0, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb69908>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb69860>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb696d8>"}, "gamma": 0.99, "horizon": 1500, "num_gpus_per_worker": 0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "output_max_file_size": 67108864, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "num_gpus": 0, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}}, "timestamp": 1557233432, "episode_reward_max": 939.7939317160982, "episodes_this_iter": 23, "time_total_s": 3045.781224966049, "time_since_restore": 3045.781224966049}
{"timesteps_since_restore": 5060976, "done": false, "node_ip": "10.138.0.2", "pid": 10867, "date": "2019-05-07_12-50-54", "episode_reward_min": 46.56645702459112, "timesteps_this_iter": 36421, "training_iteration": 131, "episode_reward_mean": 812.3874910767431, "experiment_id": "a183ec7aedea427d9bacd699bea0cf75", "policy_reward_mean": {}, "iterations_since_restore": 131, "custom_metrics": {"cost2_min": -39.10565329029733, "outflow_rate_max": 1186.6709142857142, "cost1_mean": 303.81415838894463, "cost2_mean": -24.18589394844394, "system_level_velocity_mean": 13.163977847273491, "cost1_max": 354.4368013021809, "cost1_min": 27.780037170573692, "cost2_max": -13.658505328191556, "outflow_rate_mean": 1010.8009755273882, "system_level_velocity_min": 10.119377505800879, "outflow_rate_min": 334.5172410120101, "system_level_velocity_max": 17.677660050700084}, "info": {"num_steps_trained": 5060976, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.016143517568707466, "total_loss": 22.049348831176758, "vf_loss": 22.053373336791992, "policy_loss": -0.0067506637424230576, "cur_kl_coeff": 0.16875001788139343, "vf_explained_var": 0.7807888388633728, "entropy": 1.1092199087142944}, "num_steps_sampled": 5060976, "load_time_ms": 11.027, "update_time_ms": 7.839, "grad_time_ms": 8954.388, "sample_time_ms": 13321.51}, "episode_len_mean": 670.81, "time_this_iter_s": 21.581579446792603, "num_metric_batches_dropped": 0, "timesteps_total": 5060976, "episodes_total": 2393, "hostname": "flow-main", "config": {"custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "kl_coeff": 0.2, "train_batch_size": 30000, "log_level": "INFO", "num_workers": 20, "num_sgd_iter": 10, "lr": 0.0005, "monitor": false, "lr_schedule": null, "compress_observations": false, "input": "sampler", "straggler_mitigation": false, "input_evaluation": null, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "optimizer": {}, "vf_share_layers": false, "model": {"fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "fcnet_activation": "tanh", "dim": 84, "lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "channel_major": false, "conv_activation": "relu", "squash_to_range": false, "conv_filters": null, "zero_mean": true, "grayscale": false, "max_seq_len": 20, "free_log_std": false, "custom_preprocessor": null, "custom_options": {}, "use_lstm": false}, "clip_param": 0.3, "num_cpus_for_driver": 1, "synchronize_filters": true, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "output": null, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.3, 0.1]_t_min:10.0", "batch_mode": "truncate_episodes", "simple_optimizer": false, "sample_batch_size": 200, "collect_metrics_timeout": 180, "clip_rewards": null, "clip_actions": false, "kl_target": 0.01, "observation_filter": "NoFilter", "use_gae": true, "entropy_coeff": 0.0, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb6ecf8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb6e5c0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb6e390>"}, "gamma": 0.99, "horizon": 1500, "num_gpus_per_worker": 0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "output_max_file_size": 67108864, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "num_gpus": 0, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}}, "timestamp": 1557233454, "episode_reward_max": 941.6577372301405, "episodes_this_iter": 20, "time_total_s": 3067.362804412842, "time_since_restore": 3067.362804412842}
{"timesteps_since_restore": 5097969, "done": false, "node_ip": "10.138.0.2", "pid": 10867, "date": "2019-05-07_12-51-18", "episode_reward_min": 137.19940385844197, "timesteps_this_iter": 36993, "training_iteration": 132, "episode_reward_mean": 830.649855165468, "experiment_id": "a183ec7aedea427d9bacd699bea0cf75", "policy_reward_mean": {}, "iterations_since_restore": 132, "custom_metrics": {"cost2_min": -39.10565329029733, "outflow_rate_max": 1186.7498181818182, "cost1_mean": 306.9445837193194, "cost2_mean": -24.55067821457585, "system_level_velocity_mean": 13.115436914975989, "cost1_max": 351.8628355930449, "cost1_min": 63.9440645196286, "cost2_max": -16.4057013712366, "outflow_rate_mean": 1018.0466141678412, "system_level_velocity_min": 10.119377505800879, "outflow_rate_min": 396.8433814126055, "system_level_velocity_max": 16.649695470887504}, "info": {"num_steps_trained": 5097969, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.016618745401501656, "total_loss": 28.99404525756836, "vf_loss": 28.99988555908203, "policy_loss": -0.0086444690823555, "cur_kl_coeff": 0.16875001788139343, "vf_explained_var": 0.6828539371490479, "entropy": 1.1466917991638184}, "num_steps_sampled": 5097969, "load_time_ms": 10.881, "update_time_ms": 7.717, "grad_time_ms": 9072.063, "sample_time_ms": 13373.29}, "episode_len_mean": 676.1, "time_this_iter_s": 24.35188055038452, "num_metric_batches_dropped": 0, "timesteps_total": 5097969, "episodes_total": 2415, "hostname": "flow-main", "config": {"custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "kl_coeff": 0.2, "train_batch_size": 30000, "log_level": "INFO", "num_workers": 20, "num_sgd_iter": 10, "lr": 0.0005, "monitor": false, "lr_schedule": null, "compress_observations": false, "input": "sampler", "straggler_mitigation": false, "input_evaluation": null, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "optimizer": {}, "vf_share_layers": false, "model": {"fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "fcnet_activation": "tanh", "dim": 84, "lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "channel_major": false, "conv_activation": "relu", "squash_to_range": false, "conv_filters": null, "zero_mean": true, "grayscale": false, "max_seq_len": 20, "free_log_std": false, "custom_preprocessor": null, "custom_options": {}, "use_lstm": false}, "clip_param": 0.3, "num_cpus_for_driver": 1, "synchronize_filters": true, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "output": null, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.3, 0.1]_t_min:10.0", "batch_mode": "truncate_episodes", "simple_optimizer": false, "sample_batch_size": 200, "collect_metrics_timeout": 180, "clip_rewards": null, "clip_actions": false, "kl_target": 0.01, "observation_filter": "NoFilter", "use_gae": true, "entropy_coeff": 0.0, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb6eac8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb6ec88>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb6e518>"}, "gamma": 0.99, "horizon": 1500, "num_gpus_per_worker": 0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "output_max_file_size": 67108864, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "num_gpus": 0, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}}, "timestamp": 1557233478, "episode_reward_max": 989.1822309564973, "episodes_this_iter": 22, "time_total_s": 3091.7146849632263, "time_since_restore": 3091.7146849632263}
{"timesteps_since_restore": 5134103, "done": false, "node_ip": "10.138.0.2", "pid": 10867, "date": "2019-05-07_12-51-40", "episode_reward_min": 137.19940385844197, "timesteps_this_iter": 36134, "training_iteration": 133, "episode_reward_mean": 836.7216742271391, "experiment_id": "a183ec7aedea427d9bacd699bea0cf75", "policy_reward_mean": {}, "iterations_since_restore": 133, "custom_metrics": {"cost2_min": -45.919652567260705, "outflow_rate_max": 1216.9833298701299, "cost1_mean": 306.283105227311, "cost2_mean": -25.319627431341896, "system_level_velocity_mean": 13.000133794109992, "cost1_max": 350.75877205777306, "cost1_min": 63.9440645196286, "cost2_max": -16.4057013712366, "outflow_rate_mean": 1013.2394456594, "system_level_velocity_min": 9.338927296094518, "outflow_rate_min": 396.8433814126055, "system_level_velocity_max": 16.649695470887504}, "info": {"num_steps_trained": 5134103, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.016216274350881577, "total_loss": 23.5083065032959, "vf_loss": 23.512632369995117, "policy_loss": -0.007061994634568691, "cur_kl_coeff": 0.16875001788139343, "vf_explained_var": 0.7486624717712402, "entropy": 1.1351968050003052}, "num_steps_sampled": 5134103, "load_time_ms": 11.267, "update_time_ms": 7.804, "grad_time_ms": 9076.507, "sample_time_ms": 13356.869}, "episode_len_mean": 679.3, "time_this_iter_s": 21.868952989578247, "num_metric_batches_dropped": 0, "timesteps_total": 5134103, "episodes_total": 2435, "hostname": "flow-main", "config": {"custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "kl_coeff": 0.2, "train_batch_size": 30000, "log_level": "INFO", "num_workers": 20, "num_sgd_iter": 10, "lr": 0.0005, "monitor": false, "lr_schedule": null, "compress_observations": false, "input": "sampler", "straggler_mitigation": false, "input_evaluation": null, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "optimizer": {}, "vf_share_layers": false, "model": {"fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "fcnet_activation": "tanh", "dim": 84, "lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "channel_major": false, "conv_activation": "relu", "squash_to_range": false, "conv_filters": null, "zero_mean": true, "grayscale": false, "max_seq_len": 20, "free_log_std": false, "custom_preprocessor": null, "custom_options": {}, "use_lstm": false}, "clip_param": 0.3, "num_cpus_for_driver": 1, "synchronize_filters": true, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "output": null, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.3, 0.1]_t_min:10.0", "batch_mode": "truncate_episodes", "simple_optimizer": false, "sample_batch_size": 200, "collect_metrics_timeout": 180, "clip_rewards": null, "clip_actions": false, "kl_target": 0.01, "observation_filter": "NoFilter", "use_gae": true, "entropy_coeff": 0.0, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb69828>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb69630>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb69240>"}, "gamma": 0.99, "horizon": 1500, "num_gpus_per_worker": 0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "output_max_file_size": 67108864, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "num_gpus": 0, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}}, "timestamp": 1557233500, "episode_reward_max": 989.1822309564973, "episodes_this_iter": 20, "time_total_s": 3113.5836379528046, "time_since_restore": 3113.5836379528046}
{"timesteps_since_restore": 5170605, "done": false, "node_ip": "10.138.0.2", "pid": 10867, "date": "2019-05-07_12-52-02", "episode_reward_min": 137.19940385844197, "timesteps_this_iter": 36502, "training_iteration": 134, "episode_reward_mean": 846.6435727049142, "experiment_id": "a183ec7aedea427d9bacd699bea0cf75", "policy_reward_mean": {}, "iterations_since_restore": 134, "custom_metrics": {"cost2_min": -45.919652567260705, "outflow_rate_max": 1216.9833298701299, "cost1_mean": 309.86688562599846, "cost2_mean": -25.820330235418968, "system_level_velocity_mean": 13.047876190521812, "cost1_max": 350.75877205777306, "cost1_min": 63.9440645196286, "cost2_max": -16.4057013712366, "outflow_rate_mean": 1022.9017358719506, "system_level_velocity_min": 9.338927296094518, "outflow_rate_min": 396.8433814126055, "system_level_velocity_max": 16.649695470887504}, "info": {"num_steps_trained": 5170605, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.015541255474090576, "total_loss": 25.866029739379883, "vf_loss": 25.871278762817383, "policy_loss": -0.007872429676353931, "cur_kl_coeff": 0.16875003278255463, "vf_explained_var": 0.6659337282180786, "entropy": 1.1757019758224487}, "num_steps_sampled": 5170605, "load_time_ms": 11.338, "update_time_ms": 7.778, "grad_time_ms": 9047.718, "sample_time_ms": 13283.056}, "episode_len_mean": 682.63, "time_this_iter_s": 21.554378986358643, "num_metric_batches_dropped": 0, "timesteps_total": 5170605, "episodes_total": 2455, "hostname": "flow-main", "config": {"custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "kl_coeff": 0.2, "train_batch_size": 30000, "log_level": "INFO", "num_workers": 20, "num_sgd_iter": 10, "lr": 0.0005, "monitor": false, "lr_schedule": null, "compress_observations": false, "input": "sampler", "straggler_mitigation": false, "input_evaluation": null, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "optimizer": {}, "vf_share_layers": false, "model": {"fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "fcnet_activation": "tanh", "dim": 84, "lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "channel_major": false, "conv_activation": "relu", "squash_to_range": false, "conv_filters": null, "zero_mean": true, "grayscale": false, "max_seq_len": 20, "free_log_std": false, "custom_preprocessor": null, "custom_options": {}, "use_lstm": false}, "clip_param": 0.3, "num_cpus_for_driver": 1, "synchronize_filters": true, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "output": null, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.3, 0.1]_t_min:10.0", "batch_mode": "truncate_episodes", "simple_optimizer": false, "sample_batch_size": 200, "collect_metrics_timeout": 180, "clip_rewards": null, "clip_actions": false, "kl_target": 0.01, "observation_filter": "NoFilter", "use_gae": true, "entropy_coeff": 0.0, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb6ef98>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb6ef60>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f9461170470>"}, "gamma": 0.99, "horizon": 1500, "num_gpus_per_worker": 0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "output_max_file_size": 67108864, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "num_gpus": 0, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}}, "timestamp": 1557233522, "episode_reward_max": 989.1822309564973, "episodes_this_iter": 20, "time_total_s": 3135.138016939163, "time_since_restore": 3135.138016939163}
{"timesteps_since_restore": 5207006, "done": false, "node_ip": "10.138.0.2", "pid": 10867, "date": "2019-05-07_12-52-24", "episode_reward_min": 137.19940385844197, "timesteps_this_iter": 36401, "training_iteration": 135, "episode_reward_mean": 859.9443601856802, "experiment_id": "a183ec7aedea427d9bacd699bea0cf75", "policy_reward_mean": {}, "iterations_since_restore": 135, "custom_metrics": {"cost2_min": -45.919652567260705, "outflow_rate_max": 1216.9833298701299, "cost1_mean": 315.38000242400574, "cost2_mean": -26.775354012597013, "system_level_velocity_mean": 13.080511627640039, "cost1_max": 350.75877205777306, "cost1_min": 63.9440645196286, "cost2_max": -17.81105686458679, "outflow_rate_mean": 1037.725057356048, "system_level_velocity_min": 9.338927296094518, "outflow_rate_min": 418.23845137302317, "system_level_velocity_max": 16.649695470887504}, "info": {"num_steps_trained": 5207006, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.01701851561665535, "total_loss": 25.653705596923828, "vf_loss": 25.659984588623047, "policy_loss": -0.009149831719696522, "cur_kl_coeff": 0.16875001788139343, "vf_explained_var": 0.6520946025848389, "entropy": 1.1858062744140625}, "num_steps_sampled": 5207006, "load_time_ms": 11.078, "update_time_ms": 7.932, "grad_time_ms": 9010.252, "sample_time_ms": 13323.904}, "episode_len_mean": 690.64, "time_this_iter_s": 21.90703535079956, "num_metric_batches_dropped": 0, "timesteps_total": 5207006, "episodes_total": 2475, "hostname": "flow-main", "config": {"custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "kl_coeff": 0.2, "train_batch_size": 30000, "log_level": "INFO", "num_workers": 20, "num_sgd_iter": 10, "lr": 0.0005, "monitor": false, "lr_schedule": null, "compress_observations": false, "input": "sampler", "straggler_mitigation": false, "input_evaluation": null, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "optimizer": {}, "vf_share_layers": false, "model": {"fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "fcnet_activation": "tanh", "dim": 84, "lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "channel_major": false, "conv_activation": "relu", "squash_to_range": false, "conv_filters": null, "zero_mean": true, "grayscale": false, "max_seq_len": 20, "free_log_std": false, "custom_preprocessor": null, "custom_options": {}, "use_lstm": false}, "clip_param": 0.3, "num_cpus_for_driver": 1, "synchronize_filters": true, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "output": null, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.3, 0.1]_t_min:10.0", "batch_mode": "truncate_episodes", "simple_optimizer": false, "sample_batch_size": 200, "collect_metrics_timeout": 180, "clip_rewards": null, "clip_actions": false, "kl_target": 0.01, "observation_filter": "NoFilter", "use_gae": true, "entropy_coeff": 0.0, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb69cf8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb69978>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb69e80>"}, "gamma": 0.99, "horizon": 1500, "num_gpus_per_worker": 0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "output_max_file_size": 67108864, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "num_gpus": 0, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}}, "timestamp": 1557233544, "episode_reward_max": 989.1822309564973, "episodes_this_iter": 20, "time_total_s": 3157.0450522899628, "time_since_restore": 3157.0450522899628}
{"timesteps_since_restore": 5243422, "done": false, "node_ip": "10.138.0.2", "pid": 10867, "date": "2019-05-07_12-52-46", "episode_reward_min": 43.78726152939441, "timesteps_this_iter": 36416, "training_iteration": 136, "episode_reward_mean": 856.0451663792458, "experiment_id": "a183ec7aedea427d9bacd699bea0cf75", "policy_reward_mean": {}, "iterations_since_restore": 136, "custom_metrics": {"cost2_min": -45.919652567260705, "outflow_rate_max": 1216.9833298701299, "cost1_mean": 313.43224665601826, "cost2_mean": -27.422786102046462, "system_level_velocity_mean": 13.103030192564946, "cost1_max": 352.64156236983723, "cost1_min": 26.731588531461096, "cost2_max": -14.777721087771129, "outflow_rate_mean": 1030.8464358377846, "system_level_velocity_min": 9.338927296094518, "outflow_rate_min": 340.0431742023662, "system_level_velocity_max": 17.99009087349934}, "info": {"num_steps_trained": 5243422, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.015760459005832672, "total_loss": 26.53601837158203, "vf_loss": 26.542034149169922, "policy_loss": -0.00867555197328329, "cur_kl_coeff": 0.16875001788139343, "vf_explained_var": 0.6740866899490356, "entropy": 1.2053894996643066}, "num_steps_sampled": 5243422, "load_time_ms": 10.69, "update_time_ms": 8.034, "grad_time_ms": 8962.003, "sample_time_ms": 13305.436}, "episode_len_mean": 686.94, "time_this_iter_s": 22.198696613311768, "num_metric_batches_dropped": 0, "timesteps_total": 5243422, "episodes_total": 2497, "hostname": "flow-main", "config": {"custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "kl_coeff": 0.2, "train_batch_size": 30000, "log_level": "INFO", "num_workers": 20, "num_sgd_iter": 10, "lr": 0.0005, "monitor": false, "lr_schedule": null, "compress_observations": false, "input": "sampler", "straggler_mitigation": false, "input_evaluation": null, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "optimizer": {}, "vf_share_layers": false, "model": {"fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "fcnet_activation": "tanh", "dim": 84, "lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "channel_major": false, "conv_activation": "relu", "squash_to_range": false, "conv_filters": null, "zero_mean": true, "grayscale": false, "max_seq_len": 20, "free_log_std": false, "custom_preprocessor": null, "custom_options": {}, "use_lstm": false}, "clip_param": 0.3, "num_cpus_for_driver": 1, "synchronize_filters": true, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "output": null, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.3, 0.1]_t_min:10.0", "batch_mode": "truncate_episodes", "simple_optimizer": false, "sample_batch_size": 200, "collect_metrics_timeout": 180, "clip_rewards": null, "clip_actions": false, "kl_target": 0.01, "observation_filter": "NoFilter", "use_gae": true, "entropy_coeff": 0.0, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb69b38>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb69f28>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f945fcf09b0>"}, "gamma": 0.99, "horizon": 1500, "num_gpus_per_worker": 0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "output_max_file_size": 67108864, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "num_gpus": 0, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}}, "timestamp": 1557233566, "episode_reward_max": 989.1822309564973, "episodes_this_iter": 22, "time_total_s": 3179.2437489032745, "time_since_restore": 3179.2437489032745}
{"timesteps_since_restore": 5279714, "done": false, "node_ip": "10.138.0.2", "pid": 10867, "date": "2019-05-07_12-53-09", "episode_reward_min": 43.78726152939441, "timesteps_this_iter": 36292, "training_iteration": 137, "episode_reward_mean": 856.631185806695, "experiment_id": "a183ec7aedea427d9bacd699bea0cf75", "policy_reward_mean": {}, "iterations_since_restore": 137, "custom_metrics": {"cost2_min": -45.919652567260705, "outflow_rate_max": 1216.9833298701299, "cost1_mean": 311.877377511773, "cost2_mean": -27.405624449946327, "system_level_velocity_mean": 13.037508660713922, "cost1_max": 352.64156236983723, "cost1_min": 26.731588531461096, "cost2_max": -14.777721087771129, "outflow_rate_mean": 1022.3176692403817, "system_level_velocity_min": 9.338927296094518, "outflow_rate_min": 340.0431742023662, "system_level_velocity_max": 17.99009087349934}, "info": {"num_steps_trained": 5279714, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.017339803278446198, "total_loss": 25.13844108581543, "vf_loss": 25.142967224121094, "policy_loss": -0.007450129836797714, "cur_kl_coeff": 0.16875001788139343, "vf_explained_var": 0.6839194297790527, "entropy": 1.196610689163208}, "num_steps_sampled": 5279714, "load_time_ms": 10.472, "update_time_ms": 7.644, "grad_time_ms": 8949.975, "sample_time_ms": 13275.002}, "episode_len_mean": 686.94, "time_this_iter_s": 22.467002153396606, "num_metric_batches_dropped": 0, "timesteps_total": 5279714, "episodes_total": 2516, "hostname": "flow-main", "config": {"custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "kl_coeff": 0.2, "train_batch_size": 30000, "log_level": "INFO", "num_workers": 20, "num_sgd_iter": 10, "lr": 0.0005, "monitor": false, "lr_schedule": null, "compress_observations": false, "input": "sampler", "straggler_mitigation": false, "input_evaluation": null, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "optimizer": {}, "vf_share_layers": false, "model": {"fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "fcnet_activation": "tanh", "dim": 84, "lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "channel_major": false, "conv_activation": "relu", "squash_to_range": false, "conv_filters": null, "zero_mean": true, "grayscale": false, "max_seq_len": 20, "free_log_std": false, "custom_preprocessor": null, "custom_options": {}, "use_lstm": false}, "clip_param": 0.3, "num_cpus_for_driver": 1, "synchronize_filters": true, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "output": null, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.3, 0.1]_t_min:10.0", "batch_mode": "truncate_episodes", "simple_optimizer": false, "sample_batch_size": 200, "collect_metrics_timeout": 180, "clip_rewards": null, "clip_actions": false, "kl_target": 0.01, "observation_filter": "NoFilter", "use_gae": true, "entropy_coeff": 0.0, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f946116f3c8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f946116f400>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f946116fe48>"}, "gamma": 0.99, "horizon": 1500, "num_gpus_per_worker": 0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "output_max_file_size": 67108864, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "num_gpus": 0, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}}, "timestamp": 1557233589, "episode_reward_max": 956.5001976134328, "episodes_this_iter": 19, "time_total_s": 3201.710751056671, "time_since_restore": 3201.710751056671}
{"timesteps_since_restore": 5316189, "done": false, "node_ip": "10.138.0.2", "pid": 10867, "date": "2019-05-07_12-53-33", "episode_reward_min": 43.78726152939441, "timesteps_this_iter": 36475, "training_iteration": 138, "episode_reward_mean": 834.0313827454498, "experiment_id": "a183ec7aedea427d9bacd699bea0cf75", "policy_reward_mean": {}, "iterations_since_restore": 138, "custom_metrics": {"cost2_min": -36.49419291592158, "outflow_rate_max": 1180.6581142857142, "cost1_mean": 306.5199900547894, "cost2_mean": -27.042951686227067, "system_level_velocity_mean": 13.227918267624302, "cost1_max": 352.64156236983723, "cost1_min": 26.731588531461096, "cost2_max": -14.116380206024665, "outflow_rate_mean": 1011.0129032454098, "system_level_velocity_min": 11.177993918926838, "outflow_rate_min": 332.7571298140349, "system_level_velocity_max": 17.99009087349934}, "info": {"num_steps_trained": 5316189, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.01497603114694357, "total_loss": 30.15404510498047, "vf_loss": 30.158836364746094, "policy_loss": -0.007316633127629757, "cur_kl_coeff": 0.16875001788139343, "vf_explained_var": 0.6222116947174072, "entropy": 1.1952375173568726}, "num_steps_sampled": 5316189, "load_time_ms": 10.779, "update_time_ms": 7.712, "grad_time_ms": 8955.811, "sample_time_ms": 13460.211}, "episode_len_mean": 668.16, "time_this_iter_s": 23.895742893218994, "num_metric_batches_dropped": 0, "timesteps_total": 5316189, "episodes_total": 2539, "hostname": "flow-main", "config": {"custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "kl_coeff": 0.2, "train_batch_size": 30000, "log_level": "INFO", "num_workers": 20, "num_sgd_iter": 10, "lr": 0.0005, "monitor": false, "lr_schedule": null, "compress_observations": false, "input": "sampler", "straggler_mitigation": false, "input_evaluation": null, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "optimizer": {}, "vf_share_layers": false, "model": {"fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "fcnet_activation": "tanh", "dim": 84, "lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "channel_major": false, "conv_activation": "relu", "squash_to_range": false, "conv_filters": null, "zero_mean": true, "grayscale": false, "max_seq_len": 20, "free_log_std": false, "custom_preprocessor": null, "custom_options": {}, "use_lstm": false}, "clip_param": 0.3, "num_cpus_for_driver": 1, "synchronize_filters": true, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "output": null, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.3, 0.1]_t_min:10.0", "batch_mode": "truncate_episodes", "simple_optimizer": false, "sample_batch_size": 200, "collect_metrics_timeout": 180, "clip_rewards": null, "clip_actions": false, "kl_target": 0.01, "observation_filter": "NoFilter", "use_gae": true, "entropy_coeff": 0.0, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb6e128>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb6e518>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb6e7b8>"}, "gamma": 0.99, "horizon": 1500, "num_gpus_per_worker": 0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "output_max_file_size": 67108864, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "num_gpus": 0, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}}, "timestamp": 1557233613, "episode_reward_max": 965.0386744515437, "episodes_this_iter": 23, "time_total_s": 3225.60649394989, "time_since_restore": 3225.60649394989}
{"timesteps_since_restore": 5352819, "done": false, "node_ip": "10.138.0.2", "pid": 10867, "date": "2019-05-07_12-53-56", "episode_reward_min": 43.78726152939441, "timesteps_this_iter": 36630, "training_iteration": 139, "episode_reward_mean": 821.7981672227617, "experiment_id": "a183ec7aedea427d9bacd699bea0cf75", "policy_reward_mean": {}, "iterations_since_restore": 139, "custom_metrics": {"cost2_min": -41.34461036119487, "outflow_rate_max": 1180.6581142857142, "cost1_mean": 303.1571523553259, "cost2_mean": -26.897955237352086, "system_level_velocity_mean": 13.330158782700394, "cost1_max": 354.3836070724818, "cost1_min": 26.731588531461096, "cost2_max": -14.116380206024665, "outflow_rate_mean": 1001.3987608157331, "system_level_velocity_min": 11.177993918926838, "outflow_rate_min": 332.7571298140349, "system_level_velocity_max": 18.776985706083916}, "info": {"num_steps_trained": 5352819, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.014744211919605732, "total_loss": 24.528711318969727, "vf_loss": 24.533031463623047, "policy_loss": -0.006808258593082428, "cur_kl_coeff": 0.16875001788139343, "vf_explained_var": 0.672605037689209, "entropy": 1.2058483362197876}, "num_steps_sampled": 5352819, "load_time_ms": 10.794, "update_time_ms": 7.743, "grad_time_ms": 8967.332, "sample_time_ms": 13485.082}, "episode_len_mean": 659.44, "time_this_iter_s": 23.259798288345337, "num_metric_batches_dropped": 0, "timesteps_total": 5352819, "episodes_total": 2560, "hostname": "flow-main", "config": {"custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "kl_coeff": 0.2, "train_batch_size": 30000, "log_level": "INFO", "num_workers": 20, "num_sgd_iter": 10, "lr": 0.0005, "monitor": false, "lr_schedule": null, "compress_observations": false, "input": "sampler", "straggler_mitigation": false, "input_evaluation": null, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "optimizer": {}, "vf_share_layers": false, "model": {"fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "fcnet_activation": "tanh", "dim": 84, "lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "channel_major": false, "conv_activation": "relu", "squash_to_range": false, "conv_filters": null, "zero_mean": true, "grayscale": false, "max_seq_len": 20, "free_log_std": false, "custom_preprocessor": null, "custom_options": {}, "use_lstm": false}, "clip_param": 0.3, "num_cpus_for_driver": 1, "synchronize_filters": true, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "output": null, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.3, 0.1]_t_min:10.0", "batch_mode": "truncate_episodes", "simple_optimizer": false, "sample_batch_size": 200, "collect_metrics_timeout": 180, "clip_rewards": null, "clip_actions": false, "kl_target": 0.01, "observation_filter": "NoFilter", "use_gae": true, "entropy_coeff": 0.0, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb6e630>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb6eb00>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb6ec50>"}, "gamma": 0.99, "horizon": 1500, "num_gpus_per_worker": 0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "output_max_file_size": 67108864, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "num_gpus": 0, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}}, "timestamp": 1557233636, "episode_reward_max": 965.0386744515437, "episodes_this_iter": 21, "time_total_s": 3248.8662922382355, "time_since_restore": 3248.8662922382355}
{"timesteps_since_restore": 5389634, "done": false, "node_ip": "10.138.0.2", "pid": 10867, "date": "2019-05-07_12-54-19", "episode_reward_min": 44.19614114511842, "timesteps_this_iter": 36815, "training_iteration": 140, "episode_reward_mean": 821.3143558484869, "experiment_id": "a183ec7aedea427d9bacd699bea0cf75", "policy_reward_mean": {}, "iterations_since_restore": 140, "custom_metrics": {"cost2_min": -41.34461036119487, "outflow_rate_max": 1180.6581142857142, "cost1_mean": 304.7165821782866, "cost2_mean": -26.616374312564304, "system_level_velocity_mean": 13.422878795877, "cost1_max": 354.3836070724818, "cost1_min": 27.739245994115258, "cost2_max": -14.116380206024665, "outflow_rate_mean": 1002.813621425624, "system_level_velocity_min": 11.177993918926838, "outflow_rate_min": 324.10145856808566, "system_level_velocity_max": 18.776985706083916}, "info": {"num_steps_trained": 5389634, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.01640987955033779, "total_loss": 27.187103271484375, "vf_loss": 27.191240310668945, "policy_loss": -0.006906492635607719, "cur_kl_coeff": 0.16875000298023224, "vf_explained_var": 0.6740886569023132, "entropy": 1.1738696098327637}, "num_steps_sampled": 5389634, "load_time_ms": 10.702, "update_time_ms": 8.35, "grad_time_ms": 8971.695, "sample_time_ms": 13514.152}, "episode_len_mean": 659.53, "time_this_iter_s": 22.72149395942688, "num_metric_batches_dropped": 0, "timesteps_total": 5389634, "episodes_total": 2580, "hostname": "flow-main", "config": {"custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "kl_coeff": 0.2, "train_batch_size": 30000, "log_level": "INFO", "num_workers": 20, "num_sgd_iter": 10, "lr": 0.0005, "monitor": false, "lr_schedule": null, "compress_observations": false, "input": "sampler", "straggler_mitigation": false, "input_evaluation": null, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "optimizer": {}, "vf_share_layers": false, "model": {"fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "fcnet_activation": "tanh", "dim": 84, "lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "channel_major": false, "conv_activation": "relu", "squash_to_range": false, "conv_filters": null, "zero_mean": true, "grayscale": false, "max_seq_len": 20, "free_log_std": false, "custom_preprocessor": null, "custom_options": {}, "use_lstm": false}, "clip_param": 0.3, "num_cpus_for_driver": 1, "synchronize_filters": true, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "output": null, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.3, 0.1]_t_min:10.0", "batch_mode": "truncate_episodes", "simple_optimizer": false, "sample_batch_size": 200, "collect_metrics_timeout": 180, "clip_rewards": null, "clip_actions": false, "kl_target": 0.01, "observation_filter": "NoFilter", "use_gae": true, "entropy_coeff": 0.0, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f946116f898>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f946116f400>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f946116fd30>"}, "gamma": 0.99, "horizon": 1500, "num_gpus_per_worker": 0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "output_max_file_size": 67108864, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "num_gpus": 0, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}}, "timestamp": 1557233659, "episode_reward_max": 965.5741145288807, "episodes_this_iter": 20, "time_total_s": 3271.5877861976624, "time_since_restore": 3271.5877861976624}
{"timesteps_since_restore": 5426456, "done": false, "node_ip": "10.138.0.2", "pid": 10867, "date": "2019-05-07_12-54-41", "episode_reward_min": 44.19614114511842, "timesteps_this_iter": 36822, "training_iteration": 141, "episode_reward_mean": 836.2472133361175, "experiment_id": "a183ec7aedea427d9bacd699bea0cf75", "policy_reward_mean": {}, "iterations_since_restore": 141, "custom_metrics": {"cost2_min": -41.34461036119487, "outflow_rate_max": 1180.6581142857142, "cost1_mean": 307.86177463962747, "cost2_mean": -27.57907014773262, "system_level_velocity_mean": 13.356221815942968, "cost1_max": 354.3836070724818, "cost1_min": 27.739245994115258, "cost2_max": -14.116380206024665, "outflow_rate_mean": 1014.1303475636295, "system_level_velocity_min": 11.177993918926838, "outflow_rate_min": 324.10145856808566, "system_level_velocity_max": 18.776985706083916}, "info": {"num_steps_trained": 5426456, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.015195547603070736, "total_loss": 26.151447296142578, "vf_loss": 26.15751838684082, "policy_loss": -0.008635375648736954, "cur_kl_coeff": 0.16875000298023224, "vf_explained_var": 0.6310418844223022, "entropy": 1.201879620552063}, "num_steps_sampled": 5426456, "load_time_ms": 10.731, "update_time_ms": 8.143, "grad_time_ms": 9001.272, "sample_time_ms": 13611.924}, "episode_len_mean": 665.86, "time_this_iter_s": 22.843128442764282, "num_metric_batches_dropped": 0, "timesteps_total": 5426456, "episodes_total": 2601, "hostname": "flow-main", "config": {"custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "kl_coeff": 0.2, "train_batch_size": 30000, "log_level": "INFO", "num_workers": 20, "num_sgd_iter": 10, "lr": 0.0005, "monitor": false, "lr_schedule": null, "compress_observations": false, "input": "sampler", "straggler_mitigation": false, "input_evaluation": null, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "optimizer": {}, "vf_share_layers": false, "model": {"fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "fcnet_activation": "tanh", "dim": 84, "lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "channel_major": false, "conv_activation": "relu", "squash_to_range": false, "conv_filters": null, "zero_mean": true, "grayscale": false, "max_seq_len": 20, "free_log_std": false, "custom_preprocessor": null, "custom_options": {}, "use_lstm": false}, "clip_param": 0.3, "num_cpus_for_driver": 1, "synchronize_filters": true, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "output": null, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.3, 0.1]_t_min:10.0", "batch_mode": "truncate_episodes", "simple_optimizer": false, "sample_batch_size": 200, "collect_metrics_timeout": 180, "clip_rewards": null, "clip_actions": false, "kl_target": 0.01, "observation_filter": "NoFilter", "use_gae": true, "entropy_coeff": 0.0, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb697b8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb69a20>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb69438>"}, "gamma": 0.99, "horizon": 1500, "num_gpus_per_worker": 0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "output_max_file_size": 67108864, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "num_gpus": 0, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}}, "timestamp": 1557233681, "episode_reward_max": 996.4053073497062, "episodes_this_iter": 21, "time_total_s": 3294.4309146404266, "time_since_restore": 3294.4309146404266}
{"timesteps_since_restore": 5462798, "done": false, "node_ip": "10.138.0.2", "pid": 10867, "date": "2019-05-07_12-55-04", "episode_reward_min": 44.19614114511842, "timesteps_this_iter": 36342, "training_iteration": 142, "episode_reward_mean": 823.760518517875, "experiment_id": "a183ec7aedea427d9bacd699bea0cf75", "policy_reward_mean": {}, "iterations_since_restore": 142, "custom_metrics": {"cost2_min": -41.34461036119487, "outflow_rate_max": 1205.5227948051947, "cost1_mean": 305.0401620317087, "cost2_mean": -27.988961023145634, "system_level_velocity_mean": 13.527787926156341, "cost1_max": 358.11783643884837, "cost1_min": 26.728760762596593, "cost2_max": -14.116380206024665, "outflow_rate_mean": 1009.0790655804315, "system_level_velocity_min": 11.532753441407989, "outflow_rate_min": 324.10145856808566, "system_level_velocity_max": 18.776985706083916}, "info": {"num_steps_trained": 5462798, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.016645565629005432, "total_loss": 35.081146240234375, "vf_loss": 35.085208892822266, "policy_loss": -0.006875216960906982, "cur_kl_coeff": 0.16875001788139343, "vf_explained_var": 0.48656418919563293, "entropy": 1.1927411556243896}, "num_steps_sampled": 5462798, "load_time_ms": 10.78, "update_time_ms": 8.163, "grad_time_ms": 8899.141, "sample_time_ms": 13499.722}, "episode_len_mean": 654.18, "time_this_iter_s": 22.20363974571228, "num_metric_batches_dropped": 0, "timesteps_total": 5462798, "episodes_total": 2623, "hostname": "flow-main", "config": {"custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "kl_coeff": 0.2, "train_batch_size": 30000, "log_level": "INFO", "num_workers": 20, "num_sgd_iter": 10, "lr": 0.0005, "monitor": false, "lr_schedule": null, "compress_observations": false, "input": "sampler", "straggler_mitigation": false, "input_evaluation": null, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "optimizer": {}, "vf_share_layers": false, "model": {"fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "fcnet_activation": "tanh", "dim": 84, "lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "channel_major": false, "conv_activation": "relu", "squash_to_range": false, "conv_filters": null, "zero_mean": true, "grayscale": false, "max_seq_len": 20, "free_log_std": false, "custom_preprocessor": null, "custom_options": {}, "use_lstm": false}, "clip_param": 0.3, "num_cpus_for_driver": 1, "synchronize_filters": true, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "output": null, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.3, 0.1]_t_min:10.0", "batch_mode": "truncate_episodes", "simple_optimizer": false, "sample_batch_size": 200, "collect_metrics_timeout": 180, "clip_rewards": null, "clip_actions": false, "kl_target": 0.01, "observation_filter": "NoFilter", "use_gae": true, "entropy_coeff": 0.0, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb69860>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb69240>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb691d0>"}, "gamma": 0.99, "horizon": 1500, "num_gpus_per_worker": 0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "output_max_file_size": 67108864, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "num_gpus": 0, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}}, "timestamp": 1557233704, "episode_reward_max": 996.4053073497062, "episodes_this_iter": 22, "time_total_s": 3316.634554386139, "time_since_restore": 3316.634554386139}
{"timesteps_since_restore": 5500205, "done": false, "node_ip": "10.138.0.2", "pid": 10867, "date": "2019-05-07_12-55-27", "episode_reward_min": 44.19614114511842, "timesteps_this_iter": 37407, "training_iteration": 143, "episode_reward_mean": 841.303141457961, "experiment_id": "a183ec7aedea427d9bacd699bea0cf75", "policy_reward_mean": {}, "iterations_since_restore": 143, "custom_metrics": {"cost2_min": -41.34461036119487, "outflow_rate_max": 1205.5227948051947, "cost1_mean": 308.2616884280053, "cost2_mean": -28.635360040405427, "system_level_velocity_mean": 13.403022091728939, "cost1_max": 364.33123031843013, "cost1_min": 26.728760762596593, "cost2_max": -14.120385444547695, "outflow_rate_mean": 1013.9294696597797, "system_level_velocity_min": 11.012876109467536, "outflow_rate_min": 324.10145856808566, "system_level_velocity_max": 18.776985706083916}, "info": {"num_steps_trained": 5500205, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.01589999534189701, "total_loss": 20.999374389648438, "vf_loss": 21.00476837158203, "policy_loss": -0.008077023550868034, "cur_kl_coeff": 0.16875001788139343, "vf_explained_var": 0.759109377861023, "entropy": 1.218555212020874}, "num_steps_sampled": 5500205, "load_time_ms": 10.706, "update_time_ms": 8.216, "grad_time_ms": 8932.732, "sample_time_ms": 13580.224}, "episode_len_mean": 663.85, "time_this_iter_s": 23.004387140274048, "num_metric_batches_dropped": 0, "timesteps_total": 5500205, "episodes_total": 2640, "hostname": "flow-main", "config": {"custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "kl_coeff": 0.2, "train_batch_size": 30000, "log_level": "INFO", "num_workers": 20, "num_sgd_iter": 10, "lr": 0.0005, "monitor": false, "lr_schedule": null, "compress_observations": false, "input": "sampler", "straggler_mitigation": false, "input_evaluation": null, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "optimizer": {}, "vf_share_layers": false, "model": {"fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "fcnet_activation": "tanh", "dim": 84, "lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "channel_major": false, "conv_activation": "relu", "squash_to_range": false, "conv_filters": null, "zero_mean": true, "grayscale": false, "max_seq_len": 20, "free_log_std": false, "custom_preprocessor": null, "custom_options": {}, "use_lstm": false}, "clip_param": 0.3, "num_cpus_for_driver": 1, "synchronize_filters": true, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "output": null, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.3, 0.1]_t_min:10.0", "batch_mode": "truncate_episodes", "simple_optimizer": false, "sample_batch_size": 200, "collect_metrics_timeout": 180, "clip_rewards": null, "clip_actions": false, "kl_target": 0.01, "observation_filter": "NoFilter", "use_gae": true, "entropy_coeff": 0.0, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb6ee80>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb6e6d8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb6eb38>"}, "gamma": 0.99, "horizon": 1500, "num_gpus_per_worker": 0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "output_max_file_size": 67108864, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "num_gpus": 0, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}}, "timestamp": 1557233727, "episode_reward_max": 996.4053073497062, "episodes_this_iter": 17, "time_total_s": 3339.638941526413, "time_since_restore": 3339.638941526413}
{"timesteps_since_restore": 5536752, "done": false, "node_ip": "10.138.0.2", "pid": 10867, "date": "2019-05-07_12-55-50", "episode_reward_min": 46.41882055061657, "timesteps_this_iter": 36547, "training_iteration": 144, "episode_reward_mean": 838.9645188232009, "experiment_id": "a183ec7aedea427d9bacd699bea0cf75", "policy_reward_mean": {}, "iterations_since_restore": 144, "custom_metrics": {"cost2_min": -40.53318947444742, "outflow_rate_max": 1205.5227948051947, "cost1_mean": 304.24810740552834, "cost2_mean": -29.318391783866403, "system_level_velocity_mean": 13.381591054149137, "cost1_max": 364.33123031843013, "cost1_min": 26.728760762596593, "cost2_max": -14.120385444547695, "outflow_rate_mean": 1006.055639963004, "system_level_velocity_min": 11.012876109467536, "outflow_rate_min": 312.10344795177366, "system_level_velocity_max": 18.26744435797245}, "info": {"num_steps_trained": 5536752, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.018542062491178513, "total_loss": 25.702730178833008, "vf_loss": 25.70890235900879, "policy_loss": -0.009300273843109608, "cur_kl_coeff": 0.16875003278255463, "vf_explained_var": 0.7058834433555603, "entropy": 1.216500163078308}, "num_steps_sampled": 5536752, "load_time_ms": 10.458, "update_time_ms": 8.208, "grad_time_ms": 8985.945, "sample_time_ms": 13649.398}, "episode_len_mean": 654.08, "time_this_iter_s": 22.781804084777832, "num_metric_batches_dropped": 0, "timesteps_total": 5536752, "episodes_total": 2662, "hostname": "flow-main", "config": {"custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "kl_coeff": 0.2, "train_batch_size": 30000, "log_level": "INFO", "num_workers": 20, "num_sgd_iter": 10, "lr": 0.0005, "monitor": false, "lr_schedule": null, "compress_observations": false, "input": "sampler", "straggler_mitigation": false, "input_evaluation": null, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "optimizer": {}, "vf_share_layers": false, "model": {"fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "fcnet_activation": "tanh", "dim": 84, "lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "channel_major": false, "conv_activation": "relu", "squash_to_range": false, "conv_filters": null, "zero_mean": true, "grayscale": false, "max_seq_len": 20, "free_log_std": false, "custom_preprocessor": null, "custom_options": {}, "use_lstm": false}, "clip_param": 0.3, "num_cpus_for_driver": 1, "synchronize_filters": true, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "output": null, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.3, 0.1]_t_min:10.0", "batch_mode": "truncate_episodes", "simple_optimizer": false, "sample_batch_size": 200, "collect_metrics_timeout": 180, "clip_rewards": null, "clip_actions": false, "kl_target": 0.01, "observation_filter": "NoFilter", "use_gae": true, "entropy_coeff": 0.0, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb72588>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb72128>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb72f28>"}, "gamma": 0.99, "horizon": 1500, "num_gpus_per_worker": 0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "output_max_file_size": 67108864, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "num_gpus": 0, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}}, "timestamp": 1557233750, "episode_reward_max": 996.4053073497062, "episodes_this_iter": 22, "time_total_s": 3362.420745611191, "time_since_restore": 3362.420745611191}
{"timesteps_since_restore": 5573811, "done": false, "node_ip": "10.138.0.2", "pid": 10867, "date": "2019-05-07_12-56-12", "episode_reward_min": 46.41882055061657, "timesteps_this_iter": 37059, "training_iteration": 145, "episode_reward_mean": 832.8236468778031, "experiment_id": "a183ec7aedea427d9bacd699bea0cf75", "policy_reward_mean": {}, "iterations_since_restore": 145, "custom_metrics": {"cost2_min": -40.53318947444742, "outflow_rate_max": 1205.5227948051947, "cost1_mean": 299.4297690447354, "cost2_mean": -29.371859896026358, "system_level_velocity_mean": 13.351567861423103, "cost1_max": 364.33123031843013, "cost1_min": 26.728760762596593, "cost2_max": -14.120385444547695, "outflow_rate_mean": 992.8243792856509, "system_level_velocity_min": 11.012876109467536, "outflow_rate_min": 312.10344795177366, "system_level_velocity_max": 18.26744435797245}, "info": {"num_steps_trained": 5573811, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.01665574684739113, "total_loss": 26.84170150756836, "vf_loss": 26.84800148010254, "policy_loss": -0.00910960417240858, "cur_kl_coeff": 0.16875001788139343, "vf_explained_var": 0.6094551682472229, "entropy": 1.2337188720703125}, "num_steps_sampled": 5573811, "load_time_ms": 10.586, "update_time_ms": 8.066, "grad_time_ms": 9037.519, "sample_time_ms": 13655.823}, "episode_len_mean": 643.84, "time_this_iter_s": 22.489777326583862, "num_metric_batches_dropped": 0, "timesteps_total": 5573811, "episodes_total": 2683, "hostname": "flow-main", "config": {"custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "kl_coeff": 0.2, "train_batch_size": 30000, "log_level": "INFO", "num_workers": 20, "num_sgd_iter": 10, "lr": 0.0005, "monitor": false, "lr_schedule": null, "compress_observations": false, "input": "sampler", "straggler_mitigation": false, "input_evaluation": null, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "optimizer": {}, "vf_share_layers": false, "model": {"fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "fcnet_activation": "tanh", "dim": 84, "lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "channel_major": false, "conv_activation": "relu", "squash_to_range": false, "conv_filters": null, "zero_mean": true, "grayscale": false, "max_seq_len": 20, "free_log_std": false, "custom_preprocessor": null, "custom_options": {}, "use_lstm": false}, "clip_param": 0.3, "num_cpus_for_driver": 1, "synchronize_filters": true, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "output": null, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.3, 0.1]_t_min:10.0", "batch_mode": "truncate_episodes", "simple_optimizer": false, "sample_batch_size": 200, "collect_metrics_timeout": 180, "clip_rewards": null, "clip_actions": false, "kl_target": 0.01, "observation_filter": "NoFilter", "use_gae": true, "entropy_coeff": 0.0, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb69860>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb69f60>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb696d8>"}, "gamma": 0.99, "horizon": 1500, "num_gpus_per_worker": 0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "output_max_file_size": 67108864, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "num_gpus": 0, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}}, "timestamp": 1557233772, "episode_reward_max": 996.4053073497062, "episodes_this_iter": 21, "time_total_s": 3384.9105229377747, "time_since_restore": 3384.9105229377747}
{"timesteps_since_restore": 5610714, "done": false, "node_ip": "10.138.0.2", "pid": 10867, "date": "2019-05-07_12-56-36", "episode_reward_min": 46.41882055061657, "timesteps_this_iter": 36903, "training_iteration": 146, "episode_reward_mean": 824.5671444433098, "experiment_id": "a183ec7aedea427d9bacd699bea0cf75", "policy_reward_mean": {}, "iterations_since_restore": 146, "custom_metrics": {"cost2_min": -40.53318947444742, "outflow_rate_max": 1205.5227948051947, "cost1_mean": 296.1936517252171, "cost2_mean": -28.49057012311864, "system_level_velocity_mean": 13.386261697091156, "cost1_max": 364.33123031843013, "cost1_min": 26.728760762596593, "cost2_max": -14.120385444547695, "outflow_rate_mean": 980.5599808963176, "system_level_velocity_min": 11.012876109467536, "outflow_rate_min": 312.10344795177366, "system_level_velocity_max": 18.26744435797245}, "info": {"num_steps_trained": 5610714, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.016050031408667564, "total_loss": 28.869455337524414, "vf_loss": 28.87494659423828, "policy_loss": -0.008200058713555336, "cur_kl_coeff": 0.16875001788139343, "vf_explained_var": 0.6224710941314697, "entropy": 1.2108805179595947}, "num_steps_sampled": 5610714, "load_time_ms": 11.089, "update_time_ms": 8.12, "grad_time_ms": 9102.23, "sample_time_ms": 13726.239}, "episode_len_mean": 637.34, "time_this_iter_s": 23.562403440475464, "num_metric_batches_dropped": 0, "timesteps_total": 5610714, "episodes_total": 2705, "hostname": "flow-main", "config": {"custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "kl_coeff": 0.2, "train_batch_size": 30000, "log_level": "INFO", "num_workers": 20, "num_sgd_iter": 10, "lr": 0.0005, "monitor": false, "lr_schedule": null, "compress_observations": false, "input": "sampler", "straggler_mitigation": false, "input_evaluation": null, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "optimizer": {}, "vf_share_layers": false, "model": {"fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "fcnet_activation": "tanh", "dim": 84, "lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "channel_major": false, "conv_activation": "relu", "squash_to_range": false, "conv_filters": null, "zero_mean": true, "grayscale": false, "max_seq_len": 20, "free_log_std": false, "custom_preprocessor": null, "custom_options": {}, "use_lstm": false}, "clip_param": 0.3, "num_cpus_for_driver": 1, "synchronize_filters": true, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "output": null, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.3, 0.1]_t_min:10.0", "batch_mode": "truncate_episodes", "simple_optimizer": false, "sample_batch_size": 200, "collect_metrics_timeout": 180, "clip_rewards": null, "clip_actions": false, "kl_target": 0.01, "observation_filter": "NoFilter", "use_gae": true, "entropy_coeff": 0.0, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb6e978>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb6ee80>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb6efd0>"}, "gamma": 0.99, "horizon": 1500, "num_gpus_per_worker": 0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "output_max_file_size": 67108864, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "num_gpus": 0, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}}, "timestamp": 1557233796, "episode_reward_max": 992.4869586608047, "episodes_this_iter": 22, "time_total_s": 3408.47292637825, "time_since_restore": 3408.47292637825}
{"timesteps_since_restore": 5647331, "done": false, "node_ip": "10.138.0.2", "pid": 10867, "date": "2019-05-07_12-56-58", "episode_reward_min": 47.542475246122336, "timesteps_this_iter": 36617, "training_iteration": 147, "episode_reward_mean": 819.73239908198, "experiment_id": "a183ec7aedea427d9bacd699bea0cf75", "policy_reward_mean": {}, "iterations_since_restore": 147, "custom_metrics": {"cost2_min": -40.53318947444742, "outflow_rate_max": 1191.8125506493504, "cost1_mean": 291.2507271616351, "cost2_mean": -28.449980214952394, "system_level_velocity_mean": 13.219745835154578, "cost1_max": 364.33123031843013, "cost1_min": 27.756953885210027, "cost2_max": -14.38487626855322, "outflow_rate_mean": 965.5894128575275, "system_level_velocity_min": 10.557239631486542, "outflow_rate_min": 312.10344795177366, "system_level_velocity_max": 18.587765626887055}, "info": {"num_steps_trained": 5647331, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.01592068187892437, "total_loss": 27.11290168762207, "vf_loss": 27.117996215820312, "policy_loss": -0.007781554013490677, "cur_kl_coeff": 0.16875001788139343, "vf_explained_var": 0.778950572013855, "entropy": 1.2126710414886475}, "num_steps_sampled": 5647331, "load_time_ms": 11.306, "update_time_ms": 8.142, "grad_time_ms": 9141.606, "sample_time_ms": 13673.647}, "episode_len_mean": 633.4, "time_this_iter_s": 22.33838129043579, "num_metric_batches_dropped": 0, "timesteps_total": 5647331, "episodes_total": 2725, "hostname": "flow-main", "config": {"custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "kl_coeff": 0.2, "train_batch_size": 30000, "log_level": "INFO", "num_workers": 20, "num_sgd_iter": 10, "lr": 0.0005, "monitor": false, "lr_schedule": null, "compress_observations": false, "input": "sampler", "straggler_mitigation": false, "input_evaluation": null, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "optimizer": {}, "vf_share_layers": false, "model": {"fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "fcnet_activation": "tanh", "dim": 84, "lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "channel_major": false, "conv_activation": "relu", "squash_to_range": false, "conv_filters": null, "zero_mean": true, "grayscale": false, "max_seq_len": 20, "free_log_std": false, "custom_preprocessor": null, "custom_options": {}, "use_lstm": false}, "clip_param": 0.3, "num_cpus_for_driver": 1, "synchronize_filters": true, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "output": null, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.3, 0.1]_t_min:10.0", "batch_mode": "truncate_episodes", "simple_optimizer": false, "sample_batch_size": 200, "collect_metrics_timeout": 180, "clip_rewards": null, "clip_actions": false, "kl_target": 0.01, "observation_filter": "NoFilter", "use_gae": true, "entropy_coeff": 0.0, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb6eb38>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb72f28>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb6ef28>"}, "gamma": 0.99, "horizon": 1500, "num_gpus_per_worker": 0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "output_max_file_size": 67108864, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "num_gpus": 0, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}}, "timestamp": 1557233818, "episode_reward_max": 992.4869586608047, "episodes_this_iter": 20, "time_total_s": 3430.811307668686, "time_since_restore": 3430.811307668686}
{"timesteps_since_restore": 5684438, "done": false, "node_ip": "10.138.0.2", "pid": 10867, "date": "2019-05-07_12-57-21", "episode_reward_min": 47.542475246122336, "timesteps_this_iter": 37107, "training_iteration": 148, "episode_reward_mean": 821.6328174354963, "experiment_id": "a183ec7aedea427d9bacd699bea0cf75", "policy_reward_mean": {}, "iterations_since_restore": 148, "custom_metrics": {"cost2_min": -37.05955130663872, "outflow_rate_max": 1191.8125506493504, "cost1_mean": 295.06958767948737, "cost2_mean": -27.89802819864303, "system_level_velocity_mean": 13.285896394417762, "cost1_max": 358.75272451380135, "cost1_min": 27.756953885210027, "cost2_max": -14.38487626855322, "outflow_rate_mean": 977.6855924009382, "system_level_velocity_min": 10.557239631486542, "outflow_rate_min": 312.10344795177366, "system_level_velocity_max": 18.587765626887055}, "info": {"num_steps_trained": 5684438, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.017834080383181572, "total_loss": 25.22526741027832, "vf_loss": 25.232013702392578, "policy_loss": -0.009755258448421955, "cur_kl_coeff": 0.16875001788139343, "vf_explained_var": 0.6064697504043579, "entropy": 1.2151789665222168}, "num_steps_sampled": 5684438, "load_time_ms": 11.505, "update_time_ms": 8.034, "grad_time_ms": 9151.448, "sample_time_ms": 13550.684}, "episode_len_mean": 638.47, "time_this_iter_s": 22.770653009414673, "num_metric_batches_dropped": 0, "timesteps_total": 5684438, "episodes_total": 2746, "hostname": "flow-main", "config": {"custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "kl_coeff": 0.2, "train_batch_size": 30000, "log_level": "INFO", "num_workers": 20, "num_sgd_iter": 10, "lr": 0.0005, "monitor": false, "lr_schedule": null, "compress_observations": false, "input": "sampler", "straggler_mitigation": false, "input_evaluation": null, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "optimizer": {}, "vf_share_layers": false, "model": {"fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "fcnet_activation": "tanh", "dim": 84, "lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "channel_major": false, "conv_activation": "relu", "squash_to_range": false, "conv_filters": null, "zero_mean": true, "grayscale": false, "max_seq_len": 20, "free_log_std": false, "custom_preprocessor": null, "custom_options": {}, "use_lstm": false}, "clip_param": 0.3, "num_cpus_for_driver": 1, "synchronize_filters": true, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "output": null, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.3, 0.1]_t_min:10.0", "batch_mode": "truncate_episodes", "simple_optimizer": false, "sample_batch_size": 200, "collect_metrics_timeout": 180, "clip_rewards": null, "clip_actions": false, "kl_target": 0.01, "observation_filter": "NoFilter", "use_gae": true, "entropy_coeff": 0.0, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb69240>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb69b38>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb698d0>"}, "gamma": 0.99, "horizon": 1500, "num_gpus_per_worker": 0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "output_max_file_size": 67108864, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "num_gpus": 0, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}}, "timestamp": 1557233841, "episode_reward_max": 992.4869586608047, "episodes_this_iter": 21, "time_total_s": 3453.5819606781006, "time_since_restore": 3453.5819606781006}
{"timesteps_since_restore": 5721485, "done": false, "node_ip": "10.138.0.2", "pid": 10867, "date": "2019-05-07_12-57-44", "episode_reward_min": 47.542475246122336, "timesteps_this_iter": 37047, "training_iteration": 149, "episode_reward_mean": 822.9357346634831, "experiment_id": "a183ec7aedea427d9bacd699bea0cf75", "policy_reward_mean": {}, "iterations_since_restore": 149, "custom_metrics": {"cost2_min": -39.77774855358966, "outflow_rate_max": 1191.8125506493504, "cost1_mean": 295.1839839024165, "cost2_mean": -27.621570018117662, "system_level_velocity_mean": 13.241189438237742, "cost1_max": 358.75272451380135, "cost1_min": 27.756953885210027, "cost2_max": -14.555155524899373, "outflow_rate_mean": 983.6605758329549, "system_level_velocity_min": 10.557239631486542, "outflow_rate_min": 329.8655169108091, "system_level_velocity_max": 18.587765626887055}, "info": {"num_steps_trained": 5721485, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.01636703498661518, "total_loss": 28.047531127929688, "vf_loss": 28.05158805847168, "policy_loss": -0.006818712688982487, "cur_kl_coeff": 0.16875001788139343, "vf_explained_var": 0.6800434589385986, "entropy": 1.1962451934814453}, "num_steps_sampled": 5721485, "load_time_ms": 10.962, "update_time_ms": 7.939, "grad_time_ms": 9164.746, "sample_time_ms": 13501.644}, "episode_len_mean": 640.95, "time_this_iter_s": 22.878154277801514, "num_metric_batches_dropped": 0, "timesteps_total": 5721485, "episodes_total": 2767, "hostname": "flow-main", "config": {"custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "kl_coeff": 0.2, "train_batch_size": 30000, "log_level": "INFO", "num_workers": 20, "num_sgd_iter": 10, "lr": 0.0005, "monitor": false, "lr_schedule": null, "compress_observations": false, "input": "sampler", "straggler_mitigation": false, "input_evaluation": null, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "optimizer": {}, "vf_share_layers": false, "model": {"fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "fcnet_activation": "tanh", "dim": 84, "lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "channel_major": false, "conv_activation": "relu", "squash_to_range": false, "conv_filters": null, "zero_mean": true, "grayscale": false, "max_seq_len": 20, "free_log_std": false, "custom_preprocessor": null, "custom_options": {}, "use_lstm": false}, "clip_param": 0.3, "num_cpus_for_driver": 1, "synchronize_filters": true, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "output": null, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.3, 0.1]_t_min:10.0", "batch_mode": "truncate_episodes", "simple_optimizer": false, "sample_batch_size": 200, "collect_metrics_timeout": 180, "clip_rewards": null, "clip_actions": false, "kl_target": 0.01, "observation_filter": "NoFilter", "use_gae": true, "entropy_coeff": 0.0, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb6e2b0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb6e1d0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb6eba8>"}, "gamma": 0.99, "horizon": 1500, "num_gpus_per_worker": 0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "output_max_file_size": 67108864, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "num_gpus": 0, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}}, "timestamp": 1557233864, "episode_reward_max": 983.652459551004, "episodes_this_iter": 21, "time_total_s": 3476.460114955902, "time_since_restore": 3476.460114955902}
{"timesteps_since_restore": 5758519, "done": false, "node_ip": "10.138.0.2", "pid": 10867, "date": "2019-05-07_12-58-06", "episode_reward_min": 47.542475246122336, "timesteps_this_iter": 37034, "training_iteration": 150, "episode_reward_mean": 828.9708679963237, "experiment_id": "a183ec7aedea427d9bacd699bea0cf75", "policy_reward_mean": {}, "iterations_since_restore": 150, "custom_metrics": {"cost2_min": -39.77774855358966, "outflow_rate_max": 1191.8125506493504, "cost1_mean": 298.4200703292711, "cost2_mean": -27.84024634575883, "system_level_velocity_mean": 13.221839257202692, "cost1_max": 358.75272451380135, "cost1_min": 27.756953885210027, "cost2_max": -14.555155524899373, "outflow_rate_mean": 990.581289040961, "system_level_velocity_min": 10.557239631486542, "outflow_rate_min": 329.8655169108091, "system_level_velocity_max": 18.587765626887055}, "info": {"num_steps_trained": 5758519, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.015210673213005066, "total_loss": 29.52046775817871, "vf_loss": 29.52540397644043, "policy_loss": -0.007507312577217817, "cur_kl_coeff": 0.16875001788139343, "vf_explained_var": 0.588513195514679, "entropy": 1.175199270248413}, "num_steps_sampled": 5758519, "load_time_ms": 10.456, "update_time_ms": 7.554, "grad_time_ms": 9221.085, "sample_time_ms": 13424.82}, "episode_len_mean": 647.75, "time_this_iter_s": 22.502480268478394, "num_metric_batches_dropped": 0, "timesteps_total": 5758519, "episodes_total": 2787, "hostname": "flow-main", "config": {"custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "kl_coeff": 0.2, "train_batch_size": 30000, "log_level": "INFO", "num_workers": 20, "num_sgd_iter": 10, "lr": 0.0005, "monitor": false, "lr_schedule": null, "compress_observations": false, "input": "sampler", "straggler_mitigation": false, "input_evaluation": null, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "optimizer": {}, "vf_share_layers": false, "model": {"fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "fcnet_activation": "tanh", "dim": 84, "lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "channel_major": false, "conv_activation": "relu", "squash_to_range": false, "conv_filters": null, "zero_mean": true, "grayscale": false, "max_seq_len": 20, "free_log_std": false, "custom_preprocessor": null, "custom_options": {}, "use_lstm": false}, "clip_param": 0.3, "num_cpus_for_driver": 1, "synchronize_filters": true, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "output": null, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.3, 0.1]_t_min:10.0", "batch_mode": "truncate_episodes", "simple_optimizer": false, "sample_batch_size": 200, "collect_metrics_timeout": 180, "clip_rewards": null, "clip_actions": false, "kl_target": 0.01, "observation_filter": "NoFilter", "use_gae": true, "entropy_coeff": 0.0, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb72da0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb72a58>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb72e48>"}, "gamma": 0.99, "horizon": 1500, "num_gpus_per_worker": 0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "output_max_file_size": 67108864, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "num_gpus": 0, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}}, "timestamp": 1557233886, "episode_reward_max": 983.652459551004, "episodes_this_iter": 20, "time_total_s": 3498.9625952243805, "time_since_restore": 3498.9625952243805}
{"timesteps_since_restore": 5795254, "done": false, "node_ip": "10.138.0.2", "pid": 10867, "date": "2019-05-07_12-58-29", "episode_reward_min": 47.542475246122336, "timesteps_this_iter": 36735, "training_iteration": 151, "episode_reward_mean": 846.5189819764386, "experiment_id": "a183ec7aedea427d9bacd699bea0cf75", "policy_reward_mean": {}, "iterations_since_restore": 151, "custom_metrics": {"cost2_min": -40.065540477988996, "outflow_rate_max": 1174.3605818181818, "cost1_mean": 303.2020399024362, "cost2_mean": -28.44026136723798, "system_level_velocity_mean": 13.184199849962557, "cost1_max": 356.64495245152176, "cost1_min": 27.756953885210027, "cost2_max": -16.932677743326607, "outflow_rate_mean": 1006.5920161622946, "system_level_velocity_min": 10.557239631486542, "outflow_rate_min": 340.0431742023662, "system_level_velocity_max": 18.587765626887055}, "info": {"num_steps_trained": 5795254, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.01639453135430813, "total_loss": 24.50536346435547, "vf_loss": 24.511369705200195, "policy_loss": -0.008771742694079876, "cur_kl_coeff": 0.16875001788139343, "vf_explained_var": 0.7525358200073242, "entropy": 1.2155479192733765}, "num_steps_sampled": 5795254, "load_time_ms": 11.015, "update_time_ms": 7.584, "grad_time_ms": 9241.909, "sample_time_ms": 13442.402}, "episode_len_mean": 656.42, "time_this_iter_s": 23.24262285232544, "num_metric_batches_dropped": 0, "timesteps_total": 5795254, "episodes_total": 2808, "hostname": "flow-main", "config": {"custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "kl_coeff": 0.2, "train_batch_size": 30000, "log_level": "INFO", "num_workers": 20, "num_sgd_iter": 10, "lr": 0.0005, "monitor": false, "lr_schedule": null, "compress_observations": false, "input": "sampler", "straggler_mitigation": false, "input_evaluation": null, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "optimizer": {}, "vf_share_layers": false, "model": {"fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "fcnet_activation": "tanh", "dim": 84, "lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "channel_major": false, "conv_activation": "relu", "squash_to_range": false, "conv_filters": null, "zero_mean": true, "grayscale": false, "max_seq_len": 20, "free_log_std": false, "custom_preprocessor": null, "custom_options": {}, "use_lstm": false}, "clip_param": 0.3, "num_cpus_for_driver": 1, "synchronize_filters": true, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "output": null, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.3, 0.1]_t_min:10.0", "batch_mode": "truncate_episodes", "simple_optimizer": false, "sample_batch_size": 200, "collect_metrics_timeout": 180, "clip_rewards": null, "clip_actions": false, "kl_target": 0.01, "observation_filter": "NoFilter", "use_gae": true, "entropy_coeff": 0.0, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb69278>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f945fcd6c88>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f946116f0f0>"}, "gamma": 0.99, "horizon": 1500, "num_gpus_per_worker": 0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "output_max_file_size": 67108864, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "num_gpus": 0, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}}, "timestamp": 1557233909, "episode_reward_max": 1008.6646945757964, "episodes_this_iter": 21, "time_total_s": 3522.205218076706, "time_since_restore": 3522.205218076706}
{"timesteps_since_restore": 5831760, "done": false, "node_ip": "10.138.0.2", "pid": 10867, "date": "2019-05-07_12-58-53", "episode_reward_min": 52.75590362426729, "timesteps_this_iter": 36506, "training_iteration": 152, "episode_reward_mean": 855.7800290387099, "experiment_id": "a183ec7aedea427d9bacd699bea0cf75", "policy_reward_mean": {}, "iterations_since_restore": 152, "custom_metrics": {"cost2_min": -46.528071447245566, "outflow_rate_max": 1206.7334285714287, "cost1_mean": 308.75113797597044, "cost2_mean": -28.84430243047665, "system_level_velocity_mean": 13.279078135079823, "cost1_max": 363.4620828215085, "cost1_min": 32.232705303936406, "cost2_max": -18.420731567887504, "outflow_rate_mean": 1022.0511502439575, "system_level_velocity_min": 9.322761763906843, "outflow_rate_min": 332.7571298140349, "system_level_velocity_max": 17.739329954745475}, "info": {"num_steps_trained": 5831760, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.019744714722037315, "total_loss": 28.46112632751465, "vf_loss": 28.466272354125977, "policy_loss": -0.00847823079675436, "cur_kl_coeff": 0.16875003278255463, "vf_explained_var": 0.7074128985404968, "entropy": 1.1862456798553467}, "num_steps_sampled": 5831760, "load_time_ms": 11.218, "update_time_ms": 7.621, "grad_time_ms": 9246.072, "sample_time_ms": 13515.5}, "episode_len_mean": 662.82, "time_this_iter_s": 22.9947030544281, "num_metric_batches_dropped": 0, "timesteps_total": 5831760, "episodes_total": 2829, "hostname": "flow-main", "config": {"custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "kl_coeff": 0.2, "train_batch_size": 30000, "log_level": "INFO", "num_workers": 20, "num_sgd_iter": 10, "lr": 0.0005, "monitor": false, "lr_schedule": null, "compress_observations": false, "input": "sampler", "straggler_mitigation": false, "input_evaluation": null, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "optimizer": {}, "vf_share_layers": false, "model": {"fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "fcnet_activation": "tanh", "dim": 84, "lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "channel_major": false, "conv_activation": "relu", "squash_to_range": false, "conv_filters": null, "zero_mean": true, "grayscale": false, "max_seq_len": 20, "free_log_std": false, "custom_preprocessor": null, "custom_options": {}, "use_lstm": false}, "clip_param": 0.3, "num_cpus_for_driver": 1, "synchronize_filters": true, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "output": null, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.3, 0.1]_t_min:10.0", "batch_mode": "truncate_episodes", "simple_optimizer": false, "sample_batch_size": 200, "collect_metrics_timeout": 180, "clip_rewards": null, "clip_actions": false, "kl_target": 0.01, "observation_filter": "NoFilter", "use_gae": true, "entropy_coeff": 0.0, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f946116f2b0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f946116fbe0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f946116fcf8>"}, "gamma": 0.99, "horizon": 1500, "num_gpus_per_worker": 0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "output_max_file_size": 67108864, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "num_gpus": 0, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}}, "timestamp": 1557233933, "episode_reward_max": 1008.6646945757964, "episodes_this_iter": 21, "time_total_s": 3545.199921131134, "time_since_restore": 3545.199921131134}
{"timesteps_since_restore": 5868566, "done": false, "node_ip": "10.138.0.2", "pid": 10867, "date": "2019-05-07_12-59-15", "episode_reward_min": 52.75590362426729, "timesteps_this_iter": 36806, "training_iteration": 153, "episode_reward_mean": 865.5527902423173, "experiment_id": "a183ec7aedea427d9bacd699bea0cf75", "policy_reward_mean": {}, "iterations_since_restore": 153, "custom_metrics": {"cost2_min": -46.528071447245566, "outflow_rate_max": 1206.7334285714287, "cost1_mean": 308.9371820538641, "cost2_mean": -29.25042828299041, "system_level_velocity_mean": 13.214394976403462, "cost1_max": 363.4620828215085, "cost1_min": 32.232705303936406, "cost2_max": -18.420731567887504, "outflow_rate_mean": 1021.2293941288411, "system_level_velocity_min": 9.322761763906843, "outflow_rate_min": 332.7571298140349, "system_level_velocity_max": 17.739329954745475}, "info": {"num_steps_trained": 5868566, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.017842423170804977, "total_loss": 23.79583740234375, "vf_loss": 23.799972534179688, "policy_loss": -0.007148650474846363, "cur_kl_coeff": 0.16875000298023224, "vf_explained_var": 0.7403862476348877, "entropy": 1.2005178928375244}, "num_steps_sampled": 5868566, "load_time_ms": 11.202, "update_time_ms": 7.514, "grad_time_ms": 9232.72, "sample_time_ms": 13486.697}, "episode_len_mean": 665.03, "time_this_iter_s": 22.577470779418945, "num_metric_batches_dropped": 0, "timesteps_total": 5868566, "episodes_total": 2847, "hostname": "flow-main", "config": {"custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "kl_coeff": 0.2, "train_batch_size": 30000, "log_level": "INFO", "num_workers": 20, "num_sgd_iter": 10, "lr": 0.0005, "monitor": false, "lr_schedule": null, "compress_observations": false, "input": "sampler", "straggler_mitigation": false, "input_evaluation": null, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "optimizer": {}, "vf_share_layers": false, "model": {"fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "fcnet_activation": "tanh", "dim": 84, "lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "channel_major": false, "conv_activation": "relu", "squash_to_range": false, "conv_filters": null, "zero_mean": true, "grayscale": false, "max_seq_len": 20, "free_log_std": false, "custom_preprocessor": null, "custom_options": {}, "use_lstm": false}, "clip_param": 0.3, "num_cpus_for_driver": 1, "synchronize_filters": true, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "output": null, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.3, 0.1]_t_min:10.0", "batch_mode": "truncate_episodes", "simple_optimizer": false, "sample_batch_size": 200, "collect_metrics_timeout": 180, "clip_rewards": null, "clip_actions": false, "kl_target": 0.01, "observation_filter": "NoFilter", "use_gae": true, "entropy_coeff": 0.0, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb6e9e8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb6e048>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb6e7f0>"}, "gamma": 0.99, "horizon": 1500, "num_gpus_per_worker": 0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "output_max_file_size": 67108864, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "num_gpus": 0, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}}, "timestamp": 1557233955, "episode_reward_max": 1030.5759024020774, "episodes_this_iter": 18, "time_total_s": 3567.777391910553, "time_since_restore": 3567.777391910553}
{"timesteps_since_restore": 5905896, "done": false, "node_ip": "10.138.0.2", "pid": 10867, "date": "2019-05-07_12-59-38", "episode_reward_min": 52.75590362426729, "timesteps_this_iter": 37330, "training_iteration": 154, "episode_reward_mean": 879.450280579871, "experiment_id": "a183ec7aedea427d9bacd699bea0cf75", "policy_reward_mean": {}, "iterations_since_restore": 154, "custom_metrics": {"cost2_min": -46.528071447245566, "cost2_mean": -29.781945981833772, "cost1_mean": 313.73476773095194, "system_level_velocity_mean": 13.167264564291305, "cost1_max": 363.4620828215085, "cost1_min": 32.232705303936406, "cost2_max": -18.420731567887504, "outflow_rate_max": 1206.7334285714287, "system_level_velocity_min": 9.322761763906843, "outflow_rate_min": 332.7571298140349, "system_level_velocity_max": 17.739329954745475, "outflow_rate_mean": 1025.1042879664114}, "info": {"num_steps_trained": 5905896, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.017423132434487343, "total_loss": 22.638944625854492, "vf_loss": 22.646303176879883, "policy_loss": -0.010300498455762863, "cur_kl_coeff": 0.16875001788139343, "vf_explained_var": 0.7485705018043518, "entropy": 1.166783332824707}, "num_steps_sampled": 5905896, "load_time_ms": 11.505, "update_time_ms": 7.674, "grad_time_ms": 9232.649, "sample_time_ms": 13524.23}, "episode_len_mean": 674.54, "time_this_iter_s": 23.166488885879517, "num_metric_batches_dropped": 0, "timesteps_total": 5905896, "episodes_total": 2867, "hostname": "flow-main", "config": {"custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "kl_coeff": 0.2, "train_batch_size": 30000, "log_level": "INFO", "num_workers": 20, "num_sgd_iter": 10, "lr": 0.0005, "monitor": false, "lr_schedule": null, "compress_observations": false, "input": "sampler", "straggler_mitigation": false, "input_evaluation": null, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "optimizer": {}, "vf_share_layers": false, "model": {"fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "fcnet_activation": "tanh", "dim": 84, "lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "channel_major": false, "conv_activation": "relu", "squash_to_range": false, "conv_filters": null, "zero_mean": true, "grayscale": false, "max_seq_len": 20, "free_log_std": false, "custom_preprocessor": null, "custom_options": {}, "use_lstm": false}, "clip_param": 0.3, "num_cpus_for_driver": 1, "synchronize_filters": true, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "output": null, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.3, 0.1]_t_min:10.0", "batch_mode": "truncate_episodes", "simple_optimizer": false, "sample_batch_size": 200, "collect_metrics_timeout": 180, "clip_rewards": null, "clip_actions": false, "kl_target": 0.01, "observation_filter": "NoFilter", "use_gae": true, "entropy_coeff": 0.0, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb72cc0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb72358>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb726d8>"}, "gamma": 0.99, "horizon": 1500, "num_gpus_per_worker": 0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "output_max_file_size": 67108864, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "num_gpus": 0, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}}, "timestamp": 1557233978, "episode_reward_max": 1030.5759024020774, "episodes_this_iter": 20, "time_total_s": 3590.9438807964325, "time_since_restore": 3590.9438807964325}
{"timesteps_since_restore": 5943058, "done": false, "node_ip": "10.138.0.2", "pid": 10867, "date": "2019-05-07_13-00-01", "episode_reward_min": 52.75590362426729, "timesteps_this_iter": 37162, "training_iteration": 155, "episode_reward_mean": 885.9923529142303, "experiment_id": "a183ec7aedea427d9bacd699bea0cf75", "policy_reward_mean": {}, "iterations_since_restore": 155, "custom_metrics": {"cost2_min": -46.528071447245566, "outflow_rate_max": 1206.7334285714287, "cost1_mean": 312.5536713392414, "cost2_mean": -29.92352513961368, "system_level_velocity_mean": 12.959662338103337, "cost1_max": 363.4620828215085, "cost1_min": 32.232705303936406, "cost2_max": -18.420731567887504, "outflow_rate_mean": 1019.710797545607, "system_level_velocity_min": 9.322761763906843, "outflow_rate_min": 332.7571298140349, "system_level_velocity_max": 17.739329954745475}, "info": {"num_steps_trained": 5943058, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.019572310149669647, "total_loss": 23.851137161254883, "vf_loss": 23.85548973083496, "policy_loss": -0.007655853871256113, "cur_kl_coeff": 0.16875003278255463, "vf_explained_var": 0.6954037547111511, "entropy": 1.1579289436340332}, "num_steps_sampled": 5943058, "load_time_ms": 11.439, "update_time_ms": 7.763, "grad_time_ms": 9225.553, "sample_time_ms": 13504.894}, "episode_len_mean": 678.63, "time_this_iter_s": 22.25490403175354, "num_metric_batches_dropped": 0, "timesteps_total": 5943058, "episodes_total": 2884, "hostname": "flow-main", "config": {"custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "kl_coeff": 0.2, "train_batch_size": 30000, "log_level": "INFO", "num_workers": 20, "num_sgd_iter": 10, "lr": 0.0005, "monitor": false, "lr_schedule": null, "compress_observations": false, "input": "sampler", "straggler_mitigation": false, "input_evaluation": null, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "optimizer": {}, "vf_share_layers": false, "model": {"fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "fcnet_activation": "tanh", "dim": 84, "lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "channel_major": false, "conv_activation": "relu", "squash_to_range": false, "conv_filters": null, "zero_mean": true, "grayscale": false, "max_seq_len": 20, "free_log_std": false, "custom_preprocessor": null, "custom_options": {}, "use_lstm": false}, "clip_param": 0.3, "num_cpus_for_driver": 1, "synchronize_filters": true, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "output": null, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.3, 0.1]_t_min:10.0", "batch_mode": "truncate_episodes", "simple_optimizer": false, "sample_batch_size": 200, "collect_metrics_timeout": 180, "clip_rewards": null, "clip_actions": false, "kl_target": 0.01, "observation_filter": "NoFilter", "use_gae": true, "entropy_coeff": 0.0, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb6e748>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb6ecf8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb6eba8>"}, "gamma": 0.99, "horizon": 1500, "num_gpus_per_worker": 0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "output_max_file_size": 67108864, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "num_gpus": 0, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}}, "timestamp": 1557234001, "episode_reward_max": 1030.5759024020774, "episodes_this_iter": 17, "time_total_s": 3613.198784828186, "time_since_restore": 3613.198784828186}
{"timesteps_since_restore": 5980797, "done": false, "node_ip": "10.138.0.2", "pid": 10867, "date": "2019-05-07_13-00-23", "episode_reward_min": 52.75590362426729, "timesteps_this_iter": 37739, "training_iteration": 156, "episode_reward_mean": 884.4130803848567, "experiment_id": "a183ec7aedea427d9bacd699bea0cf75", "policy_reward_mean": {}, "iterations_since_restore": 156, "custom_metrics": {"cost2_min": -46.528071447245566, "outflow_rate_max": 1206.7334285714287, "cost1_mean": 310.26335751412074, "cost2_mean": -29.831151184933784, "system_level_velocity_mean": 12.805819522070255, "cost1_max": 363.4620828215085, "cost1_min": 32.232705303936406, "cost2_max": -16.44576454302788, "outflow_rate_mean": 1008.6138831718927, "system_level_velocity_min": 9.322761763906843, "outflow_rate_min": 332.7571298140349, "system_level_velocity_max": 17.739329954745475}, "info": {"num_steps_trained": 5980797, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.015077951364219189, "total_loss": 21.367694854736328, "vf_loss": 21.372648239135742, "policy_loss": -0.007497123908251524, "cur_kl_coeff": 0.16875000298023224, "vf_explained_var": 0.6928751468658447, "entropy": 1.1780908107757568}, "num_steps_sampled": 5980797, "load_time_ms": 11.501, "update_time_ms": 7.918, "grad_time_ms": 9157.767, "sample_time_ms": 13419.529}, "episode_len_mean": 679.89, "time_this_iter_s": 22.03370976448059, "num_metric_batches_dropped": 0, "timesteps_total": 5980797, "episodes_total": 2900, "hostname": "flow-main", "config": {"custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "kl_coeff": 0.2, "train_batch_size": 30000, "log_level": "INFO", "num_workers": 20, "num_sgd_iter": 10, "lr": 0.0005, "monitor": false, "lr_schedule": null, "compress_observations": false, "input": "sampler", "straggler_mitigation": false, "input_evaluation": null, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "optimizer": {}, "vf_share_layers": false, "model": {"fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "fcnet_activation": "tanh", "dim": 84, "lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "channel_major": false, "conv_activation": "relu", "squash_to_range": false, "conv_filters": null, "zero_mean": true, "grayscale": false, "max_seq_len": 20, "free_log_std": false, "custom_preprocessor": null, "custom_options": {}, "use_lstm": false}, "clip_param": 0.3, "num_cpus_for_driver": 1, "synchronize_filters": true, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "output": null, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.3, 0.1]_t_min:10.0", "batch_mode": "truncate_episodes", "simple_optimizer": false, "sample_batch_size": 200, "collect_metrics_timeout": 180, "clip_rewards": null, "clip_actions": false, "kl_target": 0.01, "observation_filter": "NoFilter", "use_gae": true, "entropy_coeff": 0.0, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb6e2b0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb6e7b8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb6e470>"}, "gamma": 0.99, "horizon": 1500, "num_gpus_per_worker": 0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "output_max_file_size": 67108864, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "num_gpus": 0, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}}, "timestamp": 1557234023, "episode_reward_max": 1030.5759024020774, "episodes_this_iter": 16, "time_total_s": 3635.2324945926666, "time_since_restore": 3635.2324945926666}
{"timesteps_since_restore": 6017836, "done": false, "node_ip": "10.138.0.2", "pid": 10867, "date": "2019-05-07_13-00-47", "episode_reward_min": 52.75590362426729, "timesteps_this_iter": 37039, "training_iteration": 157, "episode_reward_mean": 878.4486674128678, "experiment_id": "a183ec7aedea427d9bacd699bea0cf75", "policy_reward_mean": {}, "iterations_since_restore": 157, "custom_metrics": {"cost2_min": -45.45923113961188, "outflow_rate_max": 1180.9174805194805, "cost1_mean": 306.00869108198026, "cost2_mean": -28.92919862635313, "system_level_velocity_mean": 12.687097705605186, "cost1_max": 360.9113977993376, "cost1_min": 32.232705303936406, "cost2_max": -16.44576454302788, "outflow_rate_mean": 995.4092828453927, "system_level_velocity_min": 10.030912331518762, "outflow_rate_min": 332.7571298140349, "system_level_velocity_max": 17.739329954745475}, "info": {"num_steps_trained": 6017836, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.016914423555135727, "total_loss": 25.462535858154297, "vf_loss": 25.46819496154785, "policy_loss": -0.008515323512256145, "cur_kl_coeff": 0.16875001788139343, "vf_explained_var": 0.6400262713432312, "entropy": 1.1644384860992432}, "num_steps_sampled": 6017836, "load_time_ms": 11.263, "update_time_ms": 8.249, "grad_time_ms": 9137.742, "sample_time_ms": 13641.312}, "episode_len_mean": 676.35, "time_this_iter_s": 24.355920791625977, "num_metric_batches_dropped": 0, "timesteps_total": 6017836, "episodes_total": 2922, "hostname": "flow-main", "config": {"custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "kl_coeff": 0.2, "train_batch_size": 30000, "log_level": "INFO", "num_workers": 20, "num_sgd_iter": 10, "lr": 0.0005, "monitor": false, "lr_schedule": null, "compress_observations": false, "input": "sampler", "straggler_mitigation": false, "input_evaluation": null, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "optimizer": {}, "vf_share_layers": false, "model": {"fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "fcnet_activation": "tanh", "dim": 84, "lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "channel_major": false, "conv_activation": "relu", "squash_to_range": false, "conv_filters": null, "zero_mean": true, "grayscale": false, "max_seq_len": 20, "free_log_std": false, "custom_preprocessor": null, "custom_options": {}, "use_lstm": false}, "clip_param": 0.3, "num_cpus_for_driver": 1, "synchronize_filters": true, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "output": null, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.3, 0.1]_t_min:10.0", "batch_mode": "truncate_episodes", "simple_optimizer": false, "sample_batch_size": 200, "collect_metrics_timeout": 180, "clip_rewards": null, "clip_actions": false, "kl_target": 0.01, "observation_filter": "NoFilter", "use_gae": true, "entropy_coeff": 0.0, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb6e278>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f945fcd6c88>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb6eba8>"}, "gamma": 0.99, "horizon": 1500, "num_gpus_per_worker": 0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "output_max_file_size": 67108864, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "num_gpus": 0, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}}, "timestamp": 1557234047, "episode_reward_max": 1030.5759024020774, "episodes_this_iter": 22, "time_total_s": 3659.5884153842926, "time_since_restore": 3659.5884153842926}
{"timesteps_since_restore": 6056065, "done": false, "node_ip": "10.138.0.2", "pid": 10867, "date": "2019-05-07_13-01-10", "episode_reward_min": 55.783206074930746, "timesteps_this_iter": 38229, "training_iteration": 158, "episode_reward_mean": 880.1726606457424, "experiment_id": "a183ec7aedea427d9bacd699bea0cf75", "policy_reward_mean": {}, "iterations_since_restore": 158, "custom_metrics": {"cost2_min": -45.45923113961188, "outflow_rate_max": 1169.990477922078, "cost1_mean": 306.6636658432479, "cost2_mean": -28.33365183040934, "system_level_velocity_mean": 12.608877466556693, "cost1_max": 355.9146513692098, "cost1_min": 30.477327841904692, "cost2_max": -12.531536639708206, "outflow_rate_mean": 990.837754649109, "system_level_velocity_min": 10.030912331518762, "outflow_rate_min": 332.7571298140349, "system_level_velocity_max": 16.941829542327458}, "info": {"num_steps_trained": 6056065, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.01820538192987442, "total_loss": 19.26532554626465, "vf_loss": 19.271095275878906, "policy_loss": -0.008841199800372124, "cur_kl_coeff": 0.16875001788139343, "vf_explained_var": 0.8001373410224915, "entropy": 1.2199779748916626}, "num_steps_sampled": 6056065, "load_time_ms": 11.015, "update_time_ms": 8.329, "grad_time_ms": 9171.15, "sample_time_ms": 13627.007}, "episode_len_mean": 681.06, "time_this_iter_s": 22.951536417007446, "num_metric_batches_dropped": 0, "timesteps_total": 6056065, "episodes_total": 2939, "hostname": "flow-main", "config": {"custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "kl_coeff": 0.2, "train_batch_size": 30000, "log_level": "INFO", "num_workers": 20, "num_sgd_iter": 10, "lr": 0.0005, "monitor": false, "lr_schedule": null, "compress_observations": false, "input": "sampler", "straggler_mitigation": false, "input_evaluation": null, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "optimizer": {}, "vf_share_layers": false, "model": {"fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "fcnet_activation": "tanh", "dim": 84, "lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "channel_major": false, "conv_activation": "relu", "squash_to_range": false, "conv_filters": null, "zero_mean": true, "grayscale": false, "max_seq_len": 20, "free_log_std": false, "custom_preprocessor": null, "custom_options": {}, "use_lstm": false}, "clip_param": 0.3, "num_cpus_for_driver": 1, "synchronize_filters": true, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "output": null, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.3, 0.1]_t_min:10.0", "batch_mode": "truncate_episodes", "simple_optimizer": false, "sample_batch_size": 200, "collect_metrics_timeout": 180, "clip_rewards": null, "clip_actions": false, "kl_target": 0.01, "observation_filter": "NoFilter", "use_gae": true, "entropy_coeff": 0.0, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f946116f2b0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f946116fcf8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f946116f860>"}, "gamma": 0.99, "horizon": 1500, "num_gpus_per_worker": 0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "output_max_file_size": 67108864, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "num_gpus": 0, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}}, "timestamp": 1557234070, "episode_reward_max": 977.5924105124269, "episodes_this_iter": 17, "time_total_s": 3682.5399518013, "time_since_restore": 3682.5399518013}
{"timesteps_since_restore": 6093388, "done": false, "node_ip": "10.138.0.2", "pid": 10867, "date": "2019-05-07_13-01-34", "episode_reward_min": 55.783206074930746, "timesteps_this_iter": 37323, "training_iteration": 159, "episode_reward_mean": 882.764937336872, "experiment_id": "a183ec7aedea427d9bacd699bea0cf75", "policy_reward_mean": {}, "iterations_since_restore": 159, "custom_metrics": {"cost2_min": -45.45923113961188, "outflow_rate_max": 1148.0746441558442, "cost1_mean": 302.61053860968485, "cost2_mean": -28.006109822320035, "system_level_velocity_mean": 12.396987956304171, "cost1_max": 351.2352770626069, "cost1_min": 30.477327841904692, "cost2_max": -12.531536639708206, "outflow_rate_mean": 979.5158950127457, "system_level_velocity_min": 8.46954430413773, "outflow_rate_min": 332.7571298140349, "system_level_velocity_max": 16.941829542327458}, "info": {"num_steps_trained": 6093388, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.017069758847355843, "total_loss": 18.86624526977539, "vf_loss": 18.871782302856445, "policy_loss": -0.008418580517172813, "cur_kl_coeff": 0.16875001788139343, "vf_explained_var": 0.7826085686683655, "entropy": 1.2087136507034302}, "num_steps_sampled": 6093388, "load_time_ms": 11.52, "update_time_ms": 8.659, "grad_time_ms": 9246.316, "sample_time_ms": 13646.441}, "episode_len_mean": 681.06, "time_this_iter_s": 23.835113525390625, "num_metric_batches_dropped": 0, "timesteps_total": 6093388, "episodes_total": 2958, "hostname": "flow-main", "config": {"custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "kl_coeff": 0.2, "train_batch_size": 30000, "log_level": "INFO", "num_workers": 20, "num_sgd_iter": 10, "lr": 0.0005, "monitor": false, "lr_schedule": null, "compress_observations": false, "input": "sampler", "straggler_mitigation": false, "input_evaluation": null, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "optimizer": {}, "vf_share_layers": false, "model": {"fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "fcnet_activation": "tanh", "dim": 84, "lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "channel_major": false, "conv_activation": "relu", "squash_to_range": false, "conv_filters": null, "zero_mean": true, "grayscale": false, "max_seq_len": 20, "free_log_std": false, "custom_preprocessor": null, "custom_options": {}, "use_lstm": false}, "clip_param": 0.3, "num_cpus_for_driver": 1, "synchronize_filters": true, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "output": null, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.3, 0.1]_t_min:10.0", "batch_mode": "truncate_episodes", "simple_optimizer": false, "sample_batch_size": 200, "collect_metrics_timeout": 180, "clip_rewards": null, "clip_actions": false, "kl_target": 0.01, "observation_filter": "NoFilter", "use_gae": true, "entropy_coeff": 0.0, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb6ee80>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb6e978>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb6e710>"}, "gamma": 0.99, "horizon": 1500, "num_gpus_per_worker": 0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "output_max_file_size": 67108864, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "num_gpus": 0, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}}, "timestamp": 1557234094, "episode_reward_max": 977.5924105124269, "episodes_this_iter": 19, "time_total_s": 3706.3750653266907, "time_since_restore": 3706.3750653266907}
{"timesteps_since_restore": 6130228, "done": false, "node_ip": "10.138.0.2", "pid": 10867, "date": "2019-05-07_13-01-57", "episode_reward_min": 55.783206074930746, "timesteps_this_iter": 36840, "training_iteration": 160, "episode_reward_mean": 881.0814327452836, "experiment_id": "a183ec7aedea427d9bacd699bea0cf75", "policy_reward_mean": {}, "iterations_since_restore": 160, "custom_metrics": {"cost2_min": -45.45923113961188, "outflow_rate_max": 1144.3142181818182, "cost1_mean": 302.2611691632615, "cost2_mean": -27.936348857427944, "system_level_velocity_mean": 12.367555366439992, "cost1_max": 350.59260200114056, "cost1_min": 30.477327841904692, "cost2_max": -12.531536639708206, "outflow_rate_mean": 975.6566016620964, "system_level_velocity_min": 8.46954430413773, "outflow_rate_min": 332.7571298140349, "system_level_velocity_max": 16.941829542327458}, "info": {"num_steps_trained": 6130228, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.017934666946530342, "total_loss": 24.801790237426758, "vf_loss": 24.807279586791992, "policy_loss": -0.008517392911016941, "cur_kl_coeff": 0.16875000298023224, "vf_explained_var": 0.7726389169692993, "entropy": 1.2153681516647339}, "num_steps_sampled": 6130228, "load_time_ms": 11.935, "update_time_ms": 8.746, "grad_time_ms": 9188.875, "sample_time_ms": 13714.993}, "episode_len_mean": 681.06, "time_this_iter_s": 22.617045879364014, "num_metric_batches_dropped": 0, "timesteps_total": 6130228, "episodes_total": 2977, "hostname": "flow-main", "config": {"custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "kl_coeff": 0.2, "train_batch_size": 30000, "log_level": "INFO", "num_workers": 20, "num_sgd_iter": 10, "lr": 0.0005, "monitor": false, "lr_schedule": null, "compress_observations": false, "input": "sampler", "straggler_mitigation": false, "input_evaluation": null, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "optimizer": {}, "vf_share_layers": false, "model": {"fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "fcnet_activation": "tanh", "dim": 84, "lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "channel_major": false, "conv_activation": "relu", "squash_to_range": false, "conv_filters": null, "zero_mean": true, "grayscale": false, "max_seq_len": 20, "free_log_std": false, "custom_preprocessor": null, "custom_options": {}, "use_lstm": false}, "clip_param": 0.3, "num_cpus_for_driver": 1, "synchronize_filters": true, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "output": null, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.3, 0.1]_t_min:10.0", "batch_mode": "truncate_episodes", "simple_optimizer": false, "sample_batch_size": 200, "collect_metrics_timeout": 180, "clip_rewards": null, "clip_actions": false, "kl_target": 0.01, "observation_filter": "NoFilter", "use_gae": true, "entropy_coeff": 0.0, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb72668>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb72748>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb72358>"}, "gamma": 0.99, "horizon": 1500, "num_gpus_per_worker": 0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "output_max_file_size": 67108864, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "num_gpus": 0, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}}, "timestamp": 1557234117, "episode_reward_max": 973.982732113537, "episodes_this_iter": 19, "time_total_s": 3728.9921112060547, "time_since_restore": 3728.9921112060547}
{"timesteps_since_restore": 6168081, "done": false, "node_ip": "10.138.0.2", "pid": 10867, "date": "2019-05-07_13-02-20", "episode_reward_min": 44.707268298905035, "timesteps_this_iter": 37853, "training_iteration": 161, "episode_reward_mean": 878.5183608998711, "experiment_id": "a183ec7aedea427d9bacd699bea0cf75", "policy_reward_mean": {}, "iterations_since_restore": 161, "custom_metrics": {"cost2_min": -39.360137282886086, "outflow_rate_max": 1144.3142181818182, "cost1_mean": 300.7747570738313, "cost2_mean": -28.188661044261206, "system_level_velocity_mean": 12.47432555179188, "cost1_max": 350.59260200114056, "cost1_min": 27.414015119742032, "cost2_max": -12.531536639708206, "outflow_rate_mean": 974.9745556114113, "system_level_velocity_min": 8.46954430413773, "outflow_rate_min": 332.7571298140349, "system_level_velocity_max": 18.498536258395383}, "info": {"num_steps_trained": 6168081, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.01788242533802986, "total_loss": 26.637086868286133, "vf_loss": 26.642793655395508, "policy_loss": -0.008723289705812931, "cur_kl_coeff": 0.16875001788139343, "vf_explained_var": 0.7124819755554199, "entropy": 1.2455487251281738}, "num_steps_sampled": 6168081, "load_time_ms": 12.272, "update_time_ms": 8.758, "grad_time_ms": 9211.644, "sample_time_ms": 13687.742}, "episode_len_mean": 674.6, "time_this_iter_s": 23.21489191055298, "num_metric_batches_dropped": 0, "timesteps_total": 6168081, "episodes_total": 2997, "hostname": "flow-main", "config": {"custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "kl_coeff": 0.2, "train_batch_size": 30000, "log_level": "INFO", "num_workers": 20, "num_sgd_iter": 10, "lr": 0.0005, "monitor": false, "lr_schedule": null, "compress_observations": false, "input": "sampler", "straggler_mitigation": false, "input_evaluation": null, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "optimizer": {}, "vf_share_layers": false, "model": {"fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "fcnet_activation": "tanh", "dim": 84, "lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "channel_major": false, "conv_activation": "relu", "squash_to_range": false, "conv_filters": null, "zero_mean": true, "grayscale": false, "max_seq_len": 20, "free_log_std": false, "custom_preprocessor": null, "custom_options": {}, "use_lstm": false}, "clip_param": 0.3, "num_cpus_for_driver": 1, "synchronize_filters": true, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "output": null, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.3, 0.1]_t_min:10.0", "batch_mode": "truncate_episodes", "simple_optimizer": false, "sample_batch_size": 200, "collect_metrics_timeout": 180, "clip_rewards": null, "clip_actions": false, "kl_target": 0.01, "observation_filter": "NoFilter", "use_gae": true, "entropy_coeff": 0.0, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb721d0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb72940>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb727b8>"}, "gamma": 0.99, "horizon": 1500, "num_gpus_per_worker": 0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "output_max_file_size": 67108864, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "num_gpus": 0, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}}, "timestamp": 1557234140, "episode_reward_max": 995.8624742677054, "episodes_this_iter": 20, "time_total_s": 3752.2070031166077, "time_since_restore": 3752.2070031166077}
{"timesteps_since_restore": 6205784, "done": false, "node_ip": "10.138.0.2", "pid": 10867, "date": "2019-05-07_13-02-43", "episode_reward_min": 44.707268298905035, "timesteps_this_iter": 37703, "training_iteration": 162, "episode_reward_mean": 884.8835756517749, "experiment_id": "a183ec7aedea427d9bacd699bea0cf75", "policy_reward_mean": {}, "iterations_since_restore": 162, "custom_metrics": {"cost2_min": -49.94808127769928, "outflow_rate_max": 1144.3142181818182, "cost1_mean": 302.35676850662435, "cost2_mean": -29.085729379644885, "system_level_velocity_mean": 12.50043365019706, "cost1_max": 354.1965324928889, "cost1_min": 27.414015119742032, "cost2_max": -12.531536639708206, "outflow_rate_mean": 977.7290155969785, "system_level_velocity_min": 8.46954430413773, "outflow_rate_min": 332.7571298140349, "system_level_velocity_max": 18.498536258395383}, "info": {"num_steps_trained": 6205784, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.01804129220545292, "total_loss": 25.50325584411621, "vf_loss": 25.509733200073242, "policy_loss": -0.009520675987005234, "cur_kl_coeff": 0.16875000298023224, "vf_explained_var": 0.7059662342071533, "entropy": 1.2341828346252441}, "num_steps_sampled": 6205784, "load_time_ms": 12.344, "update_time_ms": 8.781, "grad_time_ms": 9221.653, "sample_time_ms": 13719.932}, "episode_len_mean": 676.17, "time_this_iter_s": 23.402746200561523, "num_metric_batches_dropped": 0, "timesteps_total": 6205784, "episodes_total": 3016, "hostname": "flow-main", "config": {"custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "kl_coeff": 0.2, "train_batch_size": 30000, "log_level": "INFO", "num_workers": 20, "num_sgd_iter": 10, "lr": 0.0005, "monitor": false, "lr_schedule": null, "compress_observations": false, "input": "sampler", "straggler_mitigation": false, "input_evaluation": null, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "optimizer": {}, "vf_share_layers": false, "model": {"fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "fcnet_activation": "tanh", "dim": 84, "lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "channel_major": false, "conv_activation": "relu", "squash_to_range": false, "conv_filters": null, "zero_mean": true, "grayscale": false, "max_seq_len": 20, "free_log_std": false, "custom_preprocessor": null, "custom_options": {}, "use_lstm": false}, "clip_param": 0.3, "num_cpus_for_driver": 1, "synchronize_filters": true, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "output": null, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.3, 0.1]_t_min:10.0", "batch_mode": "truncate_episodes", "simple_optimizer": false, "sample_batch_size": 200, "collect_metrics_timeout": 180, "clip_rewards": null, "clip_actions": false, "kl_target": 0.01, "observation_filter": "NoFilter", "use_gae": true, "entropy_coeff": 0.0, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb6e128>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb6e3c8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb6e2b0>"}, "gamma": 0.99, "horizon": 1500, "num_gpus_per_worker": 0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "output_max_file_size": 67108864, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "num_gpus": 0, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}}, "timestamp": 1557234163, "episode_reward_max": 1016.2525846014512, "episodes_this_iter": 19, "time_total_s": 3775.609749317169, "time_since_restore": 3775.609749317169}
{"timesteps_since_restore": 6243386, "done": false, "node_ip": "10.138.0.2", "pid": 10867, "date": "2019-05-07_13-03-07", "episode_reward_min": 44.707268298905035, "timesteps_this_iter": 37602, "training_iteration": 163, "episode_reward_mean": 881.3073847967078, "experiment_id": "a183ec7aedea427d9bacd699bea0cf75", "policy_reward_mean": {}, "iterations_since_restore": 163, "custom_metrics": {"cost2_min": -49.94808127769928, "outflow_rate_max": 1152.3812000000003, "cost1_mean": 300.44207834479175, "cost2_mean": -30.21149504012008, "system_level_velocity_mean": 12.45295738558724, "cost1_max": 354.1965324928889, "cost1_min": 27.414015119742032, "cost2_max": -15.388659259954256, "outflow_rate_mean": 971.9597680815153, "system_level_velocity_min": 8.46954430413773, "outflow_rate_min": 336.6808336172199, "system_level_velocity_max": 18.498536258395383}, "info": {"num_steps_trained": 6243386, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.016695726662874222, "total_loss": 22.576274871826172, "vf_loss": 22.58251953125, "policy_loss": -0.009063776582479477, "cur_kl_coeff": 0.16875001788139343, "vf_explained_var": 0.7175503969192505, "entropy": 1.2268263101577759}, "num_steps_sampled": 6243386, "load_time_ms": 12.47, "update_time_ms": 8.751, "grad_time_ms": 9252.699, "sample_time_ms": 13815.429}, "episode_len_mean": 672.41, "time_this_iter_s": 23.846341609954834, "num_metric_batches_dropped": 0, "timesteps_total": 6243386, "episodes_total": 3036, "hostname": "flow-main", "config": {"custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "kl_coeff": 0.2, "train_batch_size": 30000, "log_level": "INFO", "num_workers": 20, "num_sgd_iter": 10, "lr": 0.0005, "monitor": false, "lr_schedule": null, "compress_observations": false, "input": "sampler", "straggler_mitigation": false, "input_evaluation": null, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "optimizer": {}, "vf_share_layers": false, "model": {"fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "fcnet_activation": "tanh", "dim": 84, "lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "channel_major": false, "conv_activation": "relu", "squash_to_range": false, "conv_filters": null, "zero_mean": true, "grayscale": false, "max_seq_len": 20, "free_log_std": false, "custom_preprocessor": null, "custom_options": {}, "use_lstm": false}, "clip_param": 0.3, "num_cpus_for_driver": 1, "synchronize_filters": true, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "output": null, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.3, 0.1]_t_min:10.0", "batch_mode": "truncate_episodes", "simple_optimizer": false, "sample_batch_size": 200, "collect_metrics_timeout": 180, "clip_rewards": null, "clip_actions": false, "kl_target": 0.01, "observation_filter": "NoFilter", "use_gae": true, "entropy_coeff": 0.0, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb72f98>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb72588>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb72470>"}, "gamma": 0.99, "horizon": 1500, "num_gpus_per_worker": 0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "output_max_file_size": 67108864, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "num_gpus": 0, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}}, "timestamp": 1557234187, "episode_reward_max": 1016.2525846014512, "episodes_this_iter": 20, "time_total_s": 3799.456090927124, "time_since_restore": 3799.456090927124}
{"timesteps_since_restore": 6281329, "done": false, "node_ip": "10.138.0.2", "pid": 10867, "date": "2019-05-07_13-03-30", "episode_reward_min": 44.707268298905035, "timesteps_this_iter": 37943, "training_iteration": 164, "episode_reward_mean": 884.4122496079931, "experiment_id": "a183ec7aedea427d9bacd699bea0cf75", "policy_reward_mean": {}, "iterations_since_restore": 164, "custom_metrics": {"cost2_min": -49.94808127769928, "outflow_rate_max": 1152.3812000000003, "cost1_mean": 302.43076172083124, "cost2_mean": -31.30171103229714, "system_level_velocity_mean": 12.533749154698219, "cost1_max": 354.1965324928889, "cost1_min": 27.414015119742032, "cost2_max": -15.388659259954256, "outflow_rate_mean": 980.386545847749, "system_level_velocity_min": 9.687989796659986, "outflow_rate_min": 336.6808336172199, "system_level_velocity_max": 18.498536258395383}, "info": {"num_steps_trained": 6281329, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.017913248389959335, "total_loss": 20.959625244140625, "vf_loss": 20.965925216674805, "policy_loss": -0.009326240047812462, "cur_kl_coeff": 0.16875001788139343, "vf_explained_var": 0.7622170448303223, "entropy": 1.2136646509170532}, "num_steps_sampled": 6281329, "load_time_ms": 12.633, "update_time_ms": 8.661, "grad_time_ms": 9267.618, "sample_time_ms": 13751.984}, "episode_len_mean": 672.41, "time_this_iter_s": 22.674576997756958, "num_metric_batches_dropped": 0, "timesteps_total": 6281329, "episodes_total": 3053, "hostname": "flow-main", "config": {"custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "kl_coeff": 0.2, "train_batch_size": 30000, "log_level": "INFO", "num_workers": 20, "num_sgd_iter": 10, "lr": 0.0005, "monitor": false, "lr_schedule": null, "compress_observations": false, "input": "sampler", "straggler_mitigation": false, "input_evaluation": null, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "optimizer": {}, "vf_share_layers": false, "model": {"fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "fcnet_activation": "tanh", "dim": 84, "lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "channel_major": false, "conv_activation": "relu", "squash_to_range": false, "conv_filters": null, "zero_mean": true, "grayscale": false, "max_seq_len": 20, "free_log_std": false, "custom_preprocessor": null, "custom_options": {}, "use_lstm": false}, "clip_param": 0.3, "num_cpus_for_driver": 1, "synchronize_filters": true, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "output": null, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.3, 0.1]_t_min:10.0", "batch_mode": "truncate_episodes", "simple_optimizer": false, "sample_batch_size": 200, "collect_metrics_timeout": 180, "clip_rewards": null, "clip_actions": false, "kl_target": 0.01, "observation_filter": "NoFilter", "use_gae": true, "entropy_coeff": 0.0, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f946116fb70>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f946116f860>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f946116f400>"}, "gamma": 0.99, "horizon": 1500, "num_gpus_per_worker": 0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "output_max_file_size": 67108864, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "num_gpus": 0, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}}, "timestamp": 1557234210, "episode_reward_max": 1019.9197230142452, "episodes_this_iter": 17, "time_total_s": 3822.130667924881, "time_since_restore": 3822.130667924881}
{"timesteps_since_restore": 6319887, "done": false, "node_ip": "10.138.0.2", "pid": 10867, "date": "2019-05-07_13-03-53", "episode_reward_min": 44.707268298905035, "timesteps_this_iter": 38558, "training_iteration": 165, "episode_reward_mean": 889.2092200498909, "experiment_id": "a183ec7aedea427d9bacd699bea0cf75", "policy_reward_mean": {}, "iterations_since_restore": 165, "custom_metrics": {"cost2_min": -49.94808127769928, "outflow_rate_max": 1168.6277246753248, "cost1_mean": 302.1233342376198, "cost2_mean": -32.11275880872919, "system_level_velocity_mean": 12.500732954807523, "cost1_max": 354.1965324928889, "cost1_min": 27.414015119742032, "cost2_max": -15.388659259954256, "outflow_rate_mean": 980.3281250165804, "system_level_velocity_min": 9.687989796659986, "outflow_rate_min": 336.6808336172199, "system_level_velocity_max": 18.498536258395383}, "info": {"num_steps_trained": 6319887, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.019026249647140503, "total_loss": 23.538808822631836, "vf_loss": 23.544404983520508, "policy_loss": -0.008805342949926853, "cur_kl_coeff": 0.16875001788139343, "vf_explained_var": 0.7179974317550659, "entropy": 1.2130329608917236}, "num_steps_sampled": 6319887, "load_time_ms": 12.853, "update_time_ms": 8.672, "grad_time_ms": 9335.837, "sample_time_ms": 13784.887}, "episode_len_mean": 672.41, "time_this_iter_s": 23.249507188796997, "num_metric_batches_dropped": 0, "timesteps_total": 6319887, "episodes_total": 3070, "hostname": "flow-main", "config": {"custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "kl_coeff": 0.2, "train_batch_size": 30000, "log_level": "INFO", "num_workers": 20, "num_sgd_iter": 10, "lr": 0.0005, "monitor": false, "lr_schedule": null, "compress_observations": false, "input": "sampler", "straggler_mitigation": false, "input_evaluation": null, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "optimizer": {}, "vf_share_layers": false, "model": {"fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "fcnet_activation": "tanh", "dim": 84, "lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "channel_major": false, "conv_activation": "relu", "squash_to_range": false, "conv_filters": null, "zero_mean": true, "grayscale": false, "max_seq_len": 20, "free_log_std": false, "custom_preprocessor": null, "custom_options": {}, "use_lstm": false}, "clip_param": 0.3, "num_cpus_for_driver": 1, "synchronize_filters": true, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "output": null, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.3, 0.1]_t_min:10.0", "batch_mode": "truncate_episodes", "simple_optimizer": false, "sample_batch_size": 200, "collect_metrics_timeout": 180, "clip_rewards": null, "clip_actions": false, "kl_target": 0.01, "observation_filter": "NoFilter", "use_gae": true, "entropy_coeff": 0.0, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb6e7b8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb6e0f0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb6e128>"}, "gamma": 0.99, "horizon": 1500, "num_gpus_per_worker": 0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "output_max_file_size": 67108864, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "num_gpus": 0, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}}, "timestamp": 1557234233, "episode_reward_max": 1034.292886564539, "episodes_this_iter": 17, "time_total_s": 3845.380175113678, "time_since_restore": 3845.380175113678}
{"timesteps_since_restore": 6357148, "done": false, "node_ip": "10.138.0.2", "pid": 10867, "date": "2019-05-07_13-04-16", "episode_reward_min": 157.8703628758978, "timesteps_this_iter": 37261, "training_iteration": 166, "episode_reward_mean": 902.0766049473614, "experiment_id": "a183ec7aedea427d9bacd699bea0cf75", "policy_reward_mean": {}, "iterations_since_restore": 166, "custom_metrics": {"cost2_min": -49.94808127769928, "outflow_rate_max": 1168.6277246753248, "cost1_mean": 306.3593370151019, "cost2_mean": -32.62035902937217, "system_level_velocity_mean": 12.506504663214422, "cost1_max": 354.1965324928889, "cost1_min": 71.22500869475988, "cost2_max": -24.069429967938053, "outflow_rate_mean": 994.5681382953911, "system_level_velocity_min": 9.687989796659986, "outflow_rate_min": 446.9231637874096, "system_level_velocity_max": 16.53755704647426}, "info": {"num_steps_trained": 6357148, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.019566742703318596, "total_loss": 26.781694412231445, "vf_loss": 26.788490295410156, "policy_loss": -0.01009973045438528, "cur_kl_coeff": 0.16875001788139343, "vf_explained_var": 0.6738740801811218, "entropy": 1.204744577407837}, "num_steps_sampled": 6357148, "load_time_ms": 12.725, "update_time_ms": 8.381, "grad_time_ms": 9419.177, "sample_time_ms": 13824.173}, "episode_len_mean": 678.73, "time_this_iter_s": 23.250402450561523, "num_metric_batches_dropped": 0, "timesteps_total": 6357148, "episodes_total": 3092, "hostname": "flow-main", "config": {"custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "kl_coeff": 0.2, "train_batch_size": 30000, "log_level": "INFO", "num_workers": 20, "num_sgd_iter": 10, "lr": 0.0005, "monitor": false, "lr_schedule": null, "compress_observations": false, "input": "sampler", "straggler_mitigation": false, "input_evaluation": null, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "optimizer": {}, "vf_share_layers": false, "model": {"fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "fcnet_activation": "tanh", "dim": 84, "lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "channel_major": false, "conv_activation": "relu", "squash_to_range": false, "conv_filters": null, "zero_mean": true, "grayscale": false, "max_seq_len": 20, "free_log_std": false, "custom_preprocessor": null, "custom_options": {}, "use_lstm": false}, "clip_param": 0.3, "num_cpus_for_driver": 1, "synchronize_filters": true, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "output": null, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.3, 0.1]_t_min:10.0", "batch_mode": "truncate_episodes", "simple_optimizer": false, "sample_batch_size": 200, "collect_metrics_timeout": 180, "clip_rewards": null, "clip_actions": false, "kl_target": 0.01, "observation_filter": "NoFilter", "use_gae": true, "entropy_coeff": 0.0, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb72588>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb72f98>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb72978>"}, "gamma": 0.99, "horizon": 1500, "num_gpus_per_worker": 0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "output_max_file_size": 67108864, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "num_gpus": 0, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}}, "timestamp": 1557234256, "episode_reward_max": 1034.292886564539, "episodes_this_iter": 22, "time_total_s": 3868.6305775642395, "time_since_restore": 3868.6305775642395}
{"timesteps_since_restore": 6395096, "done": false, "node_ip": "10.138.0.2", "pid": 10867, "date": "2019-05-07_13-04-39", "episode_reward_min": 157.8703628758978, "timesteps_this_iter": 37948, "training_iteration": 167, "episode_reward_mean": 901.8154041230197, "experiment_id": "a183ec7aedea427d9bacd699bea0cf75", "policy_reward_mean": {}, "iterations_since_restore": 167, "custom_metrics": {"cost2_min": -41.290591371612194, "outflow_rate_max": 1168.6277246753248, "cost1_mean": 306.26425752349945, "cost2_mean": -32.67657225754421, "system_level_velocity_mean": 12.511243094579648, "cost1_max": 351.0903510284671, "cost1_min": 71.22500869475988, "cost2_max": -23.287600729279184, "outflow_rate_mean": 994.4862858651449, "system_level_velocity_min": 9.687989796659986, "outflow_rate_min": 446.9231637874096, "system_level_velocity_max": 16.53755704647426}, "info": {"num_steps_trained": 6395096, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.018397251144051552, "total_loss": 26.07126235961914, "vf_loss": 26.0789737701416, "policy_loss": -0.010814731940627098, "cur_kl_coeff": 0.16875001788139343, "vf_explained_var": 0.7027254104614258, "entropy": 1.2243694067001343}, "num_steps_sampled": 6395096, "load_time_ms": 13.157, "update_time_ms": 7.992, "grad_time_ms": 9465.629, "sample_time_ms": 13618.978}, "episode_len_mean": 679.01, "time_this_iter_s": 22.76267147064209, "num_metric_batches_dropped": 0, "timesteps_total": 6395096, "episodes_total": 3111, "hostname": "flow-main", "config": {"custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "kl_coeff": 0.2, "train_batch_size": 30000, "log_level": "INFO", "num_workers": 20, "num_sgd_iter": 10, "lr": 0.0005, "monitor": false, "lr_schedule": null, "compress_observations": false, "input": "sampler", "straggler_mitigation": false, "input_evaluation": null, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "optimizer": {}, "vf_share_layers": false, "model": {"fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "fcnet_activation": "tanh", "dim": 84, "lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "channel_major": false, "conv_activation": "relu", "squash_to_range": false, "conv_filters": null, "zero_mean": true, "grayscale": false, "max_seq_len": 20, "free_log_std": false, "custom_preprocessor": null, "custom_options": {}, "use_lstm": false}, "clip_param": 0.3, "num_cpus_for_driver": 1, "synchronize_filters": true, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "output": null, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.3, 0.1]_t_min:10.0", "batch_mode": "truncate_episodes", "simple_optimizer": false, "sample_batch_size": 200, "collect_metrics_timeout": 180, "clip_rewards": null, "clip_actions": false, "kl_target": 0.01, "observation_filter": "NoFilter", "use_gae": true, "entropy_coeff": 0.0, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb69ba8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb69f98>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb69908>"}, "gamma": 0.99, "horizon": 1500, "num_gpus_per_worker": 0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "output_max_file_size": 67108864, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "num_gpus": 0, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}}, "timestamp": 1557234279, "episode_reward_max": 1034.292886564539, "episodes_this_iter": 19, "time_total_s": 3891.3932490348816, "time_since_restore": 3891.3932490348816}
{"timesteps_since_restore": 6433197, "done": false, "node_ip": "10.138.0.2", "pid": 10867, "date": "2019-05-07_13-05-02", "episode_reward_min": 320.2445087045903, "timesteps_this_iter": 38101, "training_iteration": 168, "episode_reward_mean": 907.902115047661, "experiment_id": "a183ec7aedea427d9bacd699bea0cf75", "policy_reward_mean": {}, "iterations_since_restore": 168, "custom_metrics": {"cost2_min": -41.290591371612194, "outflow_rate_max": 1168.6277246753248, "cost1_mean": 306.3805700392208, "cost2_mean": -32.93175758207281, "system_level_velocity_mean": 12.454283784913367, "cost1_max": 351.0903510284671, "cost1_min": 129.76385217461626, "cost2_max": -23.287600729279184, "outflow_rate_mean": 995.0462373374764, "system_level_velocity_min": 9.687989796659986, "outflow_rate_min": 693.344045649144, "system_level_velocity_max": 15.06163527956284}, "info": {"num_steps_trained": 6433197, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.017634829506278038, "total_loss": 22.24261474609375, "vf_loss": 22.248092651367188, "policy_loss": -0.008455248549580574, "cur_kl_coeff": 0.16875001788139343, "vf_explained_var": 0.6968646049499512, "entropy": 1.2280086278915405}, "num_steps_sampled": 6433197, "load_time_ms": 13.251, "update_time_ms": 7.882, "grad_time_ms": 9497.644, "sample_time_ms": 13578.981}, "episode_len_mean": 680.11, "time_this_iter_s": 22.876015663146973, "num_metric_batches_dropped": 0, "timesteps_total": 6433197, "episodes_total": 3128, "hostname": "flow-main", "config": {"custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "kl_coeff": 0.2, "train_batch_size": 30000, "log_level": "INFO", "num_workers": 20, "num_sgd_iter": 10, "lr": 0.0005, "monitor": false, "lr_schedule": null, "compress_observations": false, "input": "sampler", "straggler_mitigation": false, "input_evaluation": null, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "optimizer": {}, "vf_share_layers": false, "model": {"fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "fcnet_activation": "tanh", "dim": 84, "lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "channel_major": false, "conv_activation": "relu", "squash_to_range": false, "conv_filters": null, "zero_mean": true, "grayscale": false, "max_seq_len": 20, "free_log_std": false, "custom_preprocessor": null, "custom_options": {}, "use_lstm": false}, "clip_param": 0.3, "num_cpus_for_driver": 1, "synchronize_filters": true, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "output": null, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.3, 0.1]_t_min:10.0", "batch_mode": "truncate_episodes", "simple_optimizer": false, "sample_batch_size": 200, "collect_metrics_timeout": 180, "clip_rewards": null, "clip_actions": false, "kl_target": 0.01, "observation_filter": "NoFilter", "use_gae": true, "entropy_coeff": 0.0, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb72748>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb72080>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb72860>"}, "gamma": 0.99, "horizon": 1500, "num_gpus_per_worker": 0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "output_max_file_size": 67108864, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "num_gpus": 0, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}}, "timestamp": 1557234302, "episode_reward_max": 1034.292886564539, "episodes_this_iter": 17, "time_total_s": 3914.2692646980286, "time_since_restore": 3914.2692646980286}
{"timesteps_since_restore": 6471552, "done": false, "node_ip": "10.138.0.2", "pid": 10867, "date": "2019-05-07_13-05-24", "episode_reward_min": 320.2445087045903, "timesteps_this_iter": 38355, "training_iteration": 169, "episode_reward_mean": 916.0870888148129, "experiment_id": "a183ec7aedea427d9bacd699bea0cf75", "policy_reward_mean": {}, "iterations_since_restore": 169, "custom_metrics": {"cost2_min": -43.017965382622165, "outflow_rate_max": 1191.4963584415586, "cost1_mean": 307.8679395846618, "cost2_mean": -33.29105303067229, "system_level_velocity_mean": 12.404832092376667, "cost1_max": 351.0903510284671, "cost1_min": 129.76385217461626, "cost2_max": -23.287600729279184, "outflow_rate_mean": 999.2857980238422, "system_level_velocity_min": 10.12254705596426, "outflow_rate_min": 725.8961331586136, "system_level_velocity_max": 15.06163527956284}, "info": {"num_steps_trained": 6471552, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.017018958926200867, "total_loss": 24.08712387084961, "vf_loss": 24.093063354492188, "policy_loss": -0.008812583982944489, "cur_kl_coeff": 0.16875001788139343, "vf_explained_var": 0.6953686475753784, "entropy": 1.2353078126907349}, "num_steps_sampled": 6471552, "load_time_ms": 13.149, "update_time_ms": 7.873, "grad_time_ms": 9402.156, "sample_time_ms": 13534.722}, "episode_len_mean": 684.56, "time_this_iter_s": 22.438150882720947, "num_metric_batches_dropped": 0, "timesteps_total": 6471552, "episodes_total": 3146, "hostname": "flow-main", "config": {"custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "kl_coeff": 0.2, "train_batch_size": 30000, "log_level": "INFO", "num_workers": 20, "num_sgd_iter": 10, "lr": 0.0005, "monitor": false, "lr_schedule": null, "compress_observations": false, "input": "sampler", "straggler_mitigation": false, "input_evaluation": null, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "optimizer": {}, "vf_share_layers": false, "model": {"fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "fcnet_activation": "tanh", "dim": 84, "lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "channel_major": false, "conv_activation": "relu", "squash_to_range": false, "conv_filters": null, "zero_mean": true, "grayscale": false, "max_seq_len": 20, "free_log_std": false, "custom_preprocessor": null, "custom_options": {}, "use_lstm": false}, "clip_param": 0.3, "num_cpus_for_driver": 1, "synchronize_filters": true, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "output": null, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.3, 0.1]_t_min:10.0", "batch_mode": "truncate_episodes", "simple_optimizer": false, "sample_batch_size": 200, "collect_metrics_timeout": 180, "clip_rewards": null, "clip_actions": false, "kl_target": 0.01, "observation_filter": "NoFilter", "use_gae": true, "entropy_coeff": 0.0, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb72ba8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb72908>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb72b70>"}, "gamma": 0.99, "horizon": 1500, "num_gpus_per_worker": 0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "output_max_file_size": 67108864, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "num_gpus": 0, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}}, "timestamp": 1557234324, "episode_reward_max": 1034.292886564539, "episodes_this_iter": 18, "time_total_s": 3936.7074155807495, "time_since_restore": 3936.7074155807495}
{"timesteps_since_restore": 6509020, "done": false, "node_ip": "10.138.0.2", "pid": 10867, "date": "2019-05-07_13-05-47", "episode_reward_min": 320.2445087045903, "timesteps_this_iter": 37468, "training_iteration": 170, "episode_reward_mean": 917.3494698354543, "experiment_id": "a183ec7aedea427d9bacd699bea0cf75", "policy_reward_mean": {}, "iterations_since_restore": 170, "custom_metrics": {"cost2_min": -48.46049333997469, "cost2_mean": -33.408834078059655, "cost1_mean": 308.5371935583246, "system_level_velocity_mean": 12.419515708179729, "cost1_max": 351.0903510284671, "cost1_min": 129.76385217461626, "cost2_max": -22.31920735715876, "outflow_rate_max": 1191.4963584415586, "system_level_velocity_min": 10.12254705596426, "outflow_rate_min": 725.8961331586136, "system_level_velocity_max": 15.06163527956284, "outflow_rate_mean": 1005.5069527770888}, "info": {"num_steps_trained": 6509020, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.019340215250849724, "total_loss": 21.47163200378418, "vf_loss": 21.47519874572754, "policy_loss": -0.00682984059676528, "cur_kl_coeff": 0.16875001788139343, "vf_explained_var": 0.6936736702919006, "entropy": 1.1970490217208862}, "num_steps_sampled": 6509020, "load_time_ms": 13.252, "update_time_ms": 7.693, "grad_time_ms": 9442.917, "sample_time_ms": 13479.575}, "episode_len_mean": 684.56, "time_this_iter_s": 22.47575092315674, "num_metric_batches_dropped": 0, "timesteps_total": 6509020, "episodes_total": 3163, "hostname": "flow-main", "config": {"custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "kl_coeff": 0.2, "train_batch_size": 30000, "log_level": "INFO", "num_workers": 20, "num_sgd_iter": 10, "lr": 0.0005, "monitor": false, "lr_schedule": null, "compress_observations": false, "input": "sampler", "straggler_mitigation": false, "input_evaluation": null, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "optimizer": {}, "vf_share_layers": false, "model": {"fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "fcnet_activation": "tanh", "dim": 84, "lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "channel_major": false, "conv_activation": "relu", "squash_to_range": false, "conv_filters": null, "zero_mean": true, "grayscale": false, "max_seq_len": 20, "free_log_std": false, "custom_preprocessor": null, "custom_options": {}, "use_lstm": false}, "clip_param": 0.3, "num_cpus_for_driver": 1, "synchronize_filters": true, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "output": null, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.3, 0.1]_t_min:10.0", "batch_mode": "truncate_episodes", "simple_optimizer": false, "sample_batch_size": 200, "collect_metrics_timeout": 180, "clip_rewards": null, "clip_actions": false, "kl_target": 0.01, "observation_filter": "NoFilter", "use_gae": true, "entropy_coeff": 0.0, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f945fcbb358>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb4fac8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb4fb70>"}, "gamma": 0.99, "horizon": 1500, "num_gpus_per_worker": 0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "output_max_file_size": 67108864, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "num_gpus": 0, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}}, "timestamp": 1557234347, "episode_reward_max": 1009.9011607368378, "episodes_this_iter": 17, "time_total_s": 3959.1831665039062, "time_since_restore": 3959.1831665039062}
{"timesteps_since_restore": 6547148, "done": false, "node_ip": "10.138.0.2", "pid": 10867, "date": "2019-05-07_13-06-11", "episode_reward_min": 44.266655055045504, "timesteps_this_iter": 38128, "training_iteration": 171, "episode_reward_mean": 908.9618327259024, "experiment_id": "a183ec7aedea427d9bacd699bea0cf75", "policy_reward_mean": {}, "iterations_since_restore": 171, "custom_metrics": {"cost2_min": -49.0269956830968, "outflow_rate_max": 1191.4963584415586, "cost1_mean": 306.6212326306892, "cost2_mean": -33.16107282381043, "system_level_velocity_mean": 12.528410122558533, "cost1_max": 351.0903510284671, "cost1_min": 27.640594475569696, "cost2_max": -17.005075439811264, "outflow_rate_mean": 998.6664152472686, "system_level_velocity_min": 10.358471871653288, "outflow_rate_min": 338.35525222187107, "system_level_velocity_max": 18.55117744890679}, "info": {"num_steps_trained": 6547148, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.017202483490109444, "total_loss": 28.147897720336914, "vf_loss": 28.154184341430664, "policy_loss": -0.009189631789922714, "cur_kl_coeff": 0.16875001788139343, "vf_explained_var": 0.6214040517807007, "entropy": 1.2043728828430176}, "num_steps_sampled": 6547148, "load_time_ms": 12.872, "update_time_ms": 7.719, "grad_time_ms": 9455.785, "sample_time_ms": 13500.554}, "episode_len_mean": 677.74, "time_this_iter_s": 23.5399169921875, "num_metric_batches_dropped": 0, "timesteps_total": 6547148, "episodes_total": 3184, "hostname": "flow-main", "config": {"custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "kl_coeff": 0.2, "train_batch_size": 30000, "log_level": "INFO", "num_workers": 20, "num_sgd_iter": 10, "lr": 0.0005, "monitor": false, "lr_schedule": null, "compress_observations": false, "input": "sampler", "straggler_mitigation": false, "input_evaluation": null, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "optimizer": {}, "vf_share_layers": false, "model": {"fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "fcnet_activation": "tanh", "dim": 84, "lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "channel_major": false, "conv_activation": "relu", "squash_to_range": false, "conv_filters": null, "zero_mean": true, "grayscale": false, "max_seq_len": 20, "free_log_std": false, "custom_preprocessor": null, "custom_options": {}, "use_lstm": false}, "clip_param": 0.3, "num_cpus_for_driver": 1, "synchronize_filters": true, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "output": null, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.3, 0.1]_t_min:10.0", "batch_mode": "truncate_episodes", "simple_optimizer": false, "sample_batch_size": 200, "collect_metrics_timeout": 180, "clip_rewards": null, "clip_actions": false, "kl_target": 0.01, "observation_filter": "NoFilter", "use_gae": true, "entropy_coeff": 0.0, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f946116f898>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f946116f4a8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f946116f2e8>"}, "gamma": 0.99, "horizon": 1500, "num_gpus_per_worker": 0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "output_max_file_size": 67108864, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "num_gpus": 0, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}}, "timestamp": 1557234371, "episode_reward_max": 1009.9011607368378, "episodes_this_iter": 21, "time_total_s": 3982.7230834960938, "time_since_restore": 3982.7230834960938}
{"timesteps_since_restore": 6585120, "done": false, "node_ip": "10.138.0.2", "pid": 10867, "date": "2019-05-07_13-06-33", "episode_reward_min": 44.266655055045504, "timesteps_this_iter": 37972, "training_iteration": 172, "episode_reward_mean": 916.2465987711433, "experiment_id": "a183ec7aedea427d9bacd699bea0cf75", "policy_reward_mean": {}, "iterations_since_restore": 172, "custom_metrics": {"cost2_min": -49.0269956830968, "outflow_rate_max": 1191.4963584415586, "cost1_mean": 308.48935191567466, "cost2_mean": -33.57310749997906, "system_level_velocity_mean": 12.428204214952286, "cost1_max": 350.96532269137634, "cost1_min": 27.640594475569696, "cost2_max": -17.005075439811264, "outflow_rate_mean": 997.2483307123528, "system_level_velocity_min": 10.358471871653288, "outflow_rate_min": 338.35525222187107, "system_level_velocity_max": 18.55117744890679}, "info": {"num_steps_trained": 6585120, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.019836844876408577, "total_loss": 22.828554153442383, "vf_loss": 22.834836959838867, "policy_loss": -0.009630629792809486, "cur_kl_coeff": 0.16875001788139343, "vf_explained_var": 0.6828840374946594, "entropy": 1.1947472095489502}, "num_steps_sampled": 6585120, "load_time_ms": 12.639, "update_time_ms": 7.664, "grad_time_ms": 9479.057, "sample_time_ms": 13402.357}, "episode_len_mean": 684.1, "time_this_iter_s": 22.648439168930054, "num_metric_batches_dropped": 0, "timesteps_total": 6585120, "episodes_total": 3202, "hostname": "flow-main", "config": {"custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "kl_coeff": 0.2, "train_batch_size": 30000, "log_level": "INFO", "num_workers": 20, "num_sgd_iter": 10, "lr": 0.0005, "monitor": false, "lr_schedule": null, "compress_observations": false, "input": "sampler", "straggler_mitigation": false, "input_evaluation": null, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "optimizer": {}, "vf_share_layers": false, "model": {"fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "fcnet_activation": "tanh", "dim": 84, "lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "channel_major": false, "conv_activation": "relu", "squash_to_range": false, "conv_filters": null, "zero_mean": true, "grayscale": false, "max_seq_len": 20, "free_log_std": false, "custom_preprocessor": null, "custom_options": {}, "use_lstm": false}, "clip_param": 0.3, "num_cpus_for_driver": 1, "synchronize_filters": true, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "output": null, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.3, 0.1]_t_min:10.0", "batch_mode": "truncate_episodes", "simple_optimizer": false, "sample_batch_size": 200, "collect_metrics_timeout": 180, "clip_rewards": null, "clip_actions": false, "kl_target": 0.01, "observation_filter": "NoFilter", "use_gae": true, "entropy_coeff": 0.0, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb72240>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb72b70>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb724e0>"}, "gamma": 0.99, "horizon": 1500, "num_gpus_per_worker": 0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "output_max_file_size": 67108864, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "num_gpus": 0, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}}, "timestamp": 1557234393, "episode_reward_max": 1009.9011607368378, "episodes_this_iter": 18, "time_total_s": 4005.371522665024, "time_since_restore": 4005.371522665024}
{"timesteps_since_restore": 6622936, "done": false, "node_ip": "10.138.0.2", "pid": 10867, "date": "2019-05-07_13-06-57", "episode_reward_min": 44.266655055045504, "timesteps_this_iter": 37816, "training_iteration": 173, "episode_reward_mean": 914.0916198742026, "experiment_id": "a183ec7aedea427d9bacd699bea0cf75", "policy_reward_mean": {}, "iterations_since_restore": 173, "custom_metrics": {"cost2_min": -49.0269956830968, "outflow_rate_max": 1191.4963584415586, "cost1_mean": 306.5443702250972, "cost2_mean": -32.94070013624424, "system_level_velocity_mean": 12.362471795005256, "cost1_max": 350.96532269137634, "cost1_min": 27.640594475569696, "cost2_max": -17.005075439811264, "outflow_rate_mean": 990.2421539459367, "system_level_velocity_min": 10.358471871653288, "outflow_rate_min": 338.35525222187107, "system_level_velocity_max": 18.55117744890679}, "info": {"num_steps_trained": 6622936, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.019403018057346344, "total_loss": 23.51117706298828, "vf_loss": 23.51788902282715, "policy_loss": -0.0099868169054389, "cur_kl_coeff": 0.16875001788139343, "vf_explained_var": 0.6880705952644348, "entropy": 1.2199311256408691}, "num_steps_sampled": 6622936, "load_time_ms": 12.472, "update_time_ms": 7.65, "grad_time_ms": 9477.108, "sample_time_ms": 13364.071}, "episode_len_mean": 682.86, "time_this_iter_s": 23.43575882911682, "num_metric_batches_dropped": 0, "timesteps_total": 6622936, "episodes_total": 3222, "hostname": "flow-main", "config": {"custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "kl_coeff": 0.2, "train_batch_size": 30000, "log_level": "INFO", "num_workers": 20, "num_sgd_iter": 10, "lr": 0.0005, "monitor": false, "lr_schedule": null, "compress_observations": false, "input": "sampler", "straggler_mitigation": false, "input_evaluation": null, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "optimizer": {}, "vf_share_layers": false, "model": {"fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "fcnet_activation": "tanh", "dim": 84, "lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "channel_major": false, "conv_activation": "relu", "squash_to_range": false, "conv_filters": null, "zero_mean": true, "grayscale": false, "max_seq_len": 20, "free_log_std": false, "custom_preprocessor": null, "custom_options": {}, "use_lstm": false}, "clip_param": 0.3, "num_cpus_for_driver": 1, "synchronize_filters": true, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "output": null, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.3, 0.1]_t_min:10.0", "batch_mode": "truncate_episodes", "simple_optimizer": false, "sample_batch_size": 200, "collect_metrics_timeout": 180, "clip_rewards": null, "clip_actions": false, "kl_target": 0.01, "observation_filter": "NoFilter", "use_gae": true, "entropy_coeff": 0.0, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f946116f588>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f946116f860>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f946116ff28>"}, "gamma": 0.99, "horizon": 1500, "num_gpus_per_worker": 0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "output_max_file_size": 67108864, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "num_gpus": 0, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}}, "timestamp": 1557234417, "episode_reward_max": 993.9128867232623, "episodes_this_iter": 20, "time_total_s": 4028.8072814941406, "time_since_restore": 4028.8072814941406}
{"timesteps_since_restore": 6660670, "done": false, "node_ip": "10.138.0.2", "pid": 10867, "date": "2019-05-07_13-07-19", "episode_reward_min": 44.266655055045504, "timesteps_this_iter": 37734, "training_iteration": 174, "episode_reward_mean": 915.2397303792595, "experiment_id": "a183ec7aedea427d9bacd699bea0cf75", "policy_reward_mean": {}, "iterations_since_restore": 174, "custom_metrics": {"cost2_min": -49.0269956830968, "outflow_rate_max": 1152.6617818181817, "cost1_mean": 308.5029782415185, "cost2_mean": -32.68706764241101, "system_level_velocity_mean": 12.420221377663493, "cost1_max": 350.96532269137634, "cost1_min": 27.640594475569696, "cost2_max": -17.005075439811264, "outflow_rate_mean": 995.9949508627149, "system_level_velocity_min": 10.358471871653288, "outflow_rate_min": 338.35525222187107, "system_level_velocity_max": 18.55117744890679}, "info": {"num_steps_trained": 6660670, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.018299924209713936, "total_loss": 20.373117446899414, "vf_loss": 20.376911163330078, "policy_loss": -0.006881385575979948, "cur_kl_coeff": 0.16875000298023224, "vf_explained_var": 0.7036291360855103, "entropy": 1.229905605316162}, "num_steps_sampled": 6660670, "load_time_ms": 12.102, "update_time_ms": 7.567, "grad_time_ms": 9472.096, "sample_time_ms": 13351.299}, "episode_len_mean": 685.08, "time_this_iter_s": 22.496669054031372, "num_metric_batches_dropped": 0, "timesteps_total": 6660670, "episodes_total": 3240, "hostname": "flow-main", "config": {"custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "kl_coeff": 0.2, "train_batch_size": 30000, "log_level": "INFO", "num_workers": 20, "num_sgd_iter": 10, "lr": 0.0005, "monitor": false, "lr_schedule": null, "compress_observations": false, "input": "sampler", "straggler_mitigation": false, "input_evaluation": null, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "optimizer": {}, "vf_share_layers": false, "model": {"fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "fcnet_activation": "tanh", "dim": 84, "lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "channel_major": false, "conv_activation": "relu", "squash_to_range": false, "conv_filters": null, "zero_mean": true, "grayscale": false, "max_seq_len": 20, "free_log_std": false, "custom_preprocessor": null, "custom_options": {}, "use_lstm": false}, "clip_param": 0.3, "num_cpus_for_driver": 1, "synchronize_filters": true, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "output": null, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.3, 0.1]_t_min:10.0", "batch_mode": "truncate_episodes", "simple_optimizer": false, "sample_batch_size": 200, "collect_metrics_timeout": 180, "clip_rewards": null, "clip_actions": false, "kl_target": 0.01, "observation_filter": "NoFilter", "use_gae": true, "entropy_coeff": 0.0, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb698d0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb69278>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb69fd0>"}, "gamma": 0.99, "horizon": 1500, "num_gpus_per_worker": 0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "output_max_file_size": 67108864, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "num_gpus": 0, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}}, "timestamp": 1557234439, "episode_reward_max": 993.9128867232623, "episodes_this_iter": 18, "time_total_s": 4051.303950548172, "time_since_restore": 4051.303950548172}
{"timesteps_since_restore": 6698268, "done": false, "node_ip": "10.138.0.2", "pid": 10867, "date": "2019-05-07_13-07-42", "episode_reward_min": 44.266655055045504, "timesteps_this_iter": 37598, "training_iteration": 175, "episode_reward_mean": 915.0508539705148, "experiment_id": "a183ec7aedea427d9bacd699bea0cf75", "policy_reward_mean": {}, "iterations_since_restore": 175, "custom_metrics": {"cost2_min": -49.0269956830968, "outflow_rate_max": 1134.5458857142855, "cost1_mean": 308.766886471663, "cost2_mean": -32.37507776612267, "system_level_velocity_mean": 12.439746747231707, "cost1_max": 350.96532269137634, "cost1_min": 27.640594475569696, "cost2_max": -17.005075439811264, "outflow_rate_mean": 994.1835450964812, "system_level_velocity_min": 10.699512153980082, "outflow_rate_min": 338.35525222187107, "system_level_velocity_max": 18.55117744890679}, "info": {"num_steps_trained": 6698268, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.01792154833674431, "total_loss": 24.22584342956543, "vf_loss": 24.231399536132812, "policy_loss": -0.00857754610478878, "cur_kl_coeff": 0.16875001788139343, "vf_explained_var": 0.6624947786331177, "entropy": 1.2204508781433105}, "num_steps_sampled": 6698268, "load_time_ms": 12.02, "update_time_ms": 7.784, "grad_time_ms": 9459.779, "sample_time_ms": 13345.305}, "episode_len_mean": 685.08, "time_this_iter_s": 23.05641460418701, "num_metric_batches_dropped": 0, "timesteps_total": 6698268, "episodes_total": 3259, "hostname": "flow-main", "config": {"custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "kl_coeff": 0.2, "train_batch_size": 30000, "log_level": "INFO", "num_workers": 20, "num_sgd_iter": 10, "lr": 0.0005, "monitor": false, "lr_schedule": null, "compress_observations": false, "input": "sampler", "straggler_mitigation": false, "input_evaluation": null, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "optimizer": {}, "vf_share_layers": false, "model": {"fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "fcnet_activation": "tanh", "dim": 84, "lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "channel_major": false, "conv_activation": "relu", "squash_to_range": false, "conv_filters": null, "zero_mean": true, "grayscale": false, "max_seq_len": 20, "free_log_std": false, "custom_preprocessor": null, "custom_options": {}, "use_lstm": false}, "clip_param": 0.3, "num_cpus_for_driver": 1, "synchronize_filters": true, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "output": null, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.3, 0.1]_t_min:10.0", "batch_mode": "truncate_episodes", "simple_optimizer": false, "sample_batch_size": 200, "collect_metrics_timeout": 180, "clip_rewards": null, "clip_actions": false, "kl_target": 0.01, "observation_filter": "NoFilter", "use_gae": true, "entropy_coeff": 0.0, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb72390>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb724e0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb72b70>"}, "gamma": 0.99, "horizon": 1500, "num_gpus_per_worker": 0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "output_max_file_size": 67108864, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "num_gpus": 0, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}}, "timestamp": 1557234462, "episode_reward_max": 1001.5586822627063, "episodes_this_iter": 19, "time_total_s": 4074.360365152359, "time_since_restore": 4074.360365152359}
{"timesteps_since_restore": 6736232, "done": false, "node_ip": "10.138.0.2", "pid": 10867, "date": "2019-05-07_13-08-05", "episode_reward_min": 44.266655055045504, "timesteps_this_iter": 37964, "training_iteration": 176, "episode_reward_mean": 911.0885303216145, "experiment_id": "a183ec7aedea427d9bacd699bea0cf75", "policy_reward_mean": {}, "iterations_since_restore": 176, "custom_metrics": {"cost2_min": -41.34340129111711, "outflow_rate_max": 1117.8024155844155, "cost1_mean": 306.133526206257, "cost2_mean": -31.953436480789026, "system_level_velocity_mean": 12.462628999113868, "cost1_max": 338.379353470544, "cost1_min": 27.640594475569696, "cost2_max": -17.005075439811264, "outflow_rate_mean": 988.4186667172637, "system_level_velocity_min": 9.908895222526388, "outflow_rate_min": 338.35525222187107, "system_level_velocity_max": 18.55117744890679}, "info": {"num_steps_trained": 6736232, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.017558177933096886, "total_loss": 22.76573371887207, "vf_loss": 22.770296096801758, "policy_loss": -0.007525039836764336, "cur_kl_coeff": 0.16875001788139343, "vf_explained_var": 0.6704031229019165, "entropy": 1.2271044254302979}, "num_steps_sampled": 6736232, "load_time_ms": 12.401, "update_time_ms": 7.965, "grad_time_ms": 9492.645, "sample_time_ms": 13221.356}, "episode_len_mean": 680.71, "time_this_iter_s": 22.34534215927124, "num_metric_batches_dropped": 0, "timesteps_total": 6736232, "episodes_total": 3276, "hostname": "flow-main", "config": {"custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "kl_coeff": 0.2, "train_batch_size": 30000, "log_level": "INFO", "num_workers": 20, "num_sgd_iter": 10, "lr": 0.0005, "monitor": false, "lr_schedule": null, "compress_observations": false, "input": "sampler", "straggler_mitigation": false, "input_evaluation": null, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "optimizer": {}, "vf_share_layers": false, "model": {"fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "fcnet_activation": "tanh", "dim": 84, "lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "channel_major": false, "conv_activation": "relu", "squash_to_range": false, "conv_filters": null, "zero_mean": true, "grayscale": false, "max_seq_len": 20, "free_log_std": false, "custom_preprocessor": null, "custom_options": {}, "use_lstm": false}, "clip_param": 0.3, "num_cpus_for_driver": 1, "synchronize_filters": true, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "output": null, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.3, 0.1]_t_min:10.0", "batch_mode": "truncate_episodes", "simple_optimizer": false, "sample_batch_size": 200, "collect_metrics_timeout": 180, "clip_rewards": null, "clip_actions": false, "kl_target": 0.01, "observation_filter": "NoFilter", "use_gae": true, "entropy_coeff": 0.0, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb6eeb8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb6e0b8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb6e198>"}, "gamma": 0.99, "horizon": 1500, "num_gpus_per_worker": 0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "output_max_file_size": 67108864, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "num_gpus": 0, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}}, "timestamp": 1557234485, "episode_reward_max": 1003.3755701688725, "episodes_this_iter": 17, "time_total_s": 4096.70570731163, "time_since_restore": 4096.70570731163}
{"timesteps_since_restore": 6773491, "done": false, "node_ip": "10.138.0.2", "pid": 10867, "date": "2019-05-07_13-08-29", "episode_reward_min": 46.90776628519876, "timesteps_this_iter": 37259, "training_iteration": 177, "episode_reward_mean": 884.8247055201849, "experiment_id": "a183ec7aedea427d9bacd699bea0cf75", "policy_reward_mean": {}, "iterations_since_restore": 177, "custom_metrics": {"cost2_min": -44.36653891266541, "outflow_rate_max": 1123.8467584415587, "cost1_mean": 298.2340365212735, "cost2_mean": -31.915145187691742, "system_level_velocity_mean": 12.614251180176538, "cost1_max": 342.5820378291256, "cost1_min": 27.6804137613199, "cost2_max": -13.565955740833804, "outflow_rate_mean": 969.1684299328373, "system_level_velocity_min": 9.908895222526388, "outflow_rate_min": 325.75626921682857, "system_level_velocity_max": 18.49219961659476}, "info": {"num_steps_trained": 6773491, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.019742801785469055, "total_loss": 28.104488372802734, "vf_loss": 28.110523223876953, "policy_loss": -0.009365499950945377, "cur_kl_coeff": 0.16875001788139343, "vf_explained_var": 0.6121610403060913, "entropy": 1.2205352783203125}, "num_steps_sampled": 6773491, "load_time_ms": 11.997, "update_time_ms": 8.051, "grad_time_ms": 9474.12, "sample_time_ms": 13367.926}, "episode_len_mean": 661.77, "time_this_iter_s": 24.046693325042725, "num_metric_batches_dropped": 0, "timesteps_total": 6773491, "episodes_total": 3298, "hostname": "flow-main", "config": {"custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "kl_coeff": 0.2, "train_batch_size": 30000, "log_level": "INFO", "num_workers": 20, "num_sgd_iter": 10, "lr": 0.0005, "monitor": false, "lr_schedule": null, "compress_observations": false, "input": "sampler", "straggler_mitigation": false, "input_evaluation": null, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "optimizer": {}, "vf_share_layers": false, "model": {"fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "fcnet_activation": "tanh", "dim": 84, "lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "channel_major": false, "conv_activation": "relu", "squash_to_range": false, "conv_filters": null, "zero_mean": true, "grayscale": false, "max_seq_len": 20, "free_log_std": false, "custom_preprocessor": null, "custom_options": {}, "use_lstm": false}, "clip_param": 0.3, "num_cpus_for_driver": 1, "synchronize_filters": true, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "output": null, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.3, 0.1]_t_min:10.0", "batch_mode": "truncate_episodes", "simple_optimizer": false, "sample_batch_size": 200, "collect_metrics_timeout": 180, "clip_rewards": null, "clip_actions": false, "kl_target": 0.01, "observation_filter": "NoFilter", "use_gae": true, "entropy_coeff": 0.0, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb692e8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb69c50>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb69630>"}, "gamma": 0.99, "horizon": 1500, "num_gpus_per_worker": 0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "output_max_file_size": 67108864, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "num_gpus": 0, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}}, "timestamp": 1557234509, "episode_reward_max": 1003.3755701688725, "episodes_this_iter": 22, "time_total_s": 4120.752400636673, "time_since_restore": 4120.752400636673}
{"timesteps_since_restore": 6811227, "done": false, "node_ip": "10.138.0.2", "pid": 10867, "date": "2019-05-07_13-08-52", "episode_reward_min": 46.90776628519876, "timesteps_this_iter": 37736, "training_iteration": 178, "episode_reward_mean": 875.1465230639452, "experiment_id": "a183ec7aedea427d9bacd699bea0cf75", "policy_reward_mean": {}, "iterations_since_restore": 178, "custom_metrics": {"cost2_min": -44.36653891266541, "outflow_rate_max": 1123.8467584415587, "cost1_mean": 296.3388553458819, "cost2_mean": -31.910627688525096, "system_level_velocity_mean": 12.638814396799733, "cost1_max": 342.5820378291256, "cost1_min": 27.6804137613199, "cost2_max": -13.565955740833804, "outflow_rate_mean": 966.3415078831918, "system_level_velocity_min": 9.908895222526388, "outflow_rate_min": 325.75626921682857, "system_level_velocity_max": 18.49219961659476}, "info": {"num_steps_trained": 6811227, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.017600584775209427, "total_loss": 25.1417236328125, "vf_loss": 25.147878646850586, "policy_loss": -0.00912707019597292, "cur_kl_coeff": 0.16875000298023224, "vf_explained_var": 0.6787567734718323, "entropy": 1.2304515838623047}, "num_steps_sampled": 6811227, "load_time_ms": 12.18, "update_time_ms": 8.052, "grad_time_ms": 9439.139, "sample_time_ms": 13473.703}, "episode_len_mean": 657.91, "time_this_iter_s": 23.586476802825928, "num_metric_batches_dropped": 0, "timesteps_total": 6811227, "episodes_total": 3319, "hostname": "flow-main", "config": {"custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "kl_coeff": 0.2, "train_batch_size": 30000, "log_level": "INFO", "num_workers": 20, "num_sgd_iter": 10, "lr": 0.0005, "monitor": false, "lr_schedule": null, "compress_observations": false, "input": "sampler", "straggler_mitigation": false, "input_evaluation": null, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "optimizer": {}, "vf_share_layers": false, "model": {"fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "fcnet_activation": "tanh", "dim": 84, "lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "channel_major": false, "conv_activation": "relu", "squash_to_range": false, "conv_filters": null, "zero_mean": true, "grayscale": false, "max_seq_len": 20, "free_log_std": false, "custom_preprocessor": null, "custom_options": {}, "use_lstm": false}, "clip_param": 0.3, "num_cpus_for_driver": 1, "synchronize_filters": true, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "output": null, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.3, 0.1]_t_min:10.0", "batch_mode": "truncate_episodes", "simple_optimizer": false, "sample_batch_size": 200, "collect_metrics_timeout": 180, "clip_rewards": null, "clip_actions": false, "kl_target": 0.01, "observation_filter": "NoFilter", "use_gae": true, "entropy_coeff": 0.0, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb72a58>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb72ef0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb72668>"}, "gamma": 0.99, "horizon": 1500, "num_gpus_per_worker": 0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "output_max_file_size": 67108864, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "num_gpus": 0, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}}, "timestamp": 1557234532, "episode_reward_max": 1003.3755701688725, "episodes_this_iter": 21, "time_total_s": 4144.338877439499, "time_since_restore": 4144.338877439499}
{"timesteps_since_restore": 6848831, "done": false, "node_ip": "10.138.0.2", "pid": 10867, "date": "2019-05-07_13-09-18", "episode_reward_min": 42.016123059681654, "timesteps_this_iter": 37604, "training_iteration": 179, "episode_reward_mean": 858.0907722083678, "experiment_id": "a183ec7aedea427d9bacd699bea0cf75", "policy_reward_mean": {}, "iterations_since_restore": 179, "custom_metrics": {"cost2_min": -44.36653891266541, "outflow_rate_max": 1126.9848103896104, "cost1_mean": 291.96719883575025, "cost2_mean": -31.643135113659643, "system_level_velocity_mean": 12.805912158217327, "cost1_max": 348.1838759875178, "cost1_min": 27.068866204534892, "cost2_max": -13.565955740833804, "outflow_rate_mean": 955.4504588503406, "system_level_velocity_min": 9.908895222526388, "outflow_rate_min": 324.8093303047148, "system_level_velocity_max": 18.596070669432347}, "info": {"num_steps_trained": 6848831, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.016350286081433296, "total_loss": 26.0402889251709, "vf_loss": 26.04456901550293, "policy_loss": -0.0070386226288974285, "cur_kl_coeff": 0.16875001788139343, "vf_explained_var": 0.6337007284164429, "entropy": 1.25260329246521}, "num_steps_sampled": 6848831, "load_time_ms": 12.398, "update_time_ms": 7.69, "grad_time_ms": 9425.779, "sample_time_ms": 13763.441}, "episode_len_mean": 644.85, "time_this_iter_s": 25.20607018470764, "num_metric_batches_dropped": 0, "timesteps_total": 6848831, "episodes_total": 3340, "hostname": "flow-main", "config": {"custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "kl_coeff": 0.2, "train_batch_size": 30000, "log_level": "INFO", "num_workers": 20, "num_sgd_iter": 10, "lr": 0.0005, "monitor": false, "lr_schedule": null, "compress_observations": false, "input": "sampler", "straggler_mitigation": false, "input_evaluation": null, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "optimizer": {}, "vf_share_layers": false, "model": {"fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "fcnet_activation": "tanh", "dim": 84, "lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "channel_major": false, "conv_activation": "relu", "squash_to_range": false, "conv_filters": null, "zero_mean": true, "grayscale": false, "max_seq_len": 20, "free_log_std": false, "custom_preprocessor": null, "custom_options": {}, "use_lstm": false}, "clip_param": 0.3, "num_cpus_for_driver": 1, "synchronize_filters": true, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "output": null, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.3, 0.1]_t_min:10.0", "batch_mode": "truncate_episodes", "simple_optimizer": false, "sample_batch_size": 200, "collect_metrics_timeout": 180, "clip_rewards": null, "clip_actions": false, "kl_target": 0.01, "observation_filter": "NoFilter", "use_gae": true, "entropy_coeff": 0.0, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f946116f588>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f946116f4a8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb546d8>"}, "gamma": 0.99, "horizon": 1500, "num_gpus_per_worker": 0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "output_max_file_size": 67108864, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "num_gpus": 0, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}}, "timestamp": 1557234558, "episode_reward_max": 1003.3755701688725, "episodes_this_iter": 21, "time_total_s": 4169.5449476242065, "time_since_restore": 4169.5449476242065}
{"timesteps_since_restore": 6886493, "done": false, "node_ip": "10.138.0.2", "pid": 10867, "date": "2019-05-07_13-09-39", "episode_reward_min": 42.016123059681654, "timesteps_this_iter": 37662, "training_iteration": 180, "episode_reward_mean": 844.1726712560162, "experiment_id": "a183ec7aedea427d9bacd699bea0cf75", "policy_reward_mean": {}, "iterations_since_restore": 180, "custom_metrics": {"cost2_min": -44.36653891266541, "outflow_rate_max": 1126.9848103896104, "cost1_mean": 287.2305112125081, "cost2_mean": -30.999693180753194, "system_level_velocity_mean": 12.843781643219497, "cost1_max": 348.1838759875178, "cost1_min": 27.068866204534892, "cost2_max": -13.565955740833804, "outflow_rate_mean": 942.2120110832141, "system_level_velocity_min": 9.908895222526388, "outflow_rate_min": 324.8093303047148, "system_level_velocity_max": 18.596070669432347}, "info": {"num_steps_trained": 6886493, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.016036560758948326, "total_loss": 24.32407569885254, "vf_loss": 24.32799530029297, "policy_loss": -0.006627983879297972, "cur_kl_coeff": 0.16875000298023224, "vf_explained_var": 0.6852590441703796, "entropy": 1.2795263528823853}, "num_steps_sampled": 6886493, "load_time_ms": 12.461, "update_time_ms": 7.614, "grad_time_ms": 9201.623, "sample_time_ms": 13848.987}, "episode_len_mean": 635.39, "time_this_iter_s": 21.074991941452026, "num_metric_batches_dropped": 0, "timesteps_total": 6886493, "episodes_total": 3359, "hostname": "flow-main", "config": {"custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "kl_coeff": 0.2, "train_batch_size": 30000, "log_level": "INFO", "num_workers": 20, "num_sgd_iter": 10, "lr": 0.0005, "monitor": false, "lr_schedule": null, "compress_observations": false, "input": "sampler", "straggler_mitigation": false, "input_evaluation": null, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "optimizer": {}, "vf_share_layers": false, "model": {"fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "fcnet_activation": "tanh", "dim": 84, "lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "channel_major": false, "conv_activation": "relu", "squash_to_range": false, "conv_filters": null, "zero_mean": true, "grayscale": false, "max_seq_len": 20, "free_log_std": false, "custom_preprocessor": null, "custom_options": {}, "use_lstm": false}, "clip_param": 0.3, "num_cpus_for_driver": 1, "synchronize_filters": true, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "output": null, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.3, 0.1]_t_min:10.0", "batch_mode": "truncate_episodes", "simple_optimizer": false, "sample_batch_size": 200, "collect_metrics_timeout": 180, "clip_rewards": null, "clip_actions": false, "kl_target": 0.01, "observation_filter": "NoFilter", "use_gae": true, "entropy_coeff": 0.0, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb69cf8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb695f8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb69e80>"}, "gamma": 0.99, "horizon": 1500, "num_gpus_per_worker": 0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "output_max_file_size": 67108864, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "num_gpus": 0, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}}, "timestamp": 1557234579, "episode_reward_max": 1019.3928803194773, "episodes_this_iter": 19, "time_total_s": 4190.619939565659, "time_since_restore": 4190.619939565659}
{"timesteps_since_restore": 6923556, "done": false, "node_ip": "10.138.0.2", "pid": 10867, "date": "2019-05-07_13-10-01", "episode_reward_min": 42.016123059681654, "timesteps_this_iter": 37063, "training_iteration": 181, "episode_reward_mean": 850.0925488964, "experiment_id": "a183ec7aedea427d9bacd699bea0cf75", "policy_reward_mean": {}, "iterations_since_restore": 181, "custom_metrics": {"cost2_min": -44.36653891266541, "outflow_rate_max": 1126.9848103896104, "cost1_mean": 291.1583449897533, "cost2_mean": -30.956632760835404, "system_level_velocity_mean": 12.840562047106562, "cost1_max": 348.1838759875178, "cost1_min": 27.068866204534892, "cost2_max": -13.565955740833804, "outflow_rate_mean": 949.2938911853462, "system_level_velocity_min": 10.350454096478229, "outflow_rate_min": 324.8093303047148, "system_level_velocity_max": 18.596070669432347}, "info": {"num_steps_trained": 6923556, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.017624974250793457, "total_loss": 23.941930770874023, "vf_loss": 23.948013305664062, "policy_loss": -0.009056703187525272, "cur_kl_coeff": 0.16875001788139343, "vf_explained_var": 0.6214138269424438, "entropy": 1.2818423509597778}, "num_steps_sampled": 6923556, "load_time_ms": 12.422, "update_time_ms": 7.54, "grad_time_ms": 9154.668, "sample_time_ms": 13815.011}, "episode_len_mean": 641.96, "time_this_iter_s": 22.713288068771362, "num_metric_batches_dropped": 0, "timesteps_total": 6923556, "episodes_total": 3378, "hostname": "flow-main", "config": {"custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "kl_coeff": 0.2, "train_batch_size": 30000, "log_level": "INFO", "num_workers": 20, "num_sgd_iter": 10, "lr": 0.0005, "monitor": false, "lr_schedule": null, "compress_observations": false, "input": "sampler", "straggler_mitigation": false, "input_evaluation": null, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "optimizer": {}, "vf_share_layers": false, "model": {"fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "fcnet_activation": "tanh", "dim": 84, "lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "channel_major": false, "conv_activation": "relu", "squash_to_range": false, "conv_filters": null, "zero_mean": true, "grayscale": false, "max_seq_len": 20, "free_log_std": false, "custom_preprocessor": null, "custom_options": {}, "use_lstm": false}, "clip_param": 0.3, "num_cpus_for_driver": 1, "synchronize_filters": true, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "output": null, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.3, 0.1]_t_min:10.0", "batch_mode": "truncate_episodes", "simple_optimizer": false, "sample_batch_size": 200, "collect_metrics_timeout": 180, "clip_rewards": null, "clip_actions": false, "kl_target": 0.01, "observation_filter": "NoFilter", "use_gae": true, "entropy_coeff": 0.0, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb727f0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb72a58>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb72da0>"}, "gamma": 0.99, "horizon": 1500, "num_gpus_per_worker": 0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "output_max_file_size": 67108864, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "num_gpus": 0, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}}, "timestamp": 1557234601, "episode_reward_max": 1019.3928803194773, "episodes_this_iter": 19, "time_total_s": 4213.33322763443, "time_since_restore": 4213.33322763443}
{"timesteps_since_restore": 6961381, "done": false, "node_ip": "10.138.0.2", "pid": 10867, "date": "2019-05-07_13-10-26", "episode_reward_min": 42.016123059681654, "timesteps_this_iter": 37825, "training_iteration": 182, "episode_reward_mean": 870.7181727308905, "experiment_id": "a183ec7aedea427d9bacd699bea0cf75", "policy_reward_mean": {}, "iterations_since_restore": 182, "custom_metrics": {"cost2_min": -42.448533863105375, "outflow_rate_max": 1126.9848103896104, "cost1_mean": 297.66255400779204, "cost2_mean": -30.850315749621874, "system_level_velocity_mean": 12.707831165420917, "cost1_max": 348.1838759875178, "cost1_min": 27.068866204534892, "cost2_max": -16.425968668456434, "outflow_rate_mean": 964.0086923365004, "system_level_velocity_min": 10.350454096478229, "outflow_rate_min": 324.8093303047148, "system_level_velocity_max": 18.596070669432347}, "info": {"num_steps_trained": 6961381, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.016745595261454582, "total_loss": 22.530174255371094, "vf_loss": 22.535438537597656, "policy_loss": -0.00809016264975071, "cur_kl_coeff": 0.16875001788139343, "vf_explained_var": 0.6895297169685364, "entropy": 1.299789309501648}, "num_steps_sampled": 6961381, "load_time_ms": 12.449, "update_time_ms": 7.421, "grad_time_ms": 9115.527, "sample_time_ms": 13996.587}, "episode_len_mean": 657.04, "time_this_iter_s": 24.089885234832764, "num_metric_batches_dropped": 0, "timesteps_total": 6961381, "episodes_total": 3398, "hostname": "flow-main", "config": {"custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "kl_coeff": 0.2, "train_batch_size": 30000, "log_level": "INFO", "num_workers": 20, "num_sgd_iter": 10, "lr": 0.0005, "monitor": false, "lr_schedule": null, "compress_observations": false, "input": "sampler", "straggler_mitigation": false, "input_evaluation": null, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "optimizer": {}, "vf_share_layers": false, "model": {"fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "fcnet_activation": "tanh", "dim": 84, "lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "channel_major": false, "conv_activation": "relu", "squash_to_range": false, "conv_filters": null, "zero_mean": true, "grayscale": false, "max_seq_len": 20, "free_log_std": false, "custom_preprocessor": null, "custom_options": {}, "use_lstm": false}, "clip_param": 0.3, "num_cpus_for_driver": 1, "synchronize_filters": true, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "output": null, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.3, 0.1]_t_min:10.0", "batch_mode": "truncate_episodes", "simple_optimizer": false, "sample_batch_size": 200, "collect_metrics_timeout": 180, "clip_rewards": null, "clip_actions": false, "kl_target": 0.01, "observation_filter": "NoFilter", "use_gae": true, "entropy_coeff": 0.0, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f946116f400>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f946116ff98>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f946116f4a8>"}, "gamma": 0.99, "horizon": 1500, "num_gpus_per_worker": 0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "output_max_file_size": 67108864, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "num_gpus": 0, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}}, "timestamp": 1557234626, "episode_reward_max": 1019.3928803194773, "episodes_this_iter": 20, "time_total_s": 4237.423112869263, "time_since_restore": 4237.423112869263}
{"timesteps_since_restore": 6999283, "done": false, "node_ip": "10.138.0.2", "pid": 10867, "date": "2019-05-07_13-10-47", "episode_reward_min": 42.016123059681654, "timesteps_this_iter": 37902, "training_iteration": 183, "episode_reward_mean": 881.5443709570557, "experiment_id": "a183ec7aedea427d9bacd699bea0cf75", "policy_reward_mean": {}, "iterations_since_restore": 183, "custom_metrics": {"cost2_min": -42.448533863105375, "outflow_rate_max": 1126.9848103896104, "cost1_mean": 300.9059756645386, "cost2_mean": -30.89799150516928, "system_level_velocity_mean": 12.700119814527088, "cost1_max": 348.1838759875178, "cost1_min": 27.068866204534892, "cost2_max": -16.425968668456434, "outflow_rate_mean": 969.4058984804122, "system_level_velocity_min": 10.350454096478229, "outflow_rate_min": 324.8093303047148, "system_level_velocity_max": 18.596070669432347}, "info": {"num_steps_trained": 6999283, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.017591113224625587, "total_loss": 19.715866088867188, "vf_loss": 19.72132682800293, "policy_loss": -0.008427655324339867, "cur_kl_coeff": 0.16875001788139343, "vf_explained_var": 0.6997617483139038, "entropy": 1.27017343044281}, "num_steps_sampled": 6999283, "load_time_ms": 12.459, "update_time_ms": 7.526, "grad_time_ms": 8965.808, "sample_time_ms": 13925.104}, "episode_len_mean": 662.94, "time_this_iter_s": 21.2271888256073, "num_metric_batches_dropped": 0, "timesteps_total": 6999283, "episodes_total": 3415, "hostname": "flow-main", "config": {"custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "kl_coeff": 0.2, "train_batch_size": 30000, "log_level": "INFO", "num_workers": 20, "num_sgd_iter": 10, "lr": 0.0005, "monitor": false, "lr_schedule": null, "compress_observations": false, "input": "sampler", "straggler_mitigation": false, "input_evaluation": null, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "optimizer": {}, "vf_share_layers": false, "model": {"fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "fcnet_activation": "tanh", "dim": 84, "lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "channel_major": false, "conv_activation": "relu", "squash_to_range": false, "conv_filters": null, "zero_mean": true, "grayscale": false, "max_seq_len": 20, "free_log_std": false, "custom_preprocessor": null, "custom_options": {}, "use_lstm": false}, "clip_param": 0.3, "num_cpus_for_driver": 1, "synchronize_filters": true, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "output": null, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.3, 0.1]_t_min:10.0", "batch_mode": "truncate_episodes", "simple_optimizer": false, "sample_batch_size": 200, "collect_metrics_timeout": 180, "clip_rewards": null, "clip_actions": false, "kl_target": 0.01, "observation_filter": "NoFilter", "use_gae": true, "entropy_coeff": 0.0, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb695f8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb72b00>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb72e80>"}, "gamma": 0.99, "horizon": 1500, "num_gpus_per_worker": 0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "output_max_file_size": 67108864, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "num_gpus": 0, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}}, "timestamp": 1557234647, "episode_reward_max": 1019.3928803194773, "episodes_this_iter": 17, "time_total_s": 4258.65030169487, "time_since_restore": 4258.65030169487}
{"timesteps_since_restore": 7036653, "done": false, "node_ip": "10.138.0.2", "pid": 10867, "date": "2019-05-07_13-11-10", "episode_reward_min": 44.8313543885916, "timesteps_this_iter": 37370, "training_iteration": 184, "episode_reward_mean": 900.6315615811178, "experiment_id": "a183ec7aedea427d9bacd699bea0cf75", "policy_reward_mean": {}, "iterations_since_restore": 184, "custom_metrics": {"cost2_min": -42.448533863105375, "outflow_rate_max": 1119.5504259740258, "cost1_mean": 304.9451704074848, "cost2_mean": -30.962199611746378, "system_level_velocity_mean": 12.461043538001856, "cost1_max": 347.7189021256686, "cost1_min": 28.087233346861623, "cost2_max": -16.547062966362155, "outflow_rate_mean": 973.7137966915711, "system_level_velocity_min": 10.350454096478229, "outflow_rate_min": 332.7571298140349, "system_level_velocity_max": 17.894111664905505}, "info": {"num_steps_trained": 7036653, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.01831267960369587, "total_loss": 27.74318504333496, "vf_loss": 27.748361587524414, "policy_loss": -0.00827095378190279, "cur_kl_coeff": 0.16875001788139343, "vf_explained_var": 0.610048234462738, "entropy": 1.2690088748931885}, "num_steps_sampled": 7036653, "load_time_ms": 12.485, "update_time_ms": 7.608, "grad_time_ms": 8929.32, "sample_time_ms": 13986.451}, "episode_len_mean": 678.06, "time_this_iter_s": 22.734068155288696, "num_metric_batches_dropped": 0, "timesteps_total": 7036653, "episodes_total": 3435, "hostname": "flow-main", "config": {"custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "kl_coeff": 0.2, "train_batch_size": 30000, "log_level": "INFO", "num_workers": 20, "num_sgd_iter": 10, "lr": 0.0005, "monitor": false, "lr_schedule": null, "compress_observations": false, "input": "sampler", "straggler_mitigation": false, "input_evaluation": null, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "optimizer": {}, "vf_share_layers": false, "model": {"fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "fcnet_activation": "tanh", "dim": 84, "lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "channel_major": false, "conv_activation": "relu", "squash_to_range": false, "conv_filters": null, "zero_mean": true, "grayscale": false, "max_seq_len": 20, "free_log_std": false, "custom_preprocessor": null, "custom_options": {}, "use_lstm": false}, "clip_param": 0.3, "num_cpus_for_driver": 1, "synchronize_filters": true, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "output": null, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.3, 0.1]_t_min:10.0", "batch_mode": "truncate_episodes", "simple_optimizer": false, "sample_batch_size": 200, "collect_metrics_timeout": 180, "clip_rewards": null, "clip_actions": false, "kl_target": 0.01, "observation_filter": "NoFilter", "use_gae": true, "entropy_coeff": 0.0, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb72a58>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb72668>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb726d8>"}, "gamma": 0.99, "horizon": 1500, "num_gpus_per_worker": 0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "output_max_file_size": 67108864, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "num_gpus": 0, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}}, "timestamp": 1557234670, "episode_reward_max": 1019.3928803194773, "episodes_this_iter": 20, "time_total_s": 4281.384369850159, "time_since_restore": 4281.384369850159}
{"timesteps_since_restore": 7074150, "done": false, "node_ip": "10.138.0.2", "pid": 10867, "date": "2019-05-07_13-11-32", "episode_reward_min": 44.67827000724012, "timesteps_this_iter": 37497, "training_iteration": 185, "episode_reward_mean": 903.2823571861576, "experiment_id": "a183ec7aedea427d9bacd699bea0cf75", "policy_reward_mean": {}, "iterations_since_restore": 185, "custom_metrics": {"cost2_min": -42.448533863105375, "cost2_mean": -30.843178852808848, "cost1_mean": 307.45809902161113, "system_level_velocity_mean": 12.53330810441955, "cost1_max": 347.46968167284217, "cost1_min": 27.168173341854033, "cost2_max": -14.750267855587921, "outflow_rate_max": 1119.5504259740258, "system_level_velocity_min": 10.66113759341319, "outflow_rate_min": 332.7571298140349, "system_level_velocity_max": 18.259268215199228, "outflow_rate_mean": 975.568239889033}, "info": {"num_steps_trained": 7074150, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.017335884273052216, "total_loss": 19.935747146606445, "vf_loss": 19.94161605834961, "policy_loss": -0.008792920969426632, "cur_kl_coeff": 0.16875001788139343, "vf_explained_var": 0.7082633376121521, "entropy": 1.2657939195632935}, "num_steps_sampled": 7074150, "load_time_ms": 12.559, "update_time_ms": 7.32, "grad_time_ms": 8899.539, "sample_time_ms": 13970.665}, "episode_len_mean": 680.95, "time_this_iter_s": 22.599451065063477, "num_metric_batches_dropped": 0, "timesteps_total": 7074150, "episodes_total": 3452, "hostname": "flow-main", "config": {"custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "kl_coeff": 0.2, "train_batch_size": 30000, "log_level": "INFO", "num_workers": 20, "num_sgd_iter": 10, "lr": 0.0005, "monitor": false, "lr_schedule": null, "compress_observations": false, "input": "sampler", "straggler_mitigation": false, "input_evaluation": null, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "optimizer": {}, "vf_share_layers": false, "model": {"fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "fcnet_activation": "tanh", "dim": 84, "lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "channel_major": false, "conv_activation": "relu", "squash_to_range": false, "conv_filters": null, "zero_mean": true, "grayscale": false, "max_seq_len": 20, "free_log_std": false, "custom_preprocessor": null, "custom_options": {}, "use_lstm": false}, "clip_param": 0.3, "num_cpus_for_driver": 1, "synchronize_filters": true, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "output": null, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.3, 0.1]_t_min:10.0", "batch_mode": "truncate_episodes", "simple_optimizer": false, "sample_batch_size": 200, "collect_metrics_timeout": 180, "clip_rewards": null, "clip_actions": false, "kl_target": 0.01, "observation_filter": "NoFilter", "use_gae": true, "entropy_coeff": 0.0, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f946116f2e8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb72e48>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f946116f898>"}, "gamma": 0.99, "horizon": 1500, "num_gpus_per_worker": 0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "output_max_file_size": 67108864, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "num_gpus": 0, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}}, "timestamp": 1557234692, "episode_reward_max": 991.7782292297519, "episodes_this_iter": 17, "time_total_s": 4303.983820915222, "time_since_restore": 4303.983820915222}
{"timesteps_since_restore": 7111380, "done": false, "node_ip": "10.138.0.2", "pid": 10867, "date": "2019-05-07_13-11-56", "episode_reward_min": 44.67827000724012, "timesteps_this_iter": 37230, "training_iteration": 186, "episode_reward_mean": 905.3291452549552, "experiment_id": "a183ec7aedea427d9bacd699bea0cf75", "policy_reward_mean": {}, "iterations_since_restore": 186, "custom_metrics": {"cost2_min": -48.280742537088045, "outflow_rate_max": 1119.5504259740258, "cost1_mean": 307.24343966917644, "cost2_mean": -31.03768134343015, "system_level_velocity_mean": 12.515830043855072, "cost1_max": 347.4529174794884, "cost1_min": 27.168173341854033, "cost2_max": -14.750267855587921, "outflow_rate_mean": 975.492828096825, "system_level_velocity_min": 10.872166511929215, "outflow_rate_min": 332.7571298140349, "system_level_velocity_max": 18.259268215199228}, "info": {"num_steps_trained": 7111380, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.018365344032645226, "total_loss": 28.97361183166504, "vf_loss": 28.979209899902344, "policy_loss": -0.008694857358932495, "cur_kl_coeff": 0.16875003278255463, "vf_explained_var": 0.577606737613678, "entropy": 1.2642908096313477}, "num_steps_sampled": 7111380, "load_time_ms": 12.239, "update_time_ms": 7.224, "grad_time_ms": 8962.232, "sample_time_ms": 14058.608}, "episode_len_mean": 680.95, "time_this_iter_s": 23.84619927406311, "num_metric_batches_dropped": 0, "timesteps_total": 7111380, "episodes_total": 3472, "hostname": "flow-main", "config": {"custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "kl_coeff": 0.2, "train_batch_size": 30000, "log_level": "INFO", "num_workers": 20, "num_sgd_iter": 10, "lr": 0.0005, "monitor": false, "lr_schedule": null, "compress_observations": false, "input": "sampler", "straggler_mitigation": false, "input_evaluation": null, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "optimizer": {}, "vf_share_layers": false, "model": {"fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "fcnet_activation": "tanh", "dim": 84, "lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "channel_major": false, "conv_activation": "relu", "squash_to_range": false, "conv_filters": null, "zero_mean": true, "grayscale": false, "max_seq_len": 20, "free_log_std": false, "custom_preprocessor": null, "custom_options": {}, "use_lstm": false}, "clip_param": 0.3, "num_cpus_for_driver": 1, "synchronize_filters": true, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "output": null, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.3, 0.1]_t_min:10.0", "batch_mode": "truncate_episodes", "simple_optimizer": false, "sample_batch_size": 200, "collect_metrics_timeout": 180, "clip_rewards": null, "clip_actions": false, "kl_target": 0.01, "observation_filter": "NoFilter", "use_gae": true, "entropy_coeff": 0.0, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb69278>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb69cc0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb69198>"}, "gamma": 0.99, "horizon": 1500, "num_gpus_per_worker": 0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "output_max_file_size": 67108864, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "num_gpus": 0, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}}, "timestamp": 1557234716, "episode_reward_max": 1007.5241051257224, "episodes_this_iter": 20, "time_total_s": 4327.830020189285, "time_since_restore": 4327.830020189285}
{"timesteps_since_restore": 7149217, "done": false, "node_ip": "10.138.0.2", "pid": 10867, "date": "2019-05-07_13-12-19", "episode_reward_min": 44.67827000724012, "timesteps_this_iter": 37837, "training_iteration": 187, "episode_reward_mean": 913.3807061511827, "experiment_id": "a183ec7aedea427d9bacd699bea0cf75", "policy_reward_mean": {}, "iterations_since_restore": 187, "custom_metrics": {"cost2_min": -48.280742537088045, "outflow_rate_max": 1147.4806233766233, "cost1_mean": 310.21435450690694, "cost2_mean": -31.246614512402218, "system_level_velocity_mean": 12.469685868237093, "cost1_max": 347.4529174794884, "cost1_min": 27.168173341854033, "cost2_max": -14.750267855587921, "outflow_rate_mean": 982.6932600194642, "system_level_velocity_min": 10.872166511929215, "outflow_rate_min": 340.0431742023662, "system_level_velocity_max": 18.259268215199228}, "info": {"num_steps_trained": 7149217, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.019069593399763107, "total_loss": 23.24891471862793, "vf_loss": 23.254671096801758, "policy_loss": -0.00897390116006136, "cur_kl_coeff": 0.16875001788139343, "vf_explained_var": 0.6858595013618469, "entropy": 1.2686569690704346}, "num_steps_sampled": 7149217, "load_time_ms": 12.376, "update_time_ms": 7.215, "grad_time_ms": 8970.888, "sample_time_ms": 13948.329}, "episode_len_mean": 687.45, "time_this_iter_s": 23.036086320877075, "num_metric_batches_dropped": 0, "timesteps_total": 7149217, "episodes_total": 3489, "hostname": "flow-main", "config": {"custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "kl_coeff": 0.2, "train_batch_size": 30000, "log_level": "INFO", "num_workers": 20, "num_sgd_iter": 10, "lr": 0.0005, "monitor": false, "lr_schedule": null, "compress_observations": false, "input": "sampler", "straggler_mitigation": false, "input_evaluation": null, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "optimizer": {}, "vf_share_layers": false, "model": {"fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "fcnet_activation": "tanh", "dim": 84, "lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "channel_major": false, "conv_activation": "relu", "squash_to_range": false, "conv_filters": null, "zero_mean": true, "grayscale": false, "max_seq_len": 20, "free_log_std": false, "custom_preprocessor": null, "custom_options": {}, "use_lstm": false}, "clip_param": 0.3, "num_cpus_for_driver": 1, "synchronize_filters": true, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "output": null, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.3, 0.1]_t_min:10.0", "batch_mode": "truncate_episodes", "simple_optimizer": false, "sample_batch_size": 200, "collect_metrics_timeout": 180, "clip_rewards": null, "clip_actions": false, "kl_target": 0.01, "observation_filter": "NoFilter", "use_gae": true, "entropy_coeff": 0.0, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb69a58>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb79b70>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb79a58>"}, "gamma": 0.99, "horizon": 1500, "num_gpus_per_worker": 0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "output_max_file_size": 67108864, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "num_gpus": 0, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}}, "timestamp": 1557234739, "episode_reward_max": 1007.5241051257224, "episodes_this_iter": 17, "time_total_s": 4350.866106510162, "time_since_restore": 4350.866106510162}
{"timesteps_since_restore": 7186146, "done": false, "node_ip": "10.138.0.2", "pid": 10867, "date": "2019-05-07_13-12-42", "episode_reward_min": 44.67827000724012, "timesteps_this_iter": 36929, "training_iteration": 188, "episode_reward_mean": 912.7756018858432, "experiment_id": "a183ec7aedea427d9bacd699bea0cf75", "policy_reward_mean": {}, "iterations_since_restore": 188, "custom_metrics": {"cost2_min": -48.280742537088045, "outflow_rate_max": 1147.4806233766233, "cost1_mean": 310.6085223541706, "cost2_mean": -31.573517610384844, "system_level_velocity_mean": 12.45906408139745, "cost1_max": 342.07709227216776, "cost1_min": 27.168173341854033, "cost2_max": -14.750267855587921, "outflow_rate_mean": 987.8955418653327, "system_level_velocity_min": 10.872166511929215, "outflow_rate_min": 340.0431742023662, "system_level_velocity_max": 18.259268215199228}, "info": {"num_steps_trained": 7186146, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.019190967082977295, "total_loss": 28.48378562927246, "vf_loss": 28.489946365356445, "policy_loss": -0.009398004040122032, "cur_kl_coeff": 0.16875001788139343, "vf_explained_var": 0.5795365571975708, "entropy": 1.272200345993042}, "num_steps_sampled": 7186146, "load_time_ms": 12.137, "update_time_ms": 7.118, "grad_time_ms": 8927.262, "sample_time_ms": 13875.994}, "episode_len_mean": 688.5, "time_this_iter_s": 22.421582460403442, "num_metric_batches_dropped": 0, "timesteps_total": 7186146, "episodes_total": 3509, "hostname": "flow-main", "config": {"custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "kl_coeff": 0.2, "train_batch_size": 30000, "log_level": "INFO", "num_workers": 20, "num_sgd_iter": 10, "lr": 0.0005, "monitor": false, "lr_schedule": null, "compress_observations": false, "input": "sampler", "straggler_mitigation": false, "input_evaluation": null, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "optimizer": {}, "vf_share_layers": false, "model": {"fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "fcnet_activation": "tanh", "dim": 84, "lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "channel_major": false, "conv_activation": "relu", "squash_to_range": false, "conv_filters": null, "zero_mean": true, "grayscale": false, "max_seq_len": 20, "free_log_std": false, "custom_preprocessor": null, "custom_options": {}, "use_lstm": false}, "clip_param": 0.3, "num_cpus_for_driver": 1, "synchronize_filters": true, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "output": null, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.3, 0.1]_t_min:10.0", "batch_mode": "truncate_episodes", "simple_optimizer": false, "sample_batch_size": 200, "collect_metrics_timeout": 180, "clip_rewards": null, "clip_actions": false, "kl_target": 0.01, "observation_filter": "NoFilter", "use_gae": true, "entropy_coeff": 0.0, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb6ed68>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb6e320>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb6e240>"}, "gamma": 0.99, "horizon": 1500, "num_gpus_per_worker": 0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "output_max_file_size": 67108864, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "num_gpus": 0, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}}, "timestamp": 1557234762, "episode_reward_max": 1007.5241051257224, "episodes_this_iter": 20, "time_total_s": 4373.287688970566, "time_since_restore": 4373.287688970566}
{"timesteps_since_restore": 7223963, "done": false, "node_ip": "10.138.0.2", "pid": 10867, "date": "2019-05-07_13-13-05", "episode_reward_min": 44.67827000724012, "timesteps_this_iter": 37817, "training_iteration": 189, "episode_reward_mean": 911.8171168301778, "experiment_id": "a183ec7aedea427d9bacd699bea0cf75", "policy_reward_mean": {}, "iterations_since_restore": 189, "custom_metrics": {"cost2_min": -48.280742537088045, "outflow_rate_max": 1147.4806233766233, "cost1_mean": 310.32982333320865, "cost2_mean": -31.776891912749146, "system_level_velocity_mean": 12.496805302227967, "cost1_max": 347.1837050766171, "cost1_min": 27.168173341854033, "cost2_max": -14.750267855587921, "outflow_rate_mean": 992.6192162787951, "system_level_velocity_min": 11.068532933514375, "outflow_rate_min": 340.0431742023662, "system_level_velocity_max": 18.259268215199228}, "info": {"num_steps_trained": 7223963, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.017775844782590866, "total_loss": 27.724407196044922, "vf_loss": 27.72847557067871, "policy_loss": -0.007068169303238392, "cur_kl_coeff": 0.16875001788139343, "vf_explained_var": 0.6287366151809692, "entropy": 1.2506179809570312}, "num_steps_sampled": 7223963, "load_time_ms": 11.924, "update_time_ms": 7.178, "grad_time_ms": 8940.203, "sample_time_ms": 13643.735}, "episode_len_mean": 686.54, "time_this_iter_s": 22.997982263565063, "num_metric_batches_dropped": 0, "timesteps_total": 7223963, "episodes_total": 3529, "hostname": "flow-main", "config": {"custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "kl_coeff": 0.2, "train_batch_size": 30000, "log_level": "INFO", "num_workers": 20, "num_sgd_iter": 10, "lr": 0.0005, "monitor": false, "lr_schedule": null, "compress_observations": false, "input": "sampler", "straggler_mitigation": false, "input_evaluation": null, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "optimizer": {}, "vf_share_layers": false, "model": {"fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "fcnet_activation": "tanh", "dim": 84, "lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "channel_major": false, "conv_activation": "relu", "squash_to_range": false, "conv_filters": null, "zero_mean": true, "grayscale": false, "max_seq_len": 20, "free_log_std": false, "custom_preprocessor": null, "custom_options": {}, "use_lstm": false}, "clip_param": 0.3, "num_cpus_for_driver": 1, "synchronize_filters": true, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "output": null, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.3, 0.1]_t_min:10.0", "batch_mode": "truncate_episodes", "simple_optimizer": false, "sample_batch_size": 200, "collect_metrics_timeout": 180, "clip_rewards": null, "clip_actions": false, "kl_target": 0.01, "observation_filter": "NoFilter", "use_gae": true, "entropy_coeff": 0.0, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb69320>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb69b38>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb69278>"}, "gamma": 0.99, "horizon": 1500, "num_gpus_per_worker": 0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "output_max_file_size": 67108864, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "num_gpus": 0, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}}, "timestamp": 1557234785, "episode_reward_max": 1007.5241051257224, "episodes_this_iter": 20, "time_total_s": 4396.285671234131, "time_since_restore": 4396.285671234131}
{"timesteps_since_restore": 7261435, "done": false, "node_ip": "10.138.0.2", "pid": 10867, "date": "2019-05-07_13-13-27", "episode_reward_min": 540.7820033862369, "timesteps_this_iter": 37472, "training_iteration": 190, "episode_reward_mean": 918.9973702182848, "experiment_id": "a183ec7aedea427d9bacd699bea0cf75", "policy_reward_mean": {}, "iterations_since_restore": 190, "custom_metrics": {"cost2_min": -48.280742537088045, "outflow_rate_max": 1147.4806233766233, "cost1_mean": 314.73763394571125, "cost2_mean": -32.141127005945584, "system_level_velocity_mean": 12.520409772978633, "cost1_max": 347.1837050766171, "cost1_min": 210.31329002299262, "cost2_max": -20.458127846352493, "outflow_rate_mean": 1011.1515789783299, "system_level_velocity_min": 11.07372838759789, "outflow_rate_min": 866.1158450746225, "system_level_velocity_max": 14.571124985024207}, "info": {"num_steps_trained": 7261435, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.020277323201298714, "total_loss": 24.726499557495117, "vf_loss": 24.73290252685547, "policy_loss": -0.009823896922171116, "cur_kl_coeff": 0.16875001788139343, "vf_explained_var": 0.6235056519508362, "entropy": 1.282263159751892}, "num_steps_sampled": 7261435, "load_time_ms": 11.856, "update_time_ms": 7.033, "grad_time_ms": 9127.428, "sample_time_ms": 13607.455}, "episode_len_mean": 693.03, "time_this_iter_s": 22.59377098083496, "num_metric_batches_dropped": 0, "timesteps_total": 7261435, "episodes_total": 3547, "hostname": "flow-main", "config": {"custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "kl_coeff": 0.2, "train_batch_size": 30000, "log_level": "INFO", "num_workers": 20, "num_sgd_iter": 10, "lr": 0.0005, "monitor": false, "lr_schedule": null, "compress_observations": false, "input": "sampler", "straggler_mitigation": false, "input_evaluation": null, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "optimizer": {}, "vf_share_layers": false, "model": {"fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "fcnet_activation": "tanh", "dim": 84, "lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "channel_major": false, "conv_activation": "relu", "squash_to_range": false, "conv_filters": null, "zero_mean": true, "grayscale": false, "max_seq_len": 20, "free_log_std": false, "custom_preprocessor": null, "custom_options": {}, "use_lstm": false}, "clip_param": 0.3, "num_cpus_for_driver": 1, "synchronize_filters": true, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "output": null, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.3, 0.1]_t_min:10.0", "batch_mode": "truncate_episodes", "simple_optimizer": false, "sample_batch_size": 200, "collect_metrics_timeout": 180, "clip_rewards": null, "clip_actions": false, "kl_target": 0.01, "observation_filter": "NoFilter", "use_gae": true, "entropy_coeff": 0.0, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb79be0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb792b0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb79ba8>"}, "gamma": 0.99, "horizon": 1500, "num_gpus_per_worker": 0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "output_max_file_size": 67108864, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "num_gpus": 0, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}}, "timestamp": 1557234807, "episode_reward_max": 1007.5241051257224, "episodes_this_iter": 18, "time_total_s": 4418.879442214966, "time_since_restore": 4418.879442214966}
{"timesteps_since_restore": 7299286, "done": false, "node_ip": "10.138.0.2", "pid": 10867, "date": "2019-05-07_13-13-50", "episode_reward_min": 540.7820033862369, "timesteps_this_iter": 37851, "training_iteration": 191, "episode_reward_mean": 921.7913237307337, "experiment_id": "a183ec7aedea427d9bacd699bea0cf75", "policy_reward_mean": {}, "iterations_since_restore": 191, "custom_metrics": {"cost2_min": -49.101309093195454, "outflow_rate_max": 1147.4806233766233, "cost1_mean": 314.29110109758824, "cost2_mean": -33.01185940178626, "system_level_velocity_mean": 12.492753778457205, "cost1_max": 347.1837050766171, "cost1_min": 210.31329002299262, "cost2_max": -20.458127846352493, "outflow_rate_mean": 1012.1864243809272, "system_level_velocity_min": 11.07372838759789, "outflow_rate_min": 866.1158450746225, "system_level_velocity_max": 14.571124985024207}, "info": {"num_steps_trained": 7299286, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.01470377016812563, "total_loss": 24.1882381439209, "vf_loss": 24.192296981811523, "policy_loss": -0.007779306266456842, "cur_kl_coeff": 0.2531249523162842, "vf_explained_var": 0.6577799916267395, "entropy": 1.2743784189224243}, "num_steps_sampled": 7299286, "load_time_ms": 11.783, "update_time_ms": 6.996, "grad_time_ms": 9165.41, "sample_time_ms": 13566.216}, "episode_len_mean": 693.03, "time_this_iter_s": 22.69272208213806, "num_metric_batches_dropped": 0, "timesteps_total": 7299286, "episodes_total": 3566, "hostname": "flow-main", "config": {"custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "kl_coeff": 0.2, "train_batch_size": 30000, "log_level": "INFO", "num_workers": 20, "num_sgd_iter": 10, "lr": 0.0005, "monitor": false, "lr_schedule": null, "compress_observations": false, "input": "sampler", "straggler_mitigation": false, "input_evaluation": null, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "optimizer": {}, "vf_share_layers": false, "model": {"fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "fcnet_activation": "tanh", "dim": 84, "lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "channel_major": false, "conv_activation": "relu", "squash_to_range": false, "conv_filters": null, "zero_mean": true, "grayscale": false, "max_seq_len": 20, "free_log_std": false, "custom_preprocessor": null, "custom_options": {}, "use_lstm": false}, "clip_param": 0.3, "num_cpus_for_driver": 1, "synchronize_filters": true, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "output": null, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.3, 0.1]_t_min:10.0", "batch_mode": "truncate_episodes", "simple_optimizer": false, "sample_batch_size": 200, "collect_metrics_timeout": 180, "clip_rewards": null, "clip_actions": false, "kl_target": 0.01, "observation_filter": "NoFilter", "use_gae": true, "entropy_coeff": 0.0, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb69278>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb79128>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb69320>"}, "gamma": 0.99, "horizon": 1500, "num_gpus_per_worker": 0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "output_max_file_size": 67108864, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "num_gpus": 0, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}}, "timestamp": 1557234830, "episode_reward_max": 1018.2936779152196, "episodes_this_iter": 19, "time_total_s": 4441.572164297104, "time_since_restore": 4441.572164297104}
{"timesteps_since_restore": 7336582, "done": false, "node_ip": "10.138.0.2", "pid": 10867, "date": "2019-05-07_13-14-13", "episode_reward_min": 540.7820033862369, "timesteps_this_iter": 37296, "training_iteration": 192, "episode_reward_mean": 922.5415372524575, "experiment_id": "a183ec7aedea427d9bacd699bea0cf75", "policy_reward_mean": {}, "iterations_since_restore": 192, "custom_metrics": {"cost2_min": -49.101309093195454, "cost2_mean": -33.29333020315657, "cost1_mean": 316.6701602118704, "system_level_velocity_mean": 12.587356459670914, "cost1_max": 349.986135626174, "cost1_min": 210.31329002299262, "cost2_max": -20.458127846352493, "outflow_rate_max": 1170.3803584415584, "system_level_velocity_min": 11.091796383626114, "outflow_rate_min": 866.1158450746225, "system_level_velocity_max": 14.571124985024207, "outflow_rate_mean": 1020.4291058874209}, "info": {"num_steps_trained": 7336582, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.016183411702513695, "total_loss": 22.2498722076416, "vf_loss": 22.252193450927734, "policy_loss": -0.006416593678295612, "cur_kl_coeff": 0.2531249523162842, "vf_explained_var": 0.6497743129730225, "entropy": 1.2477866411209106}, "num_steps_sampled": 7336582, "load_time_ms": 11.866, "update_time_ms": 7.096, "grad_time_ms": 9229.635, "sample_time_ms": 13386.314}, "episode_len_mean": 693.03, "time_this_iter_s": 22.92607355117798, "num_metric_batches_dropped": 0, "timesteps_total": 7336582, "episodes_total": 3582, "hostname": "flow-main", "config": {"custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "kl_coeff": 0.2, "train_batch_size": 30000, "log_level": "INFO", "num_workers": 20, "num_sgd_iter": 10, "lr": 0.0005, "monitor": false, "lr_schedule": null, "compress_observations": false, "input": "sampler", "straggler_mitigation": false, "input_evaluation": null, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "optimizer": {}, "vf_share_layers": false, "model": {"fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "fcnet_activation": "tanh", "dim": 84, "lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "channel_major": false, "conv_activation": "relu", "squash_to_range": false, "conv_filters": null, "zero_mean": true, "grayscale": false, "max_seq_len": 20, "free_log_std": false, "custom_preprocessor": null, "custom_options": {}, "use_lstm": false}, "clip_param": 0.3, "num_cpus_for_driver": 1, "synchronize_filters": true, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "output": null, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.3, 0.1]_t_min:10.0", "batch_mode": "truncate_episodes", "simple_optimizer": false, "sample_batch_size": 200, "collect_metrics_timeout": 180, "clip_rewards": null, "clip_actions": false, "kl_target": 0.01, "observation_filter": "NoFilter", "use_gae": true, "entropy_coeff": 0.0, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb6ee80>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb6e0f0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb6e6a0>"}, "gamma": 0.99, "horizon": 1500, "num_gpus_per_worker": 0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "output_max_file_size": 67108864, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "num_gpus": 0, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}}, "timestamp": 1557234853, "episode_reward_max": 1018.2936779152196, "episodes_this_iter": 16, "time_total_s": 4464.498237848282, "time_since_restore": 4464.498237848282}
{"timesteps_since_restore": 7374418, "done": false, "node_ip": "10.138.0.2", "pid": 10867, "date": "2019-05-07_13-14-36", "episode_reward_min": 567.5874368247219, "timesteps_this_iter": 37836, "training_iteration": 193, "episode_reward_mean": 930.3312311086626, "experiment_id": "a183ec7aedea427d9bacd699bea0cf75", "policy_reward_mean": {}, "iterations_since_restore": 193, "custom_metrics": {"cost2_min": -49.35868951434796, "outflow_rate_max": 1170.3803584415584, "cost1_mean": 317.3631401661615, "cost2_mean": -33.68603760684137, "system_level_velocity_mean": 12.552092017905998, "cost1_max": 349.986135626174, "cost1_min": 210.31329002299262, "cost2_max": -20.458127846352493, "outflow_rate_mean": 1018.8338126845125, "system_level_velocity_min": 10.75345498062633, "outflow_rate_min": 866.1158450746225, "system_level_velocity_max": 14.401610738219622}, "info": {"num_steps_trained": 7374418, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.015122496522963047, "total_loss": 24.91201400756836, "vf_loss": 24.917631149291992, "policy_loss": -0.009445513598620892, "cur_kl_coeff": 0.2531249523162842, "vf_explained_var": 0.6833459734916687, "entropy": 1.2687042951583862}, "num_steps_sampled": 7374418, "load_time_ms": 11.978, "update_time_ms": 7.091, "grad_time_ms": 9364.862, "sample_time_ms": 13440.031}, "episode_len_mean": 695.91, "time_this_iter_s": 23.11938714981079, "num_metric_batches_dropped": 0, "timesteps_total": 7374418, "episodes_total": 3602, "hostname": "flow-main", "config": {"custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "kl_coeff": 0.2, "train_batch_size": 30000, "log_level": "INFO", "num_workers": 20, "num_sgd_iter": 10, "lr": 0.0005, "monitor": false, "lr_schedule": null, "compress_observations": false, "input": "sampler", "straggler_mitigation": false, "input_evaluation": null, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "optimizer": {}, "vf_share_layers": false, "model": {"fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "fcnet_activation": "tanh", "dim": 84, "lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "channel_major": false, "conv_activation": "relu", "squash_to_range": false, "conv_filters": null, "zero_mean": true, "grayscale": false, "max_seq_len": 20, "free_log_std": false, "custom_preprocessor": null, "custom_options": {}, "use_lstm": false}, "clip_param": 0.3, "num_cpus_for_driver": 1, "synchronize_filters": true, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "output": null, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.3, 0.1]_t_min:10.0", "batch_mode": "truncate_episodes", "simple_optimizer": false, "sample_batch_size": 200, "collect_metrics_timeout": 180, "clip_rewards": null, "clip_actions": false, "kl_target": 0.01, "observation_filter": "NoFilter", "use_gae": true, "entropy_coeff": 0.0, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb79860>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb79fd0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb79400>"}, "gamma": 0.99, "horizon": 1500, "num_gpus_per_worker": 0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "output_max_file_size": 67108864, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "num_gpus": 0, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}}, "timestamp": 1557234876, "episode_reward_max": 1018.2936779152196, "episodes_this_iter": 20, "time_total_s": 4487.617624998093, "time_since_restore": 4487.617624998093}
{"timesteps_since_restore": 7412431, "done": false, "node_ip": "10.138.0.2", "pid": 10867, "date": "2019-05-07_13-14-59", "episode_reward_min": 511.228081086764, "timesteps_this_iter": 38013, "training_iteration": 194, "episode_reward_mean": 931.5301387914302, "experiment_id": "a183ec7aedea427d9bacd699bea0cf75", "policy_reward_mean": {}, "iterations_since_restore": 194, "custom_metrics": {"cost2_min": -49.35868951434796, "outflow_rate_max": 1170.3803584415584, "cost1_mean": 317.4976552522767, "cost2_mean": -34.05255702671499, "system_level_velocity_mean": 12.558975553576055, "cost1_max": 349.986135626174, "cost1_min": 186.10516516328633, "cost2_max": -20.458127846352493, "outflow_rate_mean": 1017.7424955140887, "system_level_velocity_min": 10.75345498062633, "outflow_rate_min": 834.6919617984819, "system_level_velocity_max": 14.401610738219622}, "info": {"num_steps_trained": 7412431, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.015029558911919594, "total_loss": 22.71166229248047, "vf_loss": 22.71553611755371, "policy_loss": -0.007680680137127638, "cur_kl_coeff": 0.25312498211860657, "vf_explained_var": 0.650148332118988, "entropy": 1.2600347995758057}, "num_steps_sampled": 7412431, "load_time_ms": 12.294, "update_time_ms": 7.04, "grad_time_ms": 9377.178, "sample_time_ms": 13416.803}, "episode_len_mean": 695.0, "time_this_iter_s": 22.634509563446045, "num_metric_batches_dropped": 0, "timesteps_total": 7412431, "episodes_total": 3620, "hostname": "flow-main", "config": {"custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "kl_coeff": 0.2, "train_batch_size": 30000, "log_level": "INFO", "num_workers": 20, "num_sgd_iter": 10, "lr": 0.0005, "monitor": false, "lr_schedule": null, "compress_observations": false, "input": "sampler", "straggler_mitigation": false, "input_evaluation": null, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "optimizer": {}, "vf_share_layers": false, "model": {"fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "fcnet_activation": "tanh", "dim": 84, "lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "channel_major": false, "conv_activation": "relu", "squash_to_range": false, "conv_filters": null, "zero_mean": true, "grayscale": false, "max_seq_len": 20, "free_log_std": false, "custom_preprocessor": null, "custom_options": {}, "use_lstm": false}, "clip_param": 0.3, "num_cpus_for_driver": 1, "synchronize_filters": true, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "output": null, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.3, 0.1]_t_min:10.0", "batch_mode": "truncate_episodes", "simple_optimizer": false, "sample_batch_size": 200, "collect_metrics_timeout": 180, "clip_rewards": null, "clip_actions": false, "kl_target": 0.01, "observation_filter": "NoFilter", "use_gae": true, "entropy_coeff": 0.0, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb72518>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f946116fac8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f946116fe10>"}, "gamma": 0.99, "horizon": 1500, "num_gpus_per_worker": 0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "output_max_file_size": 67108864, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "num_gpus": 0, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}}, "timestamp": 1557234899, "episode_reward_max": 1018.2936779152196, "episodes_this_iter": 18, "time_total_s": 4510.252134561539, "time_since_restore": 4510.252134561539}
{"timesteps_since_restore": 7450392, "done": false, "node_ip": "10.138.0.2", "pid": 10867, "date": "2019-05-07_13-15-21", "episode_reward_min": 511.228081086764, "timesteps_this_iter": 37961, "training_iteration": 195, "episode_reward_mean": 937.2289464789892, "experiment_id": "a183ec7aedea427d9bacd699bea0cf75", "policy_reward_mean": {}, "iterations_since_restore": 195, "custom_metrics": {"cost2_min": -49.35868951434796, "outflow_rate_max": 1170.3803584415584, "cost1_mean": 318.29095638116326, "cost2_mean": -34.49635966410309, "system_level_velocity_mean": 12.551918613303009, "cost1_max": 349.986135626174, "cost1_min": 186.10516516328633, "cost2_max": -24.610385909048283, "outflow_rate_mean": 1015.7235252283745, "system_level_velocity_min": 10.75345498062633, "outflow_rate_min": 834.6919617984819, "system_level_velocity_max": 14.401610738219622}, "info": {"num_steps_trained": 7450392, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.014357705600559711, "total_loss": 23.394367218017578, "vf_loss": 23.39826202392578, "policy_loss": -0.007527932059019804, "cur_kl_coeff": 0.25312498211860657, "vf_explained_var": 0.6885062456130981, "entropy": 1.2877029180526733}, "num_steps_sampled": 7450392, "load_time_ms": 11.801, "update_time_ms": 6.995, "grad_time_ms": 9364.68, "sample_time_ms": 13409.781}, "episode_len_mean": 696.22, "time_this_iter_s": 22.397321939468384, "num_metric_batches_dropped": 0, "timesteps_total": 7450392, "episodes_total": 3639, "hostname": "flow-main", "config": {"custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "kl_coeff": 0.2, "train_batch_size": 30000, "log_level": "INFO", "num_workers": 20, "num_sgd_iter": 10, "lr": 0.0005, "monitor": false, "lr_schedule": null, "compress_observations": false, "input": "sampler", "straggler_mitigation": false, "input_evaluation": null, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "optimizer": {}, "vf_share_layers": false, "model": {"fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "fcnet_activation": "tanh", "dim": 84, "lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "channel_major": false, "conv_activation": "relu", "squash_to_range": false, "conv_filters": null, "zero_mean": true, "grayscale": false, "max_seq_len": 20, "free_log_std": false, "custom_preprocessor": null, "custom_options": {}, "use_lstm": false}, "clip_param": 0.3, "num_cpus_for_driver": 1, "synchronize_filters": true, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "output": null, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.3, 0.1]_t_min:10.0", "batch_mode": "truncate_episodes", "simple_optimizer": false, "sample_batch_size": 200, "collect_metrics_timeout": 180, "clip_rewards": null, "clip_actions": false, "kl_target": 0.01, "observation_filter": "NoFilter", "use_gae": true, "entropy_coeff": 0.0, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb6e7b8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb69630>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb69390>"}, "gamma": 0.99, "horizon": 1500, "num_gpus_per_worker": 0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "output_max_file_size": 67108864, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "num_gpus": 0, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}}, "timestamp": 1557234921, "episode_reward_max": 1027.9626296103813, "episodes_this_iter": 19, "time_total_s": 4532.649456501007, "time_since_restore": 4532.649456501007}
{"timesteps_since_restore": 7487788, "done": false, "node_ip": "10.138.0.2", "pid": 10867, "date": "2019-05-07_13-15-44", "episode_reward_min": 167.14709829423495, "timesteps_this_iter": 37396, "training_iteration": 196, "episode_reward_mean": 921.8406782984821, "experiment_id": "a183ec7aedea427d9bacd699bea0cf75", "policy_reward_mean": {}, "iterations_since_restore": 196, "custom_metrics": {"cost2_min": -49.35868951434796, "outflow_rate_max": 1170.3803584415584, "cost1_mean": 312.7775538159119, "cost2_mean": -34.25509867141008, "system_level_velocity_mean": 12.52413334134442, "cost1_max": 349.986135626174, "cost1_min": 76.84707017329991, "cost2_max": -25.476872711042354, "outflow_rate_mean": 999.4002533907241, "system_level_velocity_min": 10.75345498062633, "outflow_rate_min": 439.9488040891812, "system_level_velocity_max": 17.08508280023298}, "info": {"num_steps_trained": 7487788, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.01576186902821064, "total_loss": 25.524520874023438, "vf_loss": 25.52881622314453, "policy_loss": -0.00828493945300579, "cur_kl_coeff": 0.25312498211860657, "vf_explained_var": 0.70291668176651, "entropy": 1.2928481101989746}, "num_steps_sampled": 7487788, "load_time_ms": 11.848, "update_time_ms": 6.777, "grad_time_ms": 9253.218, "sample_time_ms": 13379.481}, "episode_len_mean": 685.88, "time_this_iter_s": 22.433240175247192, "num_metric_batches_dropped": 0, "timesteps_total": 7487788, "episodes_total": 3657, "hostname": "flow-main", "config": {"custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "kl_coeff": 0.2, "train_batch_size": 30000, "log_level": "INFO", "num_workers": 20, "num_sgd_iter": 10, "lr": 0.0005, "monitor": false, "lr_schedule": null, "compress_observations": false, "input": "sampler", "straggler_mitigation": false, "input_evaluation": null, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "optimizer": {}, "vf_share_layers": false, "model": {"fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "fcnet_activation": "tanh", "dim": 84, "lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "channel_major": false, "conv_activation": "relu", "squash_to_range": false, "conv_filters": null, "zero_mean": true, "grayscale": false, "max_seq_len": 20, "free_log_std": false, "custom_preprocessor": null, "custom_options": {}, "use_lstm": false}, "clip_param": 0.3, "num_cpus_for_driver": 1, "synchronize_filters": true, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "output": null, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.3, 0.1]_t_min:10.0", "batch_mode": "truncate_episodes", "simple_optimizer": false, "sample_batch_size": 200, "collect_metrics_timeout": 180, "clip_rewards": null, "clip_actions": false, "kl_target": 0.01, "observation_filter": "NoFilter", "use_gae": true, "entropy_coeff": 0.0, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f946116f400>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb79b38>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb79fd0>"}, "gamma": 0.99, "horizon": 1500, "num_gpus_per_worker": 0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "output_max_file_size": 67108864, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "num_gpus": 0, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}}, "timestamp": 1557234944, "episode_reward_max": 1027.9626296103813, "episodes_this_iter": 18, "time_total_s": 4555.082696676254, "time_since_restore": 4555.082696676254}
{"timesteps_since_restore": 7525561, "done": false, "node_ip": "10.138.0.2", "pid": 10867, "date": "2019-05-07_13-16-08", "episode_reward_min": 167.14709829423495, "timesteps_this_iter": 37773, "training_iteration": 197, "episode_reward_mean": 918.7736184773482, "experiment_id": "a183ec7aedea427d9bacd699bea0cf75", "policy_reward_mean": {}, "iterations_since_restore": 197, "custom_metrics": {"cost2_min": -49.35868951434796, "outflow_rate_max": 1152.7603012987013, "cost1_mean": 311.5504256648675, "cost2_mean": -33.72590602324956, "system_level_velocity_mean": 12.472570076596929, "cost1_max": 343.5774711787399, "cost1_min": 76.84707017329991, "cost2_max": -25.476872711042354, "outflow_rate_mean": 995.2817455985164, "system_level_velocity_min": 10.491000757242269, "outflow_rate_min": 439.9488040891812, "system_level_velocity_max": 17.08508280023298}, "info": {"num_steps_trained": 7525561, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.014817092567682266, "total_loss": 23.219141006469727, "vf_loss": 23.223344802856445, "policy_loss": -0.00795197393745184, "cur_kl_coeff": 0.2531249523162842, "vf_explained_var": 0.6982926726341248, "entropy": 1.3047958612442017}, "num_steps_sampled": 7525561, "load_time_ms": 11.985, "update_time_ms": 6.789, "grad_time_ms": 9230.433, "sample_time_ms": 13513.362}, "episode_len_mean": 685.88, "time_this_iter_s": 24.143025159835815, "num_metric_batches_dropped": 0, "timesteps_total": 7525561, "episodes_total": 3675, "hostname": "flow-main", "config": {"custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "kl_coeff": 0.2, "train_batch_size": 30000, "log_level": "INFO", "num_workers": 20, "num_sgd_iter": 10, "lr": 0.0005, "monitor": false, "lr_schedule": null, "compress_observations": false, "input": "sampler", "straggler_mitigation": false, "input_evaluation": null, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "optimizer": {}, "vf_share_layers": false, "model": {"fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "fcnet_activation": "tanh", "dim": 84, "lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "channel_major": false, "conv_activation": "relu", "squash_to_range": false, "conv_filters": null, "zero_mean": true, "grayscale": false, "max_seq_len": 20, "free_log_std": false, "custom_preprocessor": null, "custom_options": {}, "use_lstm": false}, "clip_param": 0.3, "num_cpus_for_driver": 1, "synchronize_filters": true, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "output": null, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.3, 0.1]_t_min:10.0", "batch_mode": "truncate_episodes", "simple_optimizer": false, "sample_batch_size": 200, "collect_metrics_timeout": 180, "clip_rewards": null, "clip_actions": false, "kl_target": 0.01, "observation_filter": "NoFilter", "use_gae": true, "entropy_coeff": 0.0, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb72d68>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb69cf8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb727f0>"}, "gamma": 0.99, "horizon": 1500, "num_gpus_per_worker": 0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "output_max_file_size": 67108864, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "num_gpus": 0, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}}, "timestamp": 1557234968, "episode_reward_max": 1027.9626296103813, "episodes_this_iter": 18, "time_total_s": 4579.22572183609, "time_since_restore": 4579.22572183609}
{"timesteps_since_restore": 7563290, "done": false, "node_ip": "10.138.0.2", "pid": 10867, "date": "2019-05-07_13-16-30", "episode_reward_min": 151.40468167254966, "timesteps_this_iter": 37729, "training_iteration": 198, "episode_reward_mean": 906.007995903977, "experiment_id": "a183ec7aedea427d9bacd699bea0cf75", "policy_reward_mean": {}, "iterations_since_restore": 198, "custom_metrics": {"cost2_min": -49.88801590016017, "outflow_rate_max": 1152.7603012987013, "cost1_mean": 305.2668149129224, "cost2_mean": -33.594589740861906, "system_level_velocity_mean": 12.416934605103524, "cost1_max": 344.4829416611896, "cost1_min": 63.7245241655241, "cost2_max": -24.39415959463224, "outflow_rate_mean": 982.9151814223501, "system_level_velocity_min": 10.491000757242269, "outflow_rate_min": 388.5542267657569, "system_level_velocity_max": 17.08508280023298}, "info": {"num_steps_trained": 7563290, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.013587319292128086, "total_loss": 25.77733039855957, "vf_loss": 25.782588958740234, "policy_loss": -0.008699597790837288, "cur_kl_coeff": 0.2531249523162842, "vf_explained_var": 0.6763572692871094, "entropy": 1.3189539909362793}, "num_steps_sampled": 7563290, "load_time_ms": 12.137, "update_time_ms": 6.925, "grad_time_ms": 9241.142, "sample_time_ms": 13521.545}, "episode_len_mean": 675.76, "time_this_iter_s": 22.619189739227295, "num_metric_batches_dropped": 0, "timesteps_total": 7563290, "episodes_total": 3696, "hostname": "flow-main", "config": {"custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "kl_coeff": 0.2, "train_batch_size": 30000, "log_level": "INFO", "num_workers": 20, "num_sgd_iter": 10, "lr": 0.0005, "monitor": false, "lr_schedule": null, "compress_observations": false, "input": "sampler", "straggler_mitigation": false, "input_evaluation": null, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "optimizer": {}, "vf_share_layers": false, "model": {"fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "fcnet_activation": "tanh", "dim": 84, "lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "channel_major": false, "conv_activation": "relu", "squash_to_range": false, "conv_filters": null, "zero_mean": true, "grayscale": false, "max_seq_len": 20, "free_log_std": false, "custom_preprocessor": null, "custom_options": {}, "use_lstm": false}, "clip_param": 0.3, "num_cpus_for_driver": 1, "synchronize_filters": true, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "output": null, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.3, 0.1]_t_min:10.0", "batch_mode": "truncate_episodes", "simple_optimizer": false, "sample_batch_size": 200, "collect_metrics_timeout": 180, "clip_rewards": null, "clip_actions": false, "kl_target": 0.01, "observation_filter": "NoFilter", "use_gae": true, "entropy_coeff": 0.0, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb6e940>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb6e128>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb6ed30>"}, "gamma": 0.99, "horizon": 1500, "num_gpus_per_worker": 0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "output_max_file_size": 67108864, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "num_gpus": 0, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}}, "timestamp": 1557234990, "episode_reward_max": 1027.9626296103813, "episodes_this_iter": 21, "time_total_s": 4601.844911575317, "time_since_restore": 4601.844911575317}
{"timesteps_since_restore": 7601147, "done": false, "node_ip": "10.138.0.2", "pid": 10867, "date": "2019-05-07_13-16-53", "episode_reward_min": 151.40468167254966, "timesteps_this_iter": 37857, "training_iteration": 199, "episode_reward_mean": 882.7929118956279, "experiment_id": "a183ec7aedea427d9bacd699bea0cf75", "policy_reward_mean": {}, "iterations_since_restore": 199, "custom_metrics": {"cost2_min": -49.88801590016017, "cost2_mean": -32.888214840146595, "cost1_mean": 296.8846684749574, "system_level_velocity_mean": 12.461551348411858, "cost1_max": 344.4829416611896, "cost1_min": 63.7245241655241, "cost2_max": -15.900839767580646, "outflow_rate_max": 1152.7603012987013, "system_level_velocity_min": 10.491000757242269, "outflow_rate_min": 388.5542267657569, "system_level_velocity_max": 17.08508280023298, "outflow_rate_mean": 964.1730633498696}, "info": {"num_steps_trained": 7601147, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.016612214967608452, "total_loss": 24.757946014404297, "vf_loss": 24.762611389160156, "policy_loss": -0.008869621902704239, "cur_kl_coeff": 0.2531249523162842, "vf_explained_var": 0.6688627004623413, "entropy": 1.3125239610671997}, "num_steps_sampled": 7601147, "load_time_ms": 12.258, "update_time_ms": 6.943, "grad_time_ms": 9272.5, "sample_time_ms": 13459.927}, "episode_len_mean": 658.94, "time_this_iter_s": 22.712559700012207, "num_metric_batches_dropped": 0, "timesteps_total": 7601147, "episodes_total": 3715, "hostname": "flow-main", "config": {"custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "kl_coeff": 0.2, "train_batch_size": 30000, "log_level": "INFO", "num_workers": 20, "num_sgd_iter": 10, "lr": 0.0005, "monitor": false, "lr_schedule": null, "compress_observations": false, "input": "sampler", "straggler_mitigation": false, "input_evaluation": null, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "optimizer": {}, "vf_share_layers": false, "model": {"fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "fcnet_activation": "tanh", "dim": 84, "lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "channel_major": false, "conv_activation": "relu", "squash_to_range": false, "conv_filters": null, "zero_mean": true, "grayscale": false, "max_seq_len": 20, "free_log_std": false, "custom_preprocessor": null, "custom_options": {}, "use_lstm": false}, "clip_param": 0.3, "num_cpus_for_driver": 1, "synchronize_filters": true, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "output": null, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.3, 0.1]_t_min:10.0", "batch_mode": "truncate_episodes", "simple_optimizer": false, "sample_batch_size": 200, "collect_metrics_timeout": 180, "clip_rewards": null, "clip_actions": false, "kl_target": 0.01, "observation_filter": "NoFilter", "use_gae": true, "entropy_coeff": 0.0, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb79cc0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb79208>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb79400>"}, "gamma": 0.99, "horizon": 1500, "num_gpus_per_worker": 0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "output_max_file_size": 67108864, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "num_gpus": 0, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}}, "timestamp": 1557235013, "episode_reward_max": 1027.9626296103813, "episodes_this_iter": 19, "time_total_s": 4624.55747127533, "time_since_restore": 4624.55747127533}
{"timesteps_since_restore": 7638898, "done": false, "node_ip": "10.138.0.2", "pid": 10867, "date": "2019-05-07_13-17-17", "episode_reward_min": 151.40468167254966, "timesteps_this_iter": 37751, "training_iteration": 200, "episode_reward_mean": 871.4100815617961, "experiment_id": "a183ec7aedea427d9bacd699bea0cf75", "policy_reward_mean": {}, "iterations_since_restore": 200, "custom_metrics": {"cost2_min": -49.88801590016017, "outflow_rate_max": 1152.7603012987013, "cost1_mean": 293.4515237338276, "cost2_mean": -32.486312810782906, "system_level_velocity_mean": 12.487114461263078, "cost1_max": 344.4829416611896, "cost1_min": 63.7245241655241, "cost2_max": -15.900839767580646, "outflow_rate_mean": 959.5808749668244, "system_level_velocity_min": 10.491000757242269, "outflow_rate_min": 388.5542267657569, "system_level_velocity_max": 17.08508280023298}, "info": {"num_steps_trained": 7638898, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.016098324209451675, "total_loss": 26.791006088256836, "vf_loss": 26.796689987182617, "policy_loss": -0.00976184755563736, "cur_kl_coeff": 0.2531249523162842, "vf_explained_var": 0.6659886837005615, "entropy": 1.3344244956970215}, "num_steps_sampled": 7638898, "load_time_ms": 12.205, "update_time_ms": 7.107, "grad_time_ms": 9280.719, "sample_time_ms": 13605.012}, "episode_len_mean": 651.29, "time_this_iter_s": 24.126988410949707, "num_metric_batches_dropped": 0, "timesteps_total": 7638898, "episodes_total": 3736, "hostname": "flow-main", "config": {"custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "kl_coeff": 0.2, "train_batch_size": 30000, "log_level": "INFO", "num_workers": 20, "num_sgd_iter": 10, "lr": 0.0005, "monitor": false, "lr_schedule": null, "compress_observations": false, "input": "sampler", "straggler_mitigation": false, "input_evaluation": null, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "optimizer": {}, "vf_share_layers": false, "model": {"fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "fcnet_activation": "tanh", "dim": 84, "lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "channel_major": false, "conv_activation": "relu", "squash_to_range": false, "conv_filters": null, "zero_mean": true, "grayscale": false, "max_seq_len": 20, "free_log_std": false, "custom_preprocessor": null, "custom_options": {}, "use_lstm": false}, "clip_param": 0.3, "num_cpus_for_driver": 1, "synchronize_filters": true, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "output": null, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.3, 0.1]_t_min:10.0", "batch_mode": "truncate_episodes", "simple_optimizer": false, "sample_batch_size": 200, "collect_metrics_timeout": 180, "clip_rewards": null, "clip_actions": false, "kl_target": 0.01, "observation_filter": "NoFilter", "use_gae": true, "entropy_coeff": 0.0, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb72550>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb72828>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb72d68>"}, "gamma": 0.99, "horizon": 1500, "num_gpus_per_worker": 0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "output_max_file_size": 67108864, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "num_gpus": 0, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}}, "timestamp": 1557235037, "episode_reward_max": 1025.401752718478, "episodes_this_iter": 21, "time_total_s": 4648.684459686279, "time_since_restore": 4648.684459686279}
{"timesteps_since_restore": 7677146, "done": false, "node_ip": "10.138.0.2", "pid": 10867, "date": "2019-05-07_13-17-40", "episode_reward_min": 151.40468167254966, "timesteps_this_iter": 38248, "training_iteration": 201, "episode_reward_mean": 886.9438841992333, "experiment_id": "a183ec7aedea427d9bacd699bea0cf75", "policy_reward_mean": {}, "iterations_since_restore": 201, "custom_metrics": {"cost2_min": -49.88801590016017, "outflow_rate_max": 1151.8577246753248, "cost1_mean": 297.55644737789237, "cost2_mean": -32.717002027697305, "system_level_velocity_mean": 12.421924828839604, "cost1_max": 350.8016581673006, "cost1_min": 63.7245241655241, "cost2_max": -15.900839767580646, "outflow_rate_mean": 969.5854628564229, "system_level_velocity_min": 10.440044568332757, "outflow_rate_min": 388.5542267657569, "system_level_velocity_max": 16.524445268310842}, "info": {"num_steps_trained": 7677146, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.014697105623781681, "total_loss": 19.328943252563477, "vf_loss": 19.333696365356445, "policy_loss": -0.008472763001918793, "cur_kl_coeff": 0.25312498211860657, "vf_explained_var": 0.7761808633804321, "entropy": 1.356876015663147}, "num_steps_sampled": 7677146, "load_time_ms": 12.352, "update_time_ms": 7.124, "grad_time_ms": 9264.198, "sample_time_ms": 13596.226}, "episode_len_mean": 661.71, "time_this_iter_s": 22.441787004470825, "num_metric_batches_dropped": 0, "timesteps_total": 7677146, "episodes_total": 3753, "hostname": "flow-main", "config": {"custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "kl_coeff": 0.2, "train_batch_size": 30000, "log_level": "INFO", "num_workers": 20, "num_sgd_iter": 10, "lr": 0.0005, "monitor": false, "lr_schedule": null, "compress_observations": false, "input": "sampler", "straggler_mitigation": false, "input_evaluation": null, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "optimizer": {}, "vf_share_layers": false, "model": {"fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "fcnet_activation": "tanh", "dim": 84, "lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "channel_major": false, "conv_activation": "relu", "squash_to_range": false, "conv_filters": null, "zero_mean": true, "grayscale": false, "max_seq_len": 20, "free_log_std": false, "custom_preprocessor": null, "custom_options": {}, "use_lstm": false}, "clip_param": 0.3, "num_cpus_for_driver": 1, "synchronize_filters": true, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "output": null, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.3, 0.1]_t_min:10.0", "batch_mode": "truncate_episodes", "simple_optimizer": false, "sample_batch_size": 200, "collect_metrics_timeout": 180, "clip_rewards": null, "clip_actions": false, "kl_target": 0.01, "observation_filter": "NoFilter", "use_gae": true, "entropy_coeff": 0.0, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb6e8d0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb79198>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb72cc0>"}, "gamma": 0.99, "horizon": 1500, "num_gpus_per_worker": 0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "output_max_file_size": 67108864, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "num_gpus": 0, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}}, "timestamp": 1557235060, "episode_reward_max": 1025.401752718478, "episodes_this_iter": 17, "time_total_s": 4671.12624669075, "time_since_restore": 4671.12624669075}
{"timesteps_since_restore": 7715641, "done": false, "node_ip": "10.138.0.2", "pid": 10867, "date": "2019-05-07_13-18-03", "episode_reward_min": 151.40468167254966, "timesteps_this_iter": 38495, "training_iteration": 202, "episode_reward_mean": 886.6196930119605, "experiment_id": "a183ec7aedea427d9bacd699bea0cf75", "policy_reward_mean": {}, "iterations_since_restore": 202, "custom_metrics": {"cost2_min": -49.88801590016017, "outflow_rate_max": 1151.8577246753248, "cost1_mean": 296.4137398121808, "cost2_mean": -32.64864602248911, "system_level_velocity_mean": 12.374384688912672, "cost1_max": 350.8016581673006, "cost1_min": 63.7245241655241, "cost2_max": -15.900839767580646, "outflow_rate_mean": 965.7576285187605, "system_level_velocity_min": 10.440044568332757, "outflow_rate_min": 388.5542267657569, "system_level_velocity_max": 16.524445268310842}, "info": {"num_steps_trained": 7715641, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.014347197487950325, "total_loss": 22.237180709838867, "vf_loss": 22.242677688598633, "policy_loss": -0.009128289297223091, "cur_kl_coeff": 0.25312498211860657, "vf_explained_var": 0.739188551902771, "entropy": 1.3639733791351318}, "num_steps_sampled": 7715641, "load_time_ms": 12.68, "update_time_ms": 7.047, "grad_time_ms": 9223.74, "sample_time_ms": 13651.471}, "episode_len_mean": 661.71, "time_this_iter_s": 23.063809871673584, "num_metric_batches_dropped": 0, "timesteps_total": 7715641, "episodes_total": 3770, "hostname": "flow-main", "config": {"custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "kl_coeff": 0.2, "train_batch_size": 30000, "log_level": "INFO", "num_workers": 20, "num_sgd_iter": 10, "lr": 0.0005, "monitor": false, "lr_schedule": null, "compress_observations": false, "input": "sampler", "straggler_mitigation": false, "input_evaluation": null, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "optimizer": {}, "vf_share_layers": false, "model": {"fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "fcnet_activation": "tanh", "dim": 84, "lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "channel_major": false, "conv_activation": "relu", "squash_to_range": false, "conv_filters": null, "zero_mean": true, "grayscale": false, "max_seq_len": 20, "free_log_std": false, "custom_preprocessor": null, "custom_options": {}, "use_lstm": false}, "clip_param": 0.3, "num_cpus_for_driver": 1, "synchronize_filters": true, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "output": null, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.3, 0.1]_t_min:10.0", "batch_mode": "truncate_episodes", "simple_optimizer": false, "sample_batch_size": 200, "collect_metrics_timeout": 180, "clip_rewards": null, "clip_actions": false, "kl_target": 0.01, "observation_filter": "NoFilter", "use_gae": true, "entropy_coeff": 0.0, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb4fb70>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb72b38>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb4f748>"}, "gamma": 0.99, "horizon": 1500, "num_gpus_per_worker": 0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "output_max_file_size": 67108864, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "num_gpus": 0, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}}, "timestamp": 1557235083, "episode_reward_max": 1025.401752718478, "episodes_this_iter": 17, "time_total_s": 4694.190056562424, "time_since_restore": 4694.190056562424}
{"timesteps_since_restore": 7753755, "done": false, "node_ip": "10.138.0.2", "pid": 10867, "date": "2019-05-07_13-18-26", "episode_reward_min": 151.92480696029062, "timesteps_this_iter": 38114, "training_iteration": 203, "episode_reward_mean": 894.8895011836853, "experiment_id": "a183ec7aedea427d9bacd699bea0cf75", "policy_reward_mean": {}, "iterations_since_restore": 203, "custom_metrics": {"cost2_min": -52.17135875974472, "outflow_rate_max": 1151.8577246753248, "cost1_mean": 298.22247128513317, "cost2_mean": -32.75082785622469, "system_level_velocity_mean": 12.327387260020528, "cost1_max": 350.8016581673006, "cost1_min": 70.32098635052583, "cost2_max": -15.900839767580646, "outflow_rate_mean": 967.3175706206551, "system_level_velocity_min": 10.440044568332757, "outflow_rate_min": 442.49375728914185, "system_level_velocity_max": 16.524445268310842}, "info": {"num_steps_trained": 7753755, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.014329733327031136, "total_loss": 23.270954132080078, "vf_loss": 23.27467155456543, "policy_loss": -0.00734410947188735, "cur_kl_coeff": 0.25312498211860657, "vf_explained_var": 0.7013777494430542, "entropy": 1.3535945415496826}, "num_steps_sampled": 7753755, "load_time_ms": 13.08, "update_time_ms": 6.892, "grad_time_ms": 9234.498, "sample_time_ms": 13647.88}, "episode_len_mean": 667.86, "time_this_iter_s": 23.193459033966064, "num_metric_batches_dropped": 0, "timesteps_total": 7753755, "episodes_total": 3789, "hostname": "flow-main", "config": {"custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "kl_coeff": 0.2, "train_batch_size": 30000, "log_level": "INFO", "num_workers": 20, "num_sgd_iter": 10, "lr": 0.0005, "monitor": false, "lr_schedule": null, "compress_observations": false, "input": "sampler", "straggler_mitigation": false, "input_evaluation": null, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "optimizer": {}, "vf_share_layers": false, "model": {"fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "fcnet_activation": "tanh", "dim": 84, "lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "channel_major": false, "conv_activation": "relu", "squash_to_range": false, "conv_filters": null, "zero_mean": true, "grayscale": false, "max_seq_len": 20, "free_log_std": false, "custom_preprocessor": null, "custom_options": {}, "use_lstm": false}, "clip_param": 0.3, "num_cpus_for_driver": 1, "synchronize_filters": true, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "output": null, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.3, 0.1]_t_min:10.0", "batch_mode": "truncate_episodes", "simple_optimizer": false, "sample_batch_size": 200, "collect_metrics_timeout": 180, "clip_rewards": null, "clip_actions": false, "kl_target": 0.01, "observation_filter": "NoFilter", "use_gae": true, "entropy_coeff": 0.0, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb69d30>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb698d0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb696a0>"}, "gamma": 0.99, "horizon": 1500, "num_gpus_per_worker": 0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "output_max_file_size": 67108864, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "num_gpus": 0, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}}, "timestamp": 1557235106, "episode_reward_max": 1025.401752718478, "episodes_this_iter": 19, "time_total_s": 4717.38351559639, "time_since_restore": 4717.38351559639}
{"timesteps_since_restore": 7791856, "done": false, "node_ip": "10.138.0.2", "pid": 10867, "date": "2019-05-07_13-18-48", "episode_reward_min": 151.92480696029062, "timesteps_this_iter": 38101, "training_iteration": 204, "episode_reward_mean": 902.3783279640897, "experiment_id": "a183ec7aedea427d9bacd699bea0cf75", "policy_reward_mean": {}, "iterations_since_restore": 204, "custom_metrics": {"cost2_min": -52.17135875974472, "outflow_rate_max": 1151.8577246753248, "cost1_mean": 301.11362084269894, "cost2_mean": -32.78966823162018, "system_level_velocity_mean": 12.266234886227307, "cost1_max": 350.8016581673006, "cost1_min": 70.32098635052583, "cost2_max": -18.606378159472147, "outflow_rate_mean": 971.5285919460489, "system_level_velocity_min": 10.440044568332757, "outflow_rate_min": 442.49375728914185, "system_level_velocity_max": 16.524445268310842}, "info": {"num_steps_trained": 7791856, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.014751135371625423, "total_loss": 23.76946258544922, "vf_loss": 23.775943756103516, "policy_loss": -0.010212535038590431, "cur_kl_coeff": 0.25312498211860657, "vf_explained_var": 0.7324406504631042, "entropy": 1.3362451791763306}, "num_steps_sampled": 7791856, "load_time_ms": 12.443, "update_time_ms": 6.896, "grad_time_ms": 9233.351, "sample_time_ms": 13626.797}, "episode_len_mean": 675.56, "time_this_iter_s": 22.40293860435486, "num_metric_batches_dropped": 0, "timesteps_total": 7791856, "episodes_total": 3807, "hostname": "flow-main", "config": {"custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "kl_coeff": 0.2, "train_batch_size": 30000, "log_level": "INFO", "num_workers": 20, "num_sgd_iter": 10, "lr": 0.0005, "monitor": false, "lr_schedule": null, "compress_observations": false, "input": "sampler", "straggler_mitigation": false, "input_evaluation": null, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "optimizer": {}, "vf_share_layers": false, "model": {"fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "fcnet_activation": "tanh", "dim": 84, "lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "channel_major": false, "conv_activation": "relu", "squash_to_range": false, "conv_filters": null, "zero_mean": true, "grayscale": false, "max_seq_len": 20, "free_log_std": false, "custom_preprocessor": null, "custom_options": {}, "use_lstm": false}, "clip_param": 0.3, "num_cpus_for_driver": 1, "synchronize_filters": true, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "output": null, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.3, 0.1]_t_min:10.0", "batch_mode": "truncate_episodes", "simple_optimizer": false, "sample_batch_size": 200, "collect_metrics_timeout": 180, "clip_rewards": null, "clip_actions": false, "kl_target": 0.01, "observation_filter": "NoFilter", "use_gae": true, "entropy_coeff": 0.0, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb6e748>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb6e7b8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb6eb70>"}, "gamma": 0.99, "horizon": 1500, "num_gpus_per_worker": 0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "output_max_file_size": 67108864, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "num_gpus": 0, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}}, "timestamp": 1557235128, "episode_reward_max": 1019.5343989781654, "episodes_this_iter": 18, "time_total_s": 4739.786454200745, "time_since_restore": 4739.786454200745}
{"timesteps_since_restore": 7829490, "done": false, "node_ip": "10.138.0.2", "pid": 10867, "date": "2019-05-07_13-19-11", "episode_reward_min": 309.18968772540654, "timesteps_this_iter": 37634, "training_iteration": 205, "episode_reward_mean": 910.4698933889365, "experiment_id": "a183ec7aedea427d9bacd699bea0cf75", "policy_reward_mean": {}, "iterations_since_restore": 205, "custom_metrics": {"cost2_min": -52.17135875974472, "outflow_rate_max": 1151.8577246753248, "cost1_mean": 301.37553986243336, "cost2_mean": -32.87482217481633, "system_level_velocity_mean": 12.126204958033304, "cost1_max": 350.8016581673006, "cost1_min": 113.50076597547695, "cost2_max": -18.606378159472147, "outflow_rate_mean": 974.322648042606, "system_level_velocity_min": 10.440044568332757, "outflow_rate_min": 647.4503385961627, "system_level_velocity_max": 14.664391194366926}, "info": {"num_steps_trained": 7829490, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.014675378799438477, "total_loss": 22.0728759765625, "vf_loss": 22.077241897583008, "policy_loss": -0.008079197257757187, "cur_kl_coeff": 0.2531249523162842, "vf_explained_var": 0.731692373752594, "entropy": 1.351892113685608}, "num_steps_sampled": 7829490, "load_time_ms": 13.036, "update_time_ms": 6.869, "grad_time_ms": 9258.267, "sample_time_ms": 13616.446}, "episode_len_mean": 681.31, "time_this_iter_s": 22.554133653640747, "num_metric_batches_dropped": 0, "timesteps_total": 7829490, "episodes_total": 3826, "hostname": "flow-main", "config": {"custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "kl_coeff": 0.2, "train_batch_size": 30000, "log_level": "INFO", "num_workers": 20, "num_sgd_iter": 10, "lr": 0.0005, "monitor": false, "lr_schedule": null, "compress_observations": false, "input": "sampler", "straggler_mitigation": false, "input_evaluation": null, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "optimizer": {}, "vf_share_layers": false, "model": {"fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "fcnet_activation": "tanh", "dim": 84, "lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "channel_major": false, "conv_activation": "relu", "squash_to_range": false, "conv_filters": null, "zero_mean": true, "grayscale": false, "max_seq_len": 20, "free_log_std": false, "custom_preprocessor": null, "custom_options": {}, "use_lstm": false}, "clip_param": 0.3, "num_cpus_for_driver": 1, "synchronize_filters": true, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "output": null, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.3, 0.1]_t_min:10.0", "batch_mode": "truncate_episodes", "simple_optimizer": false, "sample_batch_size": 200, "collect_metrics_timeout": 180, "clip_rewards": null, "clip_actions": false, "kl_target": 0.01, "observation_filter": "NoFilter", "use_gae": true, "entropy_coeff": 0.0, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb72278>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb725f8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb72588>"}, "gamma": 0.99, "horizon": 1500, "num_gpus_per_worker": 0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "output_max_file_size": 67108864, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "num_gpus": 0, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}}, "timestamp": 1557235151, "episode_reward_max": 1019.5343989781654, "episodes_this_iter": 19, "time_total_s": 4762.340587854385, "time_since_restore": 4762.340587854385}
{"timesteps_since_restore": 7866948, "done": false, "node_ip": "10.138.0.2", "pid": 10867, "date": "2019-05-07_13-19-34", "episode_reward_min": 309.18968772540654, "timesteps_this_iter": 37458, "training_iteration": 206, "episode_reward_mean": 913.645078858552, "experiment_id": "a183ec7aedea427d9bacd699bea0cf75", "policy_reward_mean": {}, "iterations_since_restore": 206, "custom_metrics": {"cost2_min": -52.17135875974472, "cost2_mean": -32.76244110754735, "cost1_mean": 303.590713637046, "system_level_velocity_mean": 12.077598502942362, "cost1_max": 342.00646279549676, "cost1_min": 113.50076597547695, "cost2_max": -18.606378159472147, "outflow_rate_max": 1131.15734025974, "system_level_velocity_min": 10.480697641494572, "outflow_rate_min": 647.4503385961627, "system_level_velocity_max": 14.114191620241018, "outflow_rate_mean": 974.3933946594171}, "info": {"num_steps_trained": 7866948, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.014585454016923904, "total_loss": 21.542871475219727, "vf_loss": 21.547273635864258, "policy_loss": -0.008093677461147308, "cur_kl_coeff": 0.25312498211860657, "vf_explained_var": 0.739784300327301, "entropy": 1.337100625038147}, "num_steps_sampled": 7866948, "load_time_ms": 13.181, "update_time_ms": 6.938, "grad_time_ms": 9269.009, "sample_time_ms": 13642.855}, "episode_len_mean": 688.56, "time_this_iter_s": 22.810556650161743, "num_metric_batches_dropped": 0, "timesteps_total": 7866948, "episodes_total": 3844, "hostname": "flow-main", "config": {"custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "kl_coeff": 0.2, "train_batch_size": 30000, "log_level": "INFO", "num_workers": 20, "num_sgd_iter": 10, "lr": 0.0005, "monitor": false, "lr_schedule": null, "compress_observations": false, "input": "sampler", "straggler_mitigation": false, "input_evaluation": null, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "optimizer": {}, "vf_share_layers": false, "model": {"fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "fcnet_activation": "tanh", "dim": 84, "lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "channel_major": false, "conv_activation": "relu", "squash_to_range": false, "conv_filters": null, "zero_mean": true, "grayscale": false, "max_seq_len": 20, "free_log_std": false, "custom_preprocessor": null, "custom_options": {}, "use_lstm": false}, "clip_param": 0.3, "num_cpus_for_driver": 1, "synchronize_filters": true, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "output": null, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.3, 0.1]_t_min:10.0", "batch_mode": "truncate_episodes", "simple_optimizer": false, "sample_batch_size": 200, "collect_metrics_timeout": 180, "clip_rewards": null, "clip_actions": false, "kl_target": 0.01, "observation_filter": "NoFilter", "use_gae": true, "entropy_coeff": 0.0, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb4fb70>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb79518>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb79b38>"}, "gamma": 0.99, "horizon": 1500, "num_gpus_per_worker": 0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "output_max_file_size": 67108864, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "num_gpus": 0, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}}, "timestamp": 1557235174, "episode_reward_max": 1019.5343989781654, "episodes_this_iter": 18, "time_total_s": 4785.151144504547, "time_since_restore": 4785.151144504547}
{"timesteps_since_restore": 7904901, "done": false, "node_ip": "10.138.0.2", "pid": 10867, "date": "2019-05-07_13-19-57", "episode_reward_min": 309.18968772540654, "timesteps_this_iter": 37953, "training_iteration": 207, "episode_reward_mean": 915.6481725477839, "experiment_id": "a183ec7aedea427d9bacd699bea0cf75", "policy_reward_mean": {}, "iterations_since_restore": 207, "custom_metrics": {"cost2_min": -52.17135875974472, "outflow_rate_max": 1131.15734025974, "cost1_mean": 305.41021187146526, "cost2_mean": -32.20042244195235, "system_level_velocity_mean": 12.154339102947645, "cost1_max": 340.0471190628492, "cost1_min": 113.50076597547695, "cost2_max": -18.606378159472147, "outflow_rate_mean": 979.5682094126638, "system_level_velocity_min": 10.480697641494572, "outflow_rate_min": 647.4503385961627, "system_level_velocity_max": 14.114191620241018}, "info": {"num_steps_trained": 7904901, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.015823036432266235, "total_loss": 23.838594436645508, "vf_loss": 23.844045639038086, "policy_loss": -0.009456696920096874, "cur_kl_coeff": 0.25312498211860657, "vf_explained_var": 0.683451771736145, "entropy": 1.350926399230957}, "num_steps_sampled": 7904901, "load_time_ms": 13.332, "update_time_ms": 6.882, "grad_time_ms": 9296.219, "sample_time_ms": 13485.069}, "episode_len_mean": 688.56, "time_this_iter_s": 22.840331554412842, "num_metric_batches_dropped": 0, "timesteps_total": 7904901, "episodes_total": 3864, "hostname": "flow-main", "config": {"custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "kl_coeff": 0.2, "train_batch_size": 30000, "log_level": "INFO", "num_workers": 20, "num_sgd_iter": 10, "lr": 0.0005, "monitor": false, "lr_schedule": null, "compress_observations": false, "input": "sampler", "straggler_mitigation": false, "input_evaluation": null, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "optimizer": {}, "vf_share_layers": false, "model": {"fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "fcnet_activation": "tanh", "dim": 84, "lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "channel_major": false, "conv_activation": "relu", "squash_to_range": false, "conv_filters": null, "zero_mean": true, "grayscale": false, "max_seq_len": 20, "free_log_std": false, "custom_preprocessor": null, "custom_options": {}, "use_lstm": false}, "clip_param": 0.3, "num_cpus_for_driver": 1, "synchronize_filters": true, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "output": null, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.3, 0.1]_t_min:10.0", "batch_mode": "truncate_episodes", "simple_optimizer": false, "sample_batch_size": 200, "collect_metrics_timeout": 180, "clip_rewards": null, "clip_actions": false, "kl_target": 0.01, "observation_filter": "NoFilter", "use_gae": true, "entropy_coeff": 0.0, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb6e978>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb6e2b0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb6e748>"}, "gamma": 0.99, "horizon": 1500, "num_gpus_per_worker": 0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "output_max_file_size": 67108864, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "num_gpus": 0, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}}, "timestamp": 1557235197, "episode_reward_max": 1017.2725452476311, "episodes_this_iter": 20, "time_total_s": 4807.99147605896, "time_since_restore": 4807.99147605896}
{"timesteps_since_restore": 7942650, "done": false, "node_ip": "10.138.0.2", "pid": 10867, "date": "2019-05-07_13-20-20", "episode_reward_min": 159.01925951265477, "timesteps_this_iter": 37749, "training_iteration": 208, "episode_reward_mean": 907.151279690688, "experiment_id": "a183ec7aedea427d9bacd699bea0cf75", "policy_reward_mean": {}, "iterations_since_restore": 208, "custom_metrics": {"cost2_min": -44.225037027693936, "outflow_rate_max": 1131.15734025974, "cost1_mean": 303.37516456838944, "cost2_mean": -31.97081060187942, "system_level_velocity_mean": 12.215618593791817, "cost1_max": 337.2818006128757, "cost1_min": 65.13281157873081, "cost2_max": -18.606378159472147, "outflow_rate_mean": 979.0280534811874, "system_level_velocity_min": 9.828222782865657, "outflow_rate_min": 429.8875600990902, "system_level_velocity_max": 16.524281134458523}, "info": {"num_steps_trained": 7942650, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.01479545421898365, "total_loss": 22.07362937927246, "vf_loss": 22.07967185974121, "policy_loss": -0.00978630781173706, "cur_kl_coeff": 0.2531249523162842, "vf_explained_var": 0.7008152604103088, "entropy": 1.3197243213653564}, "num_steps_sampled": 7942650, "load_time_ms": 13.418, "update_time_ms": 6.902, "grad_time_ms": 9337.997, "sample_time_ms": 13465.558}, "episode_len_mean": 682.64, "time_this_iter_s": 22.840856313705444, "num_metric_batches_dropped": 0, "timesteps_total": 7942650, "episodes_total": 3882, "hostname": "flow-main", "config": {"custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "kl_coeff": 0.2, "train_batch_size": 30000, "log_level": "INFO", "num_workers": 20, "num_sgd_iter": 10, "lr": 0.0005, "monitor": false, "lr_schedule": null, "compress_observations": false, "input": "sampler", "straggler_mitigation": false, "input_evaluation": null, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "optimizer": {}, "vf_share_layers": false, "model": {"fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "fcnet_activation": "tanh", "dim": 84, "lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "channel_major": false, "conv_activation": "relu", "squash_to_range": false, "conv_filters": null, "zero_mean": true, "grayscale": false, "max_seq_len": 20, "free_log_std": false, "custom_preprocessor": null, "custom_options": {}, "use_lstm": false}, "clip_param": 0.3, "num_cpus_for_driver": 1, "synchronize_filters": true, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "output": null, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.3, 0.1]_t_min:10.0", "batch_mode": "truncate_episodes", "simple_optimizer": false, "sample_batch_size": 200, "collect_metrics_timeout": 180, "clip_rewards": null, "clip_actions": false, "kl_target": 0.01, "observation_filter": "NoFilter", "use_gae": true, "entropy_coeff": 0.0, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb72470>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb723c8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb72b38>"}, "gamma": 0.99, "horizon": 1500, "num_gpus_per_worker": 0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "output_max_file_size": 67108864, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "num_gpus": 0, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}}, "timestamp": 1557235220, "episode_reward_max": 1042.6515240494164, "episodes_this_iter": 18, "time_total_s": 4830.832332372665, "time_since_restore": 4830.832332372665}
{"timesteps_since_restore": 7980286, "done": false, "node_ip": "10.138.0.2", "pid": 10867, "date": "2019-05-07_13-20-42", "episode_reward_min": 50.026278665366355, "timesteps_this_iter": 37636, "training_iteration": 209, "episode_reward_mean": 901.3741917017007, "experiment_id": "a183ec7aedea427d9bacd699bea0cf75", "policy_reward_mean": {}, "iterations_since_restore": 209, "custom_metrics": {"cost2_min": -42.586747832227545, "outflow_rate_max": 1099.7536675324673, "cost1_mean": 300.9868080734982, "cost2_mean": -31.303094006319874, "system_level_velocity_mean": 12.28825592373213, "cost1_max": 337.6636530138345, "cost1_min": 28.172402416714895, "cost2_max": -15.08462483055071, "outflow_rate_mean": 973.3700482253038, "system_level_velocity_min": 9.828222782865657, "outflow_rate_min": 325.75626921682857, "system_level_velocity_max": 18.177112414378936}, "info": {"num_steps_trained": 7980286, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.016270563006401062, "total_loss": 21.71895408630371, "vf_loss": 21.725500106811523, "policy_loss": -0.01066336315125227, "cur_kl_coeff": 0.2531249523162842, "vf_explained_var": 0.7531782984733582, "entropy": 1.3383477926254272}, "num_steps_sampled": 7980286, "load_time_ms": 13.124, "update_time_ms": 6.816, "grad_time_ms": 9319.694, "sample_time_ms": 13468.336}, "episode_len_mean": 676.71, "time_this_iter_s": 22.560019493103027, "num_metric_batches_dropped": 0, "timesteps_total": 7980286, "episodes_total": 3902, "hostname": "flow-main", "config": {"custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "kl_coeff": 0.2, "train_batch_size": 30000, "log_level": "INFO", "num_workers": 20, "num_sgd_iter": 10, "lr": 0.0005, "monitor": false, "lr_schedule": null, "compress_observations": false, "input": "sampler", "straggler_mitigation": false, "input_evaluation": null, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "optimizer": {}, "vf_share_layers": false, "model": {"fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "fcnet_activation": "tanh", "dim": 84, "lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "channel_major": false, "conv_activation": "relu", "squash_to_range": false, "conv_filters": null, "zero_mean": true, "grayscale": false, "max_seq_len": 20, "free_log_std": false, "custom_preprocessor": null, "custom_options": {}, "use_lstm": false}, "clip_param": 0.3, "num_cpus_for_driver": 1, "synchronize_filters": true, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "output": null, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.3, 0.1]_t_min:10.0", "batch_mode": "truncate_episodes", "simple_optimizer": false, "sample_batch_size": 200, "collect_metrics_timeout": 180, "clip_rewards": null, "clip_actions": false, "kl_target": 0.01, "observation_filter": "NoFilter", "use_gae": true, "entropy_coeff": 0.0, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb69ac8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb695f8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb69908>"}, "gamma": 0.99, "horizon": 1500, "num_gpus_per_worker": 0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "output_max_file_size": 67108864, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "num_gpus": 0, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}}, "timestamp": 1557235242, "episode_reward_max": 1042.6515240494164, "episodes_this_iter": 20, "time_total_s": 4853.392351865768, "time_since_restore": 4853.392351865768}
{"timesteps_since_restore": 8018336, "done": false, "node_ip": "10.138.0.2", "pid": 10867, "date": "2019-05-07_13-21-05", "episode_reward_min": 50.026278665366355, "timesteps_this_iter": 38050, "training_iteration": 210, "episode_reward_mean": 909.7707944217145, "experiment_id": "a183ec7aedea427d9bacd699bea0cf75", "policy_reward_mean": {}, "iterations_since_restore": 210, "custom_metrics": {"cost2_min": -42.586747832227545, "outflow_rate_max": 1099.7475740259742, "cost1_mean": 306.2053141659138, "cost2_mean": -31.313502699310238, "system_level_velocity_mean": 12.406095763972596, "cost1_max": 338.0355694750797, "cost1_min": 28.172402416714895, "cost2_max": -15.08462483055071, "outflow_rate_mean": 983.615622368671, "system_level_velocity_min": 9.828222782865657, "outflow_rate_min": 325.75626921682857, "system_level_velocity_max": 18.177112414378936}, "info": {"num_steps_trained": 8018336, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.015130813233554363, "total_loss": 22.607431411743164, "vf_loss": 22.61237335205078, "policy_loss": -0.008772357366979122, "cur_kl_coeff": 0.25312498211860657, "vf_explained_var": 0.730798602104187, "entropy": 1.3430664539337158}, "num_steps_sampled": 8018336, "load_time_ms": 13.379, "update_time_ms": 6.697, "grad_time_ms": 9322.512, "sample_time_ms": 13325.259}, "episode_len_mean": 683.07, "time_this_iter_s": 22.725098609924316, "num_metric_batches_dropped": 0, "timesteps_total": 8018336, "episodes_total": 3920, "hostname": "flow-main", "config": {"custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "kl_coeff": 0.2, "train_batch_size": 30000, "log_level": "INFO", "num_workers": 20, "num_sgd_iter": 10, "lr": 0.0005, "monitor": false, "lr_schedule": null, "compress_observations": false, "input": "sampler", "straggler_mitigation": false, "input_evaluation": null, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "optimizer": {}, "vf_share_layers": false, "model": {"fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "fcnet_activation": "tanh", "dim": 84, "lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "channel_major": false, "conv_activation": "relu", "squash_to_range": false, "conv_filters": null, "zero_mean": true, "grayscale": false, "max_seq_len": 20, "free_log_std": false, "custom_preprocessor": null, "custom_options": {}, "use_lstm": false}, "clip_param": 0.3, "num_cpus_for_driver": 1, "synchronize_filters": true, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "output": null, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.3, 0.1]_t_min:10.0", "batch_mode": "truncate_episodes", "simple_optimizer": false, "sample_batch_size": 200, "collect_metrics_timeout": 180, "clip_rewards": null, "clip_actions": false, "kl_target": 0.01, "observation_filter": "NoFilter", "use_gae": true, "entropy_coeff": 0.0, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb6e6a0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb6eb70>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb6e0b8>"}, "gamma": 0.99, "horizon": 1500, "num_gpus_per_worker": 0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "output_max_file_size": 67108864, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "num_gpus": 0, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}}, "timestamp": 1557235265, "episode_reward_max": 1042.6515240494164, "episodes_this_iter": 18, "time_total_s": 4876.117450475693, "time_since_restore": 4876.117450475693}
{"timesteps_since_restore": 8055790, "done": false, "node_ip": "10.138.0.2", "pid": 10867, "date": "2019-05-07_13-21-27", "episode_reward_min": 50.026278665366355, "timesteps_this_iter": 37454, "training_iteration": 211, "episode_reward_mean": 901.1888322401791, "experiment_id": "a183ec7aedea427d9bacd699bea0cf75", "policy_reward_mean": {}, "iterations_since_restore": 211, "custom_metrics": {"cost2_min": -42.586747832227545, "outflow_rate_max": 1098.0346909090908, "cost1_mean": 302.8333487869379, "cost2_mean": -30.616047878068553, "system_level_velocity_mean": 12.429068090892077, "cost1_max": 338.0355694750797, "cost1_min": 28.172402416714895, "cost2_max": -15.08462483055071, "outflow_rate_mean": 974.528273749135, "system_level_velocity_min": 9.828222782865657, "outflow_rate_min": 325.75626921682857, "system_level_velocity_max": 18.177112414378936}, "info": {"num_steps_trained": 8055790, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.013924621976912022, "total_loss": 25.540861129760742, "vf_loss": 25.54618263244629, "policy_loss": -0.008845201693475246, "cur_kl_coeff": 0.25312498211860657, "vf_explained_var": 0.7318438291549683, "entropy": 1.3543485403060913}, "num_steps_sampled": 8055790, "load_time_ms": 13.145, "update_time_ms": 6.679, "grad_time_ms": 9303.161, "sample_time_ms": 13331.065}, "episode_len_mean": 674.84, "time_this_iter_s": 22.30058526992798, "num_metric_batches_dropped": 0, "timesteps_total": 8055790, "episodes_total": 3939, "hostname": "flow-main", "config": {"custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "kl_coeff": 0.2, "train_batch_size": 30000, "log_level": "INFO", "num_workers": 20, "num_sgd_iter": 10, "lr": 0.0005, "monitor": false, "lr_schedule": null, "compress_observations": false, "input": "sampler", "straggler_mitigation": false, "input_evaluation": null, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "optimizer": {}, "vf_share_layers": false, "model": {"fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "fcnet_activation": "tanh", "dim": 84, "lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "channel_major": false, "conv_activation": "relu", "squash_to_range": false, "conv_filters": null, "zero_mean": true, "grayscale": false, "max_seq_len": 20, "free_log_std": false, "custom_preprocessor": null, "custom_options": {}, "use_lstm": false}, "clip_param": 0.3, "num_cpus_for_driver": 1, "synchronize_filters": true, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "output": null, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.3, 0.1]_t_min:10.0", "batch_mode": "truncate_episodes", "simple_optimizer": false, "sample_batch_size": 200, "collect_metrics_timeout": 180, "clip_rewards": null, "clip_actions": false, "kl_target": 0.01, "observation_filter": "NoFilter", "use_gae": true, "entropy_coeff": 0.0, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb79f98>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb799e8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb79cf8>"}, "gamma": 0.99, "horizon": 1500, "num_gpus_per_worker": 0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "output_max_file_size": 67108864, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "num_gpus": 0, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}}, "timestamp": 1557235287, "episode_reward_max": 1042.6515240494164, "episodes_this_iter": 19, "time_total_s": 4898.418035745621, "time_since_restore": 4898.418035745621}
{"timesteps_since_restore": 8093762, "done": false, "node_ip": "10.138.0.2", "pid": 10867, "date": "2019-05-07_13-21-50", "episode_reward_min": 50.026278665366355, "timesteps_this_iter": 37972, "training_iteration": 212, "episode_reward_mean": 888.6284785757421, "experiment_id": "a183ec7aedea427d9bacd699bea0cf75", "policy_reward_mean": {}, "iterations_since_restore": 212, "custom_metrics": {"cost2_min": -42.586747832227545, "outflow_rate_max": 1098.2678649350646, "cost1_mean": 298.47915152756775, "cost2_mean": -30.12875185988448, "system_level_velocity_mean": 12.473688359816235, "cost1_max": 342.8559029901452, "cost1_min": 28.172402416714895, "cost2_max": -14.203676196202341, "outflow_rate_mean": 963.3049776200922, "system_level_velocity_min": 9.828222782865657, "outflow_rate_min": 308.62611059866117, "system_level_velocity_max": 18.177112414378936}, "info": {"num_steps_trained": 8093762, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.01446826383471489, "total_loss": 27.219562530517578, "vf_loss": 27.22490119934082, "policy_loss": -0.008999942801892757, "cur_kl_coeff": 0.25312498211860657, "vf_explained_var": 0.6371023058891296, "entropy": 1.3491851091384888}, "num_steps_sampled": 8093762, "load_time_ms": 12.622, "update_time_ms": 6.764, "grad_time_ms": 9320.927, "sample_time_ms": 13284.905}, "episode_len_mean": 666.29, "time_this_iter_s": 22.774097204208374, "num_metric_batches_dropped": 0, "timesteps_total": 8093762, "episodes_total": 3961, "hostname": "flow-main", "config": {"custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "kl_coeff": 0.2, "train_batch_size": 30000, "log_level": "INFO", "num_workers": 20, "num_sgd_iter": 10, "lr": 0.0005, "monitor": false, "lr_schedule": null, "compress_observations": false, "input": "sampler", "straggler_mitigation": false, "input_evaluation": null, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "optimizer": {}, "vf_share_layers": false, "model": {"fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "fcnet_activation": "tanh", "dim": 84, "lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "channel_major": false, "conv_activation": "relu", "squash_to_range": false, "conv_filters": null, "zero_mean": true, "grayscale": false, "max_seq_len": 20, "free_log_std": false, "custom_preprocessor": null, "custom_options": {}, "use_lstm": false}, "clip_param": 0.3, "num_cpus_for_driver": 1, "synchronize_filters": true, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "output": null, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.3, 0.1]_t_min:10.0", "batch_mode": "truncate_episodes", "simple_optimizer": false, "sample_batch_size": 200, "collect_metrics_timeout": 180, "clip_rewards": null, "clip_actions": false, "kl_target": 0.01, "observation_filter": "NoFilter", "use_gae": true, "entropy_coeff": 0.0, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb69ac8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb692e8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb696a0>"}, "gamma": 0.99, "horizon": 1500, "num_gpus_per_worker": 0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "output_max_file_size": 67108864, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "num_gpus": 0, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}}, "timestamp": 1557235310, "episode_reward_max": 1042.6515240494164, "episodes_this_iter": 22, "time_total_s": 4921.192132949829, "time_since_restore": 4921.192132949829}
{"timesteps_since_restore": 8131078, "done": false, "node_ip": "10.138.0.2", "pid": 10867, "date": "2019-05-07_13-22-14", "episode_reward_min": 50.026278665366355, "timesteps_this_iter": 37316, "training_iteration": 213, "episode_reward_mean": 889.9165284082314, "experiment_id": "a183ec7aedea427d9bacd699bea0cf75", "policy_reward_mean": {}, "iterations_since_restore": 213, "custom_metrics": {"cost2_min": -40.264779097297485, "outflow_rate_max": 1098.2678649350646, "cost1_mean": 299.24790987797627, "cost2_mean": -29.56451031570353, "system_level_velocity_mean": 12.357453910232127, "cost1_max": 342.8559029901452, "cost1_min": 28.172402416714895, "cost2_max": -14.203676196202341, "outflow_rate_mean": 960.4180733437765, "system_level_velocity_min": 10.068862082946678, "outflow_rate_min": 308.62611059866117, "system_level_velocity_max": 18.177112414378936}, "info": {"num_steps_trained": 8131078, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.013733086176216602, "total_loss": 21.089706420898438, "vf_loss": 21.095314025878906, "policy_loss": -0.00908488966524601, "cur_kl_coeff": 0.2531249523162842, "vf_explained_var": 0.7120413780212402, "entropy": 1.3436812162399292}, "num_steps_sampled": 8131078, "load_time_ms": 12.146, "update_time_ms": 6.892, "grad_time_ms": 9415.016, "sample_time_ms": 13222.923}, "episode_len_mean": 672.21, "time_this_iter_s": 23.509026765823364, "num_metric_batches_dropped": 0, "timesteps_total": 8131078, "episodes_total": 3978, "hostname": "flow-main", "config": {"custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "kl_coeff": 0.2, "train_batch_size": 30000, "log_level": "INFO", "num_workers": 20, "num_sgd_iter": 10, "lr": 0.0005, "monitor": false, "lr_schedule": null, "compress_observations": false, "input": "sampler", "straggler_mitigation": false, "input_evaluation": null, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "optimizer": {}, "vf_share_layers": false, "model": {"fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "fcnet_activation": "tanh", "dim": 84, "lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "channel_major": false, "conv_activation": "relu", "squash_to_range": false, "conv_filters": null, "zero_mean": true, "grayscale": false, "max_seq_len": 20, "free_log_std": false, "custom_preprocessor": null, "custom_options": {}, "use_lstm": false}, "clip_param": 0.3, "num_cpus_for_driver": 1, "synchronize_filters": true, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "output": null, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.3, 0.1]_t_min:10.0", "batch_mode": "truncate_episodes", "simple_optimizer": false, "sample_batch_size": 200, "collect_metrics_timeout": 180, "clip_rewards": null, "clip_actions": false, "kl_target": 0.01, "observation_filter": "NoFilter", "use_gae": true, "entropy_coeff": 0.0, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb72390>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb72160>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb722b0>"}, "gamma": 0.99, "horizon": 1500, "num_gpus_per_worker": 0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "output_max_file_size": 67108864, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "num_gpus": 0, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}}, "timestamp": 1557235334, "episode_reward_max": 1032.3667563007707, "episodes_this_iter": 17, "time_total_s": 4944.7011597156525, "time_since_restore": 4944.7011597156525}
{"timesteps_since_restore": 8168685, "done": false, "node_ip": "10.138.0.2", "pid": 10867, "date": "2019-05-07_13-22-36", "episode_reward_min": 53.79462893607614, "timesteps_this_iter": 37607, "training_iteration": 214, "episode_reward_mean": 892.692709062653, "experiment_id": "a183ec7aedea427d9bacd699bea0cf75", "policy_reward_mean": {}, "iterations_since_restore": 214, "custom_metrics": {"cost2_min": -41.94818680661049, "outflow_rate_max": 1098.2678649350646, "cost1_mean": 301.99902317790725, "cost2_mean": -29.476275342009867, "system_level_velocity_mean": 12.264617374303326, "cost1_max": 342.8559029901452, "cost1_min": 32.812528772663676, "cost2_max": -14.203676196202341, "outflow_rate_mean": 960.0800509632966, "system_level_velocity_min": 10.068862082946678, "outflow_rate_min": 308.62611059866117, "system_level_velocity_max": 17.952064115867106}, "info": {"num_steps_trained": 8168685, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.015036863274872303, "total_loss": 21.007577896118164, "vf_loss": 21.01273536682129, "policy_loss": -0.008963079191744328, "cur_kl_coeff": 0.25312498211860657, "vf_explained_var": 0.6748611330986023, "entropy": 1.3467813730239868}, "num_steps_sampled": 8168685, "load_time_ms": 12.436, "update_time_ms": 7.166, "grad_time_ms": 9439.577, "sample_time_ms": 13220.016}, "episode_len_mean": 679.75, "time_this_iter_s": 22.62768292427063, "num_metric_batches_dropped": 0, "timesteps_total": 8168685, "episodes_total": 3995, "hostname": "flow-main", "config": {"custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "kl_coeff": 0.2, "train_batch_size": 30000, "log_level": "INFO", "num_workers": 20, "num_sgd_iter": 10, "lr": 0.0005, "monitor": false, "lr_schedule": null, "compress_observations": false, "input": "sampler", "straggler_mitigation": false, "input_evaluation": null, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "optimizer": {}, "vf_share_layers": false, "model": {"fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "fcnet_activation": "tanh", "dim": 84, "lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "channel_major": false, "conv_activation": "relu", "squash_to_range": false, "conv_filters": null, "zero_mean": true, "grayscale": false, "max_seq_len": 20, "free_log_std": false, "custom_preprocessor": null, "custom_options": {}, "use_lstm": false}, "clip_param": 0.3, "num_cpus_for_driver": 1, "synchronize_filters": true, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "output": null, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.3, 0.1]_t_min:10.0", "batch_mode": "truncate_episodes", "simple_optimizer": false, "sample_batch_size": 200, "collect_metrics_timeout": 180, "clip_rewards": null, "clip_actions": false, "kl_target": 0.01, "observation_filter": "NoFilter", "use_gae": true, "entropy_coeff": 0.0, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb72470>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb72278>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb72cc0>"}, "gamma": 0.99, "horizon": 1500, "num_gpus_per_worker": 0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "output_max_file_size": 67108864, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "num_gpus": 0, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}}, "timestamp": 1557235356, "episode_reward_max": 1032.3667563007707, "episodes_this_iter": 17, "time_total_s": 4967.328842639923, "time_since_restore": 4967.328842639923}
{"timesteps_since_restore": 8205773, "done": false, "node_ip": "10.138.0.2", "pid": 10867, "date": "2019-05-07_13-23-00", "episode_reward_min": 47.98476986881393, "timesteps_this_iter": 37088, "training_iteration": 215, "episode_reward_mean": 869.8164474556196, "experiment_id": "a183ec7aedea427d9bacd699bea0cf75", "policy_reward_mean": {}, "iterations_since_restore": 215, "custom_metrics": {"cost2_min": -41.94818680661049, "outflow_rate_max": 1098.2678649350646, "cost1_mean": 294.02920779466695, "cost2_mean": -28.550337221371695, "system_level_velocity_mean": 12.219110682704494, "cost1_max": 342.8559029901452, "cost1_min": 27.093192138937866, "cost2_max": -13.935695763253303, "outflow_rate_mean": 941.5647322600208, "system_level_velocity_min": 10.068862082946678, "outflow_rate_min": 308.62611059866117, "system_level_velocity_max": 18.195179751596118}, "info": {"num_steps_trained": 8205773, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.015988053753972054, "total_loss": 28.571697235107422, "vf_loss": 28.575729370117188, "policy_loss": -0.008080566301941872, "cur_kl_coeff": 0.25312498211860657, "vf_explained_var": 0.5698594450950623, "entropy": 1.3292515277862549}, "num_steps_sampled": 8205773, "load_time_ms": 12.463, "update_time_ms": 7.357, "grad_time_ms": 9441.794, "sample_time_ms": 13310.07}, "episode_len_mean": 668.22, "time_this_iter_s": 23.481878519058228, "num_metric_batches_dropped": 0, "timesteps_total": 8205773, "episodes_total": 4017, "hostname": "flow-main", "config": {"custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "kl_coeff": 0.2, "train_batch_size": 30000, "log_level": "INFO", "num_workers": 20, "num_sgd_iter": 10, "lr": 0.0005, "monitor": false, "lr_schedule": null, "compress_observations": false, "input": "sampler", "straggler_mitigation": false, "input_evaluation": null, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "optimizer": {}, "vf_share_layers": false, "model": {"fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "fcnet_activation": "tanh", "dim": 84, "lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "channel_major": false, "conv_activation": "relu", "squash_to_range": false, "conv_filters": null, "zero_mean": true, "grayscale": false, "max_seq_len": 20, "free_log_std": false, "custom_preprocessor": null, "custom_options": {}, "use_lstm": false}, "clip_param": 0.3, "num_cpus_for_driver": 1, "synchronize_filters": true, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "output": null, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.3, 0.1]_t_min:10.0", "batch_mode": "truncate_episodes", "simple_optimizer": false, "sample_batch_size": 200, "collect_metrics_timeout": 180, "clip_rewards": null, "clip_actions": false, "kl_target": 0.01, "observation_filter": "NoFilter", "use_gae": true, "entropy_coeff": 0.0, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb79240>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb792e8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb79860>"}, "gamma": 0.99, "horizon": 1500, "num_gpus_per_worker": 0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "output_max_file_size": 67108864, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "num_gpus": 0, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}}, "timestamp": 1557235380, "episode_reward_max": 1032.3667563007707, "episodes_this_iter": 22, "time_total_s": 4990.810721158981, "time_since_restore": 4990.810721158981}
{"timesteps_since_restore": 8242836, "done": false, "node_ip": "10.138.0.2", "pid": 10867, "date": "2019-05-07_13-23-22", "episode_reward_min": 47.98476986881393, "timesteps_this_iter": 37063, "training_iteration": 216, "episode_reward_mean": 876.679856510293, "experiment_id": "a183ec7aedea427d9bacd699bea0cf75", "policy_reward_mean": {}, "iterations_since_restore": 216, "custom_metrics": {"cost2_min": -41.94818680661049, "outflow_rate_max": 1098.2678649350646, "cost1_mean": 298.482218323556, "cost2_mean": -28.296902386190464, "system_level_velocity_mean": 12.250332942630145, "cost1_max": 342.8559029901452, "cost1_min": 27.093192138937866, "cost2_max": -13.935695763253303, "outflow_rate_mean": 949.6134272172193, "system_level_velocity_min": 10.068862082946678, "outflow_rate_min": 308.62611059866117, "system_level_velocity_max": 18.195179751596118}, "info": {"num_steps_trained": 8242836, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.017148112878203392, "total_loss": 26.150211334228516, "vf_loss": 26.155536651611328, "policy_loss": -0.009665057063102722, "cur_kl_coeff": 0.25312498211860657, "vf_explained_var": 0.6310113668441772, "entropy": 1.3206044435501099}, "num_steps_sampled": 8242836, "load_time_ms": 11.874, "update_time_ms": 7.415, "grad_time_ms": 9440.236, "sample_time_ms": 13245.466}, "episode_len_mean": 676.45, "time_this_iter_s": 22.139901638031006, "num_metric_batches_dropped": 0, "timesteps_total": 8242836, "episodes_total": 4035, "hostname": "flow-main", "config": {"custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "kl_coeff": 0.2, "train_batch_size": 30000, "log_level": "INFO", "num_workers": 20, "num_sgd_iter": 10, "lr": 0.0005, "monitor": false, "lr_schedule": null, "compress_observations": false, "input": "sampler", "straggler_mitigation": false, "input_evaluation": null, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "optimizer": {}, "vf_share_layers": false, "model": {"fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "fcnet_activation": "tanh", "dim": 84, "lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "channel_major": false, "conv_activation": "relu", "squash_to_range": false, "conv_filters": null, "zero_mean": true, "grayscale": false, "max_seq_len": 20, "free_log_std": false, "custom_preprocessor": null, "custom_options": {}, "use_lstm": false}, "clip_param": 0.3, "num_cpus_for_driver": 1, "synchronize_filters": true, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "output": null, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.3, 0.1]_t_min:10.0", "batch_mode": "truncate_episodes", "simple_optimizer": false, "sample_batch_size": 200, "collect_metrics_timeout": 180, "clip_rewards": null, "clip_actions": false, "kl_target": 0.01, "observation_filter": "NoFilter", "use_gae": true, "entropy_coeff": 0.0, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb72240>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb72f98>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb72390>"}, "gamma": 0.99, "horizon": 1500, "num_gpus_per_worker": 0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "output_max_file_size": 67108864, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "num_gpus": 0, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}}, "timestamp": 1557235402, "episode_reward_max": 1003.6688469408263, "episodes_this_iter": 18, "time_total_s": 5012.950622797012, "time_since_restore": 5012.950622797012}
{"timesteps_since_restore": 8280432, "done": false, "node_ip": "10.138.0.2", "pid": 10867, "date": "2019-05-07_13-23-45", "episode_reward_min": 47.98476986881393, "timesteps_this_iter": 37596, "training_iteration": 217, "episode_reward_mean": 872.9931067507786, "experiment_id": "a183ec7aedea427d9bacd699bea0cf75", "policy_reward_mean": {}, "iterations_since_restore": 217, "custom_metrics": {"cost2_min": -41.94818680661049, "outflow_rate_max": 1081.25465974026, "cost1_mean": 296.02635094078664, "cost2_mean": -28.030166322503277, "system_level_velocity_mean": 12.17856094688669, "cost1_max": 334.17098303312946, "cost1_min": 27.093192138937866, "cost2_max": -13.935695763253303, "outflow_rate_mean": 945.3782686963464, "system_level_velocity_min": 10.068862082946678, "outflow_rate_min": 308.62611059866117, "system_level_velocity_max": 18.195179751596118}, "info": {"num_steps_trained": 8280432, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.015505790710449219, "total_loss": 23.56447410583496, "vf_loss": 23.570507049560547, "policy_loss": -0.009957728907465935, "cur_kl_coeff": 0.25312498211860657, "vf_explained_var": 0.6525655388832092, "entropy": 1.3309247493743896}, "num_steps_sampled": 8280432, "load_time_ms": 11.529, "update_time_ms": 7.404, "grad_time_ms": 9425.699, "sample_time_ms": 13249.352}, "episode_len_mean": 674.89, "time_this_iter_s": 22.726972579956055, "num_metric_batches_dropped": 0, "timesteps_total": 8280432, "episodes_total": 4054, "hostname": "flow-main", "config": {"custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "kl_coeff": 0.2, "train_batch_size": 30000, "log_level": "INFO", "num_workers": 20, "num_sgd_iter": 10, "lr": 0.0005, "monitor": false, "lr_schedule": null, "compress_observations": false, "input": "sampler", "straggler_mitigation": false, "input_evaluation": null, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "optimizer": {}, "vf_share_layers": false, "model": {"fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "fcnet_activation": "tanh", "dim": 84, "lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "channel_major": false, "conv_activation": "relu", "squash_to_range": false, "conv_filters": null, "zero_mean": true, "grayscale": false, "max_seq_len": 20, "free_log_std": false, "custom_preprocessor": null, "custom_options": {}, "use_lstm": false}, "clip_param": 0.3, "num_cpus_for_driver": 1, "synchronize_filters": true, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "output": null, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.3, 0.1]_t_min:10.0", "batch_mode": "truncate_episodes", "simple_optimizer": false, "sample_batch_size": 200, "collect_metrics_timeout": 180, "clip_rewards": null, "clip_actions": false, "kl_target": 0.01, "observation_filter": "NoFilter", "use_gae": true, "entropy_coeff": 0.0, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb79908>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb793c8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb79cf8>"}, "gamma": 0.99, "horizon": 1500, "num_gpus_per_worker": 0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "output_max_file_size": 67108864, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "num_gpus": 0, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}}, "timestamp": 1557235425, "episode_reward_max": 997.8681426964393, "episodes_this_iter": 19, "time_total_s": 5035.677595376968, "time_since_restore": 5035.677595376968}
{"timesteps_since_restore": 8317699, "done": false, "node_ip": "10.138.0.2", "pid": 10867, "date": "2019-05-07_13-24-07", "episode_reward_min": 47.98476986881393, "timesteps_this_iter": 37267, "training_iteration": 218, "episode_reward_mean": 881.8342649949647, "experiment_id": "a183ec7aedea427d9bacd699bea0cf75", "policy_reward_mean": {}, "iterations_since_restore": 218, "custom_metrics": {"cost2_min": -41.94818680661049, "outflow_rate_max": 1091.3211168831167, "cost1_mean": 299.12000250027273, "cost2_mean": -28.098726981127857, "system_level_velocity_mean": 12.160836529195679, "cost1_max": 334.17098303312946, "cost1_min": 27.093192138937866, "cost2_max": -13.935695763253303, "outflow_rate_mean": 955.1557335643859, "system_level_velocity_min": 10.209603850792472, "outflow_rate_min": 340.0431742023662, "system_level_velocity_max": 18.195179751596118}, "info": {"num_steps_trained": 8317699, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.015317185781896114, "total_loss": 24.36028289794922, "vf_loss": 24.36477279663086, "policy_loss": -0.008367277681827545, "cur_kl_coeff": 0.2531249523162842, "vf_explained_var": 0.6410508751869202, "entropy": 1.3455641269683838}, "num_steps_sampled": 8317699, "load_time_ms": 11.515, "update_time_ms": 7.299, "grad_time_ms": 9397.925, "sample_time_ms": 13245.077}, "episode_len_mean": 681.38, "time_this_iter_s": 22.511150598526, "num_metric_batches_dropped": 0, "timesteps_total": 8317699, "episodes_total": 4072, "hostname": "flow-main", "config": {"custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "kl_coeff": 0.2, "train_batch_size": 30000, "log_level": "INFO", "num_workers": 20, "num_sgd_iter": 10, "lr": 0.0005, "monitor": false, "lr_schedule": null, "compress_observations": false, "input": "sampler", "straggler_mitigation": false, "input_evaluation": null, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "optimizer": {}, "vf_share_layers": false, "model": {"fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "fcnet_activation": "tanh", "dim": 84, "lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "channel_major": false, "conv_activation": "relu", "squash_to_range": false, "conv_filters": null, "zero_mean": true, "grayscale": false, "max_seq_len": 20, "free_log_std": false, "custom_preprocessor": null, "custom_options": {}, "use_lstm": false}, "clip_param": 0.3, "num_cpus_for_driver": 1, "synchronize_filters": true, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "output": null, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.3, 0.1]_t_min:10.0", "batch_mode": "truncate_episodes", "simple_optimizer": false, "sample_batch_size": 200, "collect_metrics_timeout": 180, "clip_rewards": null, "clip_actions": false, "kl_target": 0.01, "observation_filter": "NoFilter", "use_gae": true, "entropy_coeff": 0.0, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb72470>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb726a0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb72278>"}, "gamma": 0.99, "horizon": 1500, "num_gpus_per_worker": 0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "output_max_file_size": 67108864, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "num_gpus": 0, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}}, "timestamp": 1557235447, "episode_reward_max": 997.8681426964393, "episodes_this_iter": 18, "time_total_s": 5058.188745975494, "time_since_restore": 5058.188745975494}
{"timesteps_since_restore": 8355461, "done": false, "node_ip": "10.138.0.2", "pid": 10867, "date": "2019-05-07_13-24-30", "episode_reward_min": 47.98476986881393, "timesteps_this_iter": 37762, "training_iteration": 219, "episode_reward_mean": 880.1905881315311, "experiment_id": "a183ec7aedea427d9bacd699bea0cf75", "policy_reward_mean": {}, "iterations_since_restore": 219, "custom_metrics": {"cost2_min": -37.83139413030694, "outflow_rate_max": 1091.3211168831167, "cost1_mean": 296.7272642139612, "cost2_mean": -27.9160468780984, "system_level_velocity_mean": 12.118626018482336, "cost1_max": 338.9387314672216, "cost1_min": 27.093192138937866, "cost2_max": -13.935695763253303, "outflow_rate_mean": 952.2173306403862, "system_level_velocity_min": 10.339735114841481, "outflow_rate_min": 340.0431742023662, "system_level_velocity_max": 18.195179751596118}, "info": {"num_steps_trained": 8355461, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.015611167065799236, "total_loss": 20.37650489807129, "vf_loss": 20.380680084228516, "policy_loss": -0.008128883317112923, "cur_kl_coeff": 0.2531249523162842, "vf_explained_var": 0.7029895782470703, "entropy": 1.3502534627914429}, "num_steps_sampled": 8355461, "load_time_ms": 11.644, "update_time_ms": 7.381, "grad_time_ms": 9376.902, "sample_time_ms": 13295.749}, "episode_len_mean": 677.89, "time_this_iter_s": 22.843663454055786, "num_metric_batches_dropped": 0, "timesteps_total": 8355461, "episodes_total": 4090, "hostname": "flow-main", "config": {"custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "kl_coeff": 0.2, "train_batch_size": 30000, "log_level": "INFO", "num_workers": 20, "num_sgd_iter": 10, "lr": 0.0005, "monitor": false, "lr_schedule": null, "compress_observations": false, "input": "sampler", "straggler_mitigation": false, "input_evaluation": null, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "optimizer": {}, "vf_share_layers": false, "model": {"fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "fcnet_activation": "tanh", "dim": 84, "lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "channel_major": false, "conv_activation": "relu", "squash_to_range": false, "conv_filters": null, "zero_mean": true, "grayscale": false, "max_seq_len": 20, "free_log_std": false, "custom_preprocessor": null, "custom_options": {}, "use_lstm": false}, "clip_param": 0.3, "num_cpus_for_driver": 1, "synchronize_filters": true, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "output": null, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.3, 0.1]_t_min:10.0", "batch_mode": "truncate_episodes", "simple_optimizer": false, "sample_batch_size": 200, "collect_metrics_timeout": 180, "clip_rewards": null, "clip_actions": false, "kl_target": 0.01, "observation_filter": "NoFilter", "use_gae": true, "entropy_coeff": 0.0, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb79ef0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f946116f400>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f9461150d30>"}, "gamma": 0.99, "horizon": 1500, "num_gpus_per_worker": 0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "output_max_file_size": 67108864, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "num_gpus": 0, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}}, "timestamp": 1557235470, "episode_reward_max": 990.6645593409552, "episodes_this_iter": 18, "time_total_s": 5081.03240942955, "time_since_restore": 5081.03240942955}
{"timesteps_since_restore": 8393028, "done": false, "node_ip": "10.138.0.2", "pid": 10867, "date": "2019-05-07_13-24-52", "episode_reward_min": 47.98476986881393, "timesteps_this_iter": 37567, "training_iteration": 220, "episode_reward_mean": 888.7745634022816, "experiment_id": "a183ec7aedea427d9bacd699bea0cf75", "policy_reward_mean": {}, "iterations_since_restore": 220, "custom_metrics": {"cost2_min": -37.83139413030694, "cost2_mean": -27.983203960701736, "cost1_mean": 299.1885687267076, "system_level_velocity_mean": 12.088779180448997, "cost1_max": 338.9387314672216, "cost1_min": 27.093192138937866, "cost2_max": -13.935695763253303, "outflow_rate_max": 1091.3211168831167, "system_level_velocity_min": 10.339735114841481, "outflow_rate_min": 340.0431742023662, "system_level_velocity_max": 18.195179751596118, "outflow_rate_mean": 960.7918770223747}, "info": {"num_steps_trained": 8393028, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.016137929633259773, "total_loss": 22.374696731567383, "vf_loss": 22.38115882873535, "policy_loss": -0.010546800680458546, "cur_kl_coeff": 0.25312498211860657, "vf_explained_var": 0.6863594055175781, "entropy": 1.3748544454574585}, "num_steps_sampled": 8393028, "load_time_ms": 11.455, "update_time_ms": 7.419, "grad_time_ms": 9379.91, "sample_time_ms": 13259.218}, "episode_len_mean": 683.7, "time_this_iter_s": 22.38788914680481, "num_metric_batches_dropped": 0, "timesteps_total": 8393028, "episodes_total": 4108, "hostname": "flow-main", "config": {"custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "kl_coeff": 0.2, "train_batch_size": 30000, "log_level": "INFO", "num_workers": 20, "num_sgd_iter": 10, "lr": 0.0005, "monitor": false, "lr_schedule": null, "compress_observations": false, "input": "sampler", "straggler_mitigation": false, "input_evaluation": null, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "optimizer": {}, "vf_share_layers": false, "model": {"fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "fcnet_activation": "tanh", "dim": 84, "lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "channel_major": false, "conv_activation": "relu", "squash_to_range": false, "conv_filters": null, "zero_mean": true, "grayscale": false, "max_seq_len": 20, "free_log_std": false, "custom_preprocessor": null, "custom_options": {}, "use_lstm": false}, "clip_param": 0.3, "num_cpus_for_driver": 1, "synchronize_filters": true, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "output": null, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.3, 0.1]_t_min:10.0", "batch_mode": "truncate_episodes", "simple_optimizer": false, "sample_batch_size": 200, "collect_metrics_timeout": 180, "clip_rewards": null, "clip_actions": false, "kl_target": 0.01, "observation_filter": "NoFilter", "use_gae": true, "entropy_coeff": 0.0, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb79b70>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb72240>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb792b0>"}, "gamma": 0.99, "horizon": 1500, "num_gpus_per_worker": 0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "output_max_file_size": 67108864, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "num_gpus": 0, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}}, "timestamp": 1557235492, "episode_reward_max": 996.3925440711962, "episodes_this_iter": 18, "time_total_s": 5103.420298576355, "time_since_restore": 5103.420298576355}
{"timesteps_since_restore": 8430724, "done": false, "node_ip": "10.138.0.2", "pid": 10867, "date": "2019-05-07_13-25-15", "episode_reward_min": 310.3629962401746, "timesteps_this_iter": 37696, "training_iteration": 221, "episode_reward_mean": 895.6397300086934, "experiment_id": "a183ec7aedea427d9bacd699bea0cf75", "policy_reward_mean": {}, "iterations_since_restore": 221, "custom_metrics": {"cost2_min": -37.83139413030694, "outflow_rate_max": 1091.3211168831167, "cost1_mean": 300.1227683170319, "cost2_mean": -28.14202761859001, "system_level_velocity_mean": 11.999883491419846, "cost1_max": 338.9387314672216, "cost1_min": 116.8331222601546, "cost2_max": -19.676025670555298, "outflow_rate_mean": 962.756224118003, "system_level_velocity_min": 10.120736468217759, "outflow_rate_min": 663.2511725351173, "system_level_velocity_max": 13.778680173544068}, "info": {"num_steps_trained": 8430724, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.016675664111971855, "total_loss": 20.589427947998047, "vf_loss": 20.5944766998291, "policy_loss": -0.009272396564483643, "cur_kl_coeff": 0.2531249523162842, "vf_explained_var": 0.7248071432113647, "entropy": 1.3768688440322876}, "num_steps_sampled": 8430724, "load_time_ms": 11.64, "update_time_ms": 7.433, "grad_time_ms": 9390.369, "sample_time_ms": 13295.529}, "episode_len_mean": 687.88, "time_this_iter_s": 22.774391889572144, "num_metric_batches_dropped": 0, "timesteps_total": 8430724, "episodes_total": 4127, "hostname": "flow-main", "config": {"custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "kl_coeff": 0.2, "train_batch_size": 30000, "log_level": "INFO", "num_workers": 20, "num_sgd_iter": 10, "lr": 0.0005, "monitor": false, "lr_schedule": null, "compress_observations": false, "input": "sampler", "straggler_mitigation": false, "input_evaluation": null, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "optimizer": {}, "vf_share_layers": false, "model": {"fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "fcnet_activation": "tanh", "dim": 84, "lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "channel_major": false, "conv_activation": "relu", "squash_to_range": false, "conv_filters": null, "zero_mean": true, "grayscale": false, "max_seq_len": 20, "free_log_std": false, "custom_preprocessor": null, "custom_options": {}, "use_lstm": false}, "clip_param": 0.3, "num_cpus_for_driver": 1, "synchronize_filters": true, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "output": null, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.3, 0.1]_t_min:10.0", "batch_mode": "truncate_episodes", "simple_optimizer": false, "sample_batch_size": 200, "collect_metrics_timeout": 180, "clip_rewards": null, "clip_actions": false, "kl_target": 0.01, "observation_filter": "NoFilter", "use_gae": true, "entropy_coeff": 0.0, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb72978>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb72208>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb72a58>"}, "gamma": 0.99, "horizon": 1500, "num_gpus_per_worker": 0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "output_max_file_size": 67108864, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "num_gpus": 0, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}}, "timestamp": 1557235515, "episode_reward_max": 996.3925440711962, "episodes_this_iter": 19, "time_total_s": 5126.194690465927, "time_since_restore": 5126.194690465927}
{"timesteps_since_restore": 8468596, "done": false, "node_ip": "10.138.0.2", "pid": 10867, "date": "2019-05-07_13-25-38", "episode_reward_min": 310.3629962401746, "timesteps_this_iter": 37872, "training_iteration": 222, "episode_reward_mean": 899.0594891385772, "experiment_id": "a183ec7aedea427d9bacd699bea0cf75", "policy_reward_mean": {}, "iterations_since_restore": 222, "custom_metrics": {"cost2_min": -37.83139413030694, "outflow_rate_max": 1091.3211168831167, "cost1_mean": 300.67382026921183, "cost2_mean": -28.1507355047198, "system_level_velocity_mean": 11.972555522477789, "cost1_max": 338.9387314672216, "cost1_min": 116.8331222601546, "cost2_max": -19.676025670555298, "outflow_rate_mean": 962.187474630107, "system_level_velocity_min": 10.120736468217759, "outflow_rate_min": 663.2511725351173, "system_level_velocity_max": 13.778680173544068}, "info": {"num_steps_trained": 8468596, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.014841160736978054, "total_loss": 24.48844337463379, "vf_loss": 24.494140625, "policy_loss": -0.00945308618247509, "cur_kl_coeff": 0.2531249523162842, "vf_explained_var": 0.6269692778587341, "entropy": 1.347815990447998}, "num_steps_sampled": 8468596, "load_time_ms": 11.665, "update_time_ms": 7.362, "grad_time_ms": 9361.863, "sample_time_ms": 13305.124}, "episode_len_mean": 689.2, "time_this_iter_s": 22.589993000030518, "num_metric_batches_dropped": 0, "timesteps_total": 8468596, "episodes_total": 4146, "hostname": "flow-main", "config": {"custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "kl_coeff": 0.2, "train_batch_size": 30000, "log_level": "INFO", "num_workers": 20, "num_sgd_iter": 10, "lr": 0.0005, "monitor": false, "lr_schedule": null, "compress_observations": false, "input": "sampler", "straggler_mitigation": false, "input_evaluation": null, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "optimizer": {}, "vf_share_layers": false, "model": {"fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "fcnet_activation": "tanh", "dim": 84, "lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "channel_major": false, "conv_activation": "relu", "squash_to_range": false, "conv_filters": null, "zero_mean": true, "grayscale": false, "max_seq_len": 20, "free_log_std": false, "custom_preprocessor": null, "custom_options": {}, "use_lstm": false}, "clip_param": 0.3, "num_cpus_for_driver": 1, "synchronize_filters": true, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "output": null, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.3, 0.1]_t_min:10.0", "batch_mode": "truncate_episodes", "simple_optimizer": false, "sample_batch_size": 200, "collect_metrics_timeout": 180, "clip_rewards": null, "clip_actions": false, "kl_target": 0.01, "observation_filter": "NoFilter", "use_gae": true, "entropy_coeff": 0.0, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb6e0b8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb72470>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb6e978>"}, "gamma": 0.99, "horizon": 1500, "num_gpus_per_worker": 0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "output_max_file_size": 67108864, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "num_gpus": 0, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}}, "timestamp": 1557235538, "episode_reward_max": 1010.8443029438685, "episodes_this_iter": 19, "time_total_s": 5148.784683465958, "time_since_restore": 5148.784683465958}
{"timesteps_since_restore": 8506576, "done": false, "node_ip": "10.138.0.2", "pid": 10867, "date": "2019-05-07_13-26-01", "episode_reward_min": 230.95903523250988, "timesteps_this_iter": 37980, "training_iteration": 223, "episode_reward_mean": 894.9809461490544, "experiment_id": "a183ec7aedea427d9bacd699bea0cf75", "policy_reward_mean": {}, "iterations_since_restore": 223, "custom_metrics": {"cost2_min": -37.945597258432855, "outflow_rate_max": 1086.201309090909, "cost1_mean": 299.4070201477835, "cost2_mean": -27.997982188609555, "system_level_velocity_mean": 12.034033470094537, "cost1_max": 338.9387314672216, "cost1_min": 93.09104151508825, "cost2_max": -19.676025670555298, "outflow_rate_mean": 959.3223011332619, "system_level_velocity_min": 10.120736468217759, "outflow_rate_min": 530.625954211596, "system_level_velocity_max": 15.591727890751535}, "info": {"num_steps_trained": 8506576, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.0169153343886137, "total_loss": 22.423526763916016, "vf_loss": 22.427509307861328, "policy_loss": -0.00826601218432188, "cur_kl_coeff": 0.25312498211860657, "vf_explained_var": 0.6527530550956726, "entropy": 1.3544138669967651}, "num_steps_sampled": 8506576, "load_time_ms": 11.752, "update_time_ms": 7.269, "grad_time_ms": 9273.376, "sample_time_ms": 13308.703}, "episode_len_mean": 683.84, "time_this_iter_s": 22.662452459335327, "num_metric_batches_dropped": 0, "timesteps_total": 8506576, "episodes_total": 4164, "hostname": "flow-main", "config": {"custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "kl_coeff": 0.2, "train_batch_size": 30000, "log_level": "INFO", "num_workers": 20, "num_sgd_iter": 10, "lr": 0.0005, "monitor": false, "lr_schedule": null, "compress_observations": false, "input": "sampler", "straggler_mitigation": false, "input_evaluation": null, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "optimizer": {}, "vf_share_layers": false, "model": {"fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "fcnet_activation": "tanh", "dim": 84, "lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "channel_major": false, "conv_activation": "relu", "squash_to_range": false, "conv_filters": null, "zero_mean": true, "grayscale": false, "max_seq_len": 20, "free_log_std": false, "custom_preprocessor": null, "custom_options": {}, "use_lstm": false}, "clip_param": 0.3, "num_cpus_for_driver": 1, "synchronize_filters": true, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "output": null, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.3, 0.1]_t_min:10.0", "batch_mode": "truncate_episodes", "simple_optimizer": false, "sample_batch_size": 200, "collect_metrics_timeout": 180, "clip_rewards": null, "clip_actions": false, "kl_target": 0.01, "observation_filter": "NoFilter", "use_gae": true, "entropy_coeff": 0.0, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb79198>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb72240>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb72400>"}, "gamma": 0.99, "horizon": 1500, "num_gpus_per_worker": 0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "output_max_file_size": 67108864, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "num_gpus": 0, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}}, "timestamp": 1557235561, "episode_reward_max": 1010.8443029438685, "episodes_this_iter": 18, "time_total_s": 5171.447135925293, "time_since_restore": 5171.447135925293}
{"timesteps_since_restore": 8544200, "done": false, "node_ip": "10.138.0.2", "pid": 10867, "date": "2019-05-07_13-26-24", "episode_reward_min": 42.384918342335894, "timesteps_this_iter": 37624, "training_iteration": 224, "episode_reward_mean": 872.2312113833356, "experiment_id": "a183ec7aedea427d9bacd699bea0cf75", "policy_reward_mean": {}, "iterations_since_restore": 224, "custom_metrics": {"cost2_min": -42.47734003846721, "outflow_rate_max": 1086.201309090909, "cost1_mean": 292.17464327452495, "cost2_mean": -28.09453168926073, "system_level_velocity_mean": 12.18576486416486, "cost1_max": 338.9387314672216, "cost1_min": 25.80016922609471, "cost2_max": -15.549105874502146, "outflow_rate_mean": 948.4874701104303, "system_level_velocity_min": 10.120736468217759, "outflow_rate_min": 340.0431742023662, "system_level_velocity_max": 17.55856972924527}, "info": {"num_steps_trained": 8544200, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.015908237546682358, "total_loss": 26.751792907714844, "vf_loss": 26.75653839111328, "policy_loss": -0.008774585090577602, "cur_kl_coeff": 0.25312498211860657, "vf_explained_var": 0.6035951972007751, "entropy": 1.3375157117843628}, "num_steps_sampled": 8544200, "load_time_ms": 12.099, "update_time_ms": 6.968, "grad_time_ms": 9235.542, "sample_time_ms": 13390.359}, "episode_len_mean": 664.08, "time_this_iter_s": 23.066579341888428, "num_metric_batches_dropped": 0, "timesteps_total": 8544200, "episodes_total": 4185, "hostname": "flow-main", "config": {"custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "kl_coeff": 0.2, "train_batch_size": 30000, "log_level": "INFO", "num_workers": 20, "num_sgd_iter": 10, "lr": 0.0005, "monitor": false, "lr_schedule": null, "compress_observations": false, "input": "sampler", "straggler_mitigation": false, "input_evaluation": null, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "optimizer": {}, "vf_share_layers": false, "model": {"fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "fcnet_activation": "tanh", "dim": 84, "lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "channel_major": false, "conv_activation": "relu", "squash_to_range": false, "conv_filters": null, "zero_mean": true, "grayscale": false, "max_seq_len": 20, "free_log_std": false, "custom_preprocessor": null, "custom_options": {}, "use_lstm": false}, "clip_param": 0.3, "num_cpus_for_driver": 1, "synchronize_filters": true, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "output": null, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.3, 0.1]_t_min:10.0", "batch_mode": "truncate_episodes", "simple_optimizer": false, "sample_batch_size": 200, "collect_metrics_timeout": 180, "clip_rewards": null, "clip_actions": false, "kl_target": 0.01, "observation_filter": "NoFilter", "use_gae": true, "entropy_coeff": 0.0, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb72208>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb72b70>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb720f0>"}, "gamma": 0.99, "horizon": 1500, "num_gpus_per_worker": 0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "output_max_file_size": 67108864, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "num_gpus": 0, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}}, "timestamp": 1557235584, "episode_reward_max": 1010.8443029438685, "episodes_this_iter": 21, "time_total_s": 5194.513715267181, "time_since_restore": 5194.513715267181}
{"timesteps_since_restore": 8581689, "done": false, "node_ip": "10.138.0.2", "pid": 10867, "date": "2019-05-07_13-26-46", "episode_reward_min": 42.384918342335894, "timesteps_this_iter": 37489, "training_iteration": 225, "episode_reward_mean": 864.4680747903544, "experiment_id": "a183ec7aedea427d9bacd699bea0cf75", "policy_reward_mean": {}, "iterations_since_restore": 225, "custom_metrics": {"cost2_min": -42.47734003846721, "outflow_rate_max": 1084.2219064935066, "cost1_mean": 289.43097555708476, "cost2_mean": -28.423782469327033, "system_level_velocity_mean": 12.242692975022898, "cost1_max": 335.63182139192736, "cost1_min": 25.80016922609471, "cost2_max": -15.263793849827467, "outflow_rate_mean": 945.1047707634076, "system_level_velocity_min": 10.120736468217759, "outflow_rate_min": 340.0431742023662, "system_level_velocity_max": 17.55856972924527}, "info": {"num_steps_trained": 8581689, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.014583528973162174, "total_loss": 25.44860076904297, "vf_loss": 25.454086303710938, "policy_loss": -0.009179184213280678, "cur_kl_coeff": 0.25312498211860657, "vf_explained_var": 0.6397363543510437, "entropy": 1.3507038354873657}, "num_steps_sampled": 8581689, "load_time_ms": 11.781, "update_time_ms": 6.79, "grad_time_ms": 9207.454, "sample_time_ms": 13303.55}, "episode_len_mean": 656.04, "time_this_iter_s": 22.322462797164917, "num_metric_batches_dropped": 0, "timesteps_total": 8581689, "episodes_total": 4205, "hostname": "flow-main", "config": {"custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "kl_coeff": 0.2, "train_batch_size": 30000, "log_level": "INFO", "num_workers": 20, "num_sgd_iter": 10, "lr": 0.0005, "monitor": false, "lr_schedule": null, "compress_observations": false, "input": "sampler", "straggler_mitigation": false, "input_evaluation": null, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "optimizer": {}, "vf_share_layers": false, "model": {"fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "fcnet_activation": "tanh", "dim": 84, "lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "channel_major": false, "conv_activation": "relu", "squash_to_range": false, "conv_filters": null, "zero_mean": true, "grayscale": false, "max_seq_len": 20, "free_log_std": false, "custom_preprocessor": null, "custom_options": {}, "use_lstm": false}, "clip_param": 0.3, "num_cpus_for_driver": 1, "synchronize_filters": true, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "output": null, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.3, 0.1]_t_min:10.0", "batch_mode": "truncate_episodes", "simple_optimizer": false, "sample_batch_size": 200, "collect_metrics_timeout": 180, "clip_rewards": null, "clip_actions": false, "kl_target": 0.01, "observation_filter": "NoFilter", "use_gae": true, "entropy_coeff": 0.0, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb7fef0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb7fe80>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb7fc88>"}, "gamma": 0.99, "horizon": 1500, "num_gpus_per_worker": 0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "output_max_file_size": 67108864, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "num_gpus": 0, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}}, "timestamp": 1557235606, "episode_reward_max": 1010.8443029438685, "episodes_this_iter": 20, "time_total_s": 5216.836178064346, "time_since_restore": 5216.836178064346}
{"timesteps_since_restore": 8619760, "done": false, "node_ip": "10.138.0.2", "pid": 10867, "date": "2019-05-07_13-27-09", "episode_reward_min": 42.384918342335894, "timesteps_this_iter": 38071, "training_iteration": 226, "episode_reward_mean": 866.0404113668715, "experiment_id": "a183ec7aedea427d9bacd699bea0cf75", "policy_reward_mean": {}, "iterations_since_restore": 226, "custom_metrics": {"cost2_min": -46.737033410267514, "outflow_rate_max": 1139.0748727272728, "cost1_mean": 290.3098680800459, "cost2_mean": -29.210653534174174, "system_level_velocity_mean": 12.281425037818776, "cost1_max": 338.20856636085773, "cost1_min": 25.80016922609471, "cost2_max": -15.263793849827467, "outflow_rate_mean": 950.9253285137187, "system_level_velocity_min": 10.313932339999418, "outflow_rate_min": 340.0431742023662, "system_level_velocity_max": 17.55856972924527}, "info": {"num_steps_trained": 8619760, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.015484657138586044, "total_loss": 21.355783462524414, "vf_loss": 21.36054229736328, "policy_loss": -0.00867708120495081, "cur_kl_coeff": 0.25312498211860657, "vf_explained_var": 0.7316799163818359, "entropy": 1.3578718900680542}, "num_steps_sampled": 8619760, "load_time_ms": 12.129, "update_time_ms": 6.649, "grad_time_ms": 9208.738, "sample_time_ms": 13372.553}, "episode_len_mean": 655.9, "time_this_iter_s": 22.848910093307495, "num_metric_batches_dropped": 0, "timesteps_total": 8619760, "episodes_total": 4223, "hostname": "flow-main", "config": {"custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "kl_coeff": 0.2, "train_batch_size": 30000, "log_level": "INFO", "num_workers": 20, "num_sgd_iter": 10, "lr": 0.0005, "monitor": false, "lr_schedule": null, "compress_observations": false, "input": "sampler", "straggler_mitigation": false, "input_evaluation": null, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "optimizer": {}, "vf_share_layers": false, "model": {"fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "fcnet_activation": "tanh", "dim": 84, "lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "channel_major": false, "conv_activation": "relu", "squash_to_range": false, "conv_filters": null, "zero_mean": true, "grayscale": false, "max_seq_len": 20, "free_log_std": false, "custom_preprocessor": null, "custom_options": {}, "use_lstm": false}, "clip_param": 0.3, "num_cpus_for_driver": 1, "synchronize_filters": true, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "output": null, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.3, 0.1]_t_min:10.0", "batch_mode": "truncate_episodes", "simple_optimizer": false, "sample_batch_size": 200, "collect_metrics_timeout": 180, "clip_rewards": null, "clip_actions": false, "kl_target": 0.01, "observation_filter": "NoFilter", "use_gae": true, "entropy_coeff": 0.0, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f945fcd6ef0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb6eb70>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb6eac8>"}, "gamma": 0.99, "horizon": 1500, "num_gpus_per_worker": 0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "output_max_file_size": 67108864, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "num_gpus": 0, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}}, "timestamp": 1557235629, "episode_reward_max": 1010.8443029438685, "episodes_this_iter": 18, "time_total_s": 5239.685088157654, "time_since_restore": 5239.685088157654}
{"timesteps_since_restore": 8656912, "done": false, "node_ip": "10.138.0.2", "pid": 10867, "date": "2019-05-07_13-27-33", "episode_reward_min": 42.384918342335894, "timesteps_this_iter": 37152, "training_iteration": 227, "episode_reward_mean": 870.6864743579498, "experiment_id": "a183ec7aedea427d9bacd699bea0cf75", "policy_reward_mean": {}, "iterations_since_restore": 227, "custom_metrics": {"cost2_min": -46.737033410267514, "outflow_rate_max": 1147.733355844156, "cost1_mean": 293.1337056326678, "cost2_mean": -30.26689188293005, "system_level_velocity_mean": 12.385267669751704, "cost1_max": 338.4881212287568, "cost1_min": 25.80016922609471, "cost2_max": -15.263793849827467, "outflow_rate_mean": 960.5620332380365, "system_level_velocity_min": 10.931861967051944, "outflow_rate_min": 340.0431742023662, "system_level_velocity_max": 17.55856972924527}, "info": {"num_steps_trained": 8656912, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.0150527348741889, "total_loss": 23.6657772064209, "vf_loss": 23.671714782714844, "policy_loss": -0.00974773708730936, "cur_kl_coeff": 0.25312498211860657, "vf_explained_var": 0.6984583139419556, "entropy": 1.375206470489502}, "num_steps_sampled": 8656912, "load_time_ms": 12.236, "update_time_ms": 6.648, "grad_time_ms": 9251.814, "sample_time_ms": 13420.422}, "episode_len_mean": 657.61, "time_this_iter_s": 23.640928983688354, "num_metric_batches_dropped": 0, "timesteps_total": 8656912, "episodes_total": 4243, "hostname": "flow-main", "config": {"custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "kl_coeff": 0.2, "train_batch_size": 30000, "log_level": "INFO", "num_workers": 20, "num_sgd_iter": 10, "lr": 0.0005, "monitor": false, "lr_schedule": null, "compress_observations": false, "input": "sampler", "straggler_mitigation": false, "input_evaluation": null, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "optimizer": {}, "vf_share_layers": false, "model": {"fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "fcnet_activation": "tanh", "dim": 84, "lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "channel_major": false, "conv_activation": "relu", "squash_to_range": false, "conv_filters": null, "zero_mean": true, "grayscale": false, "max_seq_len": 20, "free_log_std": false, "custom_preprocessor": null, "custom_options": {}, "use_lstm": false}, "clip_param": 0.3, "num_cpus_for_driver": 1, "synchronize_filters": true, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "output": null, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.3, 0.1]_t_min:10.0", "batch_mode": "truncate_episodes", "simple_optimizer": false, "sample_batch_size": 200, "collect_metrics_timeout": 180, "clip_rewards": null, "clip_actions": false, "kl_target": 0.01, "observation_filter": "NoFilter", "use_gae": true, "entropy_coeff": 0.0, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb79160>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb797b8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb79978>"}, "gamma": 0.99, "horizon": 1500, "num_gpus_per_worker": 0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "output_max_file_size": 67108864, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "num_gpus": 0, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}}, "timestamp": 1557235653, "episode_reward_max": 1003.341698494773, "episodes_this_iter": 20, "time_total_s": 5263.326017141342, "time_since_restore": 5263.326017141342}
{"timesteps_since_restore": 8694813, "done": false, "node_ip": "10.138.0.2", "pid": 10867, "date": "2019-05-07_13-27-56", "episode_reward_min": 42.384918342335894, "timesteps_this_iter": 37901, "training_iteration": 228, "episode_reward_mean": 878.2476093377563, "experiment_id": "a183ec7aedea427d9bacd699bea0cf75", "policy_reward_mean": {}, "iterations_since_restore": 228, "custom_metrics": {"cost2_min": -47.126951049848564, "outflow_rate_max": 1147.733355844156, "cost1_mean": 296.2682925139344, "cost2_mean": -31.289230141602783, "system_level_velocity_mean": 12.387428180664148, "cost1_max": 338.4881212287568, "cost1_min": 25.80016922609471, "cost2_max": -15.263793849827467, "outflow_rate_mean": 969.2039962933233, "system_level_velocity_min": 10.931861967051944, "outflow_rate_min": 340.0431742023662, "system_level_velocity_max": 17.55856972924527}, "info": {"num_steps_trained": 8694813, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.015461151488125324, "total_loss": 20.151348114013672, "vf_loss": 20.156583786010742, "policy_loss": -0.0091474037617445, "cur_kl_coeff": 0.25312498211860657, "vf_explained_var": 0.7237512469291687, "entropy": 1.3600820302963257}, "num_steps_sampled": 8694813, "load_time_ms": 12.111, "update_time_ms": 6.674, "grad_time_ms": 9265.327, "sample_time_ms": 13465.62}, "episode_len_mean": 662.97, "time_this_iter_s": 23.09785747528076, "num_metric_batches_dropped": 0, "timesteps_total": 8694813, "episodes_total": 4261, "hostname": "flow-main", "config": {"custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "kl_coeff": 0.2, "train_batch_size": 30000, "log_level": "INFO", "num_workers": 20, "num_sgd_iter": 10, "lr": 0.0005, "monitor": false, "lr_schedule": null, "compress_observations": false, "input": "sampler", "straggler_mitigation": false, "input_evaluation": null, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "optimizer": {}, "vf_share_layers": false, "model": {"fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "fcnet_activation": "tanh", "dim": 84, "lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "channel_major": false, "conv_activation": "relu", "squash_to_range": false, "conv_filters": null, "zero_mean": true, "grayscale": false, "max_seq_len": 20, "free_log_std": false, "custom_preprocessor": null, "custom_options": {}, "use_lstm": false}, "clip_param": 0.3, "num_cpus_for_driver": 1, "synchronize_filters": true, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "output": null, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.3, 0.1]_t_min:10.0", "batch_mode": "truncate_episodes", "simple_optimizer": false, "sample_batch_size": 200, "collect_metrics_timeout": 180, "clip_rewards": null, "clip_actions": false, "kl_target": 0.01, "observation_filter": "NoFilter", "use_gae": true, "entropy_coeff": 0.0, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb720b8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb722b0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb72550>"}, "gamma": 0.99, "horizon": 1500, "num_gpus_per_worker": 0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "output_max_file_size": 67108864, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "num_gpus": 0, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}}, "timestamp": 1557235676, "episode_reward_max": 1009.7541651862324, "episodes_this_iter": 18, "time_total_s": 5286.423874616623, "time_since_restore": 5286.423874616623}
{"timesteps_since_restore": 8732692, "done": false, "node_ip": "10.138.0.2", "pid": 10867, "date": "2019-05-07_13-28-18", "episode_reward_min": 175.23107269313093, "timesteps_this_iter": 37879, "training_iteration": 229, "episode_reward_mean": 902.4422915320995, "experiment_id": "a183ec7aedea427d9bacd699bea0cf75", "policy_reward_mean": {}, "iterations_since_restore": 229, "custom_metrics": {"cost2_min": -47.126951049848564, "outflow_rate_max": 1147.733355844156, "cost1_mean": 304.32598400802124, "cost2_mean": -32.54932062177612, "system_level_velocity_mean": 12.377805938795024, "cost1_max": 340.69731046466734, "cost1_min": 69.40661339034963, "cost2_max": -15.263793849827467, "outflow_rate_mean": 989.7455507188267, "system_level_velocity_min": 10.931861967051944, "outflow_rate_min": 417.3275860757179, "system_level_velocity_max": 14.989122535240975}, "info": {"num_steps_trained": 8732692, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.015042725019156933, "total_loss": 19.53214454650879, "vf_loss": 19.53734016418457, "policy_loss": -0.009004613384604454, "cur_kl_coeff": 0.2531249523162842, "vf_explained_var": 0.7681025862693787, "entropy": 1.384893536567688}, "num_steps_sampled": 8732692, "load_time_ms": 12.104, "update_time_ms": 6.694, "grad_time_ms": 9132.074, "sample_time_ms": 13516.618}, "episode_len_mean": 677.64, "time_this_iter_s": 22.020021677017212, "num_metric_batches_dropped": 0, "timesteps_total": 8732692, "episodes_total": 4279, "hostname": "flow-main", "config": {"custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "kl_coeff": 0.2, "train_batch_size": 30000, "log_level": "INFO", "num_workers": 20, "num_sgd_iter": 10, "lr": 0.0005, "monitor": false, "lr_schedule": null, "compress_observations": false, "input": "sampler", "straggler_mitigation": false, "input_evaluation": null, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "optimizer": {}, "vf_share_layers": false, "model": {"fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "fcnet_activation": "tanh", "dim": 84, "lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "channel_major": false, "conv_activation": "relu", "squash_to_range": false, "conv_filters": null, "zero_mean": true, "grayscale": false, "max_seq_len": 20, "free_log_std": false, "custom_preprocessor": null, "custom_options": {}, "use_lstm": false}, "clip_param": 0.3, "num_cpus_for_driver": 1, "synchronize_filters": true, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "output": null, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.3, 0.1]_t_min:10.0", "batch_mode": "truncate_episodes", "simple_optimizer": false, "sample_batch_size": 200, "collect_metrics_timeout": 180, "clip_rewards": null, "clip_actions": false, "kl_target": 0.01, "observation_filter": "NoFilter", "use_gae": true, "entropy_coeff": 0.0, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb791d0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb79908>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb79ba8>"}, "gamma": 0.99, "horizon": 1500, "num_gpus_per_worker": 0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "output_max_file_size": 67108864, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "num_gpus": 0, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}}, "timestamp": 1557235698, "episode_reward_max": 1009.7541651862324, "episodes_this_iter": 18, "time_total_s": 5308.44389629364, "time_since_restore": 5308.44389629364}
{"timesteps_since_restore": 8770395, "done": false, "node_ip": "10.138.0.2", "pid": 10867, "date": "2019-05-07_13-28-40", "episode_reward_min": 304.0241247458211, "timesteps_this_iter": 37703, "training_iteration": 230, "episode_reward_mean": 918.2651232837655, "experiment_id": "a183ec7aedea427d9bacd699bea0cf75", "policy_reward_mean": {}, "iterations_since_restore": 230, "custom_metrics": {"cost2_min": -59.37948704355986, "outflow_rate_max": 1152.7359376623374, "cost1_mean": 311.07934507969514, "cost2_mean": -34.05964105255256, "system_level_velocity_mean": 12.356076711790216, "cost1_max": 342.5958581478363, "cost1_min": 114.93243254540343, "cost2_max": -23.404352559510986, "outflow_rate_mean": 1007.7517347289277, "system_level_velocity_min": 10.890001628718919, "outflow_rate_min": 684.5860288475633, "system_level_velocity_max": 14.429972808414554}, "info": {"num_steps_trained": 8770395, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.014426237903535366, "total_loss": 21.593448638916016, "vf_loss": 21.598560333251953, "policy_loss": -0.008763172663748264, "cur_kl_coeff": 0.2531249523162842, "vf_explained_var": 0.7056508660316467, "entropy": 1.3559414148330688}, "num_steps_sampled": 8770395, "load_time_ms": 12.239, "update_time_ms": 6.581, "grad_time_ms": 9128.201, "sample_time_ms": 13516.85}, "episode_len_mean": 691.27, "time_this_iter_s": 22.349916219711304, "num_metric_batches_dropped": 0, "timesteps_total": 8770395, "episodes_total": 4295, "hostname": "flow-main", "config": {"custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "kl_coeff": 0.2, "train_batch_size": 30000, "log_level": "INFO", "num_workers": 20, "num_sgd_iter": 10, "lr": 0.0005, "monitor": false, "lr_schedule": null, "compress_observations": false, "input": "sampler", "straggler_mitigation": false, "input_evaluation": null, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "optimizer": {}, "vf_share_layers": false, "model": {"fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "fcnet_activation": "tanh", "dim": 84, "lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "channel_major": false, "conv_activation": "relu", "squash_to_range": false, "conv_filters": null, "zero_mean": true, "grayscale": false, "max_seq_len": 20, "free_log_std": false, "custom_preprocessor": null, "custom_options": {}, "use_lstm": false}, "clip_param": 0.3, "num_cpus_for_driver": 1, "synchronize_filters": true, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "output": null, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.3, 0.1]_t_min:10.0", "batch_mode": "truncate_episodes", "simple_optimizer": false, "sample_batch_size": 200, "collect_metrics_timeout": 180, "clip_rewards": null, "clip_actions": false, "kl_target": 0.01, "observation_filter": "NoFilter", "use_gae": true, "entropy_coeff": 0.0, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f946116f3c8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb72080>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb72780>"}, "gamma": 0.99, "horizon": 1500, "num_gpus_per_worker": 0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "output_max_file_size": 67108864, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "num_gpus": 0, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}}, "timestamp": 1557235720, "episode_reward_max": 1009.7541651862324, "episodes_this_iter": 16, "time_total_s": 5330.793812513351, "time_since_restore": 5330.793812513351}
{"timesteps_since_restore": 8807770, "done": false, "node_ip": "10.138.0.2", "pid": 10867, "date": "2019-05-07_13-29-03", "episode_reward_min": 219.78885259122907, "timesteps_this_iter": 37375, "training_iteration": 231, "episode_reward_mean": 923.7259023433877, "experiment_id": "a183ec7aedea427d9bacd699bea0cf75", "policy_reward_mean": {}, "iterations_since_restore": 231, "custom_metrics": {"cost2_min": -59.37948704355986, "outflow_rate_max": 1160.1312623376623, "cost1_mean": 313.77149431911386, "cost2_mean": -34.63664627808617, "system_level_velocity_mean": 12.427694915968598, "cost1_max": 344.6372525260646, "cost1_min": 92.76267294128061, "cost2_max": -24.323843070880134, "outflow_rate_mean": 1014.682579934136, "system_level_velocity_min": 10.506482706391594, "outflow_rate_min": 563.4697440629515, "system_level_velocity_max": 15.206016775321329}, "info": {"num_steps_trained": 8807770, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.015531947836279869, "total_loss": 25.995929718017578, "vf_loss": 26.00162124633789, "policy_loss": -0.00962123554199934, "cur_kl_coeff": 0.2531249523162842, "vf_explained_var": 0.6261951327323914, "entropy": 1.3589212894439697}, "num_steps_sampled": 8807770, "load_time_ms": 12.175, "update_time_ms": 6.723, "grad_time_ms": 9119.015, "sample_time_ms": 13510.088}, "episode_len_mean": 693.71, "time_this_iter_s": 22.605337858200073, "num_metric_batches_dropped": 0, "timesteps_total": 8807770, "episodes_total": 4316, "hostname": "flow-main", "config": {"custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "kl_coeff": 0.2, "train_batch_size": 30000, "log_level": "INFO", "num_workers": 20, "num_sgd_iter": 10, "lr": 0.0005, "monitor": false, "lr_schedule": null, "compress_observations": false, "input": "sampler", "straggler_mitigation": false, "input_evaluation": null, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "optimizer": {}, "vf_share_layers": false, "model": {"fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "fcnet_activation": "tanh", "dim": 84, "lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "channel_major": false, "conv_activation": "relu", "squash_to_range": false, "conv_filters": null, "zero_mean": true, "grayscale": false, "max_seq_len": 20, "free_log_std": false, "custom_preprocessor": null, "custom_options": {}, "use_lstm": false}, "clip_param": 0.3, "num_cpus_for_driver": 1, "synchronize_filters": true, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "output": null, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.3, 0.1]_t_min:10.0", "batch_mode": "truncate_episodes", "simple_optimizer": false, "sample_batch_size": 200, "collect_metrics_timeout": 180, "clip_rewards": null, "clip_actions": false, "kl_target": 0.01, "observation_filter": "NoFilter", "use_gae": true, "entropy_coeff": 0.0, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb720b8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb72978>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb722b0>"}, "gamma": 0.99, "horizon": 1500, "num_gpus_per_worker": 0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "output_max_file_size": 67108864, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "num_gpus": 0, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}}, "timestamp": 1557235743, "episode_reward_max": 1009.7541651862324, "episodes_this_iter": 21, "time_total_s": 5353.3991503715515, "time_since_restore": 5353.3991503715515}
{"timesteps_since_restore": 8845172, "done": false, "node_ip": "10.138.0.2", "pid": 10867, "date": "2019-05-07_13-29-26", "episode_reward_min": 219.78885259122907, "timesteps_this_iter": 37402, "training_iteration": 232, "episode_reward_mean": 915.952722102533, "experiment_id": "a183ec7aedea427d9bacd699bea0cf75", "policy_reward_mean": {}, "iterations_since_restore": 232, "custom_metrics": {"cost2_min": -59.37948704355986, "outflow_rate_max": 1160.1312623376623, "cost1_mean": 312.64159008192723, "cost2_mean": -34.74537053139364, "system_level_velocity_mean": 12.518934965104837, "cost1_max": 344.6372525260646, "cost1_min": 92.76267294128061, "cost2_max": -24.323843070880134, "outflow_rate_mean": 1014.3751493445748, "system_level_velocity_min": 10.506482706391594, "outflow_rate_min": 563.4697440629515, "system_level_velocity_max": 15.206016775321329}, "info": {"num_steps_trained": 8845172, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.015419479459524155, "total_loss": 25.13143539428711, "vf_loss": 25.13789939880371, "policy_loss": -0.010369244031608105, "cur_kl_coeff": 0.25312498211860657, "vf_explained_var": 0.6664255261421204, "entropy": 1.3612796068191528}, "num_steps_sampled": 8845172, "load_time_ms": 12.407, "update_time_ms": 6.749, "grad_time_ms": 9099.972, "sample_time_ms": 13572.674}, "episode_len_mean": 687.1, "time_this_iter_s": 23.02976679801941, "num_metric_batches_dropped": 0, "timesteps_total": 8845172, "episodes_total": 4337, "hostname": "flow-main", "config": {"custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "kl_coeff": 0.2, "train_batch_size": 30000, "log_level": "INFO", "num_workers": 20, "num_sgd_iter": 10, "lr": 0.0005, "monitor": false, "lr_schedule": null, "compress_observations": false, "input": "sampler", "straggler_mitigation": false, "input_evaluation": null, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "optimizer": {}, "vf_share_layers": false, "model": {"fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "fcnet_activation": "tanh", "dim": 84, "lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "channel_major": false, "conv_activation": "relu", "squash_to_range": false, "conv_filters": null, "zero_mean": true, "grayscale": false, "max_seq_len": 20, "free_log_std": false, "custom_preprocessor": null, "custom_options": {}, "use_lstm": false}, "clip_param": 0.3, "num_cpus_for_driver": 1, "synchronize_filters": true, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "output": null, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.3, 0.1]_t_min:10.0", "batch_mode": "truncate_episodes", "simple_optimizer": false, "sample_batch_size": 200, "collect_metrics_timeout": 180, "clip_rewards": null, "clip_actions": false, "kl_target": 0.01, "observation_filter": "NoFilter", "use_gae": true, "entropy_coeff": 0.0, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f946116fa20>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb7f080>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb7fa58>"}, "gamma": 0.99, "horizon": 1500, "num_gpus_per_worker": 0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "output_max_file_size": 67108864, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "num_gpus": 0, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}}, "timestamp": 1557235766, "episode_reward_max": 1009.7541651862324, "episodes_this_iter": 21, "time_total_s": 5376.428917169571, "time_since_restore": 5376.428917169571}
{"timesteps_since_restore": 8882371, "done": false, "node_ip": "10.138.0.2", "pid": 10867, "date": "2019-05-07_13-29-48", "episode_reward_min": 219.78885259122907, "timesteps_this_iter": 37199, "training_iteration": 233, "episode_reward_mean": 908.6754988073443, "experiment_id": "a183ec7aedea427d9bacd699bea0cf75", "policy_reward_mean": {}, "iterations_since_restore": 233, "custom_metrics": {"cost2_min": -59.37948704355986, "outflow_rate_max": 1172.2172259740262, "cost1_mean": 311.7240060453935, "cost2_mean": -35.70743335599564, "system_level_velocity_mean": 12.657985035796948, "cost1_max": 344.6372525260646, "cost1_min": 92.76267294128061, "cost2_max": -25.120779807611136, "outflow_rate_mean": 1018.5670570992535, "system_level_velocity_min": 10.506482706391594, "outflow_rate_min": 563.4697440629515, "system_level_velocity_max": 15.862622168810423}, "info": {"num_steps_trained": 8882371, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.015478398650884628, "total_loss": 23.036413192749023, "vf_loss": 23.04124641418457, "policy_loss": -0.008752945810556412, "cur_kl_coeff": 0.25312498211860657, "vf_explained_var": 0.7048859596252441, "entropy": 1.374574065208435}, "num_steps_sampled": 8882371, "load_time_ms": 12.459, "update_time_ms": 6.857, "grad_time_ms": 9070.552, "sample_time_ms": 13578.413}, "episode_len_mean": 680.29, "time_this_iter_s": 22.424716472625732, "num_metric_batches_dropped": 0, "timesteps_total": 8882371, "episodes_total": 4356, "hostname": "flow-main", "config": {"custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "kl_coeff": 0.2, "train_batch_size": 30000, "log_level": "INFO", "num_workers": 20, "num_sgd_iter": 10, "lr": 0.0005, "monitor": false, "lr_schedule": null, "compress_observations": false, "input": "sampler", "straggler_mitigation": false, "input_evaluation": null, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "optimizer": {}, "vf_share_layers": false, "model": {"fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "fcnet_activation": "tanh", "dim": 84, "lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "channel_major": false, "conv_activation": "relu", "squash_to_range": false, "conv_filters": null, "zero_mean": true, "grayscale": false, "max_seq_len": 20, "free_log_std": false, "custom_preprocessor": null, "custom_options": {}, "use_lstm": false}, "clip_param": 0.3, "num_cpus_for_driver": 1, "synchronize_filters": true, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "output": null, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.3, 0.1]_t_min:10.0", "batch_mode": "truncate_episodes", "simple_optimizer": false, "sample_batch_size": 200, "collect_metrics_timeout": 180, "clip_rewards": null, "clip_actions": false, "kl_target": 0.01, "observation_filter": "NoFilter", "use_gae": true, "entropy_coeff": 0.0, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f946116f4a8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f946116f128>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f946116feb8>"}, "gamma": 0.99, "horizon": 1500, "num_gpus_per_worker": 0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "output_max_file_size": 67108864, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "num_gpus": 0, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}}, "timestamp": 1557235788, "episode_reward_max": 1009.5780830752843, "episodes_this_iter": 19, "time_total_s": 5398.853633642197, "time_since_restore": 5398.853633642197}
{"timesteps_since_restore": 8920483, "done": false, "node_ip": "10.138.0.2", "pid": 10867, "date": "2019-05-07_13-30-12", "episode_reward_min": 219.78885259122907, "timesteps_this_iter": 38112, "training_iteration": 234, "episode_reward_mean": 897.4061172109701, "experiment_id": "a183ec7aedea427d9bacd699bea0cf75", "policy_reward_mean": {}, "iterations_since_restore": 234, "custom_metrics": {"cost2_min": -59.37948704355986, "cost2_mean": -36.90425636599396, "cost1_mean": 309.953246100206, "system_level_velocity_mean": 12.77997067315673, "cost1_max": 353.19459307679915, "cost1_min": 92.76267294128061, "cost2_max": -25.120779807611136, "outflow_rate_max": 1197.2462805194805, "system_level_velocity_min": 10.506482706391594, "outflow_rate_min": 518.9742609853598, "system_level_velocity_max": 15.862622168810423, "outflow_rate_mean": 1022.3630798675862}, "info": {"num_steps_trained": 8920483, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.016232915222644806, "total_loss": 25.346357345581055, "vf_loss": 25.352144241333008, "policy_loss": -0.009896351024508476, "cur_kl_coeff": 0.25312498211860657, "vf_explained_var": 0.6909946203231812, "entropy": 1.3736305236816406}, "num_steps_sampled": 8920483, "load_time_ms": 12.497, "update_time_ms": 6.848, "grad_time_ms": 9096.558, "sample_time_ms": 13617.185}, "episode_len_mean": 672.36, "time_this_iter_s": 23.718770265579224, "num_metric_batches_dropped": 0, "timesteps_total": 8920483, "episodes_total": 4376, "hostname": "flow-main", "config": {"custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "kl_coeff": 0.2, "train_batch_size": 30000, "log_level": "INFO", "num_workers": 20, "num_sgd_iter": 10, "lr": 0.0005, "monitor": false, "lr_schedule": null, "compress_observations": false, "input": "sampler", "straggler_mitigation": false, "input_evaluation": null, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "optimizer": {}, "vf_share_layers": false, "model": {"fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "fcnet_activation": "tanh", "dim": 84, "lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "channel_major": false, "conv_activation": "relu", "squash_to_range": false, "conv_filters": null, "zero_mean": true, "grayscale": false, "max_seq_len": 20, "free_log_std": false, "custom_preprocessor": null, "custom_options": {}, "use_lstm": false}, "clip_param": 0.3, "num_cpus_for_driver": 1, "synchronize_filters": true, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "output": null, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.3, 0.1]_t_min:10.0", "batch_mode": "truncate_episodes", "simple_optimizer": false, "sample_batch_size": 200, "collect_metrics_timeout": 180, "clip_rewards": null, "clip_actions": false, "kl_target": 0.01, "observation_filter": "NoFilter", "use_gae": true, "entropy_coeff": 0.0, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb720b8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb69cf8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb69048>"}, "gamma": 0.99, "horizon": 1500, "num_gpus_per_worker": 0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "output_max_file_size": 67108864, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "num_gpus": 0, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}}, "timestamp": 1557235812, "episode_reward_max": 1031.2586012094912, "episodes_this_iter": 20, "time_total_s": 5422.572403907776, "time_since_restore": 5422.572403907776}
{"timesteps_since_restore": 8958101, "done": false, "node_ip": "10.138.0.2", "pid": 10867, "date": "2019-05-07_13-30-36", "episode_reward_min": 53.421784387153096, "timesteps_this_iter": 37618, "training_iteration": 235, "episode_reward_mean": 889.4819955883614, "experiment_id": "a183ec7aedea427d9bacd699bea0cf75", "policy_reward_mean": {}, "iterations_since_restore": 235, "custom_metrics": {"cost2_min": -50.96548095998139, "outflow_rate_max": 1197.2462805194805, "cost1_mean": 306.42787848282774, "cost2_mean": -36.8290104139831, "system_level_velocity_mean": 12.842767865954858, "cost1_max": 353.19459307679915, "cost1_min": 32.43571972816537, "cost2_max": -17.847459872267137, "outflow_rate_mean": 1015.7043621096213, "system_level_velocity_min": 10.506482706391594, "outflow_rate_min": 331.3055169108091, "system_level_velocity_max": 17.930694137997403}, "info": {"num_steps_trained": 8958101, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.014668229036033154, "total_loss": 21.816219329833984, "vf_loss": 21.820755004882812, "policy_loss": -0.008250752463936806, "cur_kl_coeff": 0.25312498211860657, "vf_explained_var": 0.6975425481796265, "entropy": 1.3520842790603638}, "num_steps_sampled": 8958101, "load_time_ms": 12.724, "update_time_ms": 6.877, "grad_time_ms": 9087.647, "sample_time_ms": 13813.099}, "episode_len_mean": 663.41, "time_this_iter_s": 24.189775466918945, "num_metric_batches_dropped": 0, "timesteps_total": 8958101, "episodes_total": 4393, "hostname": "flow-main", "config": {"custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "kl_coeff": 0.2, "train_batch_size": 30000, "log_level": "INFO", "num_workers": 20, "num_sgd_iter": 10, "lr": 0.0005, "monitor": false, "lr_schedule": null, "compress_observations": false, "input": "sampler", "straggler_mitigation": false, "input_evaluation": null, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "optimizer": {}, "vf_share_layers": false, "model": {"fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "fcnet_activation": "tanh", "dim": 84, "lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "channel_major": false, "conv_activation": "relu", "squash_to_range": false, "conv_filters": null, "zero_mean": true, "grayscale": false, "max_seq_len": 20, "free_log_std": false, "custom_preprocessor": null, "custom_options": {}, "use_lstm": false}, "clip_param": 0.3, "num_cpus_for_driver": 1, "synchronize_filters": true, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "output": null, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.3, 0.1]_t_min:10.0", "batch_mode": "truncate_episodes", "simple_optimizer": false, "sample_batch_size": 200, "collect_metrics_timeout": 180, "clip_rewards": null, "clip_actions": false, "kl_target": 0.01, "observation_filter": "NoFilter", "use_gae": true, "entropy_coeff": 0.0, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb72d68>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb72b70>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb72828>"}, "gamma": 0.99, "horizon": 1500, "num_gpus_per_worker": 0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "output_max_file_size": 67108864, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "num_gpus": 0, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}}, "timestamp": 1557235836, "episode_reward_max": 1031.2586012094912, "episodes_this_iter": 17, "time_total_s": 5446.762179374695, "time_since_restore": 5446.762179374695}
{"timesteps_since_restore": 8996490, "done": false, "node_ip": "10.138.0.2", "pid": 10867, "date": "2019-05-07_13-30-58", "episode_reward_min": 47.6543822886186, "timesteps_this_iter": 38389, "training_iteration": 236, "episode_reward_mean": 870.086735919965, "experiment_id": "a183ec7aedea427d9bacd699bea0cf75", "policy_reward_mean": {}, "iterations_since_restore": 236, "custom_metrics": {"cost2_min": -50.96548095998139, "outflow_rate_max": 1197.2462805194805, "cost1_mean": 300.7860506303184, "cost2_mean": -37.056259959003214, "system_level_velocity_mean": 13.015411628414858, "cost1_max": 353.19459307679915, "cost1_min": 27.966006322863613, "cost2_max": -15.74042352813951, "outflow_rate_mean": 1002.2943398053169, "system_level_velocity_min": 10.197280508882411, "outflow_rate_min": 331.3055169108091, "system_level_velocity_max": 17.930694137997403}, "info": {"num_steps_trained": 8996490, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.0144421998411417, "total_loss": 25.413301467895508, "vf_loss": 25.419404983520508, "policy_loss": -0.009760393761098385, "cur_kl_coeff": 0.2531249523162842, "vf_explained_var": 0.7292881608009338, "entropy": 1.3902651071548462}, "num_steps_sampled": 8996490, "load_time_ms": 12.82, "update_time_ms": 7.117, "grad_time_ms": 8952.614, "sample_time_ms": 13846.873}, "episode_len_mean": 648.06, "time_this_iter_s": 21.829163789749146, "num_metric_batches_dropped": 0, "timesteps_total": 8996490, "episodes_total": 4415, "hostname": "flow-main", "config": {"custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "kl_coeff": 0.2, "train_batch_size": 30000, "log_level": "INFO", "num_workers": 20, "num_sgd_iter": 10, "lr": 0.0005, "monitor": false, "lr_schedule": null, "compress_observations": false, "input": "sampler", "straggler_mitigation": false, "input_evaluation": null, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "optimizer": {}, "vf_share_layers": false, "model": {"fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "fcnet_activation": "tanh", "dim": 84, "lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "channel_major": false, "conv_activation": "relu", "squash_to_range": false, "conv_filters": null, "zero_mean": true, "grayscale": false, "max_seq_len": 20, "free_log_std": false, "custom_preprocessor": null, "custom_options": {}, "use_lstm": false}, "clip_param": 0.3, "num_cpus_for_driver": 1, "synchronize_filters": true, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "output": null, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.3, 0.1]_t_min:10.0", "batch_mode": "truncate_episodes", "simple_optimizer": false, "sample_batch_size": 200, "collect_metrics_timeout": 180, "clip_rewards": null, "clip_actions": false, "kl_target": 0.01, "observation_filter": "NoFilter", "use_gae": true, "entropy_coeff": 0.0, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb722b0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb7f940>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb7f9b0>"}, "gamma": 0.99, "horizon": 1500, "num_gpus_per_worker": 0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "output_max_file_size": 67108864, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "num_gpus": 0, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}}, "timestamp": 1557235858, "episode_reward_max": 1031.2586012094912, "episodes_this_iter": 22, "time_total_s": 5468.591343164444, "time_since_restore": 5468.591343164444}
{"timesteps_since_restore": 9033708, "done": false, "node_ip": "10.138.0.2", "pid": 10867, "date": "2019-05-07_13-31-20", "episode_reward_min": 47.6543822886186, "timesteps_this_iter": 37218, "training_iteration": 237, "episode_reward_mean": 870.188507481237, "experiment_id": "a183ec7aedea427d9bacd699bea0cf75", "policy_reward_mean": {}, "iterations_since_restore": 237, "custom_metrics": {"cost2_min": -50.96548095998139, "outflow_rate_max": 1197.2462805194805, "cost1_mean": 300.0759231751166, "cost2_mean": -37.615432197668206, "system_level_velocity_mean": 12.920606648986546, "cost1_max": 353.19459307679915, "cost1_min": 27.966006322863613, "cost2_max": -15.74042352813951, "outflow_rate_mean": 996.4230531186785, "system_level_velocity_min": 10.197280508882411, "outflow_rate_min": 331.3055169108091, "system_level_velocity_max": 17.930694137997403}, "info": {"num_steps_trained": 9033708, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.015852468088269234, "total_loss": 20.047557830810547, "vf_loss": 20.053417205810547, "policy_loss": -0.009871963411569595, "cur_kl_coeff": 0.25312498211860657, "vf_explained_var": 0.7614730000495911, "entropy": 1.3770133256912231}, "num_steps_sampled": 9033708, "load_time_ms": 12.74, "update_time_ms": 7.04, "grad_time_ms": 8708.797, "sample_time_ms": 13972.039}, "episode_len_mean": 651.14, "time_this_iter_s": 22.44345736503601, "num_metric_batches_dropped": 0, "timesteps_total": 9033708, "episodes_total": 4434, "hostname": "flow-main", "config": {"custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "kl_coeff": 0.2, "train_batch_size": 30000, "log_level": "INFO", "num_workers": 20, "num_sgd_iter": 10, "lr": 0.0005, "monitor": false, "lr_schedule": null, "compress_observations": false, "input": "sampler", "straggler_mitigation": false, "input_evaluation": null, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "optimizer": {}, "vf_share_layers": false, "model": {"fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "fcnet_activation": "tanh", "dim": 84, "lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "channel_major": false, "conv_activation": "relu", "squash_to_range": false, "conv_filters": null, "zero_mean": true, "grayscale": false, "max_seq_len": 20, "free_log_std": false, "custom_preprocessor": null, "custom_options": {}, "use_lstm": false}, "clip_param": 0.3, "num_cpus_for_driver": 1, "synchronize_filters": true, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "output": null, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.3, 0.1]_t_min:10.0", "batch_mode": "truncate_episodes", "simple_optimizer": false, "sample_batch_size": 200, "collect_metrics_timeout": 180, "clip_rewards": null, "clip_actions": false, "kl_target": 0.01, "observation_filter": "NoFilter", "use_gae": true, "entropy_coeff": 0.0, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb72ac8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb72fd0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb72ba8>"}, "gamma": 0.99, "horizon": 1500, "num_gpus_per_worker": 0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "output_max_file_size": 67108864, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "num_gpus": 0, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}}, "timestamp": 1557235880, "episode_reward_max": 1031.2586012094912, "episodes_this_iter": 19, "time_total_s": 5491.03480052948, "time_since_restore": 5491.03480052948}
{"timesteps_since_restore": 9070983, "done": false, "node_ip": "10.138.0.2", "pid": 10867, "date": "2019-05-07_13-31-44", "episode_reward_min": 47.6543822886186, "timesteps_this_iter": 37275, "training_iteration": 238, "episode_reward_mean": 876.9808574438897, "experiment_id": "a183ec7aedea427d9bacd699bea0cf75", "policy_reward_mean": {}, "iterations_since_restore": 238, "custom_metrics": {"cost2_min": -47.83070847707167, "outflow_rate_max": 1197.2462805194805, "cost1_mean": 301.828499960031, "cost2_mean": -37.10839178684642, "system_level_velocity_mean": 12.827485431899282, "cost1_max": 353.19459307679915, "cost1_min": 27.966006322863613, "cost2_max": -15.74042352813951, "outflow_rate_mean": 999.1076660393243, "system_level_velocity_min": 10.197280508882411, "outflow_rate_min": 331.3055169108091, "system_level_velocity_max": 17.930694137997403}, "info": {"num_steps_trained": 9070983, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.015521086752414703, "total_loss": 20.958105087280273, "vf_loss": 20.96392059326172, "policy_loss": -0.009745714254677296, "cur_kl_coeff": 0.2531249523162842, "vf_explained_var": 0.7375800609588623, "entropy": 1.3651043176651}, "num_steps_sampled": 9070983, "load_time_ms": 12.938, "update_time_ms": 7.121, "grad_time_ms": 8694.206, "sample_time_ms": 13991.008}, "episode_len_mean": 657.95, "time_this_iter_s": 23.16390609741211, "num_metric_batches_dropped": 0, "timesteps_total": 9070983, "episodes_total": 4453, "hostname": "flow-main", "config": {"custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "kl_coeff": 0.2, "train_batch_size": 30000, "log_level": "INFO", "num_workers": 20, "num_sgd_iter": 10, "lr": 0.0005, "monitor": false, "lr_schedule": null, "compress_observations": false, "input": "sampler", "straggler_mitigation": false, "input_evaluation": null, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "optimizer": {}, "vf_share_layers": false, "model": {"fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "fcnet_activation": "tanh", "dim": 84, "lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "channel_major": false, "conv_activation": "relu", "squash_to_range": false, "conv_filters": null, "zero_mean": true, "grayscale": false, "max_seq_len": 20, "free_log_std": false, "custom_preprocessor": null, "custom_options": {}, "use_lstm": false}, "clip_param": 0.3, "num_cpus_for_driver": 1, "synchronize_filters": true, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "output": null, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.3, 0.1]_t_min:10.0", "batch_mode": "truncate_episodes", "simple_optimizer": false, "sample_batch_size": 200, "collect_metrics_timeout": 180, "clip_rewards": null, "clip_actions": false, "kl_target": 0.01, "observation_filter": "NoFilter", "use_gae": true, "entropy_coeff": 0.0, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb6e940>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb7fac8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb7f470>"}, "gamma": 0.99, "horizon": 1500, "num_gpus_per_worker": 0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "output_max_file_size": 67108864, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "num_gpus": 0, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}}, "timestamp": 1557235904, "episode_reward_max": 1031.2586012094912, "episodes_this_iter": 19, "time_total_s": 5514.198706626892, "time_since_restore": 5514.198706626892}
{"timesteps_since_restore": 9108079, "done": false, "node_ip": "10.138.0.2", "pid": 10867, "date": "2019-05-07_13-32-06", "episode_reward_min": 47.6543822886186, "timesteps_this_iter": 37096, "training_iteration": 239, "episode_reward_mean": 882.9837116463837, "experiment_id": "a183ec7aedea427d9bacd699bea0cf75", "policy_reward_mean": {}, "iterations_since_restore": 239, "custom_metrics": {"cost2_min": -47.83070847707167, "outflow_rate_max": 1197.1765454545455, "cost1_mean": 303.29132089746787, "cost2_mean": -36.10101491242527, "system_level_velocity_mean": 12.729978943289234, "cost1_max": 346.7722164030204, "cost1_min": 27.966006322863613, "cost2_max": -15.74042352813951, "outflow_rate_mean": 993.4186458683943, "system_level_velocity_min": 10.197280508882411, "outflow_rate_min": 331.3055169108091, "system_level_velocity_max": 17.930694137997403}, "info": {"num_steps_trained": 9108079, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.014396650716662407, "total_loss": 21.721464157104492, "vf_loss": 21.726825714111328, "policy_loss": -0.009005453437566757, "cur_kl_coeff": 0.25312498211860657, "vf_explained_var": 0.7402825355529785, "entropy": 1.3666603565216064}, "num_steps_sampled": 9108079, "load_time_ms": 13.111, "update_time_ms": 7.195, "grad_time_ms": 8813.738, "sample_time_ms": 13894.856}, "episode_len_mean": 665.88, "time_this_iter_s": 22.266246557235718, "num_metric_batches_dropped": 0, "timesteps_total": 9108079, "episodes_total": 4471, "hostname": "flow-main", "config": {"custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "kl_coeff": 0.2, "train_batch_size": 30000, "log_level": "INFO", "num_workers": 20, "num_sgd_iter": 10, "lr": 0.0005, "monitor": false, "lr_schedule": null, "compress_observations": false, "input": "sampler", "straggler_mitigation": false, "input_evaluation": null, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "optimizer": {}, "vf_share_layers": false, "model": {"fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "fcnet_activation": "tanh", "dim": 84, "lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "channel_major": false, "conv_activation": "relu", "squash_to_range": false, "conv_filters": null, "zero_mean": true, "grayscale": false, "max_seq_len": 20, "free_log_std": false, "custom_preprocessor": null, "custom_options": {}, "use_lstm": false}, "clip_param": 0.3, "num_cpus_for_driver": 1, "synchronize_filters": true, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "output": null, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.3, 0.1]_t_min:10.0", "batch_mode": "truncate_episodes", "simple_optimizer": false, "sample_batch_size": 200, "collect_metrics_timeout": 180, "clip_rewards": null, "clip_actions": false, "kl_target": 0.01, "observation_filter": "NoFilter", "use_gae": true, "entropy_coeff": 0.0, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb7fbe0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb7fb70>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb7fe10>"}, "gamma": 0.99, "horizon": 1500, "num_gpus_per_worker": 0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "output_max_file_size": 67108864, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "num_gpus": 0, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}}, "timestamp": 1557235926, "episode_reward_max": 1018.5255005980904, "episodes_this_iter": 18, "time_total_s": 5536.464953184128, "time_since_restore": 5536.464953184128}
{"timesteps_since_restore": 9145561, "done": false, "node_ip": "10.138.0.2", "pid": 10867, "date": "2019-05-07_13-32-29", "episode_reward_min": 47.6543822886186, "timesteps_this_iter": 37482, "training_iteration": 240, "episode_reward_mean": 884.0242435880385, "experiment_id": "a183ec7aedea427d9bacd699bea0cf75", "policy_reward_mean": {}, "iterations_since_restore": 240, "custom_metrics": {"cost2_min": -47.83070847707167, "outflow_rate_max": 1197.1765454545455, "cost1_mean": 304.04983468416305, "cost2_mean": -35.45109154904677, "system_level_velocity_mean": 12.736323111289218, "cost1_max": 342.9924857109184, "cost1_min": 27.966006322863613, "cost2_max": -15.74042352813951, "outflow_rate_mean": 992.824639634628, "system_level_velocity_min": 10.197280508882411, "outflow_rate_min": 331.3055169108091, "system_level_velocity_max": 17.930694137997403}, "info": {"num_steps_trained": 9145561, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.014854480512440205, "total_loss": 20.04851531982422, "vf_loss": 20.054702758789062, "policy_loss": -0.009946763515472412, "cur_kl_coeff": 0.25312498211860657, "vf_explained_var": 0.7413832545280457, "entropy": 1.376164436340332}, "num_steps_sampled": 9145561, "load_time_ms": 12.977, "update_time_ms": 7.309, "grad_time_ms": 8801.796, "sample_time_ms": 13931.434}, "episode_len_mean": 667.55, "time_this_iter_s": 22.605806589126587, "num_metric_batches_dropped": 0, "timesteps_total": 9145561, "episodes_total": 4488, "hostname": "flow-main", "config": {"custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "kl_coeff": 0.2, "train_batch_size": 30000, "log_level": "INFO", "num_workers": 20, "num_sgd_iter": 10, "lr": 0.0005, "monitor": false, "lr_schedule": null, "compress_observations": false, "input": "sampler", "straggler_mitigation": false, "input_evaluation": null, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "optimizer": {}, "vf_share_layers": false, "model": {"fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "fcnet_activation": "tanh", "dim": 84, "lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "channel_major": false, "conv_activation": "relu", "squash_to_range": false, "conv_filters": null, "zero_mean": true, "grayscale": false, "max_seq_len": 20, "free_log_std": false, "custom_preprocessor": null, "custom_options": {}, "use_lstm": false}, "clip_param": 0.3, "num_cpus_for_driver": 1, "synchronize_filters": true, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "output": null, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.3, 0.1]_t_min:10.0", "batch_mode": "truncate_episodes", "simple_optimizer": false, "sample_batch_size": 200, "collect_metrics_timeout": 180, "clip_rewards": null, "clip_actions": false, "kl_target": 0.01, "observation_filter": "NoFilter", "use_gae": true, "entropy_coeff": 0.0, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb72588>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb722e8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb721d0>"}, "gamma": 0.99, "horizon": 1500, "num_gpus_per_worker": 0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "output_max_file_size": 67108864, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "num_gpus": 0, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}}, "timestamp": 1557235949, "episode_reward_max": 1017.1388186154182, "episodes_this_iter": 17, "time_total_s": 5559.070759773254, "time_since_restore": 5559.070759773254}
{"timesteps_since_restore": 9182853, "done": false, "node_ip": "10.138.0.2", "pid": 10867, "date": "2019-05-07_13-32-54", "episode_reward_min": 45.674618840570226, "timesteps_this_iter": 37292, "training_iteration": 241, "episode_reward_mean": 885.2840800441442, "experiment_id": "a183ec7aedea427d9bacd699bea0cf75", "policy_reward_mean": {}, "iterations_since_restore": 241, "custom_metrics": {"cost2_min": -47.581663299051186, "outflow_rate_max": 1141.0907168831168, "cost1_mean": 305.3600117662811, "cost2_mean": -35.293990930625675, "system_level_velocity_mean": 12.622214383202852, "cost1_max": 345.15354768956286, "cost1_min": 25.670389660646943, "cost2_max": -11.820576882989707, "outflow_rate_mean": 993.8586397209614, "system_level_velocity_min": 10.50790715697672, "outflow_rate_min": 332.7571298140349, "system_level_velocity_max": 17.87909336585014}, "info": {"num_steps_trained": 9182853, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.015456415712833405, "total_loss": 31.567110061645508, "vf_loss": 31.573070526123047, "policy_loss": -0.009872726164758205, "cur_kl_coeff": 0.2531249523162842, "vf_explained_var": 0.6450908184051514, "entropy": 1.3877129554748535}, "num_steps_sampled": 9182853, "load_time_ms": 12.966, "update_time_ms": 7.265, "grad_time_ms": 8783.32, "sample_time_ms": 14234.402}, "episode_len_mean": 673.84, "time_this_iter_s": 25.464396953582764, "num_metric_batches_dropped": 0, "timesteps_total": 9182853, "episodes_total": 4512, "hostname": "flow-main", "config": {"custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "kl_coeff": 0.2, "train_batch_size": 30000, "log_level": "INFO", "num_workers": 20, "num_sgd_iter": 10, "lr": 0.0005, "monitor": false, "lr_schedule": null, "compress_observations": false, "input": "sampler", "straggler_mitigation": false, "input_evaluation": null, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "optimizer": {}, "vf_share_layers": false, "model": {"fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "fcnet_activation": "tanh", "dim": 84, "lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "channel_major": false, "conv_activation": "relu", "squash_to_range": false, "conv_filters": null, "zero_mean": true, "grayscale": false, "max_seq_len": 20, "free_log_std": false, "custom_preprocessor": null, "custom_options": {}, "use_lstm": false}, "clip_param": 0.3, "num_cpus_for_driver": 1, "synchronize_filters": true, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "output": null, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.3, 0.1]_t_min:10.0", "batch_mode": "truncate_episodes", "simple_optimizer": false, "sample_batch_size": 200, "collect_metrics_timeout": 180, "clip_rewards": null, "clip_actions": false, "kl_target": 0.01, "observation_filter": "NoFilter", "use_gae": true, "entropy_coeff": 0.0, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb720b8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb79d68>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb72780>"}, "gamma": 0.99, "horizon": 1500, "num_gpus_per_worker": 0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "output_max_file_size": 67108864, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "num_gpus": 0, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}}, "timestamp": 1557235974, "episode_reward_max": 1017.1388186154182, "episodes_this_iter": 24, "time_total_s": 5584.535156726837, "time_since_restore": 5584.535156726837}
{"timesteps_since_restore": 9220608, "done": false, "node_ip": "10.138.0.2", "pid": 10867, "date": "2019-05-07_13-33-17", "episode_reward_min": 45.674618840570226, "timesteps_this_iter": 37755, "training_iteration": 242, "episode_reward_mean": 883.5201606975901, "experiment_id": "a183ec7aedea427d9bacd699bea0cf75", "policy_reward_mean": {}, "iterations_since_restore": 242, "custom_metrics": {"cost2_min": -47.581663299051186, "outflow_rate_max": 1141.0907168831168, "cost1_mean": 305.1615968727523, "cost2_mean": -34.39048507130161, "system_level_velocity_mean": 12.606626758356397, "cost1_max": 345.15354768956286, "cost1_min": 25.670389660646943, "cost2_max": -11.820576882989707, "outflow_rate_mean": 995.272396500182, "system_level_velocity_min": 10.50790715697672, "outflow_rate_min": 332.7571298140349, "system_level_velocity_max": 17.87909336585014}, "info": {"num_steps_trained": 9220608, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.014615503139793873, "total_loss": 20.289749145507812, "vf_loss": 20.295167922973633, "policy_loss": -0.009118069894611835, "cur_kl_coeff": 0.2531249523162842, "vf_explained_var": 0.713861346244812, "entropy": 1.384321928024292}, "num_steps_sampled": 9220608, "load_time_ms": 12.667, "update_time_ms": 7.268, "grad_time_ms": 8796.916, "sample_time_ms": 14160.205}, "episode_len_mean": 674.23, "time_this_iter_s": 22.414021492004395, "num_metric_batches_dropped": 0, "timesteps_total": 9220608, "episodes_total": 4527, "hostname": "flow-main", "config": {"custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "kl_coeff": 0.2, "train_batch_size": 30000, "log_level": "INFO", "num_workers": 20, "num_sgd_iter": 10, "lr": 0.0005, "monitor": false, "lr_schedule": null, "compress_observations": false, "input": "sampler", "straggler_mitigation": false, "input_evaluation": null, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "optimizer": {}, "vf_share_layers": false, "model": {"fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "fcnet_activation": "tanh", "dim": 84, "lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "channel_major": false, "conv_activation": "relu", "squash_to_range": false, "conv_filters": null, "zero_mean": true, "grayscale": false, "max_seq_len": 20, "free_log_std": false, "custom_preprocessor": null, "custom_options": {}, "use_lstm": false}, "clip_param": 0.3, "num_cpus_for_driver": 1, "synchronize_filters": true, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "output": null, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.3, 0.1]_t_min:10.0", "batch_mode": "truncate_episodes", "simple_optimizer": false, "sample_batch_size": 200, "collect_metrics_timeout": 180, "clip_rewards": null, "clip_actions": false, "kl_target": 0.01, "observation_filter": "NoFilter", "use_gae": true, "entropy_coeff": 0.0, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb7fe10>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f946116fac8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb7f3c8>"}, "gamma": 0.99, "horizon": 1500, "num_gpus_per_worker": 0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "output_max_file_size": 67108864, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "num_gpus": 0, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}}, "timestamp": 1557235997, "episode_reward_max": 1017.1388186154182, "episodes_this_iter": 15, "time_total_s": 5606.949178218842, "time_since_restore": 5606.949178218842}
{"timesteps_since_restore": 9257724, "done": false, "node_ip": "10.138.0.2", "pid": 10867, "date": "2019-05-07_13-33-41", "episode_reward_min": 45.29566928166468, "timesteps_this_iter": 37116, "training_iteration": 243, "episode_reward_mean": 866.6839844881131, "experiment_id": "a183ec7aedea427d9bacd699bea0cf75", "policy_reward_mean": {}, "iterations_since_restore": 243, "custom_metrics": {"cost2_min": -47.581663299051186, "outflow_rate_max": 1171.8848207792207, "cost1_mean": 300.6486828192912, "cost2_mean": -34.00439821826932, "system_level_velocity_mean": 12.756011795929325, "cost1_max": 346.58231878866, "cost1_min": 25.670389660646943, "cost2_max": -11.820576882989707, "outflow_rate_mean": 988.2622642529603, "system_level_velocity_min": 10.50790715697672, "outflow_rate_min": 329.0289964895558, "system_level_velocity_max": 17.87909336585014}, "info": {"num_steps_trained": 9257724, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.014491521753370762, "total_loss": 30.092647552490234, "vf_loss": 30.097959518432617, "policy_loss": -0.008979693055152893, "cur_kl_coeff": 0.25312498211860657, "vf_explained_var": 0.6076139807701111, "entropy": 1.37284517288208}, "num_steps_sampled": 9257724, "load_time_ms": 12.597, "update_time_ms": 7.28, "grad_time_ms": 8753.057, "sample_time_ms": 14373.419}, "episode_len_mean": 661.44, "time_this_iter_s": 24.122859001159668, "num_metric_batches_dropped": 0, "timesteps_total": 9257724, "episodes_total": 4549, "hostname": "flow-main", "config": {"custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "kl_coeff": 0.2, "train_batch_size": 30000, "log_level": "INFO", "num_workers": 20, "num_sgd_iter": 10, "lr": 0.0005, "monitor": false, "lr_schedule": null, "compress_observations": false, "input": "sampler", "straggler_mitigation": false, "input_evaluation": null, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "optimizer": {}, "vf_share_layers": false, "model": {"fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "fcnet_activation": "tanh", "dim": 84, "lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "channel_major": false, "conv_activation": "relu", "squash_to_range": false, "conv_filters": null, "zero_mean": true, "grayscale": false, "max_seq_len": 20, "free_log_std": false, "custom_preprocessor": null, "custom_options": {}, "use_lstm": false}, "clip_param": 0.3, "num_cpus_for_driver": 1, "synchronize_filters": true, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "output": null, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.3, 0.1]_t_min:10.0", "batch_mode": "truncate_episodes", "simple_optimizer": false, "sample_batch_size": 200, "collect_metrics_timeout": 180, "clip_rewards": null, "clip_actions": false, "kl_target": 0.01, "observation_filter": "NoFilter", "use_gae": true, "entropy_coeff": 0.0, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb79eb8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb79550>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb79a58>"}, "gamma": 0.99, "horizon": 1500, "num_gpus_per_worker": 0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "output_max_file_size": 67108864, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "num_gpus": 0, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}}, "timestamp": 1557236021, "episode_reward_max": 1017.1388186154182, "episodes_this_iter": 22, "time_total_s": 5631.072037220001, "time_since_restore": 5631.072037220001}
{"timesteps_since_restore": 9295198, "done": false, "node_ip": "10.138.0.2", "pid": 10867, "date": "2019-05-07_13-34-02", "episode_reward_min": 45.29566928166468, "timesteps_this_iter": 37474, "training_iteration": 244, "episode_reward_mean": 859.396002190223, "experiment_id": "a183ec7aedea427d9bacd699bea0cf75", "policy_reward_mean": {}, "iterations_since_restore": 244, "custom_metrics": {"cost2_min": -47.581663299051186, "outflow_rate_max": 1171.8848207792207, "cost1_mean": 297.68907109090617, "cost2_mean": -33.812512297102856, "system_level_velocity_mean": 12.731965170961953, "cost1_max": 346.58231878866, "cost1_min": 25.670389660646943, "cost2_max": -11.820576882989707, "outflow_rate_mean": 983.223979260959, "system_level_velocity_min": 10.50790715697672, "outflow_rate_min": 329.0289964895558, "system_level_velocity_max": 17.87909336585014}, "info": {"num_steps_trained": 9295198, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.015542621724307537, "total_loss": 28.488813400268555, "vf_loss": 28.49364471435547, "policy_loss": -0.00876423716545105, "cur_kl_coeff": 0.25312498211860657, "vf_explained_var": 0.5192356109619141, "entropy": 1.3883936405181885}, "num_steps_sampled": 9295198, "load_time_ms": 12.407, "update_time_ms": 7.261, "grad_time_ms": 8520.598, "sample_time_ms": 14348.564}, "episode_len_mean": 655.85, "time_this_iter_s": 21.12603211402893, "num_metric_batches_dropped": 0, "timesteps_total": 9295198, "episodes_total": 4569, "hostname": "flow-main", "config": {"custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "kl_coeff": 0.2, "train_batch_size": 30000, "log_level": "INFO", "num_workers": 20, "num_sgd_iter": 10, "lr": 0.0005, "monitor": false, "lr_schedule": null, "compress_observations": false, "input": "sampler", "straggler_mitigation": false, "input_evaluation": null, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "optimizer": {}, "vf_share_layers": false, "model": {"fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "fcnet_activation": "tanh", "dim": 84, "lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "channel_major": false, "conv_activation": "relu", "squash_to_range": false, "conv_filters": null, "zero_mean": true, "grayscale": false, "max_seq_len": 20, "free_log_std": false, "custom_preprocessor": null, "custom_options": {}, "use_lstm": false}, "clip_param": 0.3, "num_cpus_for_driver": 1, "synchronize_filters": true, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "output": null, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.3, 0.1]_t_min:10.0", "batch_mode": "truncate_episodes", "simple_optimizer": false, "sample_batch_size": 200, "collect_metrics_timeout": 180, "clip_rewards": null, "clip_actions": false, "kl_target": 0.01, "observation_filter": "NoFilter", "use_gae": true, "entropy_coeff": 0.0, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb69048>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb692e8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb69a90>"}, "gamma": 0.99, "horizon": 1500, "num_gpus_per_worker": 0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "output_max_file_size": 67108864, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "num_gpus": 0, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}}, "timestamp": 1557236042, "episode_reward_max": 1000.098675597564, "episodes_this_iter": 20, "time_total_s": 5652.19806933403, "time_since_restore": 5652.19806933403}
{"timesteps_since_restore": 9333191, "done": false, "node_ip": "10.138.0.2", "pid": 10867, "date": "2019-05-07_13-34-25", "episode_reward_min": 45.29566928166468, "timesteps_this_iter": 37993, "training_iteration": 245, "episode_reward_mean": 859.925567745044, "experiment_id": "a183ec7aedea427d9bacd699bea0cf75", "policy_reward_mean": {}, "iterations_since_restore": 245, "custom_metrics": {"cost2_min": -58.157908595673575, "outflow_rate_max": 1174.6324675324677, "cost1_mean": 296.97475264097966, "cost2_mean": -33.84970947223642, "system_level_velocity_mean": 12.674548073882503, "cost1_max": 346.58231878866, "cost1_min": 25.670389660646943, "cost2_max": -11.820576882989707, "outflow_rate_mean": 982.6326398323876, "system_level_velocity_min": 11.021469675200374, "outflow_rate_min": 329.0289964895558, "system_level_velocity_max": 17.87909336585014}, "info": {"num_steps_trained": 9333191, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.0156312994658947, "total_loss": 22.21398162841797, "vf_loss": 22.2188720703125, "policy_loss": -0.008849382400512695, "cur_kl_coeff": 0.25312498211860657, "vf_explained_var": 0.660104513168335, "entropy": 1.3903992176055908}, "num_steps_sampled": 9333191, "load_time_ms": 12.649, "update_time_ms": 7.152, "grad_time_ms": 8561.815, "sample_time_ms": 14216.076}, "episode_len_mean": 656.63, "time_this_iter_s": 23.284531831741333, "num_metric_batches_dropped": 0, "timesteps_total": 9333191, "episodes_total": 4586, "hostname": "flow-main", "config": {"custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "kl_coeff": 0.2, "train_batch_size": 30000, "log_level": "INFO", "num_workers": 20, "num_sgd_iter": 10, "lr": 0.0005, "monitor": false, "lr_schedule": null, "compress_observations": false, "input": "sampler", "straggler_mitigation": false, "input_evaluation": null, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "optimizer": {}, "vf_share_layers": false, "model": {"fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "fcnet_activation": "tanh", "dim": 84, "lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "channel_major": false, "conv_activation": "relu", "squash_to_range": false, "conv_filters": null, "zero_mean": true, "grayscale": false, "max_seq_len": 20, "free_log_std": false, "custom_preprocessor": null, "custom_options": {}, "use_lstm": false}, "clip_param": 0.3, "num_cpus_for_driver": 1, "synchronize_filters": true, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "output": null, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.3, 0.1]_t_min:10.0", "batch_mode": "truncate_episodes", "simple_optimizer": false, "sample_batch_size": 200, "collect_metrics_timeout": 180, "clip_rewards": null, "clip_actions": false, "kl_target": 0.01, "observation_filter": "NoFilter", "use_gae": true, "entropy_coeff": 0.0, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb7fe10>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb7f0f0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb7f278>"}, "gamma": 0.99, "horizon": 1500, "num_gpus_per_worker": 0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "output_max_file_size": 67108864, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "num_gpus": 0, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}}, "timestamp": 1557236065, "episode_reward_max": 1005.3260377487713, "episodes_this_iter": 17, "time_total_s": 5675.4826011657715, "time_since_restore": 5675.4826011657715}
{"timesteps_since_restore": 9371061, "done": false, "node_ip": "10.138.0.2", "pid": 10867, "date": "2019-05-07_13-34-48", "episode_reward_min": 45.29566928166468, "timesteps_this_iter": 37870, "training_iteration": 246, "episode_reward_mean": 877.7221479966826, "experiment_id": "a183ec7aedea427d9bacd699bea0cf75", "policy_reward_mean": {}, "iterations_since_restore": 246, "custom_metrics": {"cost2_min": -58.157908595673575, "outflow_rate_max": 1174.6324675324677, "cost1_mean": 300.7388434438017, "cost2_mean": -33.935256405308536, "system_level_velocity_mean": 12.488007397045811, "cost1_max": 346.58231878866, "cost1_min": 28.068390408635516, "cost2_max": -16.54853975156389, "outflow_rate_mean": 989.9620144970032, "system_level_velocity_min": 10.914307494720532, "outflow_rate_min": 329.0289964895558, "system_level_velocity_max": 17.87909336585014}, "info": {"num_steps_trained": 9371061, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.017219703644514084, "total_loss": 24.397382736206055, "vf_loss": 24.403451919555664, "policy_loss": -0.010429180227220058, "cur_kl_coeff": 0.2531249523162842, "vf_explained_var": 0.593355655670166, "entropy": 1.4056771993637085}, "num_steps_sampled": 9371061, "load_time_ms": 12.681, "update_time_ms": 6.9, "grad_time_ms": 8695.151, "sample_time_ms": 14169.746}, "episode_len_mean": 669.66, "time_this_iter_s": 22.70369863510132, "num_metric_batches_dropped": 0, "timesteps_total": 9371061, "episodes_total": 4603, "hostname": "flow-main", "config": {"custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "kl_coeff": 0.2, "train_batch_size": 30000, "log_level": "INFO", "num_workers": 20, "num_sgd_iter": 10, "lr": 0.0005, "monitor": false, "lr_schedule": null, "compress_observations": false, "input": "sampler", "straggler_mitigation": false, "input_evaluation": null, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "optimizer": {}, "vf_share_layers": false, "model": {"fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "fcnet_activation": "tanh", "dim": 84, "lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "channel_major": false, "conv_activation": "relu", "squash_to_range": false, "conv_filters": null, "zero_mean": true, "grayscale": false, "max_seq_len": 20, "free_log_std": false, "custom_preprocessor": null, "custom_options": {}, "use_lstm": false}, "clip_param": 0.3, "num_cpus_for_driver": 1, "synchronize_filters": true, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "output": null, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.3, 0.1]_t_min:10.0", "batch_mode": "truncate_episodes", "simple_optimizer": false, "sample_batch_size": 200, "collect_metrics_timeout": 180, "clip_rewards": null, "clip_actions": false, "kl_target": 0.01, "observation_filter": "NoFilter", "use_gae": true, "entropy_coeff": 0.0, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb794e0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb79e10>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb792e8>"}, "gamma": 0.99, "horizon": 1500, "num_gpus_per_worker": 0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "output_max_file_size": 67108864, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "num_gpus": 0, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}}, "timestamp": 1557236088, "episode_reward_max": 1005.3260377487713, "episodes_this_iter": 17, "time_total_s": 5698.186299800873, "time_since_restore": 5698.186299800873}
{"timesteps_since_restore": 9408433, "done": false, "node_ip": "10.138.0.2", "pid": 10867, "date": "2019-05-07_13-35-11", "episode_reward_min": 45.29566928166468, "timesteps_this_iter": 37372, "training_iteration": 247, "episode_reward_mean": 885.7410019498, "experiment_id": "a183ec7aedea427d9bacd699bea0cf75", "policy_reward_mean": {}, "iterations_since_restore": 247, "custom_metrics": {"cost2_min": -58.157908595673575, "outflow_rate_max": 1174.6324675324677, "cost1_mean": 301.85665306511436, "cost2_mean": -34.2021207510794, "system_level_velocity_mean": 12.392923029492751, "cost1_max": 346.58231878866, "cost1_min": 28.068390408635516, "cost2_max": -16.54853975156389, "outflow_rate_mean": 989.9246043625546, "system_level_velocity_min": 10.84194329883755, "outflow_rate_min": 329.0289964895558, "system_level_velocity_max": 17.48468689652648}, "info": {"num_steps_trained": 9408433, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.014441614970564842, "total_loss": 23.239665985107422, "vf_loss": 23.24505043029785, "policy_loss": -0.009040088392794132, "cur_kl_coeff": 0.2531249523162842, "vf_explained_var": 0.6569538712501526, "entropy": 1.408320426940918}, "num_steps_sampled": 9408433, "load_time_ms": 12.605, "update_time_ms": 7.004, "grad_time_ms": 8895.18, "sample_time_ms": 14030.063}, "episode_len_mean": 674.2, "time_this_iter_s": 23.043785572052002, "num_metric_batches_dropped": 0, "timesteps_total": 9408433, "episodes_total": 4623, "hostname": "flow-main", "config": {"custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "kl_coeff": 0.2, "train_batch_size": 30000, "log_level": "INFO", "num_workers": 20, "num_sgd_iter": 10, "lr": 0.0005, "monitor": false, "lr_schedule": null, "compress_observations": false, "input": "sampler", "straggler_mitigation": false, "input_evaluation": null, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "optimizer": {}, "vf_share_layers": false, "model": {"fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "fcnet_activation": "tanh", "dim": 84, "lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "channel_major": false, "conv_activation": "relu", "squash_to_range": false, "conv_filters": null, "zero_mean": true, "grayscale": false, "max_seq_len": 20, "free_log_std": false, "custom_preprocessor": null, "custom_options": {}, "use_lstm": false}, "clip_param": 0.3, "num_cpus_for_driver": 1, "synchronize_filters": true, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "output": null, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.3, 0.1]_t_min:10.0", "batch_mode": "truncate_episodes", "simple_optimizer": false, "sample_batch_size": 200, "collect_metrics_timeout": 180, "clip_rewards": null, "clip_actions": false, "kl_target": 0.01, "observation_filter": "NoFilter", "use_gae": true, "entropy_coeff": 0.0, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb7fac8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb7f320>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb7f4a8>"}, "gamma": 0.99, "horizon": 1500, "num_gpus_per_worker": 0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "output_max_file_size": 67108864, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "num_gpus": 0, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}}, "timestamp": 1557236111, "episode_reward_max": 1005.3260377487713, "episodes_this_iter": 20, "time_total_s": 5721.230085372925, "time_since_restore": 5721.230085372925}
{"timesteps_since_restore": 9445880, "done": false, "node_ip": "10.138.0.2", "pid": 10867, "date": "2019-05-07_13-35-34", "episode_reward_min": 45.29566928166468, "timesteps_this_iter": 37447, "training_iteration": 248, "episode_reward_mean": 894.7382096992604, "experiment_id": "a183ec7aedea427d9bacd699bea0cf75", "policy_reward_mean": {}, "iterations_since_restore": 248, "custom_metrics": {"cost2_min": -58.157908595673575, "outflow_rate_max": 1174.6324675324677, "cost1_mean": 304.8630665963897, "cost2_mean": -34.26678504988708, "system_level_velocity_mean": 12.28907925861595, "cost1_max": 341.83649064619595, "cost1_min": 28.068390408635516, "cost2_max": -16.54853975156389, "outflow_rate_mean": 995.8972961106118, "system_level_velocity_min": 10.84194329883755, "outflow_rate_min": 329.0289964895558, "system_level_velocity_max": 17.48468689652648}, "info": {"num_steps_trained": 9445880, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.017400868237018585, "total_loss": 27.781362533569336, "vf_loss": 27.787199020385742, "policy_loss": -0.010243511758744717, "cur_kl_coeff": 0.25312498211860657, "vf_explained_var": 0.6041796207427979, "entropy": 1.410244107246399}, "num_steps_sampled": 9445880, "load_time_ms": 12.505, "update_time_ms": 7.053, "grad_time_ms": 8883.184, "sample_time_ms": 14035.739}, "episode_len_mean": 683.31, "time_this_iter_s": 23.089695930480957, "num_metric_batches_dropped": 0, "timesteps_total": 9445880, "episodes_total": 4643, "hostname": "flow-main", "config": {"custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "kl_coeff": 0.2, "train_batch_size": 30000, "log_level": "INFO", "num_workers": 20, "num_sgd_iter": 10, "lr": 0.0005, "monitor": false, "lr_schedule": null, "compress_observations": false, "input": "sampler", "straggler_mitigation": false, "input_evaluation": null, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "optimizer": {}, "vf_share_layers": false, "model": {"fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "fcnet_activation": "tanh", "dim": 84, "lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "channel_major": false, "conv_activation": "relu", "squash_to_range": false, "conv_filters": null, "zero_mean": true, "grayscale": false, "max_seq_len": 20, "free_log_std": false, "custom_preprocessor": null, "custom_options": {}, "use_lstm": false}, "clip_param": 0.3, "num_cpus_for_driver": 1, "synchronize_filters": true, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "output": null, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.3, 0.1]_t_min:10.0", "batch_mode": "truncate_episodes", "simple_optimizer": false, "sample_batch_size": 200, "collect_metrics_timeout": 180, "clip_rewards": null, "clip_actions": false, "kl_target": 0.01, "observation_filter": "NoFilter", "use_gae": true, "entropy_coeff": 0.0, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb72080>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb72208>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb72c18>"}, "gamma": 0.99, "horizon": 1500, "num_gpus_per_worker": 0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "output_max_file_size": 67108864, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "num_gpus": 0, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}}, "timestamp": 1557236134, "episode_reward_max": 1005.3260377487713, "episodes_this_iter": 20, "time_total_s": 5744.319781303406, "time_since_restore": 5744.319781303406}
{"timesteps_since_restore": 9483139, "done": false, "node_ip": "10.138.0.2", "pid": 10867, "date": "2019-05-07_13-35-55", "episode_reward_min": 320.92826816515844, "timesteps_this_iter": 37259, "training_iteration": 249, "episode_reward_mean": 908.0507103957024, "experiment_id": "a183ec7aedea427d9bacd699bea0cf75", "policy_reward_mean": {}, "iterations_since_restore": 249, "custom_metrics": {"cost2_min": -58.157908595673575, "cost2_mean": -33.925284936168495, "cost1_mean": 308.3756904393461, "system_level_velocity_mean": 12.19756206737762, "cost1_max": 341.83649064619595, "cost1_min": 128.78145644096472, "cost2_max": -23.997977459700177, "outflow_rate_max": 1174.6324675324677, "system_level_velocity_min": 10.353560951615645, "outflow_rate_min": 690.3571033821618, "system_level_velocity_max": 14.213042971301677, "outflow_rate_mean": 1005.8409574373218}, "info": {"num_steps_trained": 9483139, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.017200343310832977, "total_loss": 22.558053970336914, "vf_loss": 22.563274383544922, "policy_loss": -0.009574797004461288, "cur_kl_coeff": 0.2531249523162842, "vf_explained_var": 0.6284894943237305, "entropy": 1.374857783317566}, "num_steps_sampled": 9483139, "load_time_ms": 12.308, "update_time_ms": 6.839, "grad_time_ms": 8705.486, "sample_time_ms": 14069.963}, "episode_len_mean": 692.21, "time_this_iter_s": 20.811918020248413, "num_metric_batches_dropped": 0, "timesteps_total": 9483139, "episodes_total": 4660, "hostname": "flow-main", "config": {"custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "kl_coeff": 0.2, "train_batch_size": 30000, "log_level": "INFO", "num_workers": 20, "num_sgd_iter": 10, "lr": 0.0005, "monitor": false, "lr_schedule": null, "compress_observations": false, "input": "sampler", "straggler_mitigation": false, "input_evaluation": null, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "optimizer": {}, "vf_share_layers": false, "model": {"fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "fcnet_activation": "tanh", "dim": 84, "lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "channel_major": false, "conv_activation": "relu", "squash_to_range": false, "conv_filters": null, "zero_mean": true, "grayscale": false, "max_seq_len": 20, "free_log_std": false, "custom_preprocessor": null, "custom_options": {}, "use_lstm": false}, "clip_param": 0.3, "num_cpus_for_driver": 1, "synchronize_filters": true, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "output": null, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.3, 0.1]_t_min:10.0", "batch_mode": "truncate_episodes", "simple_optimizer": false, "sample_batch_size": 200, "collect_metrics_timeout": 180, "clip_rewards": null, "clip_actions": false, "kl_target": 0.01, "observation_filter": "NoFilter", "use_gae": true, "entropy_coeff": 0.0, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb79748>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb79400>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb79e10>"}, "gamma": 0.99, "horizon": 1500, "num_gpus_per_worker": 0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "output_max_file_size": 67108864, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "num_gpus": 0, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}}, "timestamp": 1557236155, "episode_reward_max": 1005.3260377487713, "episodes_this_iter": 17, "time_total_s": 5765.131699323654, "time_since_restore": 5765.131699323654}
{"timesteps_since_restore": 9520753, "done": false, "node_ip": "10.138.0.2", "pid": 10867, "date": "2019-05-07_13-36-17", "episode_reward_min": 44.3597489116322, "timesteps_this_iter": 37614, "training_iteration": 250, "episode_reward_mean": 891.5124822305636, "experiment_id": "a183ec7aedea427d9bacd699bea0cf75", "policy_reward_mean": {}, "iterations_since_restore": 250, "custom_metrics": {"cost2_min": -43.86258223995108, "outflow_rate_max": 1149.2604987012985, "cost1_mean": 303.4999824462086, "cost2_mean": -32.900573306038616, "system_level_velocity_mean": 12.258491531216162, "cost1_max": 342.62267862537135, "cost1_min": 27.867815694448105, "cost2_max": -17.61121626034947, "outflow_rate_mean": 991.4716246102424, "system_level_velocity_min": 10.3093505456244, "outflow_rate_min": 340.0431742023662, "system_level_velocity_max": 18.719499985574533}, "info": {"num_steps_trained": 9520753, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.01491006650030613, "total_loss": 25.07367515563965, "vf_loss": 25.079038619995117, "policy_loss": -0.009136206470429897, "cur_kl_coeff": 0.25312498211860657, "vf_explained_var": 0.6252569556236267, "entropy": 1.3601425886154175}, "num_steps_sampled": 9520753, "load_time_ms": 12.227, "update_time_ms": 6.716, "grad_time_ms": 8730.915, "sample_time_ms": 14035.554}, "episode_len_mean": 681.87, "time_this_iter_s": 22.503661394119263, "num_metric_batches_dropped": 0, "timesteps_total": 9520753, "episodes_total": 4679, "hostname": "flow-main", "config": {"custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "kl_coeff": 0.2, "train_batch_size": 30000, "log_level": "INFO", "num_workers": 20, "num_sgd_iter": 10, "lr": 0.0005, "monitor": false, "lr_schedule": null, "compress_observations": false, "input": "sampler", "straggler_mitigation": false, "input_evaluation": null, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "optimizer": {}, "vf_share_layers": false, "model": {"fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "fcnet_activation": "tanh", "dim": 84, "lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "channel_major": false, "conv_activation": "relu", "squash_to_range": false, "conv_filters": null, "zero_mean": true, "grayscale": false, "max_seq_len": 20, "free_log_std": false, "custom_preprocessor": null, "custom_options": {}, "use_lstm": false}, "clip_param": 0.3, "num_cpus_for_driver": 1, "synchronize_filters": true, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "output": null, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.3, 0.1]_t_min:10.0", "batch_mode": "truncate_episodes", "simple_optimizer": false, "sample_batch_size": 200, "collect_metrics_timeout": 180, "clip_rewards": null, "clip_actions": false, "kl_target": 0.01, "observation_filter": "NoFilter", "use_gae": true, "entropy_coeff": 0.0, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb692e8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb699b0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb69630>"}, "gamma": 0.99, "horizon": 1500, "num_gpus_per_worker": 0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "output_max_file_size": 67108864, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "num_gpus": 0, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}}, "timestamp": 1557236177, "episode_reward_max": 991.6281562173968, "episodes_this_iter": 19, "time_total_s": 5787.635360717773, "time_since_restore": 5787.635360717773}
{"timesteps_since_restore": 9557783, "done": false, "node_ip": "10.138.0.2", "pid": 10867, "date": "2019-05-07_13-36-40", "episode_reward_min": 44.3597489116322, "timesteps_this_iter": 37030, "training_iteration": 251, "episode_reward_mean": 880.8890281316836, "experiment_id": "a183ec7aedea427d9bacd699bea0cf75", "policy_reward_mean": {}, "iterations_since_restore": 251, "custom_metrics": {"cost2_min": -48.61740106609614, "outflow_rate_max": 1149.2604987012985, "cost1_mean": 300.80261481980887, "cost2_mean": -32.64664742436802, "system_level_velocity_mean": 12.34213017453352, "cost1_max": 351.398459927207, "cost1_min": 27.867815694448105, "cost2_max": -17.493407119201322, "outflow_rate_mean": 988.2357223841033, "system_level_velocity_min": 10.3093505456244, "outflow_rate_min": 338.86037478867604, "system_level_velocity_max": 18.719499985574533}, "info": {"num_steps_trained": 9557783, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.020082054659724236, "total_loss": 25.67831802368164, "vf_loss": 25.68197250366211, "policy_loss": -0.008736280724406242, "cur_kl_coeff": 0.25312498211860657, "vf_explained_var": 0.6442729830741882, "entropy": 1.3650740385055542}, "num_steps_sampled": 9557783, "load_time_ms": 12.045, "update_time_ms": 6.59, "grad_time_ms": 8743.751, "sample_time_ms": 13695.685}, "episode_len_mean": 675.31, "time_this_iter_s": 22.190303325653076, "num_metric_batches_dropped": 0, "timesteps_total": 9557783, "episodes_total": 4700, "hostname": "flow-main", "config": {"custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "kl_coeff": 0.2, "train_batch_size": 30000, "log_level": "INFO", "num_workers": 20, "num_sgd_iter": 10, "lr": 0.0005, "monitor": false, "lr_schedule": null, "compress_observations": false, "input": "sampler", "straggler_mitigation": false, "input_evaluation": null, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "optimizer": {}, "vf_share_layers": false, "model": {"fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "fcnet_activation": "tanh", "dim": 84, "lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "channel_major": false, "conv_activation": "relu", "squash_to_range": false, "conv_filters": null, "zero_mean": true, "grayscale": false, "max_seq_len": 20, "free_log_std": false, "custom_preprocessor": null, "custom_options": {}, "use_lstm": false}, "clip_param": 0.3, "num_cpus_for_driver": 1, "synchronize_filters": true, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "output": null, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.3, 0.1]_t_min:10.0", "batch_mode": "truncate_episodes", "simple_optimizer": false, "sample_batch_size": 200, "collect_metrics_timeout": 180, "clip_rewards": null, "clip_actions": false, "kl_target": 0.01, "observation_filter": "NoFilter", "use_gae": true, "entropy_coeff": 0.0, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb7fe10>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb7f518>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb7f198>"}, "gamma": 0.99, "horizon": 1500, "num_gpus_per_worker": 0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "output_max_file_size": 67108864, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "num_gpus": 0, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}}, "timestamp": 1557236200, "episode_reward_max": 991.6281562173968, "episodes_this_iter": 21, "time_total_s": 5809.8256640434265, "time_since_restore": 5809.8256640434265}
{"timesteps_since_restore": 9595698, "done": false, "node_ip": "10.138.0.2", "pid": 10867, "date": "2019-05-07_13-37-02", "episode_reward_min": 44.3597489116322, "timesteps_this_iter": 37915, "training_iteration": 252, "episode_reward_mean": 879.0568194436626, "experiment_id": "a183ec7aedea427d9bacd699bea0cf75", "policy_reward_mean": {}, "iterations_since_restore": 252, "custom_metrics": {"cost2_min": -48.61740106609614, "outflow_rate_max": 1171.3858857142857, "cost1_mean": 302.9555165010735, "cost2_mean": -32.45060983170896, "system_level_velocity_mean": 12.456442812054254, "cost1_max": 351.398459927207, "cost1_min": 27.867815694448105, "cost2_max": -17.493407119201322, "outflow_rate_mean": 994.8639279425448, "system_level_velocity_min": 10.3093505456244, "outflow_rate_min": 338.86037478867604, "system_level_velocity_max": 18.719499985574533}, "info": {"num_steps_trained": 9595698, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.01161033846437931, "total_loss": 18.91509246826172, "vf_loss": 18.919416427612305, "policy_loss": -0.008731016889214516, "cur_kl_coeff": 0.37968751788139343, "vf_explained_var": 0.7004907727241516, "entropy": 1.3724476099014282}, "num_steps_sampled": 9595698, "load_time_ms": 12.177, "update_time_ms": 6.687, "grad_time_ms": 8780.675, "sample_time_ms": 13687.64}, "episode_len_mean": 674.42, "time_this_iter_s": 22.710912704467773, "num_metric_batches_dropped": 0, "timesteps_total": 9595698, "episodes_total": 4716, "hostname": "flow-main", "config": {"custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "kl_coeff": 0.2, "train_batch_size": 30000, "log_level": "INFO", "num_workers": 20, "num_sgd_iter": 10, "lr": 0.0005, "monitor": false, "lr_schedule": null, "compress_observations": false, "input": "sampler", "straggler_mitigation": false, "input_evaluation": null, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "optimizer": {}, "vf_share_layers": false, "model": {"fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "fcnet_activation": "tanh", "dim": 84, "lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "channel_major": false, "conv_activation": "relu", "squash_to_range": false, "conv_filters": null, "zero_mean": true, "grayscale": false, "max_seq_len": 20, "free_log_std": false, "custom_preprocessor": null, "custom_options": {}, "use_lstm": false}, "clip_param": 0.3, "num_cpus_for_driver": 1, "synchronize_filters": true, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "output": null, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.3, 0.1]_t_min:10.0", "batch_mode": "truncate_episodes", "simple_optimizer": false, "sample_batch_size": 200, "collect_metrics_timeout": 180, "clip_rewards": null, "clip_actions": false, "kl_target": 0.01, "observation_filter": "NoFilter", "use_gae": true, "entropy_coeff": 0.0, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb79b38>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb790b8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb796a0>"}, "gamma": 0.99, "horizon": 1500, "num_gpus_per_worker": 0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "output_max_file_size": 67108864, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "num_gpus": 0, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}}, "timestamp": 1557236222, "episode_reward_max": 986.0084223659474, "episodes_this_iter": 16, "time_total_s": 5832.536576747894, "time_since_restore": 5832.536576747894}
{"timesteps_since_restore": 9633428, "done": false, "node_ip": "10.138.0.2", "pid": 10867, "date": "2019-05-07_13-37-25", "episode_reward_min": 44.3597489116322, "timesteps_this_iter": 37730, "training_iteration": 253, "episode_reward_mean": 884.4900532430507, "experiment_id": "a183ec7aedea427d9bacd699bea0cf75", "policy_reward_mean": {}, "iterations_since_restore": 253, "custom_metrics": {"cost2_min": -48.61740106609614, "outflow_rate_max": 1171.3858857142857, "cost1_mean": 304.0840580636334, "cost2_mean": -32.603910267375085, "system_level_velocity_mean": 12.502586899797464, "cost1_max": 351.398459927207, "cost1_min": 27.867815694448105, "cost2_max": -17.493407119201322, "outflow_rate_mean": 997.6461492525956, "system_level_velocity_min": 10.3093505456244, "outflow_rate_min": 338.86037478867604, "system_level_velocity_max": 18.719499985574533}, "info": {"num_steps_trained": 9633428, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.014625807292759418, "total_loss": 18.70442771911621, "vf_loss": 18.710893630981445, "policy_loss": -0.012021533213555813, "cur_kl_coeff": 0.3796875476837158, "vf_explained_var": 0.7014563679695129, "entropy": 1.3525514602661133}, "num_steps_sampled": 9633428, "load_time_ms": 12.4, "update_time_ms": 6.531, "grad_time_ms": 8854.462, "sample_time_ms": 13481.01}, "episode_len_mean": 674.45, "time_this_iter_s": 22.802380800247192, "num_metric_batches_dropped": 0, "timesteps_total": 9633428, "episodes_total": 4733, "hostname": "flow-main", "config": {"custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "kl_coeff": 0.2, "train_batch_size": 30000, "log_level": "INFO", "num_workers": 20, "num_sgd_iter": 10, "lr": 0.0005, "monitor": false, "lr_schedule": null, "compress_observations": false, "input": "sampler", "straggler_mitigation": false, "input_evaluation": null, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "optimizer": {}, "vf_share_layers": false, "model": {"fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "fcnet_activation": "tanh", "dim": 84, "lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "channel_major": false, "conv_activation": "relu", "squash_to_range": false, "conv_filters": null, "zero_mean": true, "grayscale": false, "max_seq_len": 20, "free_log_std": false, "custom_preprocessor": null, "custom_options": {}, "use_lstm": false}, "clip_param": 0.3, "num_cpus_for_driver": 1, "synchronize_filters": true, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "output": null, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.3, 0.1]_t_min:10.0", "batch_mode": "truncate_episodes", "simple_optimizer": false, "sample_batch_size": 200, "collect_metrics_timeout": 180, "clip_rewards": null, "clip_actions": false, "kl_target": 0.01, "observation_filter": "NoFilter", "use_gae": true, "entropy_coeff": 0.0, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb7f588>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb7f978>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb7fd30>"}, "gamma": 0.99, "horizon": 1500, "num_gpus_per_worker": 0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "output_max_file_size": 67108864, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "num_gpus": 0, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}}, "timestamp": 1557236245, "episode_reward_max": 993.7993630252967, "episodes_this_iter": 17, "time_total_s": 5855.3389575481415, "time_since_restore": 5855.3389575481415}
{"timesteps_since_restore": 9670956, "done": false, "node_ip": "10.138.0.2", "pid": 10867, "date": "2019-05-07_13-37-50", "episode_reward_min": 44.3597489116322, "timesteps_this_iter": 37528, "training_iteration": 254, "episode_reward_mean": 891.0601791651551, "experiment_id": "a183ec7aedea427d9bacd699bea0cf75", "policy_reward_mean": {}, "iterations_since_restore": 254, "custom_metrics": {"cost2_min": -48.61740106609614, "outflow_rate_max": 1171.3858857142857, "cost1_mean": 306.1986528910777, "cost2_mean": -32.43213674291364, "system_level_velocity_mean": 12.5092090377518, "cost1_max": 352.01430680612225, "cost1_min": 27.867815694448105, "cost2_max": -17.493407119201322, "outflow_rate_mean": 1001.8044941218229, "system_level_velocity_min": 10.3093505456244, "outflow_rate_min": 338.86037478867604, "system_level_velocity_max": 18.719499985574533}, "info": {"num_steps_trained": 9670956, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.012215552851557732, "total_loss": 28.072336196899414, "vf_loss": 28.076948165893555, "policy_loss": -0.009252502582967281, "cur_kl_coeff": 0.37968751788139343, "vf_explained_var": 0.5943396091461182, "entropy": 1.338373064994812}, "num_steps_sampled": 9670956, "load_time_ms": 12.511, "update_time_ms": 6.686, "grad_time_ms": 9182.78, "sample_time_ms": 13501.392}, "episode_len_mean": 677.69, "time_this_iter_s": 24.62431812286377, "num_metric_batches_dropped": 0, "timesteps_total": 9670956, "episodes_total": 4754, "hostname": "flow-main", "config": {"custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "kl_coeff": 0.2, "train_batch_size": 30000, "log_level": "INFO", "num_workers": 20, "num_sgd_iter": 10, "lr": 0.0005, "monitor": false, "lr_schedule": null, "compress_observations": false, "input": "sampler", "straggler_mitigation": false, "input_evaluation": null, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "optimizer": {}, "vf_share_layers": false, "model": {"fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "fcnet_activation": "tanh", "dim": 84, "lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "channel_major": false, "conv_activation": "relu", "squash_to_range": false, "conv_filters": null, "zero_mean": true, "grayscale": false, "max_seq_len": 20, "free_log_std": false, "custom_preprocessor": null, "custom_options": {}, "use_lstm": false}, "clip_param": 0.3, "num_cpus_for_driver": 1, "synchronize_filters": true, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "output": null, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.3, 0.1]_t_min:10.0", "batch_mode": "truncate_episodes", "simple_optimizer": false, "sample_batch_size": 200, "collect_metrics_timeout": 180, "clip_rewards": null, "clip_actions": false, "kl_target": 0.01, "observation_filter": "NoFilter", "use_gae": true, "entropy_coeff": 0.0, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb7fc88>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb7f908>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb7fb70>"}, "gamma": 0.99, "horizon": 1500, "num_gpus_per_worker": 0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "output_max_file_size": 67108864, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "num_gpus": 0, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}}, "timestamp": 1557236270, "episode_reward_max": 1002.2328132674187, "episodes_this_iter": 21, "time_total_s": 5879.963275671005, "time_since_restore": 5879.963275671005}
{"timesteps_since_restore": 9708339, "done": false, "node_ip": "10.138.0.2", "pid": 10867, "date": "2019-05-07_13-38-13", "episode_reward_min": 45.02637455098096, "timesteps_this_iter": 37383, "training_iteration": 255, "episode_reward_mean": 894.0480305288906, "experiment_id": "a183ec7aedea427d9bacd699bea0cf75", "policy_reward_mean": {}, "iterations_since_restore": 255, "custom_metrics": {"cost2_min": -48.61740106609614, "outflow_rate_max": 1171.3858857142857, "cost1_mean": 306.05562009008224, "cost2_mean": -32.142784306179315, "system_level_velocity_mean": 12.436852128867631, "cost1_max": 352.01430680612225, "cost1_min": 28.143673851184058, "cost2_max": -17.493407119201322, "outflow_rate_mean": 1001.9895224028867, "system_level_velocity_min": 10.3093505456244, "outflow_rate_min": 332.7571298140349, "system_level_velocity_max": 18.571935574526865}, "info": {"num_steps_trained": 9708339, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.011547310277819633, "total_loss": 27.275726318359375, "vf_loss": 27.280601501464844, "policy_loss": -0.0092593003064394, "cur_kl_coeff": 0.37968751788139343, "vf_explained_var": 0.6154689788818359, "entropy": 1.3445152044296265}, "num_steps_sampled": 9708339, "load_time_ms": 12.172, "update_time_ms": 6.695, "grad_time_ms": 9171.63, "sample_time_ms": 13491.329}, "episode_len_mean": 680.32, "time_this_iter_s": 23.06438636779785, "num_metric_batches_dropped": 0, "timesteps_total": 9708339, "episodes_total": 4775, "hostname": "flow-main", "config": {"custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "kl_coeff": 0.2, "train_batch_size": 30000, "log_level": "INFO", "num_workers": 20, "num_sgd_iter": 10, "lr": 0.0005, "monitor": false, "lr_schedule": null, "compress_observations": false, "input": "sampler", "straggler_mitigation": false, "input_evaluation": null, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "optimizer": {}, "vf_share_layers": false, "model": {"fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "fcnet_activation": "tanh", "dim": 84, "lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "channel_major": false, "conv_activation": "relu", "squash_to_range": false, "conv_filters": null, "zero_mean": true, "grayscale": false, "max_seq_len": 20, "free_log_std": false, "custom_preprocessor": null, "custom_options": {}, "use_lstm": false}, "clip_param": 0.3, "num_cpus_for_driver": 1, "synchronize_filters": true, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "output": null, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.3, 0.1]_t_min:10.0", "batch_mode": "truncate_episodes", "simple_optimizer": false, "sample_batch_size": 200, "collect_metrics_timeout": 180, "clip_rewards": null, "clip_actions": false, "kl_target": 0.01, "observation_filter": "NoFilter", "use_gae": true, "entropy_coeff": 0.0, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb6e940>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb6e4a8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb6e978>"}, "gamma": 0.99, "horizon": 1500, "num_gpus_per_worker": 0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "output_max_file_size": 67108864, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "num_gpus": 0, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}}, "timestamp": 1557236293, "episode_reward_max": 1010.819495601504, "episodes_this_iter": 21, "time_total_s": 5903.027662038803, "time_since_restore": 5903.027662038803}
{"timesteps_since_restore": 9745256, "done": false, "node_ip": "10.138.0.2", "pid": 10867, "date": "2019-05-07_13-38-35", "episode_reward_min": 53.25421225239305, "timesteps_this_iter": 36917, "training_iteration": 256, "episode_reward_mean": 899.6943948790424, "experiment_id": "a183ec7aedea427d9bacd699bea0cf75", "policy_reward_mean": {}, "iterations_since_restore": 256, "custom_metrics": {"cost2_min": -41.25724477692076, "outflow_rate_max": 1171.3858857142857, "cost1_mean": 309.0583764223309, "cost2_mean": -31.803487693640506, "system_level_velocity_mean": 12.37111036173403, "cost1_max": 352.01430680612225, "cost1_min": 32.06191670327142, "cost2_max": -17.740724482695203, "outflow_rate_mean": 1009.4601766809739, "system_level_velocity_min": 10.325613662716146, "outflow_rate_min": 332.7571298140349, "system_level_velocity_max": 17.900771008279786}, "info": {"num_steps_trained": 9745256, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.012799251824617386, "total_loss": 26.17774772644043, "vf_loss": 26.182342529296875, "policy_loss": -0.009454990737140179, "cur_kl_coeff": 0.37968751788139343, "vf_explained_var": 0.5612151622772217, "entropy": 1.3248629570007324}, "num_steps_sampled": 9745256, "load_time_ms": 12.009, "update_time_ms": 6.802, "grad_time_ms": 9128.699, "sample_time_ms": 13483.332}, "episode_len_mean": 686.84, "time_this_iter_s": 22.192505359649658, "num_metric_batches_dropped": 0, "timesteps_total": 9745256, "episodes_total": 4794, "hostname": "flow-main", "config": {"custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "kl_coeff": 0.2, "train_batch_size": 30000, "log_level": "INFO", "num_workers": 20, "num_sgd_iter": 10, "lr": 0.0005, "monitor": false, "lr_schedule": null, "compress_observations": false, "input": "sampler", "straggler_mitigation": false, "input_evaluation": null, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "optimizer": {}, "vf_share_layers": false, "model": {"fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "fcnet_activation": "tanh", "dim": 84, "lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "channel_major": false, "conv_activation": "relu", "squash_to_range": false, "conv_filters": null, "zero_mean": true, "grayscale": false, "max_seq_len": 20, "free_log_std": false, "custom_preprocessor": null, "custom_options": {}, "use_lstm": false}, "clip_param": 0.3, "num_cpus_for_driver": 1, "synchronize_filters": true, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "output": null, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.3, 0.1]_t_min:10.0", "batch_mode": "truncate_episodes", "simple_optimizer": false, "sample_batch_size": 200, "collect_metrics_timeout": 180, "clip_rewards": null, "clip_actions": false, "kl_target": 0.01, "observation_filter": "NoFilter", "use_gae": true, "entropy_coeff": 0.0, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb7fe10>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb7f9e8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb7fa20>"}, "gamma": 0.99, "horizon": 1500, "num_gpus_per_worker": 0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "output_max_file_size": 67108864, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "num_gpus": 0, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}}, "timestamp": 1557236315, "episode_reward_max": 1010.819495601504, "episodes_this_iter": 19, "time_total_s": 5925.220167398453, "time_since_restore": 5925.220167398453}
{"timesteps_since_restore": 9782062, "done": false, "node_ip": "10.138.0.2", "pid": 10867, "date": "2019-05-07_13-38-57", "episode_reward_min": 53.25421225239305, "timesteps_this_iter": 36806, "training_iteration": 257, "episode_reward_mean": 898.6485648391706, "experiment_id": "a183ec7aedea427d9bacd699bea0cf75", "policy_reward_mean": {}, "iterations_since_restore": 257, "custom_metrics": {"cost2_min": -47.64780873716349, "outflow_rate_max": 1171.3858857142857, "cost1_mean": 307.65854734006535, "cost2_mean": -31.33998922294269, "system_level_velocity_mean": 12.339180155672441, "cost1_max": 352.01430680612225, "cost1_min": 32.06191670327142, "cost2_max": -17.740724482695203, "outflow_rate_mean": 1007.1478158332175, "system_level_velocity_min": 9.993159919840666, "outflow_rate_min": 332.7571298140349, "system_level_velocity_max": 17.900771008279786}, "info": {"num_steps_trained": 9782062, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.012123020365834236, "total_loss": 23.828571319580078, "vf_loss": 23.83197593688965, "policy_loss": -0.008008897304534912, "cur_kl_coeff": 0.37968751788139343, "vf_explained_var": 0.5556429028511047, "entropy": 1.318577766418457}, "num_steps_sampled": 9782062, "load_time_ms": 11.977, "update_time_ms": 6.885, "grad_time_ms": 9105.275, "sample_time_ms": 13410.067}, "episode_len_mean": 685.93, "time_this_iter_s": 22.0917809009552, "num_metric_batches_dropped": 0, "timesteps_total": 9782062, "episodes_total": 4811, "hostname": "flow-main", "config": {"custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "kl_coeff": 0.2, "train_batch_size": 30000, "log_level": "INFO", "num_workers": 20, "num_sgd_iter": 10, "lr": 0.0005, "monitor": false, "lr_schedule": null, "compress_observations": false, "input": "sampler", "straggler_mitigation": false, "input_evaluation": null, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "optimizer": {}, "vf_share_layers": false, "model": {"fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "fcnet_activation": "tanh", "dim": 84, "lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "channel_major": false, "conv_activation": "relu", "squash_to_range": false, "conv_filters": null, "zero_mean": true, "grayscale": false, "max_seq_len": 20, "free_log_std": false, "custom_preprocessor": null, "custom_options": {}, "use_lstm": false}, "clip_param": 0.3, "num_cpus_for_driver": 1, "synchronize_filters": true, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "output": null, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.3, 0.1]_t_min:10.0", "batch_mode": "truncate_episodes", "simple_optimizer": false, "sample_batch_size": 200, "collect_metrics_timeout": 180, "clip_rewards": null, "clip_actions": false, "kl_target": 0.01, "observation_filter": "NoFilter", "use_gae": true, "entropy_coeff": 0.0, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb7f6d8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb7f5c0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb7fb70>"}, "gamma": 0.99, "horizon": 1500, "num_gpus_per_worker": 0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "output_max_file_size": 67108864, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "num_gpus": 0, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}}, "timestamp": 1557236337, "episode_reward_max": 1010.819495601504, "episodes_this_iter": 17, "time_total_s": 5947.311948299408, "time_since_restore": 5947.311948299408}
{"timesteps_since_restore": 9819431, "done": false, "node_ip": "10.138.0.2", "pid": 10867, "date": "2019-05-07_13-39-20", "episode_reward_min": 53.25421225239305, "timesteps_this_iter": 37369, "training_iteration": 258, "episode_reward_mean": 892.1941757862478, "experiment_id": "a183ec7aedea427d9bacd699bea0cf75", "policy_reward_mean": {}, "iterations_since_restore": 258, "custom_metrics": {"cost2_min": -47.64780873716349, "outflow_rate_max": 1137.6350701298702, "cost1_mean": 306.49747831851624, "cost2_mean": -30.63666064083917, "system_level_velocity_mean": 12.239308369408201, "cost1_max": 352.01430680612225, "cost1_min": 32.06191670327142, "cost2_max": -17.740724482695203, "outflow_rate_mean": 1000.1418370477862, "system_level_velocity_min": 9.993159919840666, "outflow_rate_min": 332.7571298140349, "system_level_velocity_max": 17.900771008279786}, "info": {"num_steps_trained": 9819431, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.012958748266100883, "total_loss": 25.738231658935547, "vf_loss": 25.743053436279297, "policy_loss": -0.009742412716150284, "cur_kl_coeff": 0.3796875476837158, "vf_explained_var": 0.5780987739562988, "entropy": 1.343367576599121}, "num_steps_sampled": 9819431, "load_time_ms": 12.072, "update_time_ms": 6.844, "grad_time_ms": 9129.11, "sample_time_ms": 13363.405}, "episode_len_mean": 689.4, "time_this_iter_s": 22.856683254241943, "num_metric_batches_dropped": 0, "timesteps_total": 9819431, "episodes_total": 4831, "hostname": "flow-main", "config": {"custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "kl_coeff": 0.2, "train_batch_size": 30000, "log_level": "INFO", "num_workers": 20, "num_sgd_iter": 10, "lr": 0.0005, "monitor": false, "lr_schedule": null, "compress_observations": false, "input": "sampler", "straggler_mitigation": false, "input_evaluation": null, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "optimizer": {}, "vf_share_layers": false, "model": {"fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "fcnet_activation": "tanh", "dim": 84, "lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "channel_major": false, "conv_activation": "relu", "squash_to_range": false, "conv_filters": null, "zero_mean": true, "grayscale": false, "max_seq_len": 20, "free_log_std": false, "custom_preprocessor": null, "custom_options": {}, "use_lstm": false}, "clip_param": 0.3, "num_cpus_for_driver": 1, "synchronize_filters": true, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "output": null, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.3, 0.1]_t_min:10.0", "batch_mode": "truncate_episodes", "simple_optimizer": false, "sample_batch_size": 200, "collect_metrics_timeout": 180, "clip_rewards": null, "clip_actions": false, "kl_target": 0.01, "observation_filter": "NoFilter", "use_gae": true, "entropy_coeff": 0.0, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb6e4a8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb6edd8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb6e978>"}, "gamma": 0.99, "horizon": 1500, "num_gpus_per_worker": 0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "output_max_file_size": 67108864, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "num_gpus": 0, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}}, "timestamp": 1557236360, "episode_reward_max": 1010.819495601504, "episodes_this_iter": 20, "time_total_s": 5970.16863155365, "time_since_restore": 5970.16863155365}
{"timesteps_since_restore": 9857068, "done": false, "node_ip": "10.138.0.2", "pid": 10867, "date": "2019-05-07_13-39-43", "episode_reward_min": 53.25421225239305, "timesteps_this_iter": 37637, "training_iteration": 259, "episode_reward_mean": 883.1009278919528, "experiment_id": "a183ec7aedea427d9bacd699bea0cf75", "policy_reward_mean": {}, "iterations_since_restore": 259, "custom_metrics": {"cost2_min": -47.64780873716349, "outflow_rate_max": 1133.330825974026, "cost1_mean": 303.10398312439463, "cost2_mean": -29.85505418976891, "system_level_velocity_mean": 12.189361595833152, "cost1_max": 352.01430680612225, "cost1_min": 32.06191670327142, "cost2_max": -17.740724482695203, "outflow_rate_mean": 991.0648616870947, "system_level_velocity_min": 9.993159919840666, "outflow_rate_min": 332.7571298140349, "system_level_velocity_max": 17.900771008279786}, "info": {"num_steps_trained": 9857068, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.012556720525026321, "total_loss": 25.006187438964844, "vf_loss": 25.01067543029785, "policy_loss": -0.009254306554794312, "cur_kl_coeff": 0.3796875476837158, "vf_explained_var": 0.5108997821807861, "entropy": 1.3238070011138916}, "num_steps_sampled": 9857068, "load_time_ms": 12.325, "update_time_ms": 6.918, "grad_time_ms": 9340.634, "sample_time_ms": 13338.685}, "episode_len_mean": 685.49, "time_this_iter_s": 22.692997455596924, "num_metric_batches_dropped": 0, "timesteps_total": 9857068, "episodes_total": 4849, "hostname": "flow-main", "config": {"custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "kl_coeff": 0.2, "train_batch_size": 30000, "log_level": "INFO", "num_workers": 20, "num_sgd_iter": 10, "lr": 0.0005, "monitor": false, "lr_schedule": null, "compress_observations": false, "input": "sampler", "straggler_mitigation": false, "input_evaluation": null, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "optimizer": {}, "vf_share_layers": false, "model": {"fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "fcnet_activation": "tanh", "dim": 84, "lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "channel_major": false, "conv_activation": "relu", "squash_to_range": false, "conv_filters": null, "zero_mean": true, "grayscale": false, "max_seq_len": 20, "free_log_std": false, "custom_preprocessor": null, "custom_options": {}, "use_lstm": false}, "clip_param": 0.3, "num_cpus_for_driver": 1, "synchronize_filters": true, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "output": null, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.3, 0.1]_t_min:10.0", "batch_mode": "truncate_episodes", "simple_optimizer": false, "sample_batch_size": 200, "collect_metrics_timeout": 180, "clip_rewards": null, "clip_actions": false, "kl_target": 0.01, "observation_filter": "NoFilter", "use_gae": true, "entropy_coeff": 0.0, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb7fe10>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb7f518>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb7fc18>"}, "gamma": 0.99, "horizon": 1500, "num_gpus_per_worker": 0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "output_max_file_size": 67108864, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "num_gpus": 0, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}}, "timestamp": 1557236383, "episode_reward_max": 1010.819495601504, "episodes_this_iter": 18, "time_total_s": 5992.861629009247, "time_since_restore": 5992.861629009247}
{"timesteps_since_restore": 9894329, "done": false, "node_ip": "10.138.0.2", "pid": 10867, "date": "2019-05-07_13-40-05", "episode_reward_min": 171.83051039434355, "timesteps_this_iter": 37261, "training_iteration": 260, "episode_reward_mean": 882.8627248532975, "experiment_id": "a183ec7aedea427d9bacd699bea0cf75", "policy_reward_mean": {}, "iterations_since_restore": 260, "custom_metrics": {"cost2_min": -47.64780873716349, "cost2_mean": -29.324838620917713, "cost1_mean": 302.8625666053285, "system_level_velocity_mean": 12.137393870364779, "cost1_max": 342.8148622375769, "cost1_min": 66.37338424188376, "cost2_max": -16.139621658210647, "outflow_rate_max": 1132.8950025974027, "system_level_velocity_min": 9.993159919840666, "outflow_rate_min": 417.2251988118496, "system_level_velocity_max": 14.01433668756484, "outflow_rate_mean": 988.2676020653847}, "info": {"num_steps_trained": 9894329, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.011485756374895573, "total_loss": 20.961456298828125, "vf_loss": 20.966327667236328, "policy_loss": -0.00923293549567461, "cur_kl_coeff": 0.3796875476837158, "vf_explained_var": 0.5945886373519897, "entropy": 1.342596411705017}, "num_steps_sampled": 9894329, "load_time_ms": 12.431, "update_time_ms": 7.033, "grad_time_ms": 9328.697, "sample_time_ms": 13340.023}, "episode_len_mean": 687.5, "time_this_iter_s": 22.394096851348877, "num_metric_batches_dropped": 0, "timesteps_total": 9894329, "episodes_total": 4867, "hostname": "flow-main", "config": {"custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "kl_coeff": 0.2, "train_batch_size": 30000, "log_level": "INFO", "num_workers": 20, "num_sgd_iter": 10, "lr": 0.0005, "monitor": false, "lr_schedule": null, "compress_observations": false, "input": "sampler", "straggler_mitigation": false, "input_evaluation": null, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "optimizer": {}, "vf_share_layers": false, "model": {"fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "fcnet_activation": "tanh", "dim": 84, "lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "channel_major": false, "conv_activation": "relu", "squash_to_range": false, "conv_filters": null, "zero_mean": true, "grayscale": false, "max_seq_len": 20, "free_log_std": false, "custom_preprocessor": null, "custom_options": {}, "use_lstm": false}, "clip_param": 0.3, "num_cpus_for_driver": 1, "synchronize_filters": true, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "output": null, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.3, 0.1]_t_min:10.0", "batch_mode": "truncate_episodes", "simple_optimizer": false, "sample_batch_size": 200, "collect_metrics_timeout": 180, "clip_rewards": null, "clip_actions": false, "kl_target": 0.01, "observation_filter": "NoFilter", "use_gae": true, "entropy_coeff": 0.0, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb7f9b0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb69978>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb7f128>"}, "gamma": 0.99, "horizon": 1500, "num_gpus_per_worker": 0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "output_max_file_size": 67108864, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "num_gpus": 0, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}}, "timestamp": 1557236405, "episode_reward_max": 1010.819495601504, "episodes_this_iter": 18, "time_total_s": 6015.255725860596, "time_since_restore": 6015.255725860596}
{"timesteps_since_restore": 9931235, "done": false, "node_ip": "10.138.0.2", "pid": 10867, "date": "2019-05-07_13-40-28", "episode_reward_min": 171.83051039434355, "timesteps_this_iter": 36906, "training_iteration": 261, "episode_reward_mean": 880.2477274549259, "experiment_id": "a183ec7aedea427d9bacd699bea0cf75", "policy_reward_mean": {}, "iterations_since_restore": 261, "custom_metrics": {"cost2_min": -47.64780873716349, "outflow_rate_max": 1132.8950025974027, "cost1_mean": 302.03514914759234, "cost2_mean": -29.001051946022095, "system_level_velocity_mean": 12.133149292960004, "cost1_max": 342.29293109520967, "cost1_min": 66.37338424188376, "cost2_max": -16.139621658210647, "outflow_rate_mean": 981.4607074160341, "system_level_velocity_min": 9.993159919840666, "outflow_rate_min": 417.2251988118496, "system_level_velocity_max": 14.01433668756484}, "info": {"num_steps_trained": 9931235, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.012201551347970963, "total_loss": 27.505672454833984, "vf_loss": 27.51026153564453, "policy_loss": -0.009219001978635788, "cur_kl_coeff": 0.37968751788139343, "vf_explained_var": 0.5048587322235107, "entropy": 1.327375888824463}, "num_steps_sampled": 9931235, "load_time_ms": 12.535, "update_time_ms": 7.084, "grad_time_ms": 9342.926, "sample_time_ms": 13370.048}, "episode_len_mean": 687.5, "time_this_iter_s": 22.625428438186646, "num_metric_batches_dropped": 0, "timesteps_total": 9931235, "episodes_total": 4886, "hostname": "flow-main", "config": {"custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "kl_coeff": 0.2, "train_batch_size": 30000, "log_level": "INFO", "num_workers": 20, "num_sgd_iter": 10, "lr": 0.0005, "monitor": false, "lr_schedule": null, "compress_observations": false, "input": "sampler", "straggler_mitigation": false, "input_evaluation": null, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "optimizer": {}, "vf_share_layers": false, "model": {"fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "fcnet_activation": "tanh", "dim": 84, "lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "channel_major": false, "conv_activation": "relu", "squash_to_range": false, "conv_filters": null, "zero_mean": true, "grayscale": false, "max_seq_len": 20, "free_log_std": false, "custom_preprocessor": null, "custom_options": {}, "use_lstm": false}, "clip_param": 0.3, "num_cpus_for_driver": 1, "synchronize_filters": true, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "output": null, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.3, 0.1]_t_min:10.0", "batch_mode": "truncate_episodes", "simple_optimizer": false, "sample_batch_size": 200, "collect_metrics_timeout": 180, "clip_rewards": null, "clip_actions": false, "kl_target": 0.01, "observation_filter": "NoFilter", "use_gae": true, "entropy_coeff": 0.0, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb79b00>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb798d0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb79ba8>"}, "gamma": 0.99, "horizon": 1500, "num_gpus_per_worker": 0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "output_max_file_size": 67108864, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "num_gpus": 0, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}}, "timestamp": 1557236428, "episode_reward_max": 995.465851031451, "episodes_this_iter": 19, "time_total_s": 6037.881154298782, "time_since_restore": 6037.881154298782}
{"timesteps_since_restore": 9968062, "done": false, "node_ip": "10.138.0.2", "pid": 10867, "date": "2019-05-07_13-40-50", "episode_reward_min": 171.83051039434355, "timesteps_this_iter": 36827, "training_iteration": 262, "episode_reward_mean": 878.9639505375688, "experiment_id": "a183ec7aedea427d9bacd699bea0cf75", "policy_reward_mean": {}, "iterations_since_restore": 262, "custom_metrics": {"cost2_min": -47.64780873716349, "outflow_rate_max": 1129.0714181818182, "cost1_mean": 302.0600372900784, "cost2_mean": -28.868923554640176, "system_level_velocity_mean": 12.12889086350437, "cost1_max": 342.29293109520967, "cost1_min": 66.37338424188376, "cost2_max": -16.139621658210647, "outflow_rate_mean": 980.802104783271, "system_level_velocity_min": 10.479143636582839, "outflow_rate_min": 417.2251988118496, "system_level_velocity_max": 14.01433668756484}, "info": {"num_steps_trained": 9968062, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.011263756081461906, "total_loss": 23.395503997802734, "vf_loss": 23.400035858154297, "policy_loss": -0.008809481747448444, "cur_kl_coeff": 0.37968751788139343, "vf_explained_var": 0.5289743542671204, "entropy": 1.3472025394439697}, "num_steps_sampled": 9968062, "load_time_ms": 12.476, "update_time_ms": 6.908, "grad_time_ms": 9291.917, "sample_time_ms": 13378.244}, "episode_len_mean": 688.76, "time_this_iter_s": 22.283317804336548, "num_metric_batches_dropped": 0, "timesteps_total": 9968062, "episodes_total": 4905, "hostname": "flow-main", "config": {"custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "kl_coeff": 0.2, "train_batch_size": 30000, "log_level": "INFO", "num_workers": 20, "num_sgd_iter": 10, "lr": 0.0005, "monitor": false, "lr_schedule": null, "compress_observations": false, "input": "sampler", "straggler_mitigation": false, "input_evaluation": null, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "optimizer": {}, "vf_share_layers": false, "model": {"fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "fcnet_activation": "tanh", "dim": 84, "lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "channel_major": false, "conv_activation": "relu", "squash_to_range": false, "conv_filters": null, "zero_mean": true, "grayscale": false, "max_seq_len": 20, "free_log_std": false, "custom_preprocessor": null, "custom_options": {}, "use_lstm": false}, "clip_param": 0.3, "num_cpus_for_driver": 1, "synchronize_filters": true, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "output": null, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.3, 0.1]_t_min:10.0", "batch_mode": "truncate_episodes", "simple_optimizer": false, "sample_batch_size": 200, "collect_metrics_timeout": 180, "clip_rewards": null, "clip_actions": false, "kl_target": 0.01, "observation_filter": "NoFilter", "use_gae": true, "entropy_coeff": 0.0, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb7fe80>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb7fc50>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb7f358>"}, "gamma": 0.99, "horizon": 1500, "num_gpus_per_worker": 0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "output_max_file_size": 67108864, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "num_gpus": 0, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}}, "timestamp": 1557236450, "episode_reward_max": 991.2598721763823, "episodes_this_iter": 19, "time_total_s": 6060.164472103119, "time_since_restore": 6060.164472103119}
{"timesteps_since_restore": 10005195, "done": false, "node_ip": "10.138.0.2", "pid": 10867, "date": "2019-05-07_13-41-13", "episode_reward_min": 171.83051039434355, "timesteps_this_iter": 37133, "training_iteration": 263, "episode_reward_mean": 875.5517774944244, "experiment_id": "a183ec7aedea427d9bacd699bea0cf75", "policy_reward_mean": {}, "iterations_since_restore": 263, "custom_metrics": {"cost2_min": -47.59368914742577, "outflow_rate_max": 1137.182264935065, "cost1_mean": 300.4675752061665, "cost2_mean": -28.608876241378198, "system_level_velocity_mean": 12.189345648289386, "cost1_max": 342.9533026700092, "cost1_min": 66.37338424188376, "cost2_max": -16.139621658210647, "outflow_rate_mean": 985.0743923527413, "system_level_velocity_min": 10.652538889088987, "outflow_rate_min": 417.2251988118496, "system_level_velocity_max": 14.01433668756484}, "info": {"num_steps_trained": 10005195, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.011818806640803814, "total_loss": 25.712411880493164, "vf_loss": 25.716962814331055, "policy_loss": -0.009035753086209297, "cur_kl_coeff": 0.37968751788139343, "vf_explained_var": 0.565187394618988, "entropy": 1.3358509540557861}, "num_steps_sampled": 10005195, "load_time_ms": 12.408, "update_time_ms": 6.997, "grad_time_ms": 9266.737, "sample_time_ms": 13392.583}, "episode_len_mean": 682.78, "time_this_iter_s": 22.68801760673523, "num_metric_batches_dropped": 0, "timesteps_total": 10005195, "episodes_total": 4925, "hostname": "flow-main", "config": {"custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "kl_coeff": 0.2, "train_batch_size": 30000, "log_level": "INFO", "num_workers": 20, "num_sgd_iter": 10, "lr": 0.0005, "monitor": false, "lr_schedule": null, "compress_observations": false, "input": "sampler", "straggler_mitigation": false, "input_evaluation": null, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "optimizer": {}, "vf_share_layers": false, "model": {"fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "fcnet_activation": "tanh", "dim": 84, "lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "channel_major": false, "conv_activation": "relu", "squash_to_range": false, "conv_filters": null, "zero_mean": true, "grayscale": false, "max_seq_len": 20, "free_log_std": false, "custom_preprocessor": null, "custom_options": {}, "use_lstm": false}, "clip_param": 0.3, "num_cpus_for_driver": 1, "synchronize_filters": true, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "output": null, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.3, 0.1]_t_min:10.0", "batch_mode": "truncate_episodes", "simple_optimizer": false, "sample_batch_size": 200, "collect_metrics_timeout": 180, "clip_rewards": null, "clip_actions": false, "kl_target": 0.01, "observation_filter": "NoFilter", "use_gae": true, "entropy_coeff": 0.0, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb7f2e8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb78358>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb7f198>"}, "gamma": 0.99, "horizon": 1500, "num_gpus_per_worker": 0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "output_max_file_size": 67108864, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "num_gpus": 0, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}}, "timestamp": 1557236473, "episode_reward_max": 981.232606446287, "episodes_this_iter": 20, "time_total_s": 6082.852489709854, "time_since_restore": 6082.852489709854}
{"timesteps_since_restore": 10042138, "done": false, "node_ip": "10.138.0.2", "pid": 10867, "date": "2019-05-07_13-41-35", "episode_reward_min": 171.83051039434355, "timesteps_this_iter": 36943, "training_iteration": 264, "episode_reward_mean": 880.6602401727207, "experiment_id": "a183ec7aedea427d9bacd699bea0cf75", "policy_reward_mean": {}, "iterations_since_restore": 264, "custom_metrics": {"cost2_min": -41.96873818491322, "outflow_rate_max": 1137.182264935065, "cost1_mean": 302.3091221431291, "cost2_mean": -28.677804235672678, "system_level_velocity_mean": 12.296196951952568, "cost1_max": 343.00884147116426, "cost1_min": 66.37338424188376, "cost2_max": -16.139621658210647, "outflow_rate_mean": 993.6077232618321, "system_level_velocity_min": 10.652538889088987, "outflow_rate_min": 417.2251988118496, "system_level_velocity_max": 14.01433668756484}, "info": {"num_steps_trained": 10042138, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.0119540486484766, "total_loss": 23.479379653930664, "vf_loss": 23.48366928100586, "policy_loss": -0.008829938247799873, "cur_kl_coeff": 0.37968751788139343, "vf_explained_var": 0.5368742346763611, "entropy": 1.3610098361968994}, "num_steps_sampled": 10042138, "load_time_ms": 12.314, "update_time_ms": 6.832, "grad_time_ms": 9163.339, "sample_time_ms": 13274.423}, "episode_len_mean": 682.78, "time_this_iter_s": 22.40713906288147, "num_metric_batches_dropped": 0, "timesteps_total": 10042138, "episodes_total": 4943, "hostname": "flow-main", "config": {"custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "kl_coeff": 0.2, "train_batch_size": 30000, "log_level": "INFO", "num_workers": 20, "num_sgd_iter": 10, "lr": 0.0005, "monitor": false, "lr_schedule": null, "compress_observations": false, "input": "sampler", "straggler_mitigation": false, "input_evaluation": null, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "optimizer": {}, "vf_share_layers": false, "model": {"fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "fcnet_activation": "tanh", "dim": 84, "lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "channel_major": false, "conv_activation": "relu", "squash_to_range": false, "conv_filters": null, "zero_mean": true, "grayscale": false, "max_seq_len": 20, "free_log_std": false, "custom_preprocessor": null, "custom_options": {}, "use_lstm": false}, "clip_param": 0.3, "num_cpus_for_driver": 1, "synchronize_filters": true, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "output": null, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.3, 0.1]_t_min:10.0", "batch_mode": "truncate_episodes", "simple_optimizer": false, "sample_batch_size": 200, "collect_metrics_timeout": 180, "clip_rewards": null, "clip_actions": false, "kl_target": 0.01, "observation_filter": "NoFilter", "use_gae": true, "entropy_coeff": 0.0, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f946116f710>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb785f8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb78f98>"}, "gamma": 0.99, "horizon": 1500, "num_gpus_per_worker": 0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "output_max_file_size": 67108864, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "num_gpus": 0, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}}, "timestamp": 1557236495, "episode_reward_max": 1004.2872122167287, "episodes_this_iter": 18, "time_total_s": 6105.259628772736, "time_since_restore": 6105.259628772736}
{"timesteps_since_restore": 10079745, "done": false, "node_ip": "10.138.0.2", "pid": 10867, "date": "2019-05-07_13-41-59", "episode_reward_min": 418.3833473232233, "timesteps_this_iter": 37607, "training_iteration": 265, "episode_reward_mean": 897.3538048139785, "experiment_id": "a183ec7aedea427d9bacd699bea0cf75", "policy_reward_mean": {}, "iterations_since_restore": 265, "custom_metrics": {"cost2_min": -42.49047592791264, "outflow_rate_max": 1137.182264935065, "cost1_mean": 307.340919876556, "cost2_mean": -29.78103418140097, "system_level_velocity_mean": 12.307703931302717, "cost1_max": 343.00884147116426, "cost1_min": 149.8913882590607, "cost2_max": -21.483832933806333, "outflow_rate_mean": 1008.4301258032361, "system_level_velocity_min": 10.652538889088987, "outflow_rate_min": 736.7473749115329, "system_level_velocity_max": 13.939078017375115}, "info": {"num_steps_trained": 10079745, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.012366858310997486, "total_loss": 25.788406372070312, "vf_loss": 25.792795181274414, "policy_loss": -0.009084376506507397, "cur_kl_coeff": 0.37968751788139343, "vf_explained_var": 0.5937632322311401, "entropy": 1.377872109413147}, "num_steps_sampled": 10079745, "load_time_ms": 12.329, "update_time_ms": 7.003, "grad_time_ms": 9149.841, "sample_time_ms": 13290.068}, "episode_len_mean": 692.4, "time_this_iter_s": 23.101130485534668, "num_metric_batches_dropped": 0, "timesteps_total": 10079745, "episodes_total": 4963, "hostname": "flow-main", "config": {"custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "kl_coeff": 0.2, "train_batch_size": 30000, "log_level": "INFO", "num_workers": 20, "num_sgd_iter": 10, "lr": 0.0005, "monitor": false, "lr_schedule": null, "compress_observations": false, "input": "sampler", "straggler_mitigation": false, "input_evaluation": null, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "optimizer": {}, "vf_share_layers": false, "model": {"fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "fcnet_activation": "tanh", "dim": 84, "lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "channel_major": false, "conv_activation": "relu", "squash_to_range": false, "conv_filters": null, "zero_mean": true, "grayscale": false, "max_seq_len": 20, "free_log_std": false, "custom_preprocessor": null, "custom_options": {}, "use_lstm": false}, "clip_param": 0.3, "num_cpus_for_driver": 1, "synchronize_filters": true, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "output": null, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.3, 0.1]_t_min:10.0", "batch_mode": "truncate_episodes", "simple_optimizer": false, "sample_batch_size": 200, "collect_metrics_timeout": 180, "clip_rewards": null, "clip_actions": false, "kl_target": 0.01, "observation_filter": "NoFilter", "use_gae": true, "entropy_coeff": 0.0, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb7f1d0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb7f358>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb7f978>"}, "gamma": 0.99, "horizon": 1500, "num_gpus_per_worker": 0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "output_max_file_size": 67108864, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "num_gpus": 0, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}}, "timestamp": 1557236519, "episode_reward_max": 1004.2872122167287, "episodes_this_iter": 20, "time_total_s": 6128.36075925827, "time_since_restore": 6128.36075925827}
{"timesteps_since_restore": 10117464, "done": false, "node_ip": "10.138.0.2", "pid": 10867, "date": "2019-05-07_13-42-22", "episode_reward_min": 157.9374830533517, "timesteps_this_iter": 37719, "training_iteration": 266, "episode_reward_mean": 888.5422107567814, "experiment_id": "a183ec7aedea427d9bacd699bea0cf75", "policy_reward_mean": {}, "iterations_since_restore": 266, "custom_metrics": {"cost2_min": -42.49047592791264, "outflow_rate_max": 1138.4624363636365, "cost1_mean": 304.0492484922898, "cost2_mean": -30.052787387351305, "system_level_velocity_mean": 12.336242647379276, "cost1_max": 343.00884147116426, "cost1_min": 71.68037817161468, "cost2_max": -19.26850251529047, "outflow_rate_mean": 1001.6065687685877, "system_level_velocity_min": 9.787686824041828, "outflow_rate_min": 441.6655277039821, "system_level_velocity_max": 15.858055713179358}, "info": {"num_steps_trained": 10117464, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.011886956170201302, "total_loss": 22.184579849243164, "vf_loss": 22.18998146057129, "policy_loss": -0.009912027046084404, "cur_kl_coeff": 0.3796875476837158, "vf_explained_var": 0.6483080387115479, "entropy": 1.3696116209030151}, "num_steps_sampled": 10117464, "load_time_ms": 12.346, "update_time_ms": 6.997, "grad_time_ms": 9232.069, "sample_time_ms": 13321.342}, "episode_len_mean": 684.95, "time_this_iter_s": 23.32134461402893, "num_metric_batches_dropped": 0, "timesteps_total": 10117464, "episodes_total": 4980, "hostname": "flow-main", "config": {"custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "kl_coeff": 0.2, "train_batch_size": 30000, "log_level": "INFO", "num_workers": 20, "num_sgd_iter": 10, "lr": 0.0005, "monitor": false, "lr_schedule": null, "compress_observations": false, "input": "sampler", "straggler_mitigation": false, "input_evaluation": null, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "optimizer": {}, "vf_share_layers": false, "model": {"fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "fcnet_activation": "tanh", "dim": 84, "lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "channel_major": false, "conv_activation": "relu", "squash_to_range": false, "conv_filters": null, "zero_mean": true, "grayscale": false, "max_seq_len": 20, "free_log_std": false, "custom_preprocessor": null, "custom_options": {}, "use_lstm": false}, "clip_param": 0.3, "num_cpus_for_driver": 1, "synchronize_filters": true, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "output": null, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.3, 0.1]_t_min:10.0", "batch_mode": "truncate_episodes", "simple_optimizer": false, "sample_batch_size": 200, "collect_metrics_timeout": 180, "clip_rewards": null, "clip_actions": false, "kl_target": 0.01, "observation_filter": "NoFilter", "use_gae": true, "entropy_coeff": 0.0, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb784e0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb78b38>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb78c18>"}, "gamma": 0.99, "horizon": 1500, "num_gpus_per_worker": 0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "output_max_file_size": 67108864, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "num_gpus": 0, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}}, "timestamp": 1557236542, "episode_reward_max": 1004.2872122167287, "episodes_this_iter": 17, "time_total_s": 6151.682103872299, "time_since_restore": 6151.682103872299}
{"timesteps_since_restore": 10154894, "done": false, "node_ip": "10.138.0.2", "pid": 10867, "date": "2019-05-07_13-42-44", "episode_reward_min": 157.9374830533517, "timesteps_this_iter": 37430, "training_iteration": 267, "episode_reward_mean": 891.0592794999425, "experiment_id": "a183ec7aedea427d9bacd699bea0cf75", "policy_reward_mean": {}, "iterations_since_restore": 267, "custom_metrics": {"cost2_min": -43.58092364882673, "outflow_rate_max": 1138.4624363636365, "cost1_mean": 305.1891235404415, "cost2_mean": -30.78360641339642, "system_level_velocity_mean": 12.38042522609668, "cost1_max": 343.00884147116426, "cost1_min": 71.68037817161468, "cost2_max": -19.26850251529047, "outflow_rate_mean": 1006.4438634179384, "system_level_velocity_min": 9.787686824041828, "outflow_rate_min": 441.6655277039821, "system_level_velocity_max": 15.858055713179358}, "info": {"num_steps_trained": 10154894, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.012731829658150673, "total_loss": 20.97809600830078, "vf_loss": 20.982940673828125, "policy_loss": -0.009677897207438946, "cur_kl_coeff": 0.37968751788139343, "vf_explained_var": 0.6557292342185974, "entropy": 1.3624509572982788}, "num_steps_sampled": 10154894, "load_time_ms": 12.371, "update_time_ms": 6.874, "grad_time_ms": 9229.365, "sample_time_ms": 13368.857}, "episode_len_mean": 684.46, "time_this_iter_s": 22.527587175369263, "num_metric_batches_dropped": 0, "timesteps_total": 10154894, "episodes_total": 4998, "hostname": "flow-main", "config": {"custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "kl_coeff": 0.2, "train_batch_size": 30000, "log_level": "INFO", "num_workers": 20, "num_sgd_iter": 10, "lr": 0.0005, "monitor": false, "lr_schedule": null, "compress_observations": false, "input": "sampler", "straggler_mitigation": false, "input_evaluation": null, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "optimizer": {}, "vf_share_layers": false, "model": {"fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "fcnet_activation": "tanh", "dim": 84, "lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "channel_major": false, "conv_activation": "relu", "squash_to_range": false, "conv_filters": null, "zero_mean": true, "grayscale": false, "max_seq_len": 20, "free_log_std": false, "custom_preprocessor": null, "custom_options": {}, "use_lstm": false}, "clip_param": 0.3, "num_cpus_for_driver": 1, "synchronize_filters": true, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "output": null, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.3, 0.1]_t_min:10.0", "batch_mode": "truncate_episodes", "simple_optimizer": false, "sample_batch_size": 200, "collect_metrics_timeout": 180, "clip_rewards": null, "clip_actions": false, "kl_target": 0.01, "observation_filter": "NoFilter", "use_gae": true, "entropy_coeff": 0.0, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb79828>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb791d0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb79b70>"}, "gamma": 0.99, "horizon": 1500, "num_gpus_per_worker": 0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "output_max_file_size": 67108864, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "num_gpus": 0, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}}, "timestamp": 1557236564, "episode_reward_max": 1004.2872122167287, "episodes_this_iter": 18, "time_total_s": 6174.2096910476685, "time_since_restore": 6174.2096910476685}
{"timesteps_since_restore": 10192215, "done": false, "node_ip": "10.138.0.2", "pid": 10867, "date": "2019-05-07_13-43-08", "episode_reward_min": 157.9374830533517, "timesteps_this_iter": 37321, "training_iteration": 268, "episode_reward_mean": 903.3593812382595, "experiment_id": "a183ec7aedea427d9bacd699bea0cf75", "policy_reward_mean": {}, "iterations_since_restore": 268, "custom_metrics": {"cost2_min": -44.582820619414356, "outflow_rate_max": 1173.7696415584417, "cost1_mean": 308.5309880566672, "cost2_mean": -31.907318441111197, "system_level_velocity_mean": 12.398106624335991, "cost1_max": 343.00884147116426, "cost1_min": 71.68037817161468, "cost2_max": -19.26850251529047, "outflow_rate_mean": 1016.0736304978191, "system_level_velocity_min": 9.787686824041828, "outflow_rate_min": 441.6655277039821, "system_level_velocity_max": 15.858055713179358}, "info": {"num_steps_trained": 10192215, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.011947193183004856, "total_loss": 26.94617462158203, "vf_loss": 26.9495906829834, "policy_loss": -0.00795262772589922, "cur_kl_coeff": 0.3796875476837158, "vf_explained_var": 0.584336519241333, "entropy": 1.3564043045043945}, "num_steps_sampled": 10192215, "load_time_ms": 12.179, "update_time_ms": 6.796, "grad_time_ms": 9209.582, "sample_time_ms": 13494.486}, "episode_len_mean": 689.9, "time_this_iter_s": 23.91553282737732, "num_metric_batches_dropped": 0, "timesteps_total": 10192215, "episodes_total": 5018, "hostname": "flow-main", "config": {"custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "kl_coeff": 0.2, "train_batch_size": 30000, "log_level": "INFO", "num_workers": 20, "num_sgd_iter": 10, "lr": 0.0005, "monitor": false, "lr_schedule": null, "compress_observations": false, "input": "sampler", "straggler_mitigation": false, "input_evaluation": null, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "optimizer": {}, "vf_share_layers": false, "model": {"fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "fcnet_activation": "tanh", "dim": 84, "lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "channel_major": false, "conv_activation": "relu", "squash_to_range": false, "conv_filters": null, "zero_mean": true, "grayscale": false, "max_seq_len": 20, "free_log_std": false, "custom_preprocessor": null, "custom_options": {}, "use_lstm": false}, "clip_param": 0.3, "num_cpus_for_driver": 1, "synchronize_filters": true, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "output": null, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.3, 0.1]_t_min:10.0", "batch_mode": "truncate_episodes", "simple_optimizer": false, "sample_batch_size": 200, "collect_metrics_timeout": 180, "clip_rewards": null, "clip_actions": false, "kl_target": 0.01, "observation_filter": "NoFilter", "use_gae": true, "entropy_coeff": 0.0, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb78550>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb78780>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb785c0>"}, "gamma": 0.99, "horizon": 1500, "num_gpus_per_worker": 0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "output_max_file_size": 67108864, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "num_gpus": 0, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}}, "timestamp": 1557236588, "episode_reward_max": 1018.913255801299, "episodes_this_iter": 20, "time_total_s": 6198.125223875046, "time_since_restore": 6198.125223875046}
{"timesteps_since_restore": 10229438, "done": false, "node_ip": "10.138.0.2", "pid": 10867, "date": "2019-05-07_13-43-31", "episode_reward_min": 157.9374830533517, "timesteps_this_iter": 37223, "training_iteration": 269, "episode_reward_mean": 909.4992762769922, "experiment_id": "a183ec7aedea427d9bacd699bea0cf75", "policy_reward_mean": {}, "iterations_since_restore": 269, "custom_metrics": {"cost2_min": -44.582820619414356, "outflow_rate_max": 1173.7696415584417, "cost1_mean": 309.77196188627005, "cost2_mean": -32.637327188224106, "system_level_velocity_mean": 12.431911678561576, "cost1_max": 342.8773752655683, "cost1_min": 71.68037817161468, "cost2_max": -19.26850251529047, "outflow_rate_mean": 1020.2609826017152, "system_level_velocity_min": 9.787686824041828, "outflow_rate_min": 441.6655277039821, "system_level_velocity_max": 15.858055713179358}, "info": {"num_steps_trained": 10229438, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.012616941705346107, "total_loss": 21.559764862060547, "vf_loss": 21.564233779907227, "policy_loss": -0.00925952848047018, "cur_kl_coeff": 0.37968751788139343, "vf_explained_var": 0.6661795973777771, "entropy": 1.3831785917282104}, "num_steps_sampled": 10229438, "load_time_ms": 12.035, "update_time_ms": 6.831, "grad_time_ms": 9201.783, "sample_time_ms": 13489.958}, "episode_len_mean": 689.9, "time_this_iter_s": 22.56627082824707, "num_metric_batches_dropped": 0, "timesteps_total": 10229438, "episodes_total": 5035, "hostname": "flow-main", "config": {"custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "kl_coeff": 0.2, "train_batch_size": 30000, "log_level": "INFO", "num_workers": 20, "num_sgd_iter": 10, "lr": 0.0005, "monitor": false, "lr_schedule": null, "compress_observations": false, "input": "sampler", "straggler_mitigation": false, "input_evaluation": null, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "optimizer": {}, "vf_share_layers": false, "model": {"fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "fcnet_activation": "tanh", "dim": 84, "lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "channel_major": false, "conv_activation": "relu", "squash_to_range": false, "conv_filters": null, "zero_mean": true, "grayscale": false, "max_seq_len": 20, "free_log_std": false, "custom_preprocessor": null, "custom_options": {}, "use_lstm": false}, "clip_param": 0.3, "num_cpus_for_driver": 1, "synchronize_filters": true, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "output": null, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.3, 0.1]_t_min:10.0", "batch_mode": "truncate_episodes", "simple_optimizer": false, "sample_batch_size": 200, "collect_metrics_timeout": 180, "clip_rewards": null, "clip_actions": false, "kl_target": 0.01, "observation_filter": "NoFilter", "use_gae": true, "entropy_coeff": 0.0, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb788d0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb784e0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb78e10>"}, "gamma": 0.99, "horizon": 1500, "num_gpus_per_worker": 0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "output_max_file_size": 67108864, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "num_gpus": 0, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}}, "timestamp": 1557236611, "episode_reward_max": 1025.792438774979, "episodes_this_iter": 17, "time_total_s": 6220.691494703293, "time_since_restore": 6220.691494703293}
{"timesteps_since_restore": 10267352, "done": false, "node_ip": "10.138.0.2", "pid": 10867, "date": "2019-05-07_13-43-54", "episode_reward_min": 157.9374830533517, "timesteps_this_iter": 37914, "training_iteration": 270, "episode_reward_mean": 907.4551557752164, "experiment_id": "a183ec7aedea427d9bacd699bea0cf75", "policy_reward_mean": {}, "iterations_since_restore": 270, "custom_metrics": {"cost2_min": -50.38248713868803, "outflow_rate_max": 1173.7696415584417, "cost1_mean": 307.97188488662096, "cost2_mean": -32.82962214415332, "system_level_velocity_mean": 12.335798713552055, "cost1_max": 342.8773752655683, "cost1_min": 71.68037817161468, "cost2_max": -19.26850251529047, "outflow_rate_mean": 1014.151363328988, "system_level_velocity_min": 9.787686824041828, "outflow_rate_min": 441.6655277039821, "system_level_velocity_max": 15.858055713179358}, "info": {"num_steps_trained": 10267352, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.011024889536201954, "total_loss": 24.198335647583008, "vf_loss": 24.203533172607422, "policy_loss": -0.009380895644426346, "cur_kl_coeff": 0.37968751788139343, "vf_explained_var": 0.6194627285003662, "entropy": 1.3993784189224243}, "num_steps_sampled": 10267352, "load_time_ms": 12.131, "update_time_ms": 6.787, "grad_time_ms": 9219.12, "sample_time_ms": 13532.571}, "episode_len_mean": 689.72, "time_this_iter_s": 22.999601125717163, "num_metric_batches_dropped": 0, "timesteps_total": 10267352, "episodes_total": 5054, "hostname": "flow-main", "config": {"custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "kl_coeff": 0.2, "train_batch_size": 30000, "log_level": "INFO", "num_workers": 20, "num_sgd_iter": 10, "lr": 0.0005, "monitor": false, "lr_schedule": null, "compress_observations": false, "input": "sampler", "straggler_mitigation": false, "input_evaluation": null, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "optimizer": {}, "vf_share_layers": false, "model": {"fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "fcnet_activation": "tanh", "dim": 84, "lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "channel_major": false, "conv_activation": "relu", "squash_to_range": false, "conv_filters": null, "zero_mean": true, "grayscale": false, "max_seq_len": 20, "free_log_std": false, "custom_preprocessor": null, "custom_options": {}, "use_lstm": false}, "clip_param": 0.3, "num_cpus_for_driver": 1, "synchronize_filters": true, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "output": null, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.3, 0.1]_t_min:10.0", "batch_mode": "truncate_episodes", "simple_optimizer": false, "sample_batch_size": 200, "collect_metrics_timeout": 180, "clip_rewards": null, "clip_actions": false, "kl_target": 0.01, "observation_filter": "NoFilter", "use_gae": true, "entropy_coeff": 0.0, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb7f5c0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb7f860>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb7f2e8>"}, "gamma": 0.99, "horizon": 1500, "num_gpus_per_worker": 0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "output_max_file_size": 67108864, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "num_gpus": 0, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}}, "timestamp": 1557236634, "episode_reward_max": 1025.792438774979, "episodes_this_iter": 19, "time_total_s": 6243.69109582901, "time_since_restore": 6243.69109582901}
{"timesteps_since_restore": 10304707, "done": false, "node_ip": "10.138.0.2", "pid": 10867, "date": "2019-05-07_13-44-16", "episode_reward_min": 156.12090903764306, "timesteps_this_iter": 37355, "training_iteration": 271, "episode_reward_mean": 905.5486081376232, "experiment_id": "a183ec7aedea427d9bacd699bea0cf75", "policy_reward_mean": {}, "iterations_since_restore": 271, "custom_metrics": {"cost2_min": -50.38248713868803, "outflow_rate_max": 1173.7696415584417, "cost1_mean": 306.4833014068656, "cost2_mean": -32.49146066716201, "system_level_velocity_mean": 12.381159267199354, "cost1_max": 342.8773752655683, "cost1_min": 65.90581566522043, "cost2_max": -19.26850251529047, "outflow_rate_mean": 1011.1490973565186, "system_level_velocity_min": 9.787686824041828, "outflow_rate_min": 427.3144572985363, "system_level_velocity_max": 16.489845693225977}, "info": {"num_steps_trained": 10304707, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.01322893239557743, "total_loss": 26.75002098083496, "vf_loss": 26.753990173339844, "policy_loss": -0.008994865231215954, "cur_kl_coeff": 0.3796875476837158, "vf_explained_var": 0.6184121966362, "entropy": 1.3733367919921875}, "num_steps_sampled": 10304707, "load_time_ms": 12.177, "update_time_ms": 6.914, "grad_time_ms": 9184.091, "sample_time_ms": 13552.996}, "episode_len_mean": 685.52, "time_this_iter_s": 22.48342275619507, "num_metric_batches_dropped": 0, "timesteps_total": 10304707, "episodes_total": 5074, "hostname": "flow-main", "config": {"custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "kl_coeff": 0.2, "train_batch_size": 30000, "log_level": "INFO", "num_workers": 20, "num_sgd_iter": 10, "lr": 0.0005, "monitor": false, "lr_schedule": null, "compress_observations": false, "input": "sampler", "straggler_mitigation": false, "input_evaluation": null, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "optimizer": {}, "vf_share_layers": false, "model": {"fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "fcnet_activation": "tanh", "dim": 84, "lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "channel_major": false, "conv_activation": "relu", "squash_to_range": false, "conv_filters": null, "zero_mean": true, "grayscale": false, "max_seq_len": 20, "free_log_std": false, "custom_preprocessor": null, "custom_options": {}, "use_lstm": false}, "clip_param": 0.3, "num_cpus_for_driver": 1, "synchronize_filters": true, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "output": null, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.3, 0.1]_t_min:10.0", "batch_mode": "truncate_episodes", "simple_optimizer": false, "sample_batch_size": 200, "collect_metrics_timeout": 180, "clip_rewards": null, "clip_actions": false, "kl_target": 0.01, "observation_filter": "NoFilter", "use_gae": true, "entropy_coeff": 0.0, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb784a8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb78f98>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb78940>"}, "gamma": 0.99, "horizon": 1500, "num_gpus_per_worker": 0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "output_max_file_size": 67108864, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "num_gpus": 0, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}}, "timestamp": 1557236656, "episode_reward_max": 1025.792438774979, "episodes_this_iter": 20, "time_total_s": 6266.174518585205, "time_since_restore": 6266.174518585205}
{"timesteps_since_restore": 10341670, "done": false, "node_ip": "10.138.0.2", "pid": 10867, "date": "2019-05-07_13-44-39", "episode_reward_min": 156.12090903764306, "timesteps_this_iter": 36963, "training_iteration": 272, "episode_reward_mean": 914.4178863348878, "experiment_id": "a183ec7aedea427d9bacd699bea0cf75", "policy_reward_mean": {}, "iterations_since_restore": 272, "custom_metrics": {"cost2_min": -50.38248713868803, "outflow_rate_max": 1173.7696415584417, "cost1_mean": 310.3202480445372, "cost2_mean": -32.09712861829893, "system_level_velocity_mean": 12.39850242161961, "cost1_max": 342.8773752655683, "cost1_min": 65.90581566522043, "cost2_max": -21.685686156992453, "outflow_rate_mean": 1018.4214577158425, "system_level_velocity_min": 10.436914255568691, "outflow_rate_min": 427.3144572985363, "system_level_velocity_max": 16.489845693225977}, "info": {"num_steps_trained": 10341670, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.011401613242924213, "total_loss": 24.260786056518555, "vf_loss": 24.26546859741211, "policy_loss": -0.009011591784656048, "cur_kl_coeff": 0.37968751788139343, "vf_explained_var": 0.6700652241706848, "entropy": 1.3568795919418335}, "num_steps_sampled": 10341670, "load_time_ms": 12.163, "update_time_ms": 6.968, "grad_time_ms": 9188.263, "sample_time_ms": 13606.199}, "episode_len_mean": 692.17, "time_this_iter_s": 22.852906703948975, "num_metric_batches_dropped": 0, "timesteps_total": 10341670, "episodes_total": 5093, "hostname": "flow-main", "config": {"custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "kl_coeff": 0.2, "train_batch_size": 30000, "log_level": "INFO", "num_workers": 20, "num_sgd_iter": 10, "lr": 0.0005, "monitor": false, "lr_schedule": null, "compress_observations": false, "input": "sampler", "straggler_mitigation": false, "input_evaluation": null, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "optimizer": {}, "vf_share_layers": false, "model": {"fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "fcnet_activation": "tanh", "dim": 84, "lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "channel_major": false, "conv_activation": "relu", "squash_to_range": false, "conv_filters": null, "zero_mean": true, "grayscale": false, "max_seq_len": 20, "free_log_std": false, "custom_preprocessor": null, "custom_options": {}, "use_lstm": false}, "clip_param": 0.3, "num_cpus_for_driver": 1, "synchronize_filters": true, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "output": null, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.3, 0.1]_t_min:10.0", "batch_mode": "truncate_episodes", "simple_optimizer": false, "sample_batch_size": 200, "collect_metrics_timeout": 180, "clip_rewards": null, "clip_actions": false, "kl_target": 0.01, "observation_filter": "NoFilter", "use_gae": true, "entropy_coeff": 0.0, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb78ac8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb78b70>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb78d68>"}, "gamma": 0.99, "horizon": 1500, "num_gpus_per_worker": 0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "output_max_file_size": 67108864, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "num_gpus": 0, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}}, "timestamp": 1557236679, "episode_reward_max": 1025.792438774979, "episodes_this_iter": 19, "time_total_s": 6289.027425289154, "time_since_restore": 6289.027425289154}
{"timesteps_since_restore": 10379007, "done": false, "node_ip": "10.138.0.2", "pid": 10867, "date": "2019-05-07_13-45-02", "episode_reward_min": 156.12090903764306, "timesteps_this_iter": 37337, "training_iteration": 273, "episode_reward_mean": 908.449489022051, "experiment_id": "a183ec7aedea427d9bacd699bea0cf75", "policy_reward_mean": {}, "iterations_since_restore": 273, "custom_metrics": {"cost2_min": -50.38248713868803, "outflow_rate_max": 1199.336374025974, "cost1_mean": 309.4268133767478, "cost2_mean": -31.213335578212472, "system_level_velocity_mean": 12.4435159643829, "cost1_max": 342.8773752655683, "cost1_min": 65.90581566522043, "cost2_max": -21.685686156992453, "outflow_rate_mean": 1014.0686295987953, "system_level_velocity_min": 10.436914255568691, "outflow_rate_min": 427.3144572985363, "system_level_velocity_max": 16.489845693225977}, "info": {"num_steps_trained": 10379007, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.012470693327486515, "total_loss": 25.738008499145508, "vf_loss": 25.742347717285156, "policy_loss": -0.009072994813323021, "cur_kl_coeff": 0.3796875476837158, "vf_explained_var": 0.5826188921928406, "entropy": 1.3797507286071777}, "num_steps_sampled": 10379007, "load_time_ms": 11.993, "update_time_ms": 6.959, "grad_time_ms": 9209.279, "sample_time_ms": 13600.805}, "episode_len_mean": 688.8, "time_this_iter_s": 22.841195583343506, "num_metric_batches_dropped": 0, "timesteps_total": 10379007, "episodes_total": 5112, "hostname": "flow-main", "config": {"custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "kl_coeff": 0.2, "train_batch_size": 30000, "log_level": "INFO", "num_workers": 20, "num_sgd_iter": 10, "lr": 0.0005, "monitor": false, "lr_schedule": null, "compress_observations": false, "input": "sampler", "straggler_mitigation": false, "input_evaluation": null, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "optimizer": {}, "vf_share_layers": false, "model": {"fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "fcnet_activation": "tanh", "dim": 84, "lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "channel_major": false, "conv_activation": "relu", "squash_to_range": false, "conv_filters": null, "zero_mean": true, "grayscale": false, "max_seq_len": 20, "free_log_std": false, "custom_preprocessor": null, "custom_options": {}, "use_lstm": false}, "clip_param": 0.3, "num_cpus_for_driver": 1, "synchronize_filters": true, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "output": null, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.3, 0.1]_t_min:10.0", "batch_mode": "truncate_episodes", "simple_optimizer": false, "sample_batch_size": 200, "collect_metrics_timeout": 180, "clip_rewards": null, "clip_actions": false, "kl_target": 0.01, "observation_filter": "NoFilter", "use_gae": true, "entropy_coeff": 0.0, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb728d0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb724e0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb72f28>"}, "gamma": 0.99, "horizon": 1500, "num_gpus_per_worker": 0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "output_max_file_size": 67108864, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "num_gpus": 0, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}}, "timestamp": 1557236702, "episode_reward_max": 1025.792438774979, "episodes_this_iter": 19, "time_total_s": 6311.868620872498, "time_since_restore": 6311.868620872498}
{"timesteps_since_restore": 10416708, "done": false, "node_ip": "10.138.0.2", "pid": 10867, "date": "2019-05-07_13-45-25", "episode_reward_min": 156.12090903764306, "timesteps_this_iter": 37701, "training_iteration": 274, "episode_reward_mean": 901.6513063878957, "experiment_id": "a183ec7aedea427d9bacd699bea0cf75", "policy_reward_mean": {}, "iterations_since_restore": 274, "custom_metrics": {"cost2_min": -50.38248713868803, "outflow_rate_max": 1199.336374025974, "cost1_mean": 308.99172779323936, "cost2_mean": -30.489207862759258, "system_level_velocity_mean": 12.491614652936036, "cost1_max": 342.92768868149335, "cost1_min": 65.90581566522043, "cost2_max": -21.685686156992453, "outflow_rate_mean": 1011.6763293186071, "system_level_velocity_min": 10.639960557151003, "outflow_rate_min": 427.3144572985363, "system_level_velocity_max": 16.489845693225977}, "info": {"num_steps_trained": 10416708, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.012834799475967884, "total_loss": 25.308401107788086, "vf_loss": 25.31336212158203, "policy_loss": -0.009833981283009052, "cur_kl_coeff": 0.3796875476837158, "vf_explained_var": 0.6515994071960449, "entropy": 1.397725224494934}, "num_steps_sampled": 10416708, "load_time_ms": 11.845, "update_time_ms": 7.033, "grad_time_ms": 9215.477, "sample_time_ms": 13642.749}, "episode_len_mean": 686.29, "time_this_iter_s": 22.889654397964478, "num_metric_batches_dropped": 0, "timesteps_total": 10416708, "episodes_total": 5131, "hostname": "flow-main", "config": {"custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "kl_coeff": 0.2, "train_batch_size": 30000, "log_level": "INFO", "num_workers": 20, "num_sgd_iter": 10, "lr": 0.0005, "monitor": false, "lr_schedule": null, "compress_observations": false, "input": "sampler", "straggler_mitigation": false, "input_evaluation": null, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "optimizer": {}, "vf_share_layers": false, "model": {"fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "fcnet_activation": "tanh", "dim": 84, "lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "channel_major": false, "conv_activation": "relu", "squash_to_range": false, "conv_filters": null, "zero_mean": true, "grayscale": false, "max_seq_len": 20, "free_log_std": false, "custom_preprocessor": null, "custom_options": {}, "use_lstm": false}, "clip_param": 0.3, "num_cpus_for_driver": 1, "synchronize_filters": true, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "output": null, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.3, 0.1]_t_min:10.0", "batch_mode": "truncate_episodes", "simple_optimizer": false, "sample_batch_size": 200, "collect_metrics_timeout": 180, "clip_rewards": null, "clip_actions": false, "kl_target": 0.01, "observation_filter": "NoFilter", "use_gae": true, "entropy_coeff": 0.0, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb78ef0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb78c50>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb789e8>"}, "gamma": 0.99, "horizon": 1500, "num_gpus_per_worker": 0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "output_max_file_size": 67108864, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "num_gpus": 0, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}}, "timestamp": 1557236725, "episode_reward_max": 1008.8898083421888, "episodes_this_iter": 19, "time_total_s": 6334.758275270462, "time_since_restore": 6334.758275270462}
{"timesteps_since_restore": 10453994, "done": false, "node_ip": "10.138.0.2", "pid": 10867, "date": "2019-05-07_13-45-48", "episode_reward_min": 44.28209195204859, "timesteps_this_iter": 37286, "training_iteration": 275, "episode_reward_mean": 888.7364476677711, "experiment_id": "a183ec7aedea427d9bacd699bea0cf75", "policy_reward_mean": {}, "iterations_since_restore": 275, "custom_metrics": {"cost2_min": -41.210073882874845, "outflow_rate_max": 1199.336374025974, "cost1_mean": 304.8552548986931, "cost2_mean": -29.925275140925137, "system_level_velocity_mean": 12.500705302886134, "cost1_max": 342.92768868149335, "cost1_min": 27.182372905317308, "cost2_max": -15.371715468182076, "outflow_rate_mean": 998.8574667239428, "system_level_velocity_min": 10.54310170376122, "outflow_rate_min": 338.35525222187107, "system_level_velocity_max": 18.31622186674849}, "info": {"num_steps_trained": 10453994, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.011198952794075012, "total_loss": 25.92487907409668, "vf_loss": 25.9290771484375, "policy_loss": -0.008449041284620762, "cur_kl_coeff": 0.3796875476837158, "vf_explained_var": 0.6414660215377808, "entropy": 1.4177474975585938}, "num_steps_sampled": 10453994, "load_time_ms": 11.837, "update_time_ms": 6.93, "grad_time_ms": 9205.047, "sample_time_ms": 13655.674}, "episode_len_mean": 679.9, "time_this_iter_s": 23.115766048431396, "num_metric_batches_dropped": 0, "timesteps_total": 10453994, "episodes_total": 5150, "hostname": "flow-main", "config": {"custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "kl_coeff": 0.2, "train_batch_size": 30000, "log_level": "INFO", "num_workers": 20, "num_sgd_iter": 10, "lr": 0.0005, "monitor": false, "lr_schedule": null, "compress_observations": false, "input": "sampler", "straggler_mitigation": false, "input_evaluation": null, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "optimizer": {}, "vf_share_layers": false, "model": {"fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "fcnet_activation": "tanh", "dim": 84, "lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "channel_major": false, "conv_activation": "relu", "squash_to_range": false, "conv_filters": null, "zero_mean": true, "grayscale": false, "max_seq_len": 20, "free_log_std": false, "custom_preprocessor": null, "custom_options": {}, "use_lstm": false}, "clip_param": 0.3, "num_cpus_for_driver": 1, "synchronize_filters": true, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "output": null, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.3, 0.1]_t_min:10.0", "batch_mode": "truncate_episodes", "simple_optimizer": false, "sample_batch_size": 200, "collect_metrics_timeout": 180, "clip_rewards": null, "clip_actions": false, "kl_target": 0.01, "observation_filter": "NoFilter", "use_gae": true, "entropy_coeff": 0.0, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb78a58>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb78f60>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb78390>"}, "gamma": 0.99, "horizon": 1500, "num_gpus_per_worker": 0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "output_max_file_size": 67108864, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "num_gpus": 0, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}}, "timestamp": 1557236748, "episode_reward_max": 1008.8898083421888, "episodes_this_iter": 19, "time_total_s": 6357.874041318893, "time_since_restore": 6357.874041318893}
{"timesteps_since_restore": 10490532, "done": false, "node_ip": "10.138.0.2", "pid": 10867, "date": "2019-05-07_13-46-11", "episode_reward_min": 44.28209195204859, "timesteps_this_iter": 36538, "training_iteration": 276, "episode_reward_mean": 876.5902379457276, "experiment_id": "a183ec7aedea427d9bacd699bea0cf75", "policy_reward_mean": {}, "iterations_since_restore": 276, "custom_metrics": {"cost2_min": -41.210073882874845, "outflow_rate_max": 1199.336374025974, "cost1_mean": 306.4985333822892, "cost2_mean": -29.788223712991797, "system_level_velocity_mean": 12.646590927181023, "cost1_max": 346.3913409656572, "cost1_min": 27.182372905317308, "cost2_max": -15.371715468182076, "outflow_rate_mean": 1002.2578348278391, "system_level_velocity_min": 10.54310170376122, "outflow_rate_min": 338.35525222187107, "system_level_velocity_max": 18.31622186674849}, "info": {"num_steps_trained": 10490532, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.010697194375097752, "total_loss": 30.745586395263672, "vf_loss": 30.749794006347656, "policy_loss": -0.008269555866718292, "cur_kl_coeff": 0.3796875476837158, "vf_explained_var": 0.5033826231956482, "entropy": 1.409010648727417}, "num_steps_sampled": 10490532, "load_time_ms": 11.763, "update_time_ms": 6.833, "grad_time_ms": 9155.666, "sample_time_ms": 13645.015}, "episode_len_mean": 679.9, "time_this_iter_s": 22.725810766220093, "num_metric_batches_dropped": 0, "timesteps_total": 10490532, "episodes_total": 5171, "hostname": "flow-main", "config": {"custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "kl_coeff": 0.2, "train_batch_size": 30000, "log_level": "INFO", "num_workers": 20, "num_sgd_iter": 10, "lr": 0.0005, "monitor": false, "lr_schedule": null, "compress_observations": false, "input": "sampler", "straggler_mitigation": false, "input_evaluation": null, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "optimizer": {}, "vf_share_layers": false, "model": {"fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "fcnet_activation": "tanh", "dim": 84, "lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "channel_major": false, "conv_activation": "relu", "squash_to_range": false, "conv_filters": null, "zero_mean": true, "grayscale": false, "max_seq_len": 20, "free_log_std": false, "custom_preprocessor": null, "custom_options": {}, "use_lstm": false}, "clip_param": 0.3, "num_cpus_for_driver": 1, "synchronize_filters": true, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "output": null, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.3, 0.1]_t_min:10.0", "batch_mode": "truncate_episodes", "simple_optimizer": false, "sample_batch_size": 200, "collect_metrics_timeout": 180, "clip_rewards": null, "clip_actions": false, "kl_target": 0.01, "observation_filter": "NoFilter", "use_gae": true, "entropy_coeff": 0.0, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb72f28>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb79828>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb72198>"}, "gamma": 0.99, "horizon": 1500, "num_gpus_per_worker": 0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "output_max_file_size": 67108864, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "num_gpus": 0, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}}, "timestamp": 1557236771, "episode_reward_max": 988.0860390421965, "episodes_this_iter": 21, "time_total_s": 6380.5998520851135, "time_since_restore": 6380.5998520851135}
{"timesteps_since_restore": 10527101, "done": false, "node_ip": "10.138.0.2", "pid": 10867, "date": "2019-05-07_13-46-35", "episode_reward_min": 44.28209195204859, "timesteps_this_iter": 36569, "training_iteration": 277, "episode_reward_mean": 868.9220753166265, "experiment_id": "a183ec7aedea427d9bacd699bea0cf75", "policy_reward_mean": {}, "iterations_since_restore": 277, "custom_metrics": {"cost2_min": -41.210073882874845, "outflow_rate_max": 1199.336374025974, "cost1_mean": 306.5610116592504, "cost2_mean": -30.60568476733369, "system_level_velocity_mean": 12.625427528621236, "cost1_max": 346.3913409656572, "cost1_min": 27.182372905317308, "cost2_max": -15.371715468182076, "outflow_rate_mean": 1007.2977727898016, "system_level_velocity_min": 10.499340730441043, "outflow_rate_min": 338.35525222187107, "system_level_velocity_max": 18.31622186674849}, "info": {"num_steps_trained": 10527101, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.011526662856340408, "total_loss": 26.349443435668945, "vf_loss": 26.354366302490234, "policy_loss": -0.00930014904588461, "cur_kl_coeff": 0.3796875476837158, "vf_explained_var": 0.6090990900993347, "entropy": 1.4329073429107666}, "num_steps_sampled": 10527101, "load_time_ms": 11.414, "update_time_ms": 6.883, "grad_time_ms": 9158.621, "sample_time_ms": 13796.776}, "episode_len_mean": 682.26, "time_this_iter_s": 24.082263946533203, "num_metric_batches_dropped": 0, "timesteps_total": 10527101, "episodes_total": 5191, "hostname": "flow-main", "config": {"custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "kl_coeff": 0.2, "train_batch_size": 30000, "log_level": "INFO", "num_workers": 20, "num_sgd_iter": 10, "lr": 0.0005, "monitor": false, "lr_schedule": null, "compress_observations": false, "input": "sampler", "straggler_mitigation": false, "input_evaluation": null, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "optimizer": {}, "vf_share_layers": false, "model": {"fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "fcnet_activation": "tanh", "dim": 84, "lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "channel_major": false, "conv_activation": "relu", "squash_to_range": false, "conv_filters": null, "zero_mean": true, "grayscale": false, "max_seq_len": 20, "free_log_std": false, "custom_preprocessor": null, "custom_options": {}, "use_lstm": false}, "clip_param": 0.3, "num_cpus_for_driver": 1, "synchronize_filters": true, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "output": null, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.3, 0.1]_t_min:10.0", "batch_mode": "truncate_episodes", "simple_optimizer": false, "sample_batch_size": 200, "collect_metrics_timeout": 180, "clip_rewards": null, "clip_actions": false, "kl_target": 0.01, "observation_filter": "NoFilter", "use_gae": true, "entropy_coeff": 0.0, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb78048>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb78da0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb78dd8>"}, "gamma": 0.99, "horizon": 1500, "num_gpus_per_worker": 0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "output_max_file_size": 67108864, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "num_gpus": 0, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}}, "timestamp": 1557236795, "episode_reward_max": 988.0860390421965, "episodes_this_iter": 20, "time_total_s": 6404.682116031647, "time_since_restore": 6404.682116031647}
{"timesteps_since_restore": 10563773, "done": false, "node_ip": "10.138.0.2", "pid": 10867, "date": "2019-05-07_13-46-58", "episode_reward_min": 44.28209195204859, "timesteps_this_iter": 36672, "training_iteration": 278, "episode_reward_mean": 855.6175372932496, "experiment_id": "a183ec7aedea427d9bacd699bea0cf75", "policy_reward_mean": {}, "iterations_since_restore": 278, "custom_metrics": {"cost2_min": -41.210073882874845, "outflow_rate_max": 1169.3077714285716, "cost1_mean": 304.0945462621201, "cost2_mean": -30.662386909175453, "system_level_velocity_mean": 12.665946814263975, "cost1_max": 346.3913409656572, "cost1_min": 27.182372905317308, "cost2_max": -15.371715468182076, "outflow_rate_mean": 1001.9557657285244, "system_level_velocity_min": 10.499340730441043, "outflow_rate_min": 338.35525222187107, "system_level_velocity_max": 18.31622186674849}, "info": {"num_steps_trained": 10563773, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.011910068802535534, "total_loss": 25.56251335144043, "vf_loss": 25.567289352416992, "policy_loss": -0.009296856820583344, "cur_kl_coeff": 0.3796875476837158, "vf_explained_var": 0.5655628442764282, "entropy": 1.4086105823516846}, "num_steps_sampled": 10563773, "load_time_ms": 11.502, "update_time_ms": 6.867, "grad_time_ms": 9150.101, "sample_time_ms": 13688.346}, "episode_len_mean": 677.52, "time_this_iter_s": 22.744903564453125, "num_metric_batches_dropped": 0, "timesteps_total": 10563773, "episodes_total": 5211, "hostname": "flow-main", "config": {"custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "kl_coeff": 0.2, "train_batch_size": 30000, "log_level": "INFO", "num_workers": 20, "num_sgd_iter": 10, "lr": 0.0005, "monitor": false, "lr_schedule": null, "compress_observations": false, "input": "sampler", "straggler_mitigation": false, "input_evaluation": null, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "optimizer": {}, "vf_share_layers": false, "model": {"fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "fcnet_activation": "tanh", "dim": 84, "lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "channel_major": false, "conv_activation": "relu", "squash_to_range": false, "conv_filters": null, "zero_mean": true, "grayscale": false, "max_seq_len": 20, "free_log_std": false, "custom_preprocessor": null, "custom_options": {}, "use_lstm": false}, "clip_param": 0.3, "num_cpus_for_driver": 1, "synchronize_filters": true, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "output": null, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.3, 0.1]_t_min:10.0", "batch_mode": "truncate_episodes", "simple_optimizer": false, "sample_batch_size": 200, "collect_metrics_timeout": 180, "clip_rewards": null, "clip_actions": false, "kl_target": 0.01, "observation_filter": "NoFilter", "use_gae": true, "entropy_coeff": 0.0, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb7fe48>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb7ff60>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb7f828>"}, "gamma": 0.99, "horizon": 1500, "num_gpus_per_worker": 0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "output_max_file_size": 67108864, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "num_gpus": 0, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}}, "timestamp": 1557236818, "episode_reward_max": 988.0860390421965, "episodes_this_iter": 20, "time_total_s": 6427.4270195961, "time_since_restore": 6427.4270195961}
{"timesteps_since_restore": 10600589, "done": false, "node_ip": "10.138.0.2", "pid": 10867, "date": "2019-05-07_13-47-20", "episode_reward_min": 44.28209195204859, "timesteps_this_iter": 36816, "training_iteration": 279, "episode_reward_mean": 840.6313926438497, "experiment_id": "a183ec7aedea427d9bacd699bea0cf75", "policy_reward_mean": {}, "iterations_since_restore": 279, "custom_metrics": {"cost2_min": -41.210073882874845, "outflow_rate_max": 1169.3077714285716, "cost1_mean": 303.00836685316835, "cost2_mean": -30.510681998637743, "system_level_velocity_mean": 12.678948239042287, "cost1_max": 346.3913409656572, "cost1_min": 27.182372905317308, "cost2_max": -15.371715468182076, "outflow_rate_mean": 998.6513634632578, "system_level_velocity_min": 10.499340730441043, "outflow_rate_min": 338.35525222187107, "system_level_velocity_max": 18.31622186674849}, "info": {"num_steps_trained": 10600589, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.013042714446783066, "total_loss": 24.796815872192383, "vf_loss": 24.80234718322754, "policy_loss": -0.010482658632099628, "cur_kl_coeff": 0.37968751788139343, "vf_explained_var": 0.6489656567573547, "entropy": 1.4581425189971924}, "num_steps_sampled": 10600589, "load_time_ms": 11.451, "update_time_ms": 6.891, "grad_time_ms": 9146.906, "sample_time_ms": 13683.301}, "episode_len_mean": 677.87, "time_this_iter_s": 22.482030153274536, "num_metric_batches_dropped": 0, "timesteps_total": 10600589, "episodes_total": 5231, "hostname": "flow-main", "config": {"custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "kl_coeff": 0.2, "train_batch_size": 30000, "log_level": "INFO", "num_workers": 20, "num_sgd_iter": 10, "lr": 0.0005, "monitor": false, "lr_schedule": null, "compress_observations": false, "input": "sampler", "straggler_mitigation": false, "input_evaluation": null, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "optimizer": {}, "vf_share_layers": false, "model": {"fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "fcnet_activation": "tanh", "dim": 84, "lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "channel_major": false, "conv_activation": "relu", "squash_to_range": false, "conv_filters": null, "zero_mean": true, "grayscale": false, "max_seq_len": 20, "free_log_std": false, "custom_preprocessor": null, "custom_options": {}, "use_lstm": false}, "clip_param": 0.3, "num_cpus_for_driver": 1, "synchronize_filters": true, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "output": null, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.3, 0.1]_t_min:10.0", "batch_mode": "truncate_episodes", "simple_optimizer": false, "sample_batch_size": 200, "collect_metrics_timeout": 180, "clip_rewards": null, "clip_actions": false, "kl_target": 0.01, "observation_filter": "NoFilter", "use_gae": true, "entropy_coeff": 0.0, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb786a0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb78e80>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb789b0>"}, "gamma": 0.99, "horizon": 1500, "num_gpus_per_worker": 0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "output_max_file_size": 67108864, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "num_gpus": 0, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}}, "timestamp": 1557236840, "episode_reward_max": 965.4238462948498, "episodes_this_iter": 20, "time_total_s": 6449.909049749374, "time_since_restore": 6449.909049749374}
{"timesteps_since_restore": 10636950, "done": false, "node_ip": "10.138.0.2", "pid": 10867, "date": "2019-05-07_13-47-43", "episode_reward_min": 181.493630114068, "timesteps_this_iter": 36361, "training_iteration": 280, "episode_reward_mean": 830.7834129641997, "experiment_id": "a183ec7aedea427d9bacd699bea0cf75", "policy_reward_mean": {}, "iterations_since_restore": 280, "custom_metrics": {"cost2_min": -40.59753515341011, "outflow_rate_max": 1169.3077714285716, "cost1_mean": 303.17347198912586, "cost2_mean": -30.73795893272868, "system_level_velocity_mean": 12.752381680570306, "cost1_max": 346.3913409656572, "cost1_min": 72.52791147730363, "cost2_max": -15.2946511076418, "outflow_rate_mean": 1005.8720411020232, "system_level_velocity_min": 10.499340730441043, "outflow_rate_min": 486.481593550949, "system_level_velocity_max": 14.643125438306}, "info": {"num_steps_trained": 10636950, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.012925416231155396, "total_loss": 25.063310623168945, "vf_loss": 25.0682315826416, "policy_loss": -0.009827407076954842, "cur_kl_coeff": 0.3796875476837158, "vf_explained_var": 0.6178672909736633, "entropy": 1.4498833417892456}, "num_steps_sampled": 10636950, "load_time_ms": 11.505, "update_time_ms": 7.114, "grad_time_ms": 9122.185, "sample_time_ms": 13689.658}, "episode_len_mean": 674.66, "time_this_iter_s": 22.82712483406067, "num_metric_batches_dropped": 0, "timesteps_total": 10636950, "episodes_total": 5251, "hostname": "flow-main", "config": {"custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "kl_coeff": 0.2, "train_batch_size": 30000, "log_level": "INFO", "num_workers": 20, "num_sgd_iter": 10, "lr": 0.0005, "monitor": false, "lr_schedule": null, "compress_observations": false, "input": "sampler", "straggler_mitigation": false, "input_evaluation": null, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "optimizer": {}, "vf_share_layers": false, "model": {"fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "fcnet_activation": "tanh", "dim": 84, "lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "channel_major": false, "conv_activation": "relu", "squash_to_range": false, "conv_filters": null, "zero_mean": true, "grayscale": false, "max_seq_len": 20, "free_log_std": false, "custom_preprocessor": null, "custom_options": {}, "use_lstm": false}, "clip_param": 0.3, "num_cpus_for_driver": 1, "synchronize_filters": true, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "output": null, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.3, 0.1]_t_min:10.0", "batch_mode": "truncate_episodes", "simple_optimizer": false, "sample_batch_size": 200, "collect_metrics_timeout": 180, "clip_rewards": null, "clip_actions": false, "kl_target": 0.01, "observation_filter": "NoFilter", "use_gae": true, "entropy_coeff": 0.0, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb69278>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb69978>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb692e8>"}, "gamma": 0.99, "horizon": 1500, "num_gpus_per_worker": 0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "output_max_file_size": 67108864, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "num_gpus": 0, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}}, "timestamp": 1557236863, "episode_reward_max": 960.1510650129786, "episodes_this_iter": 20, "time_total_s": 6472.736174583435, "time_since_restore": 6472.736174583435}
{"timesteps_since_restore": 10673931, "done": false, "node_ip": "10.138.0.2", "pid": 10867, "date": "2019-05-07_13-48-07", "episode_reward_min": 181.493630114068, "timesteps_this_iter": 36981, "training_iteration": 281, "episode_reward_mean": 825.2820482014139, "experiment_id": "a183ec7aedea427d9bacd699bea0cf75", "policy_reward_mean": {}, "iterations_since_restore": 281, "custom_metrics": {"cost2_min": -43.543306049019, "outflow_rate_max": 1195.3610597402599, "cost1_mean": 303.36141911003995, "cost2_mean": -31.20949900539858, "system_level_velocity_mean": 12.76179274993009, "cost1_max": 355.0721399588017, "cost1_min": 72.52791147730363, "cost2_max": -15.2946511076418, "outflow_rate_mean": 1002.5947013098154, "system_level_velocity_min": 10.499340730441043, "outflow_rate_min": 486.481593550949, "system_level_velocity_max": 14.643125438306}, "info": {"num_steps_trained": 10673931, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.011294156312942505, "total_loss": 25.116167068481445, "vf_loss": 25.119951248168945, "policy_loss": -0.00807126984000206, "cur_kl_coeff": 0.37968751788139343, "vf_explained_var": 0.5997480154037476, "entropy": 1.4590072631835938}, "num_steps_sampled": 10673931, "load_time_ms": 11.48, "update_time_ms": 7.061, "grad_time_ms": 9237.307, "sample_time_ms": 13659.013}, "episode_len_mean": 674.66, "time_this_iter_s": 23.335575819015503, "num_metric_batches_dropped": 0, "timesteps_total": 10673931, "episodes_total": 5271, "hostname": "flow-main", "config": {"custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "kl_coeff": 0.2, "train_batch_size": 30000, "log_level": "INFO", "num_workers": 20, "num_sgd_iter": 10, "lr": 0.0005, "monitor": false, "lr_schedule": null, "compress_observations": false, "input": "sampler", "straggler_mitigation": false, "input_evaluation": null, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "optimizer": {}, "vf_share_layers": false, "model": {"fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "fcnet_activation": "tanh", "dim": 84, "lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "channel_major": false, "conv_activation": "relu", "squash_to_range": false, "conv_filters": null, "zero_mean": true, "grayscale": false, "max_seq_len": 20, "free_log_std": false, "custom_preprocessor": null, "custom_options": {}, "use_lstm": false}, "clip_param": 0.3, "num_cpus_for_driver": 1, "synchronize_filters": true, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "output": null, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.3, 0.1]_t_min:10.0", "batch_mode": "truncate_episodes", "simple_optimizer": false, "sample_batch_size": 200, "collect_metrics_timeout": 180, "clip_rewards": null, "clip_actions": false, "kl_target": 0.01, "observation_filter": "NoFilter", "use_gae": true, "entropy_coeff": 0.0, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb7f080>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb7f9b0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb7f470>"}, "gamma": 0.99, "horizon": 1500, "num_gpus_per_worker": 0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "output_max_file_size": 67108864, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "num_gpus": 0, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}}, "timestamp": 1557236887, "episode_reward_max": 959.9881571351567, "episodes_this_iter": 20, "time_total_s": 6496.071750402451, "time_since_restore": 6496.071750402451}
{"timesteps_since_restore": 10710210, "done": false, "node_ip": "10.138.0.2", "pid": 10867, "date": "2019-05-07_13-48-29", "episode_reward_min": 181.493630114068, "timesteps_this_iter": 36279, "training_iteration": 282, "episode_reward_mean": 822.4751082996672, "experiment_id": "a183ec7aedea427d9bacd699bea0cf75", "policy_reward_mean": {}, "iterations_since_restore": 282, "custom_metrics": {"cost2_min": -43.543306049019, "cost2_mean": -30.840361225059873, "cost1_mean": 303.43818220148603, "system_level_velocity_mean": 12.735081023879731, "cost1_max": 355.0721399588017, "cost1_min": 72.52791147730363, "cost2_max": -15.2946511076418, "outflow_rate_max": 1195.3610597402599, "system_level_velocity_min": 10.282740370195551, "outflow_rate_min": 486.481593550949, "system_level_velocity_max": 14.643125438306, "outflow_rate_mean": 1003.9570629074994}, "info": {"num_steps_trained": 10710210, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.010867142118513584, "total_loss": 25.932289123535156, "vf_loss": 25.93605613708496, "policy_loss": -0.00789118092507124, "cur_kl_coeff": 0.37968751788139343, "vf_explained_var": 0.5690113306045532, "entropy": 1.4632365703582764}, "num_steps_sampled": 10710210, "load_time_ms": 11.532, "update_time_ms": 7.285, "grad_time_ms": 9238.844, "sample_time_ms": 13614.445}, "episode_len_mean": 675.97, "time_this_iter_s": 22.433839321136475, "num_metric_batches_dropped": 0, "timesteps_total": 10710210, "episodes_total": 5290, "hostname": "flow-main", "config": {"custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "kl_coeff": 0.2, "train_batch_size": 30000, "log_level": "INFO", "num_workers": 20, "num_sgd_iter": 10, "lr": 0.0005, "monitor": false, "lr_schedule": null, "compress_observations": false, "input": "sampler", "straggler_mitigation": false, "input_evaluation": null, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "optimizer": {}, "vf_share_layers": false, "model": {"fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "fcnet_activation": "tanh", "dim": 84, "lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "channel_major": false, "conv_activation": "relu", "squash_to_range": false, "conv_filters": null, "zero_mean": true, "grayscale": false, "max_seq_len": 20, "free_log_std": false, "custom_preprocessor": null, "custom_options": {}, "use_lstm": false}, "clip_param": 0.3, "num_cpus_for_driver": 1, "synchronize_filters": true, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "output": null, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.3, 0.1]_t_min:10.0", "batch_mode": "truncate_episodes", "simple_optimizer": false, "sample_batch_size": 200, "collect_metrics_timeout": 180, "clip_rewards": null, "clip_actions": false, "kl_target": 0.01, "observation_filter": "NoFilter", "use_gae": true, "entropy_coeff": 0.0, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb78550>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb78320>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb78438>"}, "gamma": 0.99, "horizon": 1500, "num_gpus_per_worker": 0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "output_max_file_size": 67108864, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "num_gpus": 0, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}}, "timestamp": 1557236909, "episode_reward_max": 959.9881571351567, "episodes_this_iter": 19, "time_total_s": 6518.505589723587, "time_since_restore": 6518.505589723587}
{"timesteps_since_restore": 10746662, "done": false, "node_ip": "10.138.0.2", "pid": 10867, "date": "2019-05-07_13-48-52", "episode_reward_min": 181.493630114068, "timesteps_this_iter": 36452, "training_iteration": 283, "episode_reward_mean": 826.7851475628436, "experiment_id": "a183ec7aedea427d9bacd699bea0cf75", "policy_reward_mean": {}, "iterations_since_restore": 283, "custom_metrics": {"cost2_min": -43.543306049019, "outflow_rate_max": 1195.3610597402599, "cost1_mean": 304.38320002316226, "cost2_mean": -31.006221407807956, "system_level_velocity_mean": 12.637518421449734, "cost1_max": 355.0721399588017, "cost1_min": 72.52791147730363, "cost2_max": -15.2946511076418, "outflow_rate_mean": 1001.744120176727, "system_level_velocity_min": 10.282740370195551, "outflow_rate_min": 486.481593550949, "system_level_velocity_max": 14.580242382323128}, "info": {"num_steps_trained": 10746662, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.011903037317097187, "total_loss": 29.08551025390625, "vf_loss": 29.09079360961914, "policy_loss": -0.009804204106330872, "cur_kl_coeff": 0.3796875476837158, "vf_explained_var": 0.5593054890632629, "entropy": 1.464431881904602}, "num_steps_sampled": 10746662, "load_time_ms": 11.48, "update_time_ms": 7.328, "grad_time_ms": 9202.865, "sample_time_ms": 13617.882}, "episode_len_mean": 681.8, "time_this_iter_s": 22.516283750534058, "num_metric_batches_dropped": 0, "timesteps_total": 10746662, "episodes_total": 5311, "hostname": "flow-main", "config": {"custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "kl_coeff": 0.2, "train_batch_size": 30000, "log_level": "INFO", "num_workers": 20, "num_sgd_iter": 10, "lr": 0.0005, "monitor": false, "lr_schedule": null, "compress_observations": false, "input": "sampler", "straggler_mitigation": false, "input_evaluation": null, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "optimizer": {}, "vf_share_layers": false, "model": {"fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "fcnet_activation": "tanh", "dim": 84, "lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "channel_major": false, "conv_activation": "relu", "squash_to_range": false, "conv_filters": null, "zero_mean": true, "grayscale": false, "max_seq_len": 20, "free_log_std": false, "custom_preprocessor": null, "custom_options": {}, "use_lstm": false}, "clip_param": 0.3, "num_cpus_for_driver": 1, "synchronize_filters": true, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "output": null, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.3, 0.1]_t_min:10.0", "batch_mode": "truncate_episodes", "simple_optimizer": false, "sample_batch_size": 200, "collect_metrics_timeout": 180, "clip_rewards": null, "clip_actions": false, "kl_target": 0.01, "observation_filter": "NoFilter", "use_gae": true, "entropy_coeff": 0.0, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb781d0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb78080>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb78048>"}, "gamma": 0.99, "horizon": 1500, "num_gpus_per_worker": 0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "output_max_file_size": 67108864, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "num_gpus": 0, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}}, "timestamp": 1557236932, "episode_reward_max": 935.4740083236376, "episodes_this_iter": 21, "time_total_s": 6541.021873474121, "time_since_restore": 6541.021873474121}
{"timesteps_since_restore": 10783410, "done": false, "node_ip": "10.138.0.2", "pid": 10867, "date": "2019-05-07_13-49-14", "episode_reward_min": 163.76102535002755, "timesteps_this_iter": 36748, "training_iteration": 284, "episode_reward_mean": 817.1409074267112, "experiment_id": "a183ec7aedea427d9bacd699bea0cf75", "policy_reward_mean": {}, "iterations_since_restore": 284, "custom_metrics": {"cost2_min": -43.543306049019, "outflow_rate_max": 1195.3610597402599, "cost1_mean": 300.9975822103086, "cost2_mean": -30.89545412444665, "system_level_velocity_mean": 12.6810134189526, "cost1_max": 355.0721399588017, "cost1_min": 68.68776259342366, "cost2_max": -15.2946511076418, "outflow_rate_mean": 993.8190703773704, "system_level_velocity_min": 10.282740370195551, "outflow_rate_min": 420.085916599288, "system_level_velocity_max": 15.666200243630342}, "info": {"num_steps_trained": 10783410, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.010787145234644413, "total_loss": 26.430824279785156, "vf_loss": 26.433866500854492, "policy_loss": -0.007139510940760374, "cur_kl_coeff": 0.37968751788139343, "vf_explained_var": 0.47674378752708435, "entropy": 1.4302388429641724}, "num_steps_sampled": 10783410, "load_time_ms": 11.538, "update_time_ms": 7.361, "grad_time_ms": 9177.658, "sample_time_ms": 13600.814}, "episode_len_mean": 672.55, "time_this_iter_s": 22.468514680862427, "num_metric_batches_dropped": 0, "timesteps_total": 10783410, "episodes_total": 5332, "hostname": "flow-main", "config": {"custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "kl_coeff": 0.2, "train_batch_size": 30000, "log_level": "INFO", "num_workers": 20, "num_sgd_iter": 10, "lr": 0.0005, "monitor": false, "lr_schedule": null, "compress_observations": false, "input": "sampler", "straggler_mitigation": false, "input_evaluation": null, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "optimizer": {}, "vf_share_layers": false, "model": {"fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "fcnet_activation": "tanh", "dim": 84, "lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "channel_major": false, "conv_activation": "relu", "squash_to_range": false, "conv_filters": null, "zero_mean": true, "grayscale": false, "max_seq_len": 20, "free_log_std": false, "custom_preprocessor": null, "custom_options": {}, "use_lstm": false}, "clip_param": 0.3, "num_cpus_for_driver": 1, "synchronize_filters": true, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "output": null, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.3, 0.1]_t_min:10.0", "batch_mode": "truncate_episodes", "simple_optimizer": false, "sample_batch_size": 200, "collect_metrics_timeout": 180, "clip_rewards": null, "clip_actions": false, "kl_target": 0.01, "observation_filter": "NoFilter", "use_gae": true, "entropy_coeff": 0.0, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb7f400>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb7f320>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb7f940>"}, "gamma": 0.99, "horizon": 1500, "num_gpus_per_worker": 0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "output_max_file_size": 67108864, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "num_gpus": 0, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}}, "timestamp": 1557236954, "episode_reward_max": 935.4740083236376, "episodes_this_iter": 21, "time_total_s": 6563.4903881549835, "time_since_restore": 6563.4903881549835}
{"timesteps_since_restore": 10820617, "done": false, "node_ip": "10.138.0.2", "pid": 10867, "date": "2019-05-07_13-49-37", "episode_reward_min": 163.76102535002755, "timesteps_this_iter": 37207, "training_iteration": 285, "episode_reward_mean": 830.6173394096357, "experiment_id": "a183ec7aedea427d9bacd699bea0cf75", "policy_reward_mean": {}, "iterations_since_restore": 285, "custom_metrics": {"cost2_min": -43.543306049019, "outflow_rate_max": 1195.3610597402599, "cost1_mean": 304.4803746460277, "cost2_mean": -30.46247593590395, "system_level_velocity_mean": 12.573971619547665, "cost1_max": 355.0721399588017, "cost1_min": 68.68776259342366, "cost2_max": -18.923291008401208, "outflow_rate_mean": 993.3815761124903, "system_level_velocity_min": 10.282740370195551, "outflow_rate_min": 420.085916599288, "system_level_velocity_max": 15.666200243630342}, "info": {"num_steps_trained": 10820617, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.012214420363307, "total_loss": 25.684398651123047, "vf_loss": 25.689241409301758, "policy_loss": -0.009479832835495472, "cur_kl_coeff": 0.37968751788139343, "vf_explained_var": 0.5602515339851379, "entropy": 1.424072504043579}, "num_steps_sampled": 10820617, "load_time_ms": 11.425, "update_time_ms": 7.484, "grad_time_ms": 9173.975, "sample_time_ms": 13578.955}, "episode_len_mean": 682.33, "time_this_iter_s": 22.86587953567505, "num_metric_batches_dropped": 0, "timesteps_total": 10820617, "episodes_total": 5352, "hostname": "flow-main", "config": {"custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "kl_coeff": 0.2, "train_batch_size": 30000, "log_level": "INFO", "num_workers": 20, "num_sgd_iter": 10, "lr": 0.0005, "monitor": false, "lr_schedule": null, "compress_observations": false, "input": "sampler", "straggler_mitigation": false, "input_evaluation": null, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "optimizer": {}, "vf_share_layers": false, "model": {"fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "fcnet_activation": "tanh", "dim": 84, "lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "channel_major": false, "conv_activation": "relu", "squash_to_range": false, "conv_filters": null, "zero_mean": true, "grayscale": false, "max_seq_len": 20, "free_log_std": false, "custom_preprocessor": null, "custom_options": {}, "use_lstm": false}, "clip_param": 0.3, "num_cpus_for_driver": 1, "synchronize_filters": true, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "output": null, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.3, 0.1]_t_min:10.0", "batch_mode": "truncate_episodes", "simple_optimizer": false, "sample_batch_size": 200, "collect_metrics_timeout": 180, "clip_rewards": null, "clip_actions": false, "kl_target": 0.01, "observation_filter": "NoFilter", "use_gae": true, "entropy_coeff": 0.0, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb79a90>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb790b8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb79160>"}, "gamma": 0.99, "horizon": 1500, "num_gpus_per_worker": 0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "output_max_file_size": 67108864, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "num_gpus": 0, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}}, "timestamp": 1557236977, "episode_reward_max": 935.4740083236376, "episodes_this_iter": 20, "time_total_s": 6586.356267690659, "time_since_restore": 6586.356267690659}
{"timesteps_since_restore": 10857956, "done": false, "node_ip": "10.138.0.2", "pid": 10867, "date": "2019-05-07_13-50-00", "episode_reward_min": 163.76102535002755, "timesteps_this_iter": 37339, "training_iteration": 286, "episode_reward_mean": 835.4775022794668, "experiment_id": "a183ec7aedea427d9bacd699bea0cf75", "policy_reward_mean": {}, "iterations_since_restore": 286, "custom_metrics": {"cost2_min": -42.748079696964474, "outflow_rate_max": 1195.3610597402599, "cost1_mean": 300.6911634719219, "cost2_mean": -30.13494698434879, "system_level_velocity_mean": 12.426319873540871, "cost1_max": 355.0721399588017, "cost1_min": 68.68776259342366, "cost2_max": -18.923291008401208, "outflow_rate_mean": 985.8857531552287, "system_level_velocity_min": 10.21941305167973, "outflow_rate_min": 420.085916599288, "system_level_velocity_max": 15.666200243630342}, "info": {"num_steps_trained": 10857956, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.012144221924245358, "total_loss": 20.619476318359375, "vf_loss": 20.623620986938477, "policy_loss": -0.008754358626902103, "cur_kl_coeff": 0.3796875476837158, "vf_explained_var": 0.5594043135643005, "entropy": 1.4131816625595093}, "num_steps_sampled": 10857956, "load_time_ms": 11.524, "update_time_ms": 7.553, "grad_time_ms": 9171.054, "sample_time_ms": 13572.45}, "episode_len_mean": 679.04, "time_this_iter_s": 22.626280784606934, "num_metric_batches_dropped": 0, "timesteps_total": 10857956, "episodes_total": 5369, "hostname": "flow-main", "config": {"custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "kl_coeff": 0.2, "train_batch_size": 30000, "log_level": "INFO", "num_workers": 20, "num_sgd_iter": 10, "lr": 0.0005, "monitor": false, "lr_schedule": null, "compress_observations": false, "input": "sampler", "straggler_mitigation": false, "input_evaluation": null, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "optimizer": {}, "vf_share_layers": false, "model": {"fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "fcnet_activation": "tanh", "dim": 84, "lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "channel_major": false, "conv_activation": "relu", "squash_to_range": false, "conv_filters": null, "zero_mean": true, "grayscale": false, "max_seq_len": 20, "free_log_std": false, "custom_preprocessor": null, "custom_options": {}, "use_lstm": false}, "clip_param": 0.3, "num_cpus_for_driver": 1, "synchronize_filters": true, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "output": null, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.3, 0.1]_t_min:10.0", "batch_mode": "truncate_episodes", "simple_optimizer": false, "sample_batch_size": 200, "collect_metrics_timeout": 180, "clip_rewards": null, "clip_actions": false, "kl_target": 0.01, "observation_filter": "NoFilter", "use_gae": true, "entropy_coeff": 0.0, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb79048>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb79ba8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb79390>"}, "gamma": 0.99, "horizon": 1500, "num_gpus_per_worker": 0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "output_max_file_size": 67108864, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "num_gpus": 0, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}}, "timestamp": 1557237000, "episode_reward_max": 949.6252333204174, "episodes_this_iter": 17, "time_total_s": 6608.9825484752655, "time_since_restore": 6608.9825484752655}
{"timesteps_since_restore": 10895900, "done": false, "node_ip": "10.138.0.2", "pid": 10867, "date": "2019-05-07_13-50-23", "episode_reward_min": 163.76102535002755, "timesteps_this_iter": 37944, "training_iteration": 287, "episode_reward_mean": 849.4162915900808, "experiment_id": "a183ec7aedea427d9bacd699bea0cf75", "policy_reward_mean": {}, "iterations_since_restore": 287, "custom_metrics": {"cost2_min": -42.748079696964474, "outflow_rate_max": 1129.0437818181817, "cost1_mean": 301.23397622083667, "cost2_mean": -29.483625117711586, "system_level_velocity_mean": 12.341828581467627, "cost1_max": 342.6358404178094, "cost1_min": 68.68776259342366, "cost2_max": -18.923291008401208, "outflow_rate_mean": 978.8809599316869, "system_level_velocity_min": 10.21941305167973, "outflow_rate_min": 420.085916599288, "system_level_velocity_max": 15.666200243630342}, "info": {"num_steps_trained": 10895900, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.012524059042334557, "total_loss": 23.225343704223633, "vf_loss": 23.230484008789062, "policy_loss": -0.009897368028759956, "cur_kl_coeff": 0.37968751788139343, "vf_explained_var": 0.6496675610542297, "entropy": 1.4334359169006348}, "num_steps_sampled": 10895900, "load_time_ms": 11.947, "update_time_ms": 7.455, "grad_time_ms": 9203.511, "sample_time_ms": 13514.283}, "episode_len_mean": 681.44, "time_this_iter_s": 23.81857466697693, "num_metric_batches_dropped": 0, "timesteps_total": 10895900, "episodes_total": 5390, "hostname": "flow-main", "config": {"custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "kl_coeff": 0.2, "train_batch_size": 30000, "log_level": "INFO", "num_workers": 20, "num_sgd_iter": 10, "lr": 0.0005, "monitor": false, "lr_schedule": null, "compress_observations": false, "input": "sampler", "straggler_mitigation": false, "input_evaluation": null, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "optimizer": {}, "vf_share_layers": false, "model": {"fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "fcnet_activation": "tanh", "dim": 84, "lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "channel_major": false, "conv_activation": "relu", "squash_to_range": false, "conv_filters": null, "zero_mean": true, "grayscale": false, "max_seq_len": 20, "free_log_std": false, "custom_preprocessor": null, "custom_options": {}, "use_lstm": false}, "clip_param": 0.3, "num_cpus_for_driver": 1, "synchronize_filters": true, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "output": null, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.3, 0.1]_t_min:10.0", "batch_mode": "truncate_episodes", "simple_optimizer": false, "sample_batch_size": 200, "collect_metrics_timeout": 180, "clip_rewards": null, "clip_actions": false, "kl_target": 0.01, "observation_filter": "NoFilter", "use_gae": true, "entropy_coeff": 0.0, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb7f0f0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb72550>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f946116fac8>"}, "gamma": 0.99, "horizon": 1500, "num_gpus_per_worker": 0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "output_max_file_size": 67108864, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "num_gpus": 0, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}}, "timestamp": 1557237023, "episode_reward_max": 964.3878378286139, "episodes_this_iter": 21, "time_total_s": 6632.801123142242, "time_since_restore": 6632.801123142242}
{"timesteps_since_restore": 10933864, "done": false, "node_ip": "10.138.0.2", "pid": 10867, "date": "2019-05-07_13-50-46", "episode_reward_min": 45.00950019543432, "timesteps_this_iter": 37964, "training_iteration": 288, "episode_reward_mean": 843.2390078543951, "experiment_id": "a183ec7aedea427d9bacd699bea0cf75", "policy_reward_mean": {}, "iterations_since_restore": 288, "custom_metrics": {"cost2_min": -42.748079696964474, "outflow_rate_max": 1129.0437818181817, "cost1_mean": 297.1804729809043, "cost2_mean": -28.73066484538826, "system_level_velocity_mean": 12.350732110878107, "cost1_max": 342.4973001640701, "cost1_min": 27.511155221547483, "cost2_max": -15.222948821090267, "outflow_rate_mean": 965.6251714816734, "system_level_velocity_min": 10.21941305167973, "outflow_rate_min": 340.0431742023662, "system_level_velocity_max": 18.36481343498215}, "info": {"num_steps_trained": 10933864, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.012294535525143147, "total_loss": 21.082725524902344, "vf_loss": 21.08692169189453, "policy_loss": -0.008864011615514755, "cur_kl_coeff": 0.37968751788139343, "vf_explained_var": 0.6851836442947388, "entropy": 1.415831446647644}, "num_steps_sampled": 10933864, "load_time_ms": 11.493, "update_time_ms": 7.462, "grad_time_ms": 9250.606, "sample_time_ms": 13469.625}, "episode_len_mean": 673.11, "time_this_iter_s": 22.755250692367554, "num_metric_batches_dropped": 0, "timesteps_total": 10933864, "episodes_total": 5407, "hostname": "flow-main", "config": {"custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "kl_coeff": 0.2, "train_batch_size": 30000, "log_level": "INFO", "num_workers": 20, "num_sgd_iter": 10, "lr": 0.0005, "monitor": false, "lr_schedule": null, "compress_observations": false, "input": "sampler", "straggler_mitigation": false, "input_evaluation": null, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "optimizer": {}, "vf_share_layers": false, "model": {"fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "fcnet_activation": "tanh", "dim": 84, "lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "channel_major": false, "conv_activation": "relu", "squash_to_range": false, "conv_filters": null, "zero_mean": true, "grayscale": false, "max_seq_len": 20, "free_log_std": false, "custom_preprocessor": null, "custom_options": {}, "use_lstm": false}, "clip_param": 0.3, "num_cpus_for_driver": 1, "synchronize_filters": true, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "output": null, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.3, 0.1]_t_min:10.0", "batch_mode": "truncate_episodes", "simple_optimizer": false, "sample_batch_size": 200, "collect_metrics_timeout": 180, "clip_rewards": null, "clip_actions": false, "kl_target": 0.01, "observation_filter": "NoFilter", "use_gae": true, "entropy_coeff": 0.0, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb79b00>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb79400>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb796a0>"}, "gamma": 0.99, "horizon": 1500, "num_gpus_per_worker": 0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "output_max_file_size": 67108864, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "num_gpus": 0, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}}, "timestamp": 1557237046, "episode_reward_max": 964.3878378286139, "episodes_this_iter": 17, "time_total_s": 6655.55637383461, "time_since_restore": 6655.55637383461}
{"timesteps_since_restore": 10971561, "done": false, "node_ip": "10.138.0.2", "pid": 10867, "date": "2019-05-07_13-51-09", "episode_reward_min": 45.00950019543432, "timesteps_this_iter": 37697, "training_iteration": 289, "episode_reward_mean": 854.5037579480959, "experiment_id": "a183ec7aedea427d9bacd699bea0cf75", "policy_reward_mean": {}, "iterations_since_restore": 289, "custom_metrics": {"cost2_min": -42.748079696964474, "outflow_rate_max": 1100.2311428571427, "cost1_mean": 295.8207216385362, "cost2_mean": -28.00217871395578, "system_level_velocity_mean": 12.218811380526365, "cost1_max": 340.97281886038763, "cost1_min": 27.511155221547483, "cost2_max": -15.222948821090267, "outflow_rate_mean": 955.6210323858515, "system_level_velocity_min": 10.21941305167973, "outflow_rate_min": 332.7571298140349, "system_level_velocity_max": 18.36481343498215}, "info": {"num_steps_trained": 10971561, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.012801473028957844, "total_loss": 27.939586639404297, "vf_loss": 27.943143844604492, "policy_loss": -0.008416085503995419, "cur_kl_coeff": 0.3796875476837158, "vf_explained_var": 0.6086768507957458, "entropy": 1.4019804000854492}, "num_steps_sampled": 10971561, "load_time_ms": 11.492, "update_time_ms": 7.295, "grad_time_ms": 9263.058, "sample_time_ms": 13458.563}, "episode_len_mean": 675.2, "time_this_iter_s": 22.50088334083557, "num_metric_batches_dropped": 0, "timesteps_total": 10971561, "episodes_total": 5428, "hostname": "flow-main", "config": {"custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "kl_coeff": 0.2, "train_batch_size": 30000, "log_level": "INFO", "num_workers": 20, "num_sgd_iter": 10, "lr": 0.0005, "monitor": false, "lr_schedule": null, "compress_observations": false, "input": "sampler", "straggler_mitigation": false, "input_evaluation": null, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "optimizer": {}, "vf_share_layers": false, "model": {"fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "fcnet_activation": "tanh", "dim": 84, "lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "channel_major": false, "conv_activation": "relu", "squash_to_range": false, "conv_filters": null, "zero_mean": true, "grayscale": false, "max_seq_len": 20, "free_log_std": false, "custom_preprocessor": null, "custom_options": {}, "use_lstm": false}, "clip_param": 0.3, "num_cpus_for_driver": 1, "synchronize_filters": true, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "output": null, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.3, 0.1]_t_min:10.0", "batch_mode": "truncate_episodes", "simple_optimizer": false, "sample_batch_size": 200, "collect_metrics_timeout": 180, "clip_rewards": null, "clip_actions": false, "kl_target": 0.01, "observation_filter": "NoFilter", "use_gae": true, "entropy_coeff": 0.0, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb786d8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb785f8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb78c88>"}, "gamma": 0.99, "horizon": 1500, "num_gpus_per_worker": 0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "output_max_file_size": 67108864, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "num_gpus": 0, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}}, "timestamp": 1557237069, "episode_reward_max": 964.3878378286139, "episodes_this_iter": 21, "time_total_s": 6678.057257175446, "time_since_restore": 6678.057257175446}
{"timesteps_since_restore": 11009173, "done": false, "node_ip": "10.138.0.2", "pid": 10867, "date": "2019-05-07_13-51-31", "episode_reward_min": 45.00950019543432, "timesteps_this_iter": 37612, "training_iteration": 290, "episode_reward_mean": 853.3321306305708, "experiment_id": "a183ec7aedea427d9bacd699bea0cf75", "policy_reward_mean": {}, "iterations_since_restore": 290, "custom_metrics": {"cost2_min": -42.748079696964474, "outflow_rate_max": 1100.2311428571427, "cost1_mean": 292.48222318157804, "cost2_mean": -27.784846872918003, "system_level_velocity_mean": 12.154099802963474, "cost1_max": 334.94270821069, "cost1_min": 27.511155221547483, "cost2_max": -15.222948821090267, "outflow_rate_mean": 948.1392258099571, "system_level_velocity_min": 10.21941305167973, "outflow_rate_min": 332.7571298140349, "system_level_velocity_max": 18.36481343498215}, "info": {"num_steps_trained": 11009173, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.011325135827064514, "total_loss": 20.726451873779297, "vf_loss": 20.732324600219727, "policy_loss": -0.010174097493290901, "cur_kl_coeff": 0.37968751788139343, "vf_explained_var": 0.7005584836006165, "entropy": 1.405051589012146}, "num_steps_sampled": 11009173, "load_time_ms": 11.219, "update_time_ms": 7.172, "grad_time_ms": 9272.995, "sample_time_ms": 13416.387}, "episode_len_mean": 670.67, "time_this_iter_s": 22.483285665512085, "num_metric_batches_dropped": 0, "timesteps_total": 11009173, "episodes_total": 5446, "hostname": "flow-main", "config": {"custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "kl_coeff": 0.2, "train_batch_size": 30000, "log_level": "INFO", "num_workers": 20, "num_sgd_iter": 10, "lr": 0.0005, "monitor": false, "lr_schedule": null, "compress_observations": false, "input": "sampler", "straggler_mitigation": false, "input_evaluation": null, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "optimizer": {}, "vf_share_layers": false, "model": {"fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "fcnet_activation": "tanh", "dim": 84, "lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "channel_major": false, "conv_activation": "relu", "squash_to_range": false, "conv_filters": null, "zero_mean": true, "grayscale": false, "max_seq_len": 20, "free_log_std": false, "custom_preprocessor": null, "custom_options": {}, "use_lstm": false}, "clip_param": 0.3, "num_cpus_for_driver": 1, "synchronize_filters": true, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "output": null, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.3, 0.1]_t_min:10.0", "batch_mode": "truncate_episodes", "simple_optimizer": false, "sample_batch_size": 200, "collect_metrics_timeout": 180, "clip_rewards": null, "clip_actions": false, "kl_target": 0.01, "observation_filter": "NoFilter", "use_gae": true, "entropy_coeff": 0.0, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb7f668>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb7f9b0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb7f2b0>"}, "gamma": 0.99, "horizon": 1500, "num_gpus_per_worker": 0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "output_max_file_size": 67108864, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "num_gpus": 0, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}}, "timestamp": 1557237091, "episode_reward_max": 990.9070065941002, "episodes_this_iter": 18, "time_total_s": 6700.540542840958, "time_since_restore": 6700.540542840958}
{"timesteps_since_restore": 11046876, "done": false, "node_ip": "10.138.0.2", "pid": 10867, "date": "2019-05-07_13-51-55", "episode_reward_min": 45.00950019543432, "timesteps_this_iter": 37703, "training_iteration": 291, "episode_reward_mean": 853.7408514203802, "experiment_id": "a183ec7aedea427d9bacd699bea0cf75", "policy_reward_mean": {}, "iterations_since_restore": 291, "custom_metrics": {"cost2_min": -42.425186288227366, "outflow_rate_max": 1100.2311428571427, "cost1_mean": 292.89292435587737, "cost2_mean": -27.51924808209153, "system_level_velocity_mean": 12.14405414187886, "cost1_max": 334.94270821069, "cost1_min": 27.511155221547483, "cost2_max": -15.222948821090267, "outflow_rate_mean": 944.3915119360498, "system_level_velocity_min": 10.236937637096393, "outflow_rate_min": 332.7571298140349, "system_level_velocity_max": 18.36481343498215}, "info": {"num_steps_trained": 11046876, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.011171274818480015, "total_loss": 23.446548461914062, "vf_loss": 23.452390670776367, "policy_loss": -0.010085593909025192, "cur_kl_coeff": 0.3796875476837158, "vf_explained_var": 0.6678862571716309, "entropy": 1.3960970640182495}, "num_steps_sampled": 11046876, "load_time_ms": 11.267, "update_time_ms": 7.19, "grad_time_ms": 9176.571, "sample_time_ms": 13576.86}, "episode_len_mean": 671.28, "time_this_iter_s": 23.97002649307251, "num_metric_batches_dropped": 0, "timesteps_total": 11046876, "episodes_total": 5467, "hostname": "flow-main", "config": {"custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "kl_coeff": 0.2, "train_batch_size": 30000, "log_level": "INFO", "num_workers": 20, "num_sgd_iter": 10, "lr": 0.0005, "monitor": false, "lr_schedule": null, "compress_observations": false, "input": "sampler", "straggler_mitigation": false, "input_evaluation": null, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "optimizer": {}, "vf_share_layers": false, "model": {"fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "fcnet_activation": "tanh", "dim": 84, "lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "channel_major": false, "conv_activation": "relu", "squash_to_range": false, "conv_filters": null, "zero_mean": true, "grayscale": false, "max_seq_len": 20, "free_log_std": false, "custom_preprocessor": null, "custom_options": {}, "use_lstm": false}, "clip_param": 0.3, "num_cpus_for_driver": 1, "synchronize_filters": true, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "output": null, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.3, 0.1]_t_min:10.0", "batch_mode": "truncate_episodes", "simple_optimizer": false, "sample_batch_size": 200, "collect_metrics_timeout": 180, "clip_rewards": null, "clip_actions": false, "kl_target": 0.01, "observation_filter": "NoFilter", "use_gae": true, "entropy_coeff": 0.0, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb78e80>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb786a0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb789b0>"}, "gamma": 0.99, "horizon": 1500, "num_gpus_per_worker": 0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "output_max_file_size": 67108864, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "num_gpus": 0, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}}, "timestamp": 1557237115, "episode_reward_max": 990.9070065941002, "episodes_this_iter": 21, "time_total_s": 6724.51056933403, "time_since_restore": 6724.51056933403}
{"timesteps_since_restore": 11083718, "done": false, "node_ip": "10.138.0.2", "pid": 10867, "date": "2019-05-07_13-52-14", "episode_reward_min": 45.00950019543432, "timesteps_this_iter": 36842, "training_iteration": 292, "episode_reward_mean": 846.0943187466501, "experiment_id": "a183ec7aedea427d9bacd699bea0cf75", "policy_reward_mean": {}, "iterations_since_restore": 292, "custom_metrics": {"cost2_min": -42.425186288227366, "outflow_rate_max": 1100.2311428571427, "cost1_mean": 289.0018341547433, "cost2_mean": -27.181527575945378, "system_level_velocity_mean": 12.142410622498547, "cost1_max": 334.94270821069, "cost1_min": 27.511155221547483, "cost2_max": -15.222948821090267, "outflow_rate_mean": 936.2551354947356, "system_level_velocity_min": 9.808558336010563, "outflow_rate_min": 332.7571298140349, "system_level_velocity_max": 18.36481343498215}, "info": {"num_steps_trained": 11083718, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.01074614655226469, "total_loss": 25.304567337036133, "vf_loss": 25.307161331176758, "policy_loss": -0.00667466688901186, "cur_kl_coeff": 0.37968751788139343, "vf_explained_var": 0.6398520469665527, "entropy": 1.4081909656524658}, "num_steps_sampled": 11083718, "load_time_ms": 11.172, "update_time_ms": 7.072, "grad_time_ms": 8872.243, "sample_time_ms": 13514.647}, "episode_len_mean": 662.55, "time_this_iter_s": 18.755491733551025, "num_metric_batches_dropped": 0, "timesteps_total": 11083718, "episodes_total": 5487, "hostname": "flow-main", "config": {"custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "kl_coeff": 0.2, "train_batch_size": 30000, "log_level": "INFO", "num_workers": 20, "num_sgd_iter": 10, "lr": 0.0005, "monitor": false, "lr_schedule": null, "compress_observations": false, "input": "sampler", "straggler_mitigation": false, "input_evaluation": null, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "optimizer": {}, "vf_share_layers": false, "model": {"fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "fcnet_activation": "tanh", "dim": 84, "lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "channel_major": false, "conv_activation": "relu", "squash_to_range": false, "conv_filters": null, "zero_mean": true, "grayscale": false, "max_seq_len": 20, "free_log_std": false, "custom_preprocessor": null, "custom_options": {}, "use_lstm": false}, "clip_param": 0.3, "num_cpus_for_driver": 1, "synchronize_filters": true, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "output": null, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.3, 0.1]_t_min:10.0", "batch_mode": "truncate_episodes", "simple_optimizer": false, "sample_batch_size": 200, "collect_metrics_timeout": 180, "clip_rewards": null, "clip_actions": false, "kl_target": 0.01, "observation_filter": "NoFilter", "use_gae": true, "entropy_coeff": 0.0, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f945fd03898>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f945fd036a0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f945fd03780>"}, "gamma": 0.99, "horizon": 1500, "num_gpus_per_worker": 0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "output_max_file_size": 67108864, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "num_gpus": 0, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}}, "timestamp": 1557237134, "episode_reward_max": 1001.0436211928749, "episodes_this_iter": 20, "time_total_s": 6743.266061067581, "time_since_restore": 6743.266061067581}
{"timesteps_since_restore": 11121356, "done": false, "node_ip": "10.138.0.2", "pid": 10867, "date": "2019-05-07_13-52-35", "episode_reward_min": 59.037933649271565, "timesteps_this_iter": 37638, "training_iteration": 293, "episode_reward_mean": 859.0530307198694, "experiment_id": "a183ec7aedea427d9bacd699bea0cf75", "policy_reward_mean": {}, "iterations_since_restore": 293, "custom_metrics": {"cost2_min": -42.425186288227366, "cost2_mean": -27.60889314416649, "cost1_mean": 293.57361259118693, "system_level_velocity_mean": 12.107097569343756, "cost1_max": 334.94270821069, "cost1_min": 31.14173931410225, "cost2_max": -15.78154570977994, "outflow_rate_max": 1100.2311428571427, "system_level_velocity_min": 9.808558336010563, "outflow_rate_min": 332.7571298140349, "system_level_velocity_max": 17.103698956704154, "outflow_rate_mean": 946.3080775659338}, "info": {"num_steps_trained": 11121356, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.012066850438714027, "total_loss": 23.330060958862305, "vf_loss": 23.333688735961914, "policy_loss": -0.008209890685975552, "cur_kl_coeff": 0.3796875476837158, "vf_explained_var": 0.6553271412849426, "entropy": 1.4164927005767822}, "num_steps_sampled": 11121356, "load_time_ms": 11.329, "update_time_ms": 6.984, "grad_time_ms": 8750.289, "sample_time_ms": 13428.649}, "episode_len_mean": 671.53, "time_this_iter_s": 20.421598434448242, "num_metric_batches_dropped": 0, "timesteps_total": 11121356, "episodes_total": 5505, "hostname": "flow-main", "config": {"custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "kl_coeff": 0.2, "train_batch_size": 30000, "log_level": "INFO", "num_workers": 20, "num_sgd_iter": 10, "lr": 0.0005, "monitor": false, "lr_schedule": null, "compress_observations": false, "input": "sampler", "straggler_mitigation": false, "input_evaluation": null, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "optimizer": {}, "vf_share_layers": false, "model": {"fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "fcnet_activation": "tanh", "dim": 84, "lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "channel_major": false, "conv_activation": "relu", "squash_to_range": false, "conv_filters": null, "zero_mean": true, "grayscale": false, "max_seq_len": 20, "free_log_std": false, "custom_preprocessor": null, "custom_options": {}, "use_lstm": false}, "clip_param": 0.3, "num_cpus_for_driver": 1, "synchronize_filters": true, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "output": null, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.3, 0.1]_t_min:10.0", "batch_mode": "truncate_episodes", "simple_optimizer": false, "sample_batch_size": 200, "collect_metrics_timeout": 180, "clip_rewards": null, "clip_actions": false, "kl_target": 0.01, "observation_filter": "NoFilter", "use_gae": true, "entropy_coeff": 0.0, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb72240>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb7f198>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb7f588>"}, "gamma": 0.99, "horizon": 1500, "num_gpus_per_worker": 0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "output_max_file_size": 67108864, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "num_gpus": 0, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}}, "timestamp": 1557237155, "episode_reward_max": 1001.0436211928749, "episodes_this_iter": 18, "time_total_s": 6763.687659502029, "time_since_restore": 6763.687659502029}
{"timesteps_since_restore": 11159143, "done": false, "node_ip": "10.138.0.2", "pid": 10867, "date": "2019-05-07_13-52-55", "episode_reward_min": 210.373841703605, "timesteps_this_iter": 37787, "training_iteration": 294, "episode_reward_mean": 866.1571079165427, "experiment_id": "a183ec7aedea427d9bacd699bea0cf75", "policy_reward_mean": {}, "iterations_since_restore": 294, "custom_metrics": {"cost2_min": -42.425186288227366, "outflow_rate_max": 1090.8886545454548, "cost1_mean": 294.90416886685045, "cost2_mean": -27.78784128347698, "system_level_velocity_mean": 12.061910059072462, "cost1_max": 331.36501723563913, "cost1_min": 89.09911489112139, "cost2_max": -19.34052051128028, "outflow_rate_mean": 951.1341510924435, "system_level_velocity_min": 9.808558336010563, "outflow_rate_min": 537.1956111850936, "system_level_velocity_max": 14.994278093625015}, "info": {"num_steps_trained": 11159143, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.011131527833640575, "total_loss": 23.035825729370117, "vf_loss": 23.041303634643555, "policy_loss": -0.009704673662781715, "cur_kl_coeff": 0.3796875476837158, "vf_explained_var": 0.6465632915496826, "entropy": 1.4263328313827515}, "num_steps_sampled": 11159143, "load_time_ms": 11.454, "update_time_ms": 6.914, "grad_time_ms": 8627.06, "sample_time_ms": 13333.834}, "episode_len_mean": 675.5, "time_this_iter_s": 20.28446316719055, "num_metric_batches_dropped": 0, "timesteps_total": 11159143, "episodes_total": 5524, "hostname": "flow-main", "config": {"custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "kl_coeff": 0.2, "train_batch_size": 30000, "log_level": "INFO", "num_workers": 20, "num_sgd_iter": 10, "lr": 0.0005, "monitor": false, "lr_schedule": null, "compress_observations": false, "input": "sampler", "straggler_mitigation": false, "input_evaluation": null, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "optimizer": {}, "vf_share_layers": false, "model": {"fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "fcnet_activation": "tanh", "dim": 84, "lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "channel_major": false, "conv_activation": "relu", "squash_to_range": false, "conv_filters": null, "zero_mean": true, "grayscale": false, "max_seq_len": 20, "free_log_std": false, "custom_preprocessor": null, "custom_options": {}, "use_lstm": false}, "clip_param": 0.3, "num_cpus_for_driver": 1, "synchronize_filters": true, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "output": null, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.3, 0.1]_t_min:10.0", "batch_mode": "truncate_episodes", "simple_optimizer": false, "sample_batch_size": 200, "collect_metrics_timeout": 180, "clip_rewards": null, "clip_actions": false, "kl_target": 0.01, "observation_filter": "NoFilter", "use_gae": true, "entropy_coeff": 0.0, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f9461150c88>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f94611505c0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f9461150d68>"}, "gamma": 0.99, "horizon": 1500, "num_gpus_per_worker": 0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "output_max_file_size": 67108864, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "num_gpus": 0, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}}, "timestamp": 1557237175, "episode_reward_max": 1001.0436211928749, "episodes_this_iter": 19, "time_total_s": 6783.97212266922, "time_since_restore": 6783.97212266922}
{"timesteps_since_restore": 11195884, "done": false, "node_ip": "10.138.0.2", "pid": 10867, "date": "2019-05-07_13-53-17", "episode_reward_min": 43.98438609159555, "timesteps_this_iter": 36741, "training_iteration": 295, "episode_reward_mean": 847.4954030358234, "experiment_id": "a183ec7aedea427d9bacd699bea0cf75", "policy_reward_mean": {}, "iterations_since_restore": 295, "custom_metrics": {"cost2_min": -42.425186288227366, "outflow_rate_max": 1100.362722077922, "cost1_mean": 289.6633130364356, "cost2_mean": -27.677187636696157, "system_level_velocity_mean": 12.285455896145939, "cost1_max": 337.3781047394934, "cost1_min": 27.189169929342544, "cost2_max": -15.70484553958259, "outflow_rate_mean": 940.8376891882889, "system_level_velocity_min": 9.808558336010563, "outflow_rate_min": 325.4860739527011, "system_level_velocity_max": 18.24917558201402}, "info": {"num_steps_trained": 11195884, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.011643736623227596, "total_loss": 28.60187530517578, "vf_loss": 28.605850219726562, "policy_loss": -0.008390999399125576, "cur_kl_coeff": 0.37968751788139343, "vf_explained_var": 0.5794097185134888, "entropy": 1.447475790977478}, "num_steps_sampled": 11195884, "load_time_ms": 11.635, "update_time_ms": 6.768, "grad_time_ms": 8557.687, "sample_time_ms": 13358.118}, "episode_len_mean": 659.89, "time_this_iter_s": 22.409624338150024, "num_metric_batches_dropped": 0, "timesteps_total": 11195884, "episodes_total": 5545, "hostname": "flow-main", "config": {"custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "kl_coeff": 0.2, "train_batch_size": 30000, "log_level": "INFO", "num_workers": 20, "num_sgd_iter": 10, "lr": 0.0005, "monitor": false, "lr_schedule": null, "compress_observations": false, "input": "sampler", "straggler_mitigation": false, "input_evaluation": null, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "optimizer": {}, "vf_share_layers": false, "model": {"fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "fcnet_activation": "tanh", "dim": 84, "lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "channel_major": false, "conv_activation": "relu", "squash_to_range": false, "conv_filters": null, "zero_mean": true, "grayscale": false, "max_seq_len": 20, "free_log_std": false, "custom_preprocessor": null, "custom_options": {}, "use_lstm": false}, "clip_param": 0.3, "num_cpus_for_driver": 1, "synchronize_filters": true, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "output": null, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.3, 0.1]_t_min:10.0", "batch_mode": "truncate_episodes", "simple_optimizer": false, "sample_batch_size": 200, "collect_metrics_timeout": 180, "clip_rewards": null, "clip_actions": false, "kl_target": 0.01, "observation_filter": "NoFilter", "use_gae": true, "entropy_coeff": 0.0, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f946116fac8>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f94611707f0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f945fccbe10>"}, "gamma": 0.99, "horizon": 1500, "num_gpus_per_worker": 0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "output_max_file_size": 67108864, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "num_gpus": 0, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}}, "timestamp": 1557237197, "episode_reward_max": 1001.0436211928749, "episodes_this_iter": 21, "time_total_s": 6806.38174700737, "time_since_restore": 6806.38174700737}
{"timesteps_since_restore": 11232872, "done": false, "node_ip": "10.138.0.2", "pid": 10867, "date": "2019-05-07_13-53-38", "episode_reward_min": 43.98438609159555, "timesteps_this_iter": 36988, "training_iteration": 296, "episode_reward_mean": 849.4716841216152, "experiment_id": "a183ec7aedea427d9bacd699bea0cf75", "policy_reward_mean": {}, "iterations_since_restore": 296, "custom_metrics": {"cost2_min": -40.25292206339651, "outflow_rate_max": 1100.362722077922, "cost1_mean": 290.8317366056658, "cost2_mean": -27.690371635511816, "system_level_velocity_mean": 12.38518838461807, "cost1_max": 337.3781047394934, "cost1_min": 27.189169929342544, "cost2_max": -15.70484553958259, "outflow_rate_mean": 947.2252500063087, "system_level_velocity_min": 9.808558336010563, "outflow_rate_min": 325.4860739527011, "system_level_velocity_max": 18.24917558201402}, "info": {"num_steps_trained": 11232872, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.012472034431993961, "total_loss": 25.22392463684082, "vf_loss": 25.229679107666016, "policy_loss": -0.010488488711416721, "cur_kl_coeff": 0.37968751788139343, "vf_explained_var": 0.6110808849334717, "entropy": 1.4383043050765991}, "num_steps_sampled": 11232872, "load_time_ms": 11.761, "update_time_ms": 6.82, "grad_time_ms": 8428.537, "sample_time_ms": 13319.834}, "episode_len_mean": 659.54, "time_this_iter_s": 20.95610761642456, "num_metric_batches_dropped": 0, "timesteps_total": 11232872, "episodes_total": 5565, "hostname": "flow-main", "config": {"custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "kl_coeff": 0.2, "train_batch_size": 30000, "log_level": "INFO", "num_workers": 20, "num_sgd_iter": 10, "lr": 0.0005, "monitor": false, "lr_schedule": null, "compress_observations": false, "input": "sampler", "straggler_mitigation": false, "input_evaluation": null, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "optimizer": {}, "vf_share_layers": false, "model": {"fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "fcnet_activation": "tanh", "dim": 84, "lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "channel_major": false, "conv_activation": "relu", "squash_to_range": false, "conv_filters": null, "zero_mean": true, "grayscale": false, "max_seq_len": 20, "free_log_std": false, "custom_preprocessor": null, "custom_options": {}, "use_lstm": false}, "clip_param": 0.3, "num_cpus_for_driver": 1, "synchronize_filters": true, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "output": null, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.3, 0.1]_t_min:10.0", "batch_mode": "truncate_episodes", "simple_optimizer": false, "sample_batch_size": 200, "collect_metrics_timeout": 180, "clip_rewards": null, "clip_actions": false, "kl_target": 0.01, "observation_filter": "NoFilter", "use_gae": true, "entropy_coeff": 0.0, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb7f8d0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb7f6d8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb7fa58>"}, "gamma": 0.99, "horizon": 1500, "num_gpus_per_worker": 0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "output_max_file_size": 67108864, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "num_gpus": 0, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}}, "timestamp": 1557237218, "episode_reward_max": 1001.0436211928749, "episodes_this_iter": 20, "time_total_s": 6827.337854623795, "time_since_restore": 6827.337854623795}
{"timesteps_since_restore": 11269787, "done": false, "node_ip": "10.138.0.2", "pid": 10867, "date": "2019-05-07_13-53-59", "episode_reward_min": 43.98438609159555, "timesteps_this_iter": 36915, "training_iteration": 297, "episode_reward_mean": 854.6926977634894, "experiment_id": "a183ec7aedea427d9bacd699bea0cf75", "policy_reward_mean": {}, "iterations_since_restore": 297, "custom_metrics": {"cost2_min": -40.25292206339651, "outflow_rate_max": 1142.2677194805196, "cost1_mean": 294.2947328589834, "cost2_mean": -28.391704189158258, "system_level_velocity_mean": 12.519444046714838, "cost1_max": 339.35517218288186, "cost1_min": 27.189169929342544, "cost2_max": -14.385331862624513, "outflow_rate_mean": 955.716663615893, "system_level_velocity_min": 9.774258531762271, "outflow_rate_min": 325.4860739527011, "system_level_velocity_max": 18.24917558201402}, "info": {"num_steps_trained": 11269787, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.0107622304931283, "total_loss": 24.256975173950195, "vf_loss": 24.26219367980957, "policy_loss": -0.009303012862801552, "cur_kl_coeff": 0.37968751788139343, "vf_explained_var": 0.722663164138794, "entropy": 1.4681072235107422}, "num_steps_sampled": 11269787, "load_time_ms": 11.22, "update_time_ms": 6.811, "grad_time_ms": 8252.182, "sample_time_ms": 13142.277}, "episode_len_mean": 662.91, "time_this_iter_s": 20.265986680984497, "num_metric_batches_dropped": 0, "timesteps_total": 11269787, "episodes_total": 5586, "hostname": "flow-main", "config": {"custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "kl_coeff": 0.2, "train_batch_size": 30000, "log_level": "INFO", "num_workers": 20, "num_sgd_iter": 10, "lr": 0.0005, "monitor": false, "lr_schedule": null, "compress_observations": false, "input": "sampler", "straggler_mitigation": false, "input_evaluation": null, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "optimizer": {}, "vf_share_layers": false, "model": {"fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "fcnet_activation": "tanh", "dim": 84, "lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "channel_major": false, "conv_activation": "relu", "squash_to_range": false, "conv_filters": null, "zero_mean": true, "grayscale": false, "max_seq_len": 20, "free_log_std": false, "custom_preprocessor": null, "custom_options": {}, "use_lstm": false}, "clip_param": 0.3, "num_cpus_for_driver": 1, "synchronize_filters": true, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "output": null, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.3, 0.1]_t_min:10.0", "batch_mode": "truncate_episodes", "simple_optimizer": false, "sample_batch_size": 200, "collect_metrics_timeout": 180, "clip_rewards": null, "clip_actions": false, "kl_target": 0.01, "observation_filter": "NoFilter", "use_gae": true, "entropy_coeff": 0.0, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb7fcc0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb7f908>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb7f518>"}, "gamma": 0.99, "horizon": 1500, "num_gpus_per_worker": 0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "output_max_file_size": 67108864, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "num_gpus": 0, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}}, "timestamp": 1557237239, "episode_reward_max": 986.4893104640466, "episodes_this_iter": 21, "time_total_s": 6847.603841304779, "time_since_restore": 6847.603841304779}
{"timesteps_since_restore": 11307341, "done": false, "node_ip": "10.138.0.2", "pid": 10867, "date": "2019-05-07_13-54-19", "episode_reward_min": 43.98438609159555, "timesteps_this_iter": 37554, "training_iteration": 298, "episode_reward_mean": 853.6679798503294, "experiment_id": "a183ec7aedea427d9bacd699bea0cf75", "policy_reward_mean": {}, "iterations_since_restore": 298, "custom_metrics": {"cost2_min": -40.25292206339651, "outflow_rate_max": 1142.2677194805196, "cost1_mean": 294.48952783666005, "cost2_mean": -28.41385911755765, "system_level_velocity_mean": 12.568620724700002, "cost1_max": 347.4098142719648, "cost1_min": 27.189169929342544, "cost2_max": -14.385331862624513, "outflow_rate_mean": 962.531103674448, "system_level_velocity_min": 9.774258531762271, "outflow_rate_min": 325.4860739527011, "system_level_velocity_max": 18.24917558201402}, "info": {"num_steps_trained": 11307341, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.011686216108500957, "total_loss": 22.718046188354492, "vf_loss": 22.721033096313477, "policy_loss": -0.007419934496283531, "cur_kl_coeff": 0.37968751788139343, "vf_explained_var": 0.6902211904525757, "entropy": 1.4607148170471191}, "num_steps_sampled": 11307341, "load_time_ms": 11.595, "update_time_ms": 6.828, "grad_time_ms": 8088.591, "sample_time_ms": 13068.022}, "episode_len_mean": 661.59, "time_this_iter_s": 20.381858825683594, "num_metric_batches_dropped": 0, "timesteps_total": 11307341, "episodes_total": 5603, "hostname": "flow-main", "config": {"custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "kl_coeff": 0.2, "train_batch_size": 30000, "log_level": "INFO", "num_workers": 20, "num_sgd_iter": 10, "lr": 0.0005, "monitor": false, "lr_schedule": null, "compress_observations": false, "input": "sampler", "straggler_mitigation": false, "input_evaluation": null, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "optimizer": {}, "vf_share_layers": false, "model": {"fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "fcnet_activation": "tanh", "dim": 84, "lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "channel_major": false, "conv_activation": "relu", "squash_to_range": false, "conv_filters": null, "zero_mean": true, "grayscale": false, "max_seq_len": 20, "free_log_std": false, "custom_preprocessor": null, "custom_options": {}, "use_lstm": false}, "clip_param": 0.3, "num_cpus_for_driver": 1, "synchronize_filters": true, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "output": null, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.3, 0.1]_t_min:10.0", "batch_mode": "truncate_episodes", "simple_optimizer": false, "sample_batch_size": 200, "collect_metrics_timeout": 180, "clip_rewards": null, "clip_actions": false, "kl_target": 0.01, "observation_filter": "NoFilter", "use_gae": true, "entropy_coeff": 0.0, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f9461146400>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb69048>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f94611460b8>"}, "gamma": 0.99, "horizon": 1500, "num_gpus_per_worker": 0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "output_max_file_size": 67108864, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "num_gpus": 0, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}}, "timestamp": 1557237259, "episode_reward_max": 986.4893104640466, "episodes_this_iter": 17, "time_total_s": 6867.985700130463, "time_since_restore": 6867.985700130463}
{"timesteps_since_restore": 11344293, "done": false, "node_ip": "10.138.0.2", "pid": 10867, "date": "2019-05-07_13-54-40", "episode_reward_min": 43.98438609159555, "timesteps_this_iter": 36952, "training_iteration": 299, "episode_reward_mean": 847.408726581562, "experiment_id": "a183ec7aedea427d9bacd699bea0cf75", "policy_reward_mean": {}, "iterations_since_restore": 299, "custom_metrics": {"cost2_min": -39.102629166374136, "outflow_rate_max": 1166.771096103896, "cost1_mean": 294.6741870574714, "cost2_mean": -29.038648868356827, "system_level_velocity_mean": 12.667875687294622, "cost1_max": 347.4098142719648, "cost1_min": 27.189169929342544, "cost2_max": -14.385331862624513, "outflow_rate_mean": 965.5942983937041, "system_level_velocity_min": 9.774258531762271, "outflow_rate_min": 325.4860739527011, "system_level_velocity_max": 18.24917558201402}, "info": {"num_steps_trained": 11344293, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.01163775846362114, "total_loss": 25.269351959228516, "vf_loss": 25.275293350219727, "policy_loss": -0.010362241417169571, "cur_kl_coeff": 0.37968751788139343, "vf_explained_var": 0.7167508602142334, "entropy": 1.43492591381073}, "num_steps_sampled": 11344293, "load_time_ms": 11.532, "update_time_ms": 6.905, "grad_time_ms": 7915.862, "sample_time_ms": 13085.445}, "episode_len_mean": 657.88, "time_this_iter_s": 20.937743186950684, "num_metric_batches_dropped": 0, "timesteps_total": 11344293, "episodes_total": 5624, "hostname": "flow-main", "config": {"custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "kl_coeff": 0.2, "train_batch_size": 30000, "log_level": "INFO", "num_workers": 20, "num_sgd_iter": 10, "lr": 0.0005, "monitor": false, "lr_schedule": null, "compress_observations": false, "input": "sampler", "straggler_mitigation": false, "input_evaluation": null, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "optimizer": {}, "vf_share_layers": false, "model": {"fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "fcnet_activation": "tanh", "dim": 84, "lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "channel_major": false, "conv_activation": "relu", "squash_to_range": false, "conv_filters": null, "zero_mean": true, "grayscale": false, "max_seq_len": 20, "free_log_std": false, "custom_preprocessor": null, "custom_options": {}, "use_lstm": false}, "clip_param": 0.3, "num_cpus_for_driver": 1, "synchronize_filters": true, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "output": null, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.3, 0.1]_t_min:10.0", "batch_mode": "truncate_episodes", "simple_optimizer": false, "sample_batch_size": 200, "collect_metrics_timeout": 180, "clip_rewards": null, "clip_actions": false, "kl_target": 0.01, "observation_filter": "NoFilter", "use_gae": true, "entropy_coeff": 0.0, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f94611707f0>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f9461170828>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f94611707b8>"}, "gamma": 0.99, "horizon": 1500, "num_gpus_per_worker": 0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "output_max_file_size": 67108864, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "num_gpus": 0, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}}, "timestamp": 1557237280, "episode_reward_max": 986.4893104640466, "episodes_this_iter": 21, "time_total_s": 6888.923443317413, "time_since_restore": 6888.923443317413}
{"timesteps_since_restore": 11381984, "done": true, "node_ip": "10.138.0.2", "pid": 10867, "date": "2019-05-07_13-55-00", "episode_reward_min": 53.84269836830676, "timesteps_this_iter": 37691, "training_iteration": 300, "episode_reward_mean": 868.1035680672073, "experiment_id": "a183ec7aedea427d9bacd699bea0cf75", "policy_reward_mean": {}, "iterations_since_restore": 300, "custom_metrics": {"cost2_min": -39.102629166374136, "cost2_mean": -29.694411952855017, "cost1_mean": 301.7131152583809, "system_level_velocity_mean": 12.616721254488645, "cost1_max": 347.4098142719648, "cost1_min": 31.5908087361435, "cost2_max": -14.385331862624513, "outflow_rate_max": 1174.364296103896, "system_level_velocity_min": 9.774258531762271, "outflow_rate_min": 325.4860739527011, "system_level_velocity_max": 17.569930094781633, "outflow_rate_mean": 987.9997666262675}, "info": {"num_steps_trained": 11381984, "default": {"cur_lr": 0.0005000000237487257, "kl": 0.011905263178050518, "total_loss": 19.35456085205078, "vf_loss": 19.35972785949707, "policy_loss": -0.009686436504125595, "cur_kl_coeff": 0.3796875476837158, "vf_explained_var": 0.7836397886276245, "entropy": 1.4584126472473145}, "num_steps_sampled": 11381984, "load_time_ms": 11.626, "update_time_ms": 6.8, "grad_time_ms": 7775.36, "sample_time_ms": 12997.85}, "episode_len_mean": 671.54, "time_this_iter_s": 20.203218936920166, "num_metric_batches_dropped": 0, "timesteps_total": 11381984, "episodes_total": 5639, "hostname": "flow-main", "config": {"custom_resources_per_worker": {}, "output_compress_columns": ["obs", "new_obs"], "sgd_minibatch_size": 128, "kl_coeff": 0.2, "train_batch_size": 30000, "log_level": "INFO", "num_workers": 20, "num_sgd_iter": 10, "lr": 0.0005, "monitor": false, "lr_schedule": null, "compress_observations": false, "input": "sampler", "straggler_mitigation": false, "input_evaluation": null, "sample_async": false, "lambda": 0.97, "multiagent": {"policy_mapping_fn": null, "policies_to_train": null, "policy_graphs": {}}, "optimizer": {}, "vf_share_layers": false, "model": {"fcnet_hiddens": [100, 50, 25], "lstm_cell_size": 256, "fcnet_activation": "tanh", "dim": 84, "lstm_use_prev_action_reward": false, "custom_model": null, "framestack": true, "channel_major": false, "conv_activation": "relu", "squash_to_range": false, "conv_filters": null, "zero_mean": true, "grayscale": false, "max_seq_len": 20, "free_log_std": false, "custom_preprocessor": null, "custom_options": {}, "use_lstm": false}, "clip_param": 0.3, "num_cpus_for_driver": 1, "synchronize_filters": true, "num_cpus_per_worker": 1, "vf_clip_param": 1000000.0, "vf_loss_coeff": 1.0, "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 100\n    },\n    \"env_name\": \"MultiWaveAttenuationMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": false,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"highway_lanes\": 1,\n            \"merge_lanes\": 1,\n            \"merge_length\": 100,\n            \"post_merge_length\": 100,\n            \"pre_merge_length\": 1000,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_0\",\n                    \"vehsPerHour\": 1800.0,\n                    \"vtype\": \"human\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 10,\n                    \"edge\": \"inflow_highway\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_1\",\n                    \"vehsPerHour\": 200.0,\n                    \"vtype\": \"rl\"\n                },\n                {\n                    \"begin\": 1,\n                    \"departLane\": \"free\",\n                    \"departSpeed\": 7.5,\n                    \"edge\": \"inflow_merge\",\n                    \"end\": 2000000.0,\n                    \"name\": \"flow_2\",\n                    \"vehsPerHour\": 100,\n                    \"vtype\": \"human\"\n                }\n            ],\n            \"num_flows\": 3\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"MergeScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"SimCarFollowingController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": null,\n            \"veh_id\": \"human\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 0,\n            \"routing_controller\": null,\n            \"veh_id\": \"rl\"\n        }\n    ]\n}"}, "output": null, "env": "MultiWaveAttenuationMergePOEnvBufferedObs-v01000_[eta1, eta2, eta3]:[1.0, 0.3, 0.1]_t_min:10.0", "batch_mode": "truncate_episodes", "simple_optimizer": false, "sample_batch_size": 200, "collect_metrics_timeout": 180, "clip_rewards": null, "clip_actions": false, "kl_target": 0.01, "observation_filter": "NoFilter", "use_gae": true, "entropy_coeff": 0.0, "callbacks": {"on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb7fa58>", "on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb7f8d0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7f945fb7f748>"}, "gamma": 0.99, "horizon": 1500, "num_gpus_per_worker": 0, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "output_max_file_size": 67108864, "num_envs_per_worker": 1, "preprocessor_pref": "deepmind", "num_gpus": 0, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "log_device_placement": false, "allow_soft_placement": true, "device_count": {"CPU": 1}, "gpu_options": {"allow_growth": true}}}, "timestamp": 1557237300, "episode_reward_max": 988.7172922684609, "episodes_this_iter": 15, "time_total_s": 6909.1266622543335, "time_since_restore": 6909.1266622543335}
