{"timestamp": 1558007936, "hostname": "flow-main", "timesteps_since_restore": 135000, "episodes_total": 86, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "synchronize_filters": true, "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:1.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "straggler_mitigation": false, "lr_schedule": null, "monitor": false, "input_evaluation": null, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc3d5c0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc3d080>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc3d940>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "clip_param": 0.3, "simple_optimizer": false, "kl_target": 0.01, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "model": {"custom_preprocessor": null, "squash_to_range": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "grayscale": false, "framestack": true, "lstm_cell_size": 256}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "6a5e6d87546141128087acb0b350a70a", "custom_metrics": {"system_level_velocity_min": 1.3666029197271246, "cost1_min": 8.289701623928611, "system_level_velocity_mean": 3.0630290180875086, "cost1_mean": 22.112836180749646, "cost2_mean": -1.0980322560798785, "cost1_max": 54.56133134474476, "cost2_max": 0.0, "system_level_velocity_max": 6.819319871845346, "cost2_min": -25.4}, "done": false, "time_total_s": 88.14175152778625, "episode_reward_min": 41.448508119643066, "num_metric_batches_dropped": 0, "episode_len_mean": 256.74418604651163, "pid": 63737, "time_since_restore": 88.14175152778625, "time_this_iter_s": 88.14175152778625, "episodes_this_iter": 86, "episode_reward_mean": 110.23945200957539, "info": {"grad_time_ms": 33175.475, "update_time_ms": 620.764, "num_steps_trained": 135000, "num_steps_sampled": 135000, "load_time_ms": 71.317, "default": {"cur_kl_coeff": 0.20000003278255463, "vf_explained_var": 0.6099770665168762, "total_loss": 0.8033854961395264, "policy_loss": -0.0019718518014997244, "entropy": 1.4168888330459595, "kl": 0.003683931427076459, "cur_lr": 0.0005000000237487257, "vf_loss": 0.8046205639839172}, "sample_time_ms": 54024.27}, "timesteps_total": 135000, "iterations_since_restore": 1, "episode_reward_max": 272.8066567237234, "timesteps_this_iter": 135000, "training_iteration": 1, "node_ip": "10.138.0.2", "date": "2019-05-16_11-58-56", "policy_reward_mean": {}}
{"timestamp": 1558008023, "hostname": "flow-main", "timesteps_since_restore": 270000, "episodes_total": 164, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "synchronize_filters": true, "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:1.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "straggler_mitigation": false, "lr_schedule": null, "monitor": false, "input_evaluation": null, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9ce400>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9ce748>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9cefd0>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "clip_param": 0.3, "simple_optimizer": false, "kl_target": 0.01, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "model": {"custom_preprocessor": null, "squash_to_range": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "grayscale": false, "framestack": true, "lstm_cell_size": 256}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "6a5e6d87546141128087acb0b350a70a", "custom_metrics": {"system_level_velocity_min": 1.379070231176258, "cost1_min": 5.963438398143322, "system_level_velocity_mean": 3.0059574777651927, "cost1_mean": 29.35135615695044, "cost2_mean": -0.9017251029038714, "cost1_max": 97.29410412175673, "cost2_max": 0.0, "system_level_velocity_max": 5.878964119950824, "cost2_min": -8.890099361528662}, "done": false, "time_total_s": 175.28706169128418, "episode_reward_min": 29.817191990716612, "num_metric_batches_dropped": 0, "episode_len_mean": 317.48, "pid": 63737, "time_since_restore": 175.28706169128418, "time_this_iter_s": 87.14531016349792, "episodes_this_iter": 78, "episode_reward_mean": 146.41821746632849, "info": {"grad_time_ms": 33443.831, "update_time_ms": 316.181, "num_steps_trained": 270000, "num_steps_sampled": 270000, "load_time_ms": 45.033, "default": {"cur_kl_coeff": 0.10000001639127731, "vf_explained_var": 0.5793411731719971, "total_loss": 1.26431143283844, "policy_loss": -0.003295878879725933, "entropy": 1.4098479747772217, "kl": 0.006533228792250156, "cur_lr": 0.0005000000237487257, "vf_loss": 1.2669538259506226}, "sample_time_ms": 53595.728}, "timesteps_total": 270000, "iterations_since_restore": 2, "episode_reward_max": 481.54046742092896, "timesteps_this_iter": 135000, "training_iteration": 2, "node_ip": "10.138.0.2", "date": "2019-05-16_12-00-23", "policy_reward_mean": {}}
{"timestamp": 1558008107, "hostname": "flow-main", "timesteps_since_restore": 405000, "episodes_total": 222, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "synchronize_filters": true, "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:1.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "straggler_mitigation": false, "lr_schedule": null, "monitor": false, "input_evaluation": null, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9d4908>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9d42b0>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9d46a0>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "clip_param": 0.3, "simple_optimizer": false, "kl_target": 0.01, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "model": {"custom_preprocessor": null, "squash_to_range": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "grayscale": false, "framestack": true, "lstm_cell_size": 256}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "6a5e6d87546141128087acb0b350a70a", "custom_metrics": {"system_level_velocity_min": 1.649109073626541, "cost1_min": 6.724251631739692, "system_level_velocity_mean": 3.6400984518272783, "cost1_mean": 49.204216904963424, "cost2_mean": -2.4053563313193074, "cost1_max": 157.77730004042724, "cost2_max": 0.0, "system_level_velocity_max": 6.353252687851688, "cost2_min": -25.143711287691065}, "done": false, "time_total_s": 259.541303396225, "episode_reward_min": 33.62125815869844, "num_metric_batches_dropped": 0, "episode_len_mean": 384.05, "pid": 63737, "time_since_restore": 259.541303396225, "time_this_iter_s": 84.2542417049408, "episodes_this_iter": 58, "episode_reward_mean": 244.532366870131, "info": {"grad_time_ms": 33436.928, "update_time_ms": 214.282, "num_steps_trained": 405000, "num_steps_sampled": 405000, "load_time_ms": 36.288, "default": {"cur_kl_coeff": 0.10000001639127731, "vf_explained_var": 0.47297826409339905, "total_loss": 2.7411069869995117, "policy_loss": -0.003628478152677417, "entropy": 1.407410740852356, "kl": 0.006916834972798824, "cur_lr": 0.0005000000237487257, "vf_loss": 2.7440438270568848}, "sample_time_ms": 52592.555}, "timesteps_total": 405000, "iterations_since_restore": 3, "episode_reward_max": 788.8332890691905, "timesteps_this_iter": 135000, "training_iteration": 3, "node_ip": "10.138.0.2", "date": "2019-05-16_12-01-47", "policy_reward_mean": {}}
{"timestamp": 1558008192, "hostname": "flow-main", "timesteps_since_restore": 540000, "episodes_total": 269, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "synchronize_filters": true, "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:1.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "straggler_mitigation": false, "lr_schedule": null, "monitor": false, "input_evaluation": null, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd26047a5c0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd26047a828>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd26047a390>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "clip_param": 0.3, "simple_optimizer": false, "kl_target": 0.01, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "model": {"custom_preprocessor": null, "squash_to_range": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "grayscale": false, "framestack": true, "lstm_cell_size": 256}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "6a5e6d87546141128087acb0b350a70a", "custom_metrics": {"system_level_velocity_min": 1.649109073626541, "cost1_min": 8.244802028630481, "system_level_velocity_mean": 4.338057577822619, "cost1_mean": 84.36193710903592, "cost2_mean": -5.714310710329159, "cost1_max": 205.51847545159075, "cost2_max": 0.0, "system_level_velocity_max": 7.199526301839175, "cost2_min": -35.6}, "done": false, "time_total_s": 344.15356945991516, "episode_reward_min": 41.224010143152405, "num_metric_batches_dropped": 0, "episode_len_mean": 506.83, "pid": 63737, "time_since_restore": 344.15356945991516, "time_this_iter_s": 84.61226606369019, "episodes_this_iter": 47, "episode_reward_mean": 417.5765134331925, "info": {"grad_time_ms": 33496.38, "update_time_ms": 162.653, "num_steps_trained": 540000, "num_steps_sampled": 540000, "load_time_ms": 32.226, "default": {"cur_kl_coeff": 0.10000001639127731, "vf_explained_var": 0.542191207408905, "total_loss": 4.191070556640625, "policy_loss": -0.004745057318359613, "entropy": 1.409980297088623, "kl": 0.008846710436046124, "cur_lr": 0.0005000000237487257, "vf_loss": 4.194930553436279}, "sample_time_ms": 52119.043}, "timesteps_total": 540000, "iterations_since_restore": 4, "episode_reward_max": 1013.6385143940189, "timesteps_this_iter": 135000, "training_iteration": 4, "node_ip": "10.138.0.2", "date": "2019-05-16_12-03-12", "policy_reward_mean": {}}
{"timestamp": 1558008277, "hostname": "flow-main", "timesteps_since_restore": 675000, "episodes_total": 308, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "synchronize_filters": true, "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:1.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "straggler_mitigation": false, "lr_schedule": null, "monitor": false, "input_evaluation": null, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9cec88>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9ce550>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9cecf8>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "clip_param": 0.3, "simple_optimizer": false, "kl_target": 0.01, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "model": {"custom_preprocessor": null, "squash_to_range": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "grayscale": false, "framestack": true, "lstm_cell_size": 256}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "6a5e6d87546141128087acb0b350a70a", "custom_metrics": {"system_level_velocity_min": 2.2543271064063517, "cost1_min": 8.3407504142246, "system_level_velocity_mean": 5.065628107021072, "cost1_mean": 114.26186256548492, "cost2_mean": -8.668943067784092, "cost1_max": 205.51847545159075, "cost2_max": 0.0, "system_level_velocity_max": 7.8701878263703655, "cost2_min": -50.04022845368442}, "done": false, "time_total_s": 429.7574269771576, "episode_reward_min": 41.703752071123, "num_metric_batches_dropped": 0, "episode_len_mean": 596.22, "pid": 63737, "time_since_restore": 429.7574269771576, "time_this_iter_s": 85.60385751724243, "episodes_this_iter": 39, "episode_reward_mean": 563.8814824484147, "info": {"grad_time_ms": 33395.086, "update_time_ms": 131.724, "num_steps_trained": 675000, "num_steps_sampled": 675000, "load_time_ms": 29.467, "default": {"cur_kl_coeff": 0.10000001639127731, "vf_explained_var": 0.5714053511619568, "total_loss": 4.811382293701172, "policy_loss": -0.004198347218334675, "entropy": 1.408822774887085, "kl": 0.007386538665741682, "cur_lr": 0.0005000000237487257, "vf_loss": 4.8148417472839355}, "sample_time_ms": 52171.912}, "timesteps_total": 675000, "iterations_since_restore": 5, "episode_reward_max": 1013.6385143940189, "timesteps_this_iter": 135000, "training_iteration": 5, "node_ip": "10.138.0.2", "date": "2019-05-16_12-04-37", "policy_reward_mean": {}}
{"timestamp": 1558008363, "hostname": "flow-main", "timesteps_since_restore": 810000, "episodes_total": 344, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "synchronize_filters": true, "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:1.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "straggler_mitigation": false, "lr_schedule": null, "monitor": false, "input_evaluation": null, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc3d6a0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc3db38>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc3d048>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "clip_param": 0.3, "simple_optimizer": false, "kl_target": 0.01, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "model": {"custom_preprocessor": null, "squash_to_range": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "grayscale": false, "framestack": true, "lstm_cell_size": 256}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "6a5e6d87546141128087acb0b350a70a", "custom_metrics": {"system_level_velocity_min": 2.506589469164425, "cost1_min": 15.003155230596986, "system_level_velocity_mean": 5.599533776358779, "cost1_mean": 138.69775120723344, "cost2_mean": -13.03114390583395, "cost1_max": 208.68940834499136, "cost2_max": 0.0, "system_level_velocity_max": 7.8701878263703655, "cost2_min": -59.907573931861336}, "done": false, "time_total_s": 514.957540512085, "episode_reward_min": 74.9228295878645, "num_metric_batches_dropped": 0, "episode_len_mean": 679.23, "pid": 63737, "time_since_restore": 514.957540512085, "time_this_iter_s": 85.20011353492737, "episodes_this_iter": 36, "episode_reward_mean": 682.3543569724244, "info": {"grad_time_ms": 33377.79, "update_time_ms": 111.051, "num_steps_trained": 810000, "num_steps_sampled": 810000, "load_time_ms": 27.339, "default": {"cur_kl_coeff": 0.10000001639127731, "vf_explained_var": 0.5717610120773315, "total_loss": 5.754598140716553, "policy_loss": -0.004599808249622583, "entropy": 1.4022763967514038, "kl": 0.008013072423636913, "cur_lr": 0.0005000000237487257, "vf_loss": 5.758396148681641}, "sample_time_ms": 52086.133}, "timesteps_total": 810000, "iterations_since_restore": 6, "episode_reward_max": 1029.0431897142573, "timesteps_this_iter": 135000, "training_iteration": 6, "node_ip": "10.138.0.2", "date": "2019-05-16_12-06-03", "policy_reward_mean": {}}
{"timestamp": 1558008447, "hostname": "flow-main", "timesteps_since_restore": 945000, "episodes_total": 381, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "synchronize_filters": true, "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:1.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "straggler_mitigation": false, "lr_schedule": null, "monitor": false, "input_evaluation": null, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9d4d30>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9d4278>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9d40b8>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "clip_param": 0.3, "simple_optimizer": false, "kl_target": 0.01, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "model": {"custom_preprocessor": null, "squash_to_range": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "grayscale": false, "framestack": true, "lstm_cell_size": 256}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "6a5e6d87546141128087acb0b350a70a", "custom_metrics": {"system_level_velocity_min": 2.506589469164425, "cost1_min": 40.39535687261399, "system_level_velocity_mean": 6.136140439452755, "cost1_mean": 156.72538152005802, "cost2_mean": -14.236955652703239, "cost1_max": 228.61968545221214, "cost2_max": 0.0, "system_level_velocity_max": 8.165148149575646, "cost2_min": -59.907573931861336}, "done": false, "time_total_s": 599.6397469043732, "episode_reward_min": 201.90336923825805, "num_metric_batches_dropped": 0, "episode_len_mean": 710.27, "pid": 63737, "time_since_restore": 599.6397469043732, "time_this_iter_s": 84.68220639228821, "episodes_this_iter": 37, "episode_reward_mean": 770.585069780151, "info": {"grad_time_ms": 33337.085, "update_time_ms": 96.606, "num_steps_trained": 945000, "num_steps_sampled": 945000, "load_time_ms": 26.311, "default": {"cur_kl_coeff": 0.10000001639127731, "vf_explained_var": 0.5757030248641968, "total_loss": 6.538099765777588, "policy_loss": -0.004948030691593885, "entropy": 1.4006335735321045, "kl": 0.008431491442024708, "cur_lr": 0.0005000000237487257, "vf_loss": 6.5422043800354}, "sample_time_ms": 51977.89}, "timesteps_total": 945000, "iterations_since_restore": 7, "episode_reward_max": 1137.0411864315167, "timesteps_this_iter": 135000, "training_iteration": 7, "node_ip": "10.138.0.2", "date": "2019-05-16_12-07-27", "policy_reward_mean": {}}
{"timestamp": 1558008534, "hostname": "flow-main", "timesteps_since_restore": 1080000, "episodes_total": 418, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "synchronize_filters": true, "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:1.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "straggler_mitigation": false, "lr_schedule": null, "monitor": false, "input_evaluation": null, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9cec18>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9cebe0>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9cea20>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "clip_param": 0.3, "simple_optimizer": false, "kl_target": 0.01, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "model": {"custom_preprocessor": null, "squash_to_range": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "grayscale": false, "framestack": true, "lstm_cell_size": 256}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "6a5e6d87546141128087acb0b350a70a", "custom_metrics": {"system_level_velocity_min": 3.4869456667247154, "cost1_min": 54.53574410654073, "system_level_velocity_mean": 6.757670356182062, "cost1_mean": 174.41215982871688, "cost2_mean": -15.725514238740482, "cost1_max": 228.61968545221214, "cost2_max": 0.0, "system_level_velocity_max": 8.602365581891101, "cost2_min": -59.907573931861336}, "done": false, "time_total_s": 686.2292881011963, "episode_reward_min": 256.64351665453364, "num_metric_batches_dropped": 0, "episode_len_mean": 730.38, "pid": 63737, "time_since_restore": 686.2292881011963, "time_this_iter_s": 86.58954119682312, "episodes_this_iter": 37, "episode_reward_mean": 856.7742211931718, "info": {"grad_time_ms": 33473.553, "update_time_ms": 85.668, "num_steps_trained": 1080000, "num_steps_sampled": 1080000, "load_time_ms": 25.249, "default": {"cur_kl_coeff": 0.10000001639127731, "vf_explained_var": 0.5648664832115173, "total_loss": 7.063293933868408, "policy_loss": -0.004955367185175419, "entropy": 1.3949897289276123, "kl": 0.00880386121571064, "cur_lr": 0.0005000000237487257, "vf_loss": 7.067368984222412}, "sample_time_ms": 51966.604}, "timesteps_total": 1080000, "iterations_since_restore": 8, "episode_reward_max": 1137.0411864315167, "timesteps_this_iter": 135000, "training_iteration": 8, "node_ip": "10.138.0.2", "date": "2019-05-16_12-08-54", "policy_reward_mean": {}}
{"timestamp": 1558008620, "hostname": "flow-main", "timesteps_since_restore": 1215000, "episodes_total": 454, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "synchronize_filters": true, "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:1.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "straggler_mitigation": false, "lr_schedule": null, "monitor": false, "input_evaluation": null, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9cedd8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9ce198>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9ce358>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "clip_param": 0.3, "simple_optimizer": false, "kl_target": 0.01, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "model": {"custom_preprocessor": null, "squash_to_range": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "grayscale": false, "framestack": true, "lstm_cell_size": 256}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "6a5e6d87546141128087acb0b350a70a", "custom_metrics": {"system_level_velocity_min": 5.514529641196104, "cost1_min": 54.53574410654073, "system_level_velocity_mean": 7.263945938147193, "cost1_mean": 187.61155942964717, "cost2_mean": -17.098504251801334, "cost1_max": 237.80857586307187, "cost2_max": 0.0, "system_level_velocity_max": 8.993261189377852, "cost2_min": -53.99999999999999}, "done": false, "time_total_s": 771.6620843410492, "episode_reward_min": 256.64351665453364, "num_metric_batches_dropped": 0, "episode_len_mean": 741.62, "pid": 63737, "time_since_restore": 771.6620843410492, "time_this_iter_s": 85.4327962398529, "episodes_this_iter": 36, "episode_reward_mean": 920.0341239052183, "info": {"grad_time_ms": 33450.909, "update_time_ms": 77.235, "num_steps_trained": 1215000, "num_steps_sampled": 1215000, "load_time_ms": 24.258, "default": {"cur_kl_coeff": 0.10000001639127731, "vf_explained_var": 0.48346611857414246, "total_loss": 8.11896800994873, "policy_loss": -0.004543706309050322, "entropy": 1.396533489227295, "kl": 0.008543030358850956, "cur_lr": 0.0005000000237487257, "vf_loss": 8.12265682220459}, "sample_time_ms": 51960.927}, "timesteps_total": 1215000, "iterations_since_restore": 9, "episode_reward_max": 1158.2344882274338, "timesteps_this_iter": 135000, "training_iteration": 9, "node_ip": "10.138.0.2", "date": "2019-05-16_12-10-20", "policy_reward_mean": {}}
{"timestamp": 1558008705, "hostname": "flow-main", "timesteps_since_restore": 1350000, "episodes_total": 490, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "synchronize_filters": true, "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:1.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "straggler_mitigation": false, "lr_schedule": null, "monitor": false, "input_evaluation": null, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9d4400>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9d44e0>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9d4f28>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "clip_param": 0.3, "simple_optimizer": false, "kl_target": 0.01, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "model": {"custom_preprocessor": null, "squash_to_range": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "grayscale": false, "framestack": true, "lstm_cell_size": 256}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "6a5e6d87546141128087acb0b350a70a", "custom_metrics": {"system_level_velocity_min": 5.527355491002593, "cost1_min": 54.53574410654073, "system_level_velocity_mean": 7.633720007102076, "cost1_mean": 195.42152317161046, "cost2_mean": -17.98877298888363, "cost1_max": 237.80857586307187, "cost2_max": -1.2000000000000002, "system_level_velocity_max": 9.141811749759785, "cost2_min": -44.490483136130386}, "done": false, "time_total_s": 857.3588364124298, "episode_reward_min": 256.64351665453364, "num_metric_batches_dropped": 0, "episode_len_mean": 741.62, "pid": 63737, "time_since_restore": 857.3588364124298, "time_this_iter_s": 85.69675207138062, "episodes_this_iter": 36, "episode_reward_mean": 956.9084744423183, "info": {"grad_time_ms": 33446.969, "update_time_ms": 70.637, "num_steps_trained": 1350000, "num_steps_sampled": 1350000, "load_time_ms": 23.8, "default": {"cur_kl_coeff": 0.10000001639127731, "vf_explained_var": 0.443193644285202, "total_loss": 8.443129539489746, "policy_loss": -0.004725178238004446, "entropy": 1.3829079866409302, "kl": 0.009772009216248989, "cur_lr": 0.0005000000237487257, "vf_loss": 8.446878433227539}, "sample_time_ms": 51966.804}, "timesteps_total": 1350000, "iterations_since_restore": 10, "episode_reward_max": 1166.7600905488628, "timesteps_this_iter": 135000, "training_iteration": 10, "node_ip": "10.138.0.2", "date": "2019-05-16_12-11-45", "policy_reward_mean": {}}
{"timestamp": 1558008791, "hostname": "flow-main", "timesteps_since_restore": 1485000, "episodes_total": 526, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "synchronize_filters": true, "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:1.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "straggler_mitigation": false, "lr_schedule": null, "monitor": false, "input_evaluation": null, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9d42b0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9ce6a0>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9d4668>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "clip_param": 0.3, "simple_optimizer": false, "kl_target": 0.01, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "model": {"custom_preprocessor": null, "squash_to_range": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "grayscale": false, "framestack": true, "lstm_cell_size": 256}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "6a5e6d87546141128087acb0b350a70a", "custom_metrics": {"system_level_velocity_min": 6.268715122473041, "cost1_min": 157.0961365242637, "system_level_velocity_mean": 7.796798456672636, "cost1_mean": 200.03627621752028, "cost2_mean": -17.214122785558885, "cost1_max": 240.28427924377024, "cost2_max": -1.0, "system_level_velocity_max": 9.399232648340607, "cost2_min": -44.490483136130386}, "done": false, "time_total_s": 943.1471571922302, "episode_reward_min": 766.7378275179836, "num_metric_batches_dropped": 0, "episode_len_mean": 750.0, "pid": 63737, "time_since_restore": 943.1471571922302, "time_this_iter_s": 85.78832077980042, "episodes_this_iter": 36, "episode_reward_mean": 980.4400281186073, "info": {"grad_time_ms": 33514.839, "update_time_ms": 9.727, "num_steps_trained": 1485000, "num_steps_sampled": 1485000, "load_time_ms": 18.539, "default": {"cur_kl_coeff": 0.10000001639127731, "vf_explained_var": 0.4615745544433594, "total_loss": 8.726945877075195, "policy_loss": -0.005130220204591751, "entropy": 1.383009672164917, "kl": 0.009814809076488018, "cur_lr": 0.0005000000237487257, "vf_loss": 8.731094360351562}, "sample_time_ms": 51731.444}, "timesteps_total": 1485000, "iterations_since_restore": 11, "episode_reward_max": 1179.346731513501, "timesteps_this_iter": 135000, "training_iteration": 11, "node_ip": "10.138.0.2", "date": "2019-05-16_12-13-11", "policy_reward_mean": {}}
{"timestamp": 1558008878, "hostname": "flow-main", "timesteps_since_restore": 1620000, "episodes_total": 562, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "synchronize_filters": true, "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:1.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "straggler_mitigation": false, "lr_schedule": null, "monitor": false, "input_evaluation": null, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9ce278>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9ce198>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9ce358>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "clip_param": 0.3, "simple_optimizer": false, "kl_target": 0.01, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "model": {"custom_preprocessor": null, "squash_to_range": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "grayscale": false, "framestack": true, "lstm_cell_size": 256}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "6a5e6d87546141128087acb0b350a70a", "custom_metrics": {"system_level_velocity_min": 6.105881500713342, "cost1_min": 152.99965998619186, "system_level_velocity_mean": 7.9933396648288815, "cost1_mean": 202.82086284045917, "cost2_mean": -15.366322190082883, "cost1_max": 247.3935308678138, "cost2_max": -0.4, "system_level_velocity_max": 11.76428508705813, "cost2_min": -33.813129350669655}, "done": false, "time_total_s": 1029.7239837646484, "episode_reward_min": 758.4208507241889, "num_metric_batches_dropped": 0, "episode_len_mean": 750.0, "pid": 63737, "time_since_restore": 1029.7239837646484, "time_this_iter_s": 86.57682657241821, "episodes_this_iter": 36, "episode_reward_mean": 995.831939577828, "info": {"grad_time_ms": 33499.682, "update_time_ms": 9.687, "num_steps_trained": 1620000, "num_steps_sampled": 1620000, "load_time_ms": 18.509, "default": {"cur_kl_coeff": 0.10000001639127731, "vf_explained_var": 0.4868372082710266, "total_loss": 8.91630744934082, "policy_loss": -0.005482885520905256, "entropy": 1.3743362426757812, "kl": 0.01081859041005373, "cur_lr": 0.0005000000237487257, "vf_loss": 8.920709609985352}, "sample_time_ms": 51691.854}, "timesteps_total": 1620000, "iterations_since_restore": 12, "episode_reward_max": 1229.3910772696504, "timesteps_this_iter": 135000, "training_iteration": 12, "node_ip": "10.138.0.2", "date": "2019-05-16_12-14-38", "policy_reward_mean": {}}
{"timestamp": 1558008963, "hostname": "flow-main", "timesteps_since_restore": 1755000, "episodes_total": 598, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "synchronize_filters": true, "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:1.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "straggler_mitigation": false, "lr_schedule": null, "monitor": false, "input_evaluation": null, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9d4a20>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9d4eb8>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9d4d30>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "clip_param": 0.3, "simple_optimizer": false, "kl_target": 0.01, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "model": {"custom_preprocessor": null, "squash_to_range": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "grayscale": false, "framestack": true, "lstm_cell_size": 256}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "6a5e6d87546141128087acb0b350a70a", "custom_metrics": {"system_level_velocity_min": 5.618869363075127, "cost1_min": 143.14780270596722, "system_level_velocity_mean": 8.072319126037417, "cost1_mean": 202.7082018047252, "cost2_mean": -14.937905070720634, "cost1_max": 247.3935308678138, "cost2_max": -0.4, "system_level_velocity_max": 11.76428508705813, "cost2_min": -53.23132037531391}, "done": false, "time_total_s": 1115.1271846294403, "episode_reward_min": 689.651136585354, "num_metric_batches_dropped": 0, "episode_len_mean": 750.0, "pid": 63737, "time_since_restore": 1115.1271846294403, "time_this_iter_s": 85.40320086479187, "episodes_this_iter": 36, "episode_reward_mean": 996.0681647993105, "info": {"grad_time_ms": 33486.675, "update_time_ms": 9.71, "num_steps_trained": 1755000, "num_steps_sampled": 1755000, "load_time_ms": 18.519, "default": {"cur_kl_coeff": 0.10000001639127731, "vf_explained_var": 0.465431272983551, "total_loss": 8.99393081665039, "policy_loss": -0.004944197833538055, "entropy": 1.3650543689727783, "kl": 0.01021956279873848, "cur_lr": 0.0005000000237487257, "vf_loss": 8.997852325439453}, "sample_time_ms": 51814.239}, "timesteps_total": 1755000, "iterations_since_restore": 13, "episode_reward_max": 1229.3910772696504, "timesteps_this_iter": 135000, "training_iteration": 13, "node_ip": "10.138.0.2", "date": "2019-05-16_12-16-03", "policy_reward_mean": {}}
{"timestamp": 1558009049, "hostname": "flow-main", "timesteps_since_restore": 1890000, "episodes_total": 634, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "synchronize_filters": true, "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:1.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "straggler_mitigation": false, "lr_schedule": null, "monitor": false, "input_evaluation": null, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9d49b0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9d41d0>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9d4f98>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "clip_param": 0.3, "simple_optimizer": false, "kl_target": 0.01, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "model": {"custom_preprocessor": null, "squash_to_range": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "grayscale": false, "framestack": true, "lstm_cell_size": 256}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "6a5e6d87546141128087acb0b350a70a", "custom_metrics": {"system_level_velocity_min": 5.618869363075127, "cost1_min": 96.13156125360108, "system_level_velocity_mean": 8.225305177968805, "cost1_mean": 201.71286156392827, "cost2_mean": -13.548238407692372, "cost1_max": 264.71153400621813, "cost2_max": 0.0, "system_level_velocity_max": 12.45057109543949, "cost2_min": -53.23132037531391}, "done": false, "time_total_s": 1200.6535339355469, "episode_reward_min": 463.48847376109114, "num_metric_batches_dropped": 0, "episode_len_mean": 743.63, "pid": 63737, "time_since_restore": 1200.6535339355469, "time_this_iter_s": 85.52634930610657, "episodes_this_iter": 36, "episode_reward_mean": 992.6346224634035, "info": {"grad_time_ms": 33482.543, "update_time_ms": 10.106, "num_steps_trained": 1890000, "num_steps_sampled": 1890000, "load_time_ms": 18.156, "default": {"cur_kl_coeff": 0.10000001639127731, "vf_explained_var": 0.49476683139801025, "total_loss": 9.195533752441406, "policy_loss": -0.005753745324909687, "entropy": 1.3649921417236328, "kl": 0.011801389046013355, "cur_lr": 0.0005000000237487257, "vf_loss": 9.20010757446289}, "sample_time_ms": 51903.424}, "timesteps_total": 1890000, "iterations_since_restore": 14, "episode_reward_max": 1323.5576700310885, "timesteps_this_iter": 135000, "training_iteration": 14, "node_ip": "10.138.0.2", "date": "2019-05-16_12-17-29", "policy_reward_mean": {}}
{"timestamp": 1558009136, "hostname": "flow-main", "timesteps_since_restore": 2025000, "episodes_total": 670, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "synchronize_filters": true, "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:1.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "straggler_mitigation": false, "lr_schedule": null, "monitor": false, "input_evaluation": null, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9ceda0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9ce518>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9ce278>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "clip_param": 0.3, "simple_optimizer": false, "kl_target": 0.01, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "model": {"custom_preprocessor": null, "squash_to_range": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "grayscale": false, "framestack": true, "lstm_cell_size": 256}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "6a5e6d87546141128087acb0b350a70a", "custom_metrics": {"system_level_velocity_min": 5.618869363075127, "cost1_min": 96.13156125360108, "system_level_velocity_mean": 8.424788039034276, "cost1_mean": 205.38297044954433, "cost2_mean": -12.559315732327732, "cost1_max": 264.71153400621813, "cost2_max": 0.0, "system_level_velocity_max": 12.45057109543949, "cost2_min": -53.23132037531391}, "done": false, "time_total_s": 1287.3090279102325, "episode_reward_min": 463.48847376109114, "num_metric_batches_dropped": 0, "episode_len_mean": 743.63, "pid": 63737, "time_since_restore": 1287.3090279102325, "time_this_iter_s": 86.65549397468567, "episodes_this_iter": 36, "episode_reward_mean": 1012.2160520522963, "info": {"grad_time_ms": 33630.196, "update_time_ms": 10.285, "num_steps_trained": 2025000, "num_steps_sampled": 2025000, "load_time_ms": 18.012, "default": {"cur_kl_coeff": 0.10000001639127731, "vf_explained_var": 0.501846194267273, "total_loss": 9.536063194274902, "policy_loss": -0.0055235098116099834, "entropy": 1.361244559288025, "kl": 0.012389271520078182, "cur_lr": 0.0005000000237487257, "vf_loss": 9.5403470993042}, "sample_time_ms": 51857.325}, "timesteps_total": 2025000, "iterations_since_restore": 15, "episode_reward_max": 1323.5576700310885, "timesteps_this_iter": 135000, "training_iteration": 15, "node_ip": "10.138.0.2", "date": "2019-05-16_12-18-56", "policy_reward_mean": {}}
{"timestamp": 1558009222, "hostname": "flow-main", "timesteps_since_restore": 2160000, "episodes_total": 706, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "synchronize_filters": true, "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:1.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "straggler_mitigation": false, "lr_schedule": null, "monitor": false, "input_evaluation": null, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9d4dd8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9d4588>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9d4828>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "clip_param": 0.3, "simple_optimizer": false, "kl_target": 0.01, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "model": {"custom_preprocessor": null, "squash_to_range": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "grayscale": false, "framestack": true, "lstm_cell_size": 256}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "6a5e6d87546141128087acb0b350a70a", "custom_metrics": {"system_level_velocity_min": 6.166644255700938, "cost1_min": 96.13156125360108, "system_level_velocity_mean": 8.87784107012904, "cost1_mean": 211.64982224244798, "cost2_mean": -9.746622088670748, "cost1_max": 267.1296283061828, "cost2_max": 0.0, "system_level_velocity_max": 12.773961883335865, "cost2_min": -31.40474147300881}, "done": false, "time_total_s": 1373.2227039337158, "episode_reward_min": 463.48847376109114, "num_metric_batches_dropped": 0, "episode_len_mean": 743.63, "pid": 63737, "time_since_restore": 1373.2227039337158, "time_this_iter_s": 85.91367602348328, "episodes_this_iter": 36, "episode_reward_mean": 1046.5874468044194, "info": {"grad_time_ms": 33701.248, "update_time_ms": 10.65, "num_steps_trained": 2160000, "num_steps_sampled": 2160000, "load_time_ms": 18.283, "default": {"cur_kl_coeff": 0.10000001639127731, "vf_explained_var": 0.4869052469730377, "total_loss": 10.273255348205566, "policy_loss": -0.005082446150481701, "entropy": 1.3573002815246582, "kl": 0.01144989300519228, "cur_lr": 0.0005000000237487257, "vf_loss": 10.277194023132324}, "sample_time_ms": 51857.47}, "timesteps_total": 2160000, "iterations_since_restore": 16, "episode_reward_max": 1335.6481415309156, "timesteps_this_iter": 135000, "training_iteration": 16, "node_ip": "10.138.0.2", "date": "2019-05-16_12-20-22", "policy_reward_mean": {}}
{"timestamp": 1558009307, "hostname": "flow-main", "timesteps_since_restore": 2295000, "episodes_total": 742, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "synchronize_filters": true, "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:1.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "straggler_mitigation": false, "lr_schedule": null, "monitor": false, "input_evaluation": null, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc34eb8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc34128>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc34438>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "clip_param": 0.3, "simple_optimizer": false, "kl_target": 0.01, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "model": {"custom_preprocessor": null, "squash_to_range": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "grayscale": false, "framestack": true, "lstm_cell_size": 256}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "6a5e6d87546141128087acb0b350a70a", "custom_metrics": {"system_level_velocity_min": 6.341097217625334, "cost1_min": 156.43906154336156, "system_level_velocity_mean": 9.226636505881213, "cost1_mean": 219.13394588895605, "cost2_mean": -8.551493774834464, "cost1_max": 267.1296283061828, "cost2_max": 0.0, "system_level_velocity_max": 12.773961883335865, "cost2_min": -31.40474147300881}, "done": false, "time_total_s": 1458.87655210495, "episode_reward_min": 764.7041214528848, "num_metric_batches_dropped": 0, "episode_len_mean": 749.97, "pid": 63737, "time_since_restore": 1458.87655210495, "time_this_iter_s": 85.65384817123413, "episodes_this_iter": 36, "episode_reward_mean": 1084.8970992775712, "info": {"grad_time_ms": 33783.255, "update_time_ms": 10.63, "num_steps_trained": 2295000, "num_steps_sampled": 2295000, "load_time_ms": 18.163, "default": {"cur_kl_coeff": 0.10000001639127731, "vf_explained_var": 0.4999369978904724, "total_loss": 10.580205917358398, "policy_loss": -0.0042656767182052135, "entropy": 1.3504648208618164, "kl": 0.010759666562080383, "cur_lr": 0.0005000000237487257, "vf_loss": 10.583395004272461}, "sample_time_ms": 51868.272}, "timesteps_total": 2295000, "iterations_since_restore": 17, "episode_reward_max": 1335.6481415309156, "timesteps_this_iter": 135000, "training_iteration": 17, "node_ip": "10.138.0.2", "date": "2019-05-16_12-21-47", "policy_reward_mean": {}}
{"timestamp": 1558009393, "hostname": "flow-main", "timesteps_since_restore": 2430000, "episodes_total": 778, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "synchronize_filters": true, "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:1.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "straggler_mitigation": false, "lr_schedule": null, "monitor": false, "input_evaluation": null, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9ce0f0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9ce860>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9ce7b8>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "clip_param": 0.3, "simple_optimizer": false, "kl_target": 0.01, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "model": {"custom_preprocessor": null, "squash_to_range": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "grayscale": false, "framestack": true, "lstm_cell_size": 256}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "6a5e6d87546141128087acb0b350a70a", "custom_metrics": {"system_level_velocity_min": 5.154231931387697, "cost1_min": 128.64774516973557, "system_level_velocity_mean": 9.323999687799214, "cost1_mean": 217.57576782080915, "cost2_mean": -7.489935343878921, "cost1_max": 267.93175970074765, "cost2_max": 0.0, "system_level_velocity_max": 12.773961883335865, "cost2_min": -23.039170157304966}, "done": false, "time_total_s": 1544.1545565128326, "episode_reward_min": 633.260914970575, "num_metric_batches_dropped": 0, "episode_len_mean": 749.97, "pid": 63737, "time_since_restore": 1544.1545565128326, "time_this_iter_s": 85.27800440788269, "episodes_this_iter": 36, "episode_reward_mean": 1078.390575945838, "info": {"grad_time_ms": 33733.328, "update_time_ms": 10.67, "num_steps_trained": 2430000, "num_steps_sampled": 2430000, "load_time_ms": 18.101, "default": {"cur_kl_coeff": 0.10000001639127731, "vf_explained_var": 0.5398149490356445, "total_loss": 11.119352340698242, "policy_loss": -0.004922099411487579, "entropy": 1.3419604301452637, "kl": 0.011629116721451283, "cur_lr": 0.0005000000237487257, "vf_loss": 11.123111724853516}, "sample_time_ms": 51790.54}, "timesteps_total": 2430000, "iterations_since_restore": 18, "episode_reward_max": 1339.6587985037406, "timesteps_this_iter": 135000, "training_iteration": 18, "node_ip": "10.138.0.2", "date": "2019-05-16_12-23-13", "policy_reward_mean": {}}
{"timestamp": 1558009479, "hostname": "flow-main", "timesteps_since_restore": 2565000, "episodes_total": 814, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "synchronize_filters": true, "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:1.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "straggler_mitigation": false, "lr_schedule": null, "monitor": false, "input_evaluation": null, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9dcac8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9dc940>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9dc8d0>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "clip_param": 0.3, "simple_optimizer": false, "kl_target": 0.01, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "model": {"custom_preprocessor": null, "squash_to_range": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "grayscale": false, "framestack": true, "lstm_cell_size": 256}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "6a5e6d87546141128087acb0b350a70a", "custom_metrics": {"system_level_velocity_min": 5.154231931387697, "cost1_min": 128.64774516973557, "system_level_velocity_mean": 9.271525078047215, "cost1_mean": 215.64896675542718, "cost2_mean": -7.7810691860159, "cost1_max": 269.55063422526507, "cost2_max": 0.0, "system_level_velocity_max": 12.968816149686765, "cost2_min": -21.567732046815866}, "done": false, "time_total_s": 1630.538673877716, "episode_reward_min": 633.260914970575, "num_metric_batches_dropped": 0, "episode_len_mean": 749.97, "pid": 63737, "time_since_restore": 1630.538673877716, "time_this_iter_s": 86.38411736488342, "episodes_this_iter": 36, "episode_reward_mean": 1068.4126335102965, "info": {"grad_time_ms": 33829.312, "update_time_ms": 10.819, "num_steps_trained": 2565000, "num_steps_sampled": 2565000, "load_time_ms": 18.177, "default": {"cur_kl_coeff": 0.10000001639127731, "vf_explained_var": 0.5350634455680847, "total_loss": 10.93908405303955, "policy_loss": -0.005402228329330683, "entropy": 1.3314162492752075, "kl": 0.011629762127995491, "cur_lr": 0.0005000000237487257, "vf_loss": 10.943324089050293}, "sample_time_ms": 51787.388}, "timesteps_total": 2565000, "iterations_since_restore": 19, "episode_reward_max": 1347.7531711263223, "timesteps_this_iter": 135000, "training_iteration": 19, "node_ip": "10.138.0.2", "date": "2019-05-16_12-24-39", "policy_reward_mean": {}}
{"timestamp": 1558009565, "hostname": "flow-main", "timesteps_since_restore": 2700000, "episodes_total": 850, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "synchronize_filters": true, "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:1.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "straggler_mitigation": false, "lr_schedule": null, "monitor": false, "input_evaluation": null, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9dc7f0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9dc9b0>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9dc048>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "clip_param": 0.3, "simple_optimizer": false, "kl_target": 0.01, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "model": {"custom_preprocessor": null, "squash_to_range": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "grayscale": false, "framestack": true, "lstm_cell_size": 256}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "6a5e6d87546141128087acb0b350a70a", "custom_metrics": {"system_level_velocity_min": 6.1456735949736325, "cost1_min": 148.2489338018053, "system_level_velocity_mean": 9.376125212315475, "cost1_mean": 216.26854562201427, "cost2_mean": -8.524132142756207, "cost1_max": 278.49786970986884, "cost2_max": 0.0, "system_level_velocity_max": 12.968816149686765, "cost2_min": -32.4084292566007}, "done": false, "time_total_s": 1716.7280323505402, "episode_reward_min": 733.0849095534563, "num_metric_batches_dropped": 0, "episode_len_mean": 750.0, "pid": 63737, "time_since_restore": 1716.7280323505402, "time_this_iter_s": 86.1893584728241, "episodes_this_iter": 36, "episode_reward_mean": 1071.0034628515157, "info": {"grad_time_ms": 33927.526, "update_time_ms": 10.832, "num_steps_trained": 2700000, "num_steps_sampled": 2700000, "load_time_ms": 18.028, "default": {"cur_kl_coeff": 0.10000001639127731, "vf_explained_var": 0.5458753705024719, "total_loss": 10.94139289855957, "policy_loss": -0.005488509312272072, "entropy": 1.3300633430480957, "kl": 0.012091425247490406, "cur_lr": 0.0005000000237487257, "vf_loss": 10.945672035217285}, "sample_time_ms": 51740.419}, "timesteps_total": 2700000, "iterations_since_restore": 20, "episode_reward_max": 1380.9179752684129, "timesteps_this_iter": 135000, "training_iteration": 20, "node_ip": "10.138.0.2", "date": "2019-05-16_12-26-05", "policy_reward_mean": {}}
{"timestamp": 1558009651, "hostname": "flow-main", "timesteps_since_restore": 2835000, "episodes_total": 886, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "synchronize_filters": true, "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:1.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "straggler_mitigation": false, "lr_schedule": null, "monitor": false, "input_evaluation": null, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9ce208>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9ce518>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9ced30>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "clip_param": 0.3, "simple_optimizer": false, "kl_target": 0.01, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "model": {"custom_preprocessor": null, "squash_to_range": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "grayscale": false, "framestack": true, "lstm_cell_size": 256}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "6a5e6d87546141128087acb0b350a70a", "custom_metrics": {"system_level_velocity_min": 6.1456735949736325, "cost1_min": 148.2489338018053, "system_level_velocity_mean": 9.542383759550509, "cost1_mean": 220.68295485627627, "cost2_mean": -8.484475838684254, "cost1_max": 278.49786970986884, "cost2_max": 0.0, "system_level_velocity_max": 12.968816149686765, "cost2_min": -32.4084292566007}, "done": false, "time_total_s": 1802.103803396225, "episode_reward_min": 733.0849095534563, "num_metric_batches_dropped": 0, "episode_len_mean": 750.0, "pid": 63737, "time_since_restore": 1802.103803396225, "time_this_iter_s": 85.37577104568481, "episodes_this_iter": 36, "episode_reward_mean": 1093.0706224393916, "info": {"grad_time_ms": 33907.337, "update_time_ms": 10.736, "num_steps_trained": 2835000, "num_steps_sampled": 2835000, "load_time_ms": 18.054, "default": {"cur_kl_coeff": 0.10000001639127731, "vf_explained_var": 0.5364809036254883, "total_loss": 11.469050407409668, "policy_loss": -0.0052851238287985325, "entropy": 1.3256441354751587, "kl": 0.011496305465698242, "cur_lr": 0.0005000000237487257, "vf_loss": 11.473187446594238}, "sample_time_ms": 51716.203}, "timesteps_total": 2835000, "iterations_since_restore": 21, "episode_reward_max": 1380.9179752684129, "timesteps_this_iter": 135000, "training_iteration": 21, "node_ip": "10.138.0.2", "date": "2019-05-16_12-27-31", "policy_reward_mean": {}}
{"timestamp": 1558009736, "hostname": "flow-main", "timesteps_since_restore": 2970000, "episodes_total": 922, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "synchronize_filters": true, "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:1.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "straggler_mitigation": false, "lr_schedule": null, "monitor": false, "input_evaluation": null, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9d41d0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9d49e8>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9d4be0>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "clip_param": 0.3, "simple_optimizer": false, "kl_target": 0.01, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "model": {"custom_preprocessor": null, "squash_to_range": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "grayscale": false, "framestack": true, "lstm_cell_size": 256}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "6a5e6d87546141128087acb0b350a70a", "custom_metrics": {"system_level_velocity_min": 6.492049580658635, "cost1_min": 160.59171833051917, "system_level_velocity_mean": 9.95974472517849, "cost1_mean": 227.94835779889047, "cost2_mean": -7.9601879366622725, "cost1_max": 278.49786970986884, "cost2_max": 0.0, "system_level_velocity_max": 13.413833962227322, "cost2_min": -32.4084292566007}, "done": false, "time_total_s": 1887.182063817978, "episode_reward_min": 787.0548365387333, "num_metric_batches_dropped": 0, "episode_len_mean": 750.0, "pid": 63737, "time_since_restore": 1887.182063817978, "time_this_iter_s": 85.07826042175293, "episodes_this_iter": 36, "episode_reward_mean": 1130.1468959057795, "info": {"grad_time_ms": 33902.175, "update_time_ms": 10.48, "num_steps_trained": 2970000, "num_steps_sampled": 2970000, "load_time_ms": 18.023, "default": {"cur_kl_coeff": 0.10000001639127731, "vf_explained_var": 0.5164029598236084, "total_loss": 11.73999309539795, "policy_loss": -0.005357218906283379, "entropy": 1.3151936531066895, "kl": 0.012225170619785786, "cur_lr": 0.0005000000237487257, "vf_loss": 11.74412727355957}, "sample_time_ms": 51570.406}, "timesteps_total": 2970000, "iterations_since_restore": 22, "episode_reward_max": 1380.9179752684129, "timesteps_this_iter": 135000, "training_iteration": 22, "node_ip": "10.138.0.2", "date": "2019-05-16_12-28-56", "policy_reward_mean": {}}
{"timestamp": 1558009822, "hostname": "flow-main", "timesteps_since_restore": 3105000, "episodes_total": 958, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "synchronize_filters": true, "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:1.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "straggler_mitigation": false, "lr_schedule": null, "monitor": false, "input_evaluation": null, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9ce550>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9ce240>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9ceef0>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "clip_param": 0.3, "simple_optimizer": false, "kl_target": 0.01, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "model": {"custom_preprocessor": null, "squash_to_range": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "grayscale": false, "framestack": true, "lstm_cell_size": 256}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "6a5e6d87546141128087acb0b350a70a", "custom_metrics": {"system_level_velocity_min": 5.39514225060187, "cost1_min": 44.09193677633219, "system_level_velocity_mean": 10.17545309076044, "cost1_mean": 229.85382272759827, "cost2_mean": -6.659493650202353, "cost1_max": 273.76615643838124, "cost2_max": 0.0, "system_level_velocity_max": 13.413833962227322, "cost2_min": -26.780815250577703}, "done": false, "time_total_s": 1973.5718274116516, "episode_reward_min": 217.96217138587338, "num_metric_batches_dropped": 0, "episode_len_mean": 740.41, "pid": 63737, "time_since_restore": 1973.5718274116516, "time_this_iter_s": 86.3897635936737, "episodes_this_iter": 36, "episode_reward_mean": 1141.0513957213805, "info": {"grad_time_ms": 33991.212, "update_time_ms": 10.473, "num_steps_trained": 3105000, "num_steps_sampled": 3105000, "load_time_ms": 17.853, "default": {"cur_kl_coeff": 0.10000001639127731, "vf_explained_var": 0.5258533358573914, "total_loss": 11.998554229736328, "policy_loss": -0.005002475343644619, "entropy": 1.313509225845337, "kl": 0.01181058119982481, "cur_lr": 0.0005000000237487257, "vf_loss": 12.002376556396484}, "sample_time_ms": 51578.978}, "timesteps_total": 3105000, "iterations_since_restore": 23, "episode_reward_max": 1368.8307821919057, "timesteps_this_iter": 135000, "training_iteration": 23, "node_ip": "10.138.0.2", "date": "2019-05-16_12-30-22", "policy_reward_mean": {}}
{"timestamp": 1558009907, "hostname": "flow-main", "timesteps_since_restore": 3240000, "episodes_total": 994, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "synchronize_filters": true, "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:1.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "straggler_mitigation": false, "lr_schedule": null, "monitor": false, "input_evaluation": null, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9ce860>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc34828>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9cec88>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "clip_param": 0.3, "simple_optimizer": false, "kl_target": 0.01, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "model": {"custom_preprocessor": null, "squash_to_range": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "grayscale": false, "framestack": true, "lstm_cell_size": 256}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "6a5e6d87546141128087acb0b350a70a", "custom_metrics": {"system_level_velocity_min": 5.39514225060187, "cost1_min": 44.09193677633219, "system_level_velocity_mean": 10.402862513527355, "cost1_mean": 232.04457403226644, "cost2_mean": -6.115538927041976, "cost1_max": 273.76615643838124, "cost2_max": 0.0, "system_level_velocity_max": 13.413833962227322, "cost2_min": -47.1861289649726}, "done": false, "time_total_s": 2058.5712995529175, "episode_reward_min": 217.96217138587338, "num_metric_batches_dropped": 0, "episode_len_mean": 740.41, "pid": 63737, "time_since_restore": 2058.5712995529175, "time_this_iter_s": 84.99947214126587, "episodes_this_iter": 36, "episode_reward_mean": 1153.272357474084, "info": {"grad_time_ms": 33990.173, "update_time_ms": 10.584, "num_steps_trained": 3240000, "num_steps_sampled": 3240000, "load_time_ms": 17.935, "default": {"cur_kl_coeff": 0.10000001639127731, "vf_explained_var": 0.5290214419364929, "total_loss": 12.838570594787598, "policy_loss": -0.004607237409800291, "entropy": 1.3122572898864746, "kl": 0.011227174662053585, "cur_lr": 0.0005000000237487257, "vf_loss": 12.842055320739746}, "sample_time_ms": 51526.678}, "timesteps_total": 3240000, "iterations_since_restore": 24, "episode_reward_max": 1368.8307821919057, "timesteps_this_iter": 135000, "training_iteration": 24, "node_ip": "10.138.0.2", "date": "2019-05-16_12-31-47", "policy_reward_mean": {}}
{"timestamp": 1558009992, "hostname": "flow-main", "timesteps_since_restore": 3375000, "episodes_total": 1030, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "synchronize_filters": true, "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:1.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "straggler_mitigation": false, "lr_schedule": null, "monitor": false, "input_evaluation": null, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc34908>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc34eb8>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc34048>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "clip_param": 0.3, "simple_optimizer": false, "kl_target": 0.01, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "model": {"custom_preprocessor": null, "squash_to_range": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "grayscale": false, "framestack": true, "lstm_cell_size": 256}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "6a5e6d87546141128087acb0b350a70a", "custom_metrics": {"system_level_velocity_min": 5.39514225060187, "cost1_min": 44.09193677633219, "system_level_velocity_mean": 10.288054798373578, "cost1_mean": 229.9200625634811, "cost2_mean": -6.409844361802916, "cost1_max": 274.25497693220245, "cost2_max": 0.0, "system_level_velocity_max": 13.182903466237791, "cost2_min": -47.1861289649726}, "done": false, "time_total_s": 2143.006560087204, "episode_reward_min": 217.96217138587338, "num_metric_batches_dropped": 0, "episode_len_mean": 740.41, "pid": 63737, "time_since_restore": 2143.006560087204, "time_this_iter_s": 84.4352605342865, "episodes_this_iter": 36, "episode_reward_mean": 1142.424248723321, "info": {"grad_time_ms": 33901.264, "update_time_ms": 10.686, "num_steps_trained": 3375000, "num_steps_sampled": 3375000, "load_time_ms": 18.029, "default": {"cur_kl_coeff": 0.10000001639127731, "vf_explained_var": 0.5079857110977173, "total_loss": 12.511761665344238, "policy_loss": -0.004853225778788328, "entropy": 1.3005160093307495, "kl": 0.012302118353545666, "cur_lr": 0.0005000000237487257, "vf_loss": 12.515384674072266}, "sample_time_ms": 51393.66}, "timesteps_total": 3375000, "iterations_since_restore": 25, "episode_reward_max": 1364.0748846610122, "timesteps_this_iter": 135000, "training_iteration": 25, "node_ip": "10.138.0.2", "date": "2019-05-16_12-33-12", "policy_reward_mean": {}}
{"timestamp": 1558010079, "hostname": "flow-main", "timesteps_since_restore": 3510000, "episodes_total": 1066, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "synchronize_filters": true, "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:1.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "straggler_mitigation": false, "lr_schedule": null, "monitor": false, "input_evaluation": null, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9dc9b0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9dca90>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9dc588>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "clip_param": 0.3, "simple_optimizer": false, "kl_target": 0.01, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "model": {"custom_preprocessor": null, "squash_to_range": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "grayscale": false, "framestack": true, "lstm_cell_size": 256}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "6a5e6d87546141128087acb0b350a70a", "custom_metrics": {"system_level_velocity_min": 5.597614150718681, "cost1_min": 139.27048490882325, "system_level_velocity_mean": 10.52609872740391, "cost1_mean": 235.14395114526837, "cost2_mean": -5.733037457278009, "cost1_max": 275.2632218055603, "cost2_max": 0.0, "system_level_velocity_max": 13.182903466237791, "cost2_min": -47.1861289649726}, "done": false, "time_total_s": 2229.9872074127197, "episode_reward_min": 675.2511069602078, "num_metric_batches_dropped": 0, "episode_len_mean": 750.0, "pid": 63737, "time_since_restore": 2229.9872074127197, "time_this_iter_s": 86.98064732551575, "episodes_this_iter": 36, "episode_reward_mean": 1169.2741825612754, "info": {"grad_time_ms": 34050.119, "update_time_ms": 10.632, "num_steps_trained": 3510000, "num_steps_sampled": 3510000, "load_time_ms": 17.797, "default": {"cur_kl_coeff": 0.10000001639127731, "vf_explained_var": 0.48091351985931396, "total_loss": 13.3179292678833, "policy_loss": -0.004009351599961519, "entropy": 1.295772910118103, "kl": 0.010702737607061863, "cur_lr": 0.0005000000237487257, "vf_loss": 13.320868492126465}, "sample_time_ms": 51351.859}, "timesteps_total": 3510000, "iterations_since_restore": 26, "episode_reward_max": 1373.6161090278001, "timesteps_this_iter": 135000, "training_iteration": 26, "node_ip": "10.138.0.2", "date": "2019-05-16_12-34-39", "policy_reward_mean": {}}
{"timestamp": 1558010164, "hostname": "flow-main", "timesteps_since_restore": 3645000, "episodes_total": 1102, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "synchronize_filters": true, "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:1.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "straggler_mitigation": false, "lr_schedule": null, "monitor": false, "input_evaluation": null, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9ce7b8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9ce668>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9ceb70>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "clip_param": 0.3, "simple_optimizer": false, "kl_target": 0.01, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "model": {"custom_preprocessor": null, "squash_to_range": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "grayscale": false, "framestack": true, "lstm_cell_size": 256}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "6a5e6d87546141128087acb0b350a70a", "custom_metrics": {"system_level_velocity_min": 7.119625034960584, "cost1_min": 159.64775526218187, "system_level_velocity_mean": 10.542205049626025, "cost1_mean": 235.3072303151458, "cost2_mean": -5.877270754082802, "cost1_max": 275.2632218055603, "cost2_max": 0.0, "system_level_velocity_max": 13.182903466237791, "cost2_min": -38.84802722213219}, "done": false, "time_total_s": 2315.1771562099457, "episode_reward_min": 793.4968010853713, "num_metric_batches_dropped": 0, "episode_len_mean": 750.0, "pid": 63737, "time_since_restore": 2315.1771562099457, "time_this_iter_s": 85.18994879722595, "episodes_this_iter": 36, "episode_reward_mean": 1169.4395982496671, "info": {"grad_time_ms": 34052.112, "update_time_ms": 10.831, "num_steps_trained": 3645000, "num_steps_sampled": 3645000, "load_time_ms": 17.67, "default": {"cur_kl_coeff": 0.10000001639127731, "vf_explained_var": 0.5220251083374023, "total_loss": 13.110799789428711, "policy_loss": -0.0045332834124565125, "entropy": 1.304555058479309, "kl": 0.011452111415565014, "cur_lr": 0.0005000000237487257, "vf_loss": 13.114187240600586}, "sample_time_ms": 51308.44}, "timesteps_total": 3645000, "iterations_since_restore": 27, "episode_reward_max": 1373.6161090278001, "timesteps_this_iter": 135000, "training_iteration": 27, "node_ip": "10.138.0.2", "date": "2019-05-16_12-36-04", "policy_reward_mean": {}}
{"timestamp": 1558010249, "hostname": "flow-main", "timesteps_since_restore": 3780000, "episodes_total": 1138, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "synchronize_filters": true, "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:1.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "straggler_mitigation": false, "lr_schedule": null, "monitor": false, "input_evaluation": null, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9cce80>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9cc898>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9cc940>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "clip_param": 0.3, "simple_optimizer": false, "kl_target": 0.01, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "model": {"custom_preprocessor": null, "squash_to_range": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "grayscale": false, "framestack": true, "lstm_cell_size": 256}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "6a5e6d87546141128087acb0b350a70a", "custom_metrics": {"system_level_velocity_min": 6.347772580611699, "cost1_min": 155.90420516759494, "system_level_velocity_mean": 10.584071869554402, "cost1_mean": 234.3224932004561, "cost2_mean": -5.82221001902918, "cost1_max": 280.46541416682936, "cost2_max": 0.0, "system_level_velocity_max": 13.178411248606785, "cost2_min": -32.4}, "done": false, "time_total_s": 2399.781695127487, "episode_reward_min": 766.5523865711281, "num_metric_batches_dropped": 0, "episode_len_mean": 750.0, "pid": 63737, "time_since_restore": 2399.781695127487, "time_this_iter_s": 84.6045389175415, "episodes_this_iter": 36, "episode_reward_mean": 1164.488199343756, "info": {"grad_time_ms": 34048.746, "update_time_ms": 11.034, "num_steps_trained": 3780000, "num_steps_sampled": 3780000, "load_time_ms": 17.776, "default": {"cur_kl_coeff": 0.10000001639127731, "vf_explained_var": 0.5222913026809692, "total_loss": 12.435395240783691, "policy_loss": -0.0048666768707334995, "entropy": 1.307515025138855, "kl": 0.013041024096310139, "cur_lr": 0.0005000000237487257, "vf_loss": 12.438957214355469}, "sample_time_ms": 51243.121}, "timesteps_total": 3780000, "iterations_since_restore": 28, "episode_reward_max": 1391.736559827755, "timesteps_this_iter": 135000, "training_iteration": 28, "node_ip": "10.138.0.2", "date": "2019-05-16_12-37-29", "policy_reward_mean": {}}
{"timestamp": 1558010334, "hostname": "flow-main", "timesteps_since_restore": 3915000, "episodes_total": 1174, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "synchronize_filters": true, "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:1.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "straggler_mitigation": false, "lr_schedule": null, "monitor": false, "input_evaluation": null, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9dcb00>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9dcb70>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9dc438>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "clip_param": 0.3, "simple_optimizer": false, "kl_target": 0.01, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "model": {"custom_preprocessor": null, "squash_to_range": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "grayscale": false, "framestack": true, "lstm_cell_size": 256}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "6a5e6d87546141128087acb0b350a70a", "custom_metrics": {"system_level_velocity_min": 6.347772580611699, "cost1_min": 155.90420516759494, "system_level_velocity_mean": 10.62015814203424, "cost1_mean": 235.06767177514953, "cost2_mean": -6.0712325206426625, "cost1_max": 280.46541416682936, "cost2_max": 0.0, "system_level_velocity_max": 13.178411248606785, "cost2_min": -32.4}, "done": false, "time_total_s": 2485.2024388313293, "episode_reward_min": 766.5523865711281, "num_metric_batches_dropped": 0, "episode_len_mean": 750.0, "pid": 63737, "time_since_restore": 2485.2024388313293, "time_this_iter_s": 85.42074370384216, "episodes_this_iter": 36, "episode_reward_mean": 1167.9017470217777, "info": {"grad_time_ms": 34020.402, "update_time_ms": 11.044, "num_steps_trained": 3915000, "num_steps_sampled": 3915000, "load_time_ms": 17.875, "default": {"cur_kl_coeff": 0.10000001639127731, "vf_explained_var": 0.4775141477584839, "total_loss": 13.450408935546875, "policy_loss": -0.0037897713482379913, "entropy": 1.2951009273529053, "kl": 0.011256027966737747, "cur_lr": 0.0005000000237487257, "vf_loss": 13.45307445526123}, "sample_time_ms": 51177.565}, "timesteps_total": 3915000, "iterations_since_restore": 29, "episode_reward_max": 1391.736559827755, "timesteps_this_iter": 135000, "training_iteration": 29, "node_ip": "10.138.0.2", "date": "2019-05-16_12-38-54", "policy_reward_mean": {}}
{"timestamp": 1558010420, "hostname": "flow-main", "timesteps_since_restore": 4050000, "episodes_total": 1210, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "synchronize_filters": true, "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:1.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "straggler_mitigation": false, "lr_schedule": null, "monitor": false, "input_evaluation": null, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9ce7b8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9ce320>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9ce208>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "clip_param": 0.3, "simple_optimizer": false, "kl_target": 0.01, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "model": {"custom_preprocessor": null, "squash_to_range": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "grayscale": false, "framestack": true, "lstm_cell_size": 256}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "6a5e6d87546141128087acb0b350a70a", "custom_metrics": {"system_level_velocity_min": 6.347772580611699, "cost1_min": 155.90420516759494, "system_level_velocity_mean": 10.831712147940397, "cost1_mean": 239.01344571541648, "cost2_mean": -5.406798811834932, "cost1_max": 289.5433221201253, "cost2_max": 0.0, "system_level_velocity_max": 13.179937774737025, "cost2_min": -18.2}, "done": false, "time_total_s": 2571.01354265213, "episode_reward_min": 766.5523865711281, "num_metric_batches_dropped": 0, "episode_len_mean": 750.0, "pid": 63737, "time_since_restore": 2571.01354265213, "time_this_iter_s": 85.81110382080078, "episodes_this_iter": 36, "episode_reward_mean": 1188.2567966968363, "info": {"grad_time_ms": 33975.411, "update_time_ms": 10.839, "num_steps_trained": 4050000, "num_steps_sampled": 4050000, "load_time_ms": 18.029, "default": {"cur_kl_coeff": 0.10000001639127731, "vf_explained_var": 0.4710625112056732, "total_loss": 12.961780548095703, "policy_loss": -0.00433836504817009, "entropy": 1.2944340705871582, "kl": 0.01201293058693409, "cur_lr": 0.0005000000237487257, "vf_loss": 12.96491813659668}, "sample_time_ms": 51179.568}, "timesteps_total": 4050000, "iterations_since_restore": 30, "episode_reward_max": 1446.5494232166259, "timesteps_this_iter": 135000, "training_iteration": 30, "node_ip": "10.138.0.2", "date": "2019-05-16_12-40-20", "policy_reward_mean": {}}
{"timestamp": 1558010505, "hostname": "flow-main", "timesteps_since_restore": 4185000, "episodes_total": 1246, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "synchronize_filters": true, "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:1.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "straggler_mitigation": false, "lr_schedule": null, "monitor": false, "input_evaluation": null, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9cc518>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9cc898>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9cc630>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "clip_param": 0.3, "simple_optimizer": false, "kl_target": 0.01, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "model": {"custom_preprocessor": null, "squash_to_range": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "grayscale": false, "framestack": true, "lstm_cell_size": 256}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "6a5e6d87546141128087acb0b350a70a", "custom_metrics": {"system_level_velocity_min": 7.576482812367949, "cost1_min": 166.1317053833059, "system_level_velocity_mean": 10.893538210441404, "cost1_mean": 240.6963215481609, "cost2_mean": -5.605147330751236, "cost1_max": 289.5433221201253, "cost2_max": 0.0, "system_level_velocity_max": 13.179937774737025, "cost2_min": -26.13609251838141}, "done": false, "time_total_s": 2656.243884086609, "episode_reward_min": 819.4366526234988, "num_metric_batches_dropped": 0, "episode_len_mean": 750.0, "pid": 63737, "time_since_restore": 2656.243884086609, "time_this_iter_s": 85.23034143447876, "episodes_this_iter": 36, "episode_reward_mean": 1196.2213283532071, "info": {"grad_time_ms": 34015.161, "update_time_ms": 10.843, "num_steps_trained": 4185000, "num_steps_sampled": 4185000, "load_time_ms": 17.994, "default": {"cur_kl_coeff": 0.10000001639127731, "vf_explained_var": 0.4910856783390045, "total_loss": 12.909305572509766, "policy_loss": -0.00513010798022151, "entropy": 1.3032164573669434, "kl": 0.013703436590731144, "cur_lr": 0.0005000000237487257, "vf_loss": 12.913064956665039}, "sample_time_ms": 51128.805}, "timesteps_total": 4185000, "iterations_since_restore": 31, "episode_reward_max": 1446.5494232166259, "timesteps_this_iter": 135000, "training_iteration": 31, "node_ip": "10.138.0.2", "date": "2019-05-16_12-41-45", "policy_reward_mean": {}}
{"timestamp": 1558010590, "hostname": "flow-main", "timesteps_since_restore": 4320000, "episodes_total": 1282, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "synchronize_filters": true, "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:1.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "straggler_mitigation": false, "lr_schedule": null, "monitor": false, "input_evaluation": null, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9dc780>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9dc9b0>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9dc2e8>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "clip_param": 0.3, "simple_optimizer": false, "kl_target": 0.01, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "model": {"custom_preprocessor": null, "squash_to_range": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "grayscale": false, "framestack": true, "lstm_cell_size": 256}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "6a5e6d87546141128087acb0b350a70a", "custom_metrics": {"system_level_velocity_min": 7.578595654522947, "cost1_min": 173.39009209064682, "system_level_velocity_mean": 11.032663017882124, "cost1_mean": 243.24144897915318, "cost2_mean": -5.493068872038024, "cost1_max": 287.0263352019476, "cost2_max": 0.0, "system_level_velocity_max": 13.243941915035741, "cost2_min": -26.13609251838141}, "done": false, "time_total_s": 2741.0092029571533, "episode_reward_min": 860.5967911626014, "num_metric_batches_dropped": 0, "episode_len_mean": 750.0, "pid": 63737, "time_since_restore": 2741.0092029571533, "time_this_iter_s": 84.76531887054443, "episodes_this_iter": 36, "episode_reward_mean": 1208.8662399289049, "info": {"grad_time_ms": 34059.864, "update_time_ms": 11.104, "num_steps_trained": 4320000, "num_steps_sampled": 4320000, "load_time_ms": 18.046, "default": {"cur_kl_coeff": 0.10000001639127731, "vf_explained_var": 0.4270360469818115, "total_loss": 13.450749397277832, "policy_loss": -0.0035683319438248873, "entropy": 1.2926597595214844, "kl": 0.011381345801055431, "cur_lr": 0.0005000000237487257, "vf_loss": 13.453180313110352}, "sample_time_ms": 51051.387}, "timesteps_total": 4320000, "iterations_since_restore": 32, "episode_reward_max": 1434.932892096976, "timesteps_this_iter": 135000, "training_iteration": 32, "node_ip": "10.138.0.2", "date": "2019-05-16_12-43-10", "policy_reward_mean": {}}
{"timestamp": 1558010676, "hostname": "flow-main", "timesteps_since_restore": 4455000, "episodes_total": 1318, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "synchronize_filters": true, "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:1.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "straggler_mitigation": false, "lr_schedule": null, "monitor": false, "input_evaluation": null, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9ce320>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9cec88>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9ce160>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "clip_param": 0.3, "simple_optimizer": false, "kl_target": 0.01, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "model": {"custom_preprocessor": null, "squash_to_range": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "grayscale": false, "framestack": true, "lstm_cell_size": 256}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "6a5e6d87546141128087acb0b350a70a", "custom_metrics": {"system_level_velocity_min": 5.9878377499511934, "cost1_min": 89.58834490576376, "system_level_velocity_mean": 11.022271848775851, "cost1_mean": 243.32694483994294, "cost2_mean": -5.9946929442862915, "cost1_max": 287.0263352019476, "cost2_max": 0.0, "system_level_velocity_max": 13.301603134123583, "cost2_min": -47.188476635494354}, "done": false, "time_total_s": 2826.5323145389557, "episode_reward_min": 426.0716092401724, "num_metric_batches_dropped": 0, "episode_len_mean": 747.0, "pid": 63737, "time_since_restore": 2826.5323145389557, "time_this_iter_s": 85.52311158180237, "episodes_this_iter": 36, "episode_reward_mean": 1208.9475166733184, "info": {"grad_time_ms": 34080.873, "update_time_ms": 11.251, "num_steps_trained": 4455000, "num_steps_sampled": 4455000, "load_time_ms": 18.135, "default": {"cur_kl_coeff": 0.10000001639127731, "vf_explained_var": 0.45595118403434753, "total_loss": 13.08161449432373, "policy_loss": -0.0054364693351089954, "entropy": 1.3038899898529053, "kl": 0.012457821518182755, "cur_lr": 0.0005000000237487257, "vf_loss": 13.085803985595703}, "sample_time_ms": 50950.246}, "timesteps_total": 4455000, "iterations_since_restore": 33, "episode_reward_max": 1434.932892096976, "timesteps_this_iter": 135000, "training_iteration": 33, "node_ip": "10.138.0.2", "date": "2019-05-16_12-44-36", "policy_reward_mean": {}}
{"timestamp": 1558010762, "hostname": "flow-main", "timesteps_since_restore": 4590000, "episodes_total": 1354, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "synchronize_filters": true, "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:1.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "straggler_mitigation": false, "lr_schedule": null, "monitor": false, "input_evaluation": null, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9cc518>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9cc630>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9ccfd0>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "clip_param": 0.3, "simple_optimizer": false, "kl_target": 0.01, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "model": {"custom_preprocessor": null, "squash_to_range": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "grayscale": false, "framestack": true, "lstm_cell_size": 256}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "6a5e6d87546141128087acb0b350a70a", "custom_metrics": {"system_level_velocity_min": 5.9878377499511934, "cost1_min": 89.58834490576376, "system_level_velocity_mean": 10.950981343882853, "cost1_mean": 242.2094147536122, "cost2_mean": -5.918387246685495, "cost1_max": 287.0263352019476, "cost2_max": 0.0, "system_level_velocity_max": 13.321026564757162, "cost2_min": -47.188476635494354}, "done": false, "time_total_s": 2912.558563232422, "episode_reward_min": 426.0716092401724, "num_metric_batches_dropped": 0, "episode_len_mean": 747.0, "pid": 63737, "time_since_restore": 2912.558563232422, "time_this_iter_s": 86.02624869346619, "episodes_this_iter": 36, "episode_reward_mean": 1203.5683810599037, "info": {"grad_time_ms": 34120.777, "update_time_ms": 11.192, "num_steps_trained": 4590000, "num_steps_sampled": 4590000, "load_time_ms": 18.265, "default": {"cur_kl_coeff": 0.10000001639127731, "vf_explained_var": 0.43307551741600037, "total_loss": 13.340433120727539, "policy_loss": -0.004676748067140579, "entropy": 1.2957485914230347, "kl": 0.013079018332064152, "cur_lr": 0.0005000000237487257, "vf_loss": 13.343802452087402}, "sample_time_ms": 51012.214}, "timesteps_total": 4590000, "iterations_since_restore": 34, "episode_reward_max": 1434.932892096976, "timesteps_this_iter": 135000, "training_iteration": 34, "node_ip": "10.138.0.2", "date": "2019-05-16_12-46-02", "policy_reward_mean": {}}
{"timestamp": 1558010847, "hostname": "flow-main", "timesteps_since_restore": 4725000, "episodes_total": 1390, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "synchronize_filters": true, "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:1.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "straggler_mitigation": false, "lr_schedule": null, "monitor": false, "input_evaluation": null, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9dc438>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9dc208>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9dc278>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "clip_param": 0.3, "simple_optimizer": false, "kl_target": 0.01, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "model": {"custom_preprocessor": null, "squash_to_range": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "grayscale": false, "framestack": true, "lstm_cell_size": 256}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "6a5e6d87546141128087acb0b350a70a", "custom_metrics": {"system_level_velocity_min": 5.9878377499511934, "cost1_min": 89.58834490576376, "system_level_velocity_mean": 11.015645668725044, "cost1_mean": 244.48348314917214, "cost2_mean": -6.022614748841172, "cost1_max": 282.19638466057995, "cost2_max": 0.0, "system_level_velocity_max": 13.321026564757162, "cost2_min": -47.188476635494354}, "done": false, "time_total_s": 2997.5022644996643, "episode_reward_min": 426.0716092401724, "num_metric_batches_dropped": 0, "episode_len_mean": 747.0, "pid": 63737, "time_since_restore": 2997.5022644996643, "time_this_iter_s": 84.94370126724243, "episodes_this_iter": 36, "episode_reward_mean": 1214.773491153003, "info": {"grad_time_ms": 34188.432, "update_time_ms": 11.205, "num_steps_trained": 4725000, "num_steps_sampled": 4725000, "load_time_ms": 17.984, "default": {"cur_kl_coeff": 0.10000001639127731, "vf_explained_var": 0.3894984722137451, "total_loss": 12.88502025604248, "policy_loss": -0.004625379573553801, "entropy": 1.2855010032653809, "kl": 0.013235574588179588, "cur_lr": 0.0005000000237487257, "vf_loss": 12.888323783874512}, "sample_time_ms": 50997.25}, "timesteps_total": 4725000, "iterations_since_restore": 35, "episode_reward_max": 1399.8819233028896, "timesteps_this_iter": 135000, "training_iteration": 35, "node_ip": "10.138.0.2", "date": "2019-05-16_12-47-27", "policy_reward_mean": {}}
{"timestamp": 1558010933, "hostname": "flow-main", "timesteps_since_restore": 4860000, "episodes_total": 1426, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "synchronize_filters": true, "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:1.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "straggler_mitigation": false, "lr_schedule": null, "monitor": false, "input_evaluation": null, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9ce320>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9ce3c8>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9ce0f0>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "clip_param": 0.3, "simple_optimizer": false, "kl_target": 0.01, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "model": {"custom_preprocessor": null, "squash_to_range": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "grayscale": false, "framestack": true, "lstm_cell_size": 256}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "6a5e6d87546141128087acb0b350a70a", "custom_metrics": {"system_level_velocity_min": 8.136854409150233, "cost1_min": 194.3919271545833, "system_level_velocity_mean": 11.179875057782262, "cost1_mean": 248.4714660209004, "cost2_mean": -5.430865171418686, "cost1_max": 285.9100681922701, "cost2_max": 0.0, "system_level_velocity_max": 13.321026564757162, "cost2_min": -25.837091294031794}, "done": false, "time_total_s": 3083.1867105960846, "episode_reward_min": 951.1551579859683, "num_metric_batches_dropped": 0, "episode_len_mean": 750.0, "pid": 63737, "time_since_restore": 3083.1867105960846, "time_this_iter_s": 85.68444609642029, "episodes_this_iter": 36, "episode_reward_mean": 1235.063083816583, "info": {"grad_time_ms": 34120.205, "update_time_ms": 11.337, "num_steps_trained": 4860000, "num_steps_sampled": 4860000, "load_time_ms": 18.444, "default": {"cur_kl_coeff": 0.10000001639127731, "vf_explained_var": 0.43786701560020447, "total_loss": 13.549365043640137, "policy_loss": -0.004145059268921614, "entropy": 1.294195532798767, "kl": 0.012945912778377533, "cur_lr": 0.0005000000237487257, "vf_loss": 13.552215576171875}, "sample_time_ms": 50932.934}, "timesteps_total": 4860000, "iterations_since_restore": 36, "episode_reward_max": 1424.767917083313, "timesteps_this_iter": 135000, "training_iteration": 36, "node_ip": "10.138.0.2", "date": "2019-05-16_12-48-53", "policy_reward_mean": {}}
{"timestamp": 1558011019, "hostname": "flow-main", "timesteps_since_restore": 4995000, "episodes_total": 1462, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "synchronize_filters": true, "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:1.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "straggler_mitigation": false, "lr_schedule": null, "monitor": false, "input_evaluation": null, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9ccba8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9cca20>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9cc630>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "clip_param": 0.3, "simple_optimizer": false, "kl_target": 0.01, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "model": {"custom_preprocessor": null, "squash_to_range": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "grayscale": false, "framestack": true, "lstm_cell_size": 256}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "6a5e6d87546141128087acb0b350a70a", "custom_metrics": {"system_level_velocity_min": 8.292341038434238, "cost1_min": 195.8670407207735, "system_level_velocity_mean": 11.230023410513834, "cost1_mean": 249.4203406161452, "cost2_mean": -5.123520914361238, "cost1_max": 285.9100681922701, "cost2_max": 0.0, "system_level_velocity_max": 13.29737644736645, "cost2_min": -25.837091294031794}, "done": false, "time_total_s": 3169.350685119629, "episode_reward_min": 962.2676076545968, "num_metric_batches_dropped": 0, "episode_len_mean": 750.0, "pid": 63737, "time_since_restore": 3169.350685119629, "time_this_iter_s": 86.16397452354431, "episodes_this_iter": 36, "episode_reward_mean": 1240.2645968960592, "info": {"grad_time_ms": 34270.631, "update_time_ms": 11.239, "num_steps_trained": 4995000, "num_steps_sampled": 4995000, "load_time_ms": 18.497, "default": {"cur_kl_coeff": 0.10000001639127731, "vf_explained_var": 0.40250083804130554, "total_loss": 13.180599212646484, "policy_loss": -0.004492693580687046, "entropy": 1.2824848890304565, "kl": 0.013022312894463539, "cur_lr": 0.0005000000237487257, "vf_loss": 13.183789253234863}, "sample_time_ms": 50879.887}, "timesteps_total": 4995000, "iterations_since_restore": 37, "episode_reward_max": 1425.4723705031424, "timesteps_this_iter": 135000, "training_iteration": 37, "node_ip": "10.138.0.2", "date": "2019-05-16_12-50-19", "policy_reward_mean": {}}
{"timestamp": 1558011104, "hostname": "flow-main", "timesteps_since_restore": 5130000, "episodes_total": 1498, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "synchronize_filters": true, "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:1.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "straggler_mitigation": false, "lr_schedule": null, "monitor": false, "input_evaluation": null, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9dc9b0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9dca90>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9dc470>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "clip_param": 0.3, "simple_optimizer": false, "kl_target": 0.01, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "model": {"custom_preprocessor": null, "squash_to_range": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "grayscale": false, "framestack": true, "lstm_cell_size": 256}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "6a5e6d87546141128087acb0b350a70a", "custom_metrics": {"system_level_velocity_min": 8.035855456828, "cost1_min": 191.36227313249913, "system_level_velocity_mean": 11.13740807564727, "cost1_mean": 247.2879859997515, "cost2_mean": -6.212579150087425, "cost1_max": 285.9100681922701, "cost2_max": 0.0, "system_level_velocity_max": 13.163453762270516, "cost2_min": -30.95860157656217}, "done": false, "time_total_s": 3254.036827325821, "episode_reward_min": 941.0267623450885, "num_metric_batches_dropped": 0, "episode_len_mean": 750.0, "pid": 63737, "time_since_restore": 3254.036827325821, "time_this_iter_s": 84.68614220619202, "episodes_this_iter": 36, "episode_reward_mean": 1228.223685440894, "info": {"grad_time_ms": 34281.278, "update_time_ms": 11.129, "num_steps_trained": 5130000, "num_steps_sampled": 5130000, "load_time_ms": 18.39, "default": {"cur_kl_coeff": 0.10000001639127731, "vf_explained_var": 0.4307209253311157, "total_loss": 13.439373016357422, "policy_loss": -0.005317051894962788, "entropy": 1.2944164276123047, "kl": 0.014471003785729408, "cur_lr": 0.0005000000237487257, "vf_loss": 13.443243026733398}, "sample_time_ms": 50877.988}, "timesteps_total": 5130000, "iterations_since_restore": 38, "episode_reward_max": 1425.4723705031424, "timesteps_this_iter": 135000, "training_iteration": 38, "node_ip": "10.138.0.2", "date": "2019-05-16_12-51-44", "policy_reward_mean": {}}
{"timestamp": 1558011188, "hostname": "flow-main", "timesteps_since_restore": 5265000, "episodes_total": 1534, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "synchronize_filters": true, "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:1.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "straggler_mitigation": false, "lr_schedule": null, "monitor": false, "input_evaluation": null, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9ccd68>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9ccc18>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9cc668>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "clip_param": 0.3, "simple_optimizer": false, "kl_target": 0.01, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "model": {"custom_preprocessor": null, "squash_to_range": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "grayscale": false, "framestack": true, "lstm_cell_size": 256}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "6a5e6d87546141128087acb0b350a70a", "custom_metrics": {"system_level_velocity_min": 3.891052985920736, "cost1_min": 93.20339097872, "system_level_velocity_mean": 11.08051440365225, "cost1_mean": 246.45594132947005, "cost2_mean": -6.668735213589166, "cost1_max": 285.2144741006291, "cost2_max": 0.0, "system_level_velocity_max": 13.294151276541248, "cost2_min": -30.95860157656217}, "done": false, "time_total_s": 3338.438311100006, "episode_reward_min": 465.4498520315724, "num_metric_batches_dropped": 0, "episode_len_mean": 749.79, "pid": 63737, "time_since_restore": 3338.438311100006, "time_this_iter_s": 84.40148377418518, "episodes_this_iter": 36, "episode_reward_mean": 1223.5444494172864, "info": {"grad_time_ms": 34287.621, "update_time_ms": 11.161, "num_steps_trained": 5265000, "num_steps_sampled": 5265000, "load_time_ms": 18.144, "default": {"cur_kl_coeff": 0.10000001639127731, "vf_explained_var": 0.4392145574092865, "total_loss": 13.614544868469238, "policy_loss": -0.005314217880368233, "entropy": 1.2985166311264038, "kl": 0.014566682279109955, "cur_lr": 0.0005000000237487257, "vf_loss": 13.618403434753418}, "sample_time_ms": 50769.397}, "timesteps_total": 5265000, "iterations_since_restore": 39, "episode_reward_max": 1425.4723705031424, "timesteps_this_iter": 135000, "training_iteration": 39, "node_ip": "10.138.0.2", "date": "2019-05-16_12-53-08", "policy_reward_mean": {}}
{"timestamp": 1558011273, "hostname": "flow-main", "timesteps_since_restore": 5400000, "episodes_total": 1570, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "synchronize_filters": true, "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:1.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "straggler_mitigation": false, "lr_schedule": null, "monitor": false, "input_evaluation": null, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9cca58>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9ccb00>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9cc6a0>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "clip_param": 0.3, "simple_optimizer": false, "kl_target": 0.01, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "model": {"custom_preprocessor": null, "squash_to_range": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "grayscale": false, "framestack": true, "lstm_cell_size": 256}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "6a5e6d87546141128087acb0b350a70a", "custom_metrics": {"system_level_velocity_min": 3.891052985920736, "cost1_min": 93.20339097872, "system_level_velocity_mean": 10.954397656439987, "cost1_mean": 244.63298602851185, "cost2_mean": -6.401253950639013, "cost1_max": 279.46512750768443, "cost2_max": 0.0, "system_level_velocity_max": 13.294151276541248, "cost2_min": -24.87436093795191}, "done": false, "time_total_s": 3423.565622806549, "episode_reward_min": 465.4498520315724, "num_metric_batches_dropped": 0, "episode_len_mean": 749.79, "pid": 63737, "time_since_restore": 3423.565622806549, "time_this_iter_s": 85.12731170654297, "episodes_this_iter": 36, "episode_reward_mean": 1214.7138301719708, "info": {"grad_time_ms": 34288.144, "update_time_ms": 11.374, "num_steps_trained": 5400000, "num_steps_sampled": 5400000, "load_time_ms": 17.892, "default": {"cur_kl_coeff": 0.10000001639127731, "vf_explained_var": 0.4605795741081238, "total_loss": 13.224035263061523, "policy_loss": -0.005787269212305546, "entropy": 1.2900065183639526, "kl": 0.015625299885869026, "cur_lr": 0.0005000000237487257, "vf_loss": 13.228260040283203}, "sample_time_ms": 50705.957}, "timesteps_total": 5400000, "iterations_since_restore": 40, "episode_reward_max": 1396.7511218883756, "timesteps_this_iter": 135000, "training_iteration": 40, "node_ip": "10.138.0.2", "date": "2019-05-16_12-54-33", "policy_reward_mean": {}}
{"timestamp": 1558011360, "hostname": "flow-main", "timesteps_since_restore": 5535000, "episodes_total": 1606, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "synchronize_filters": true, "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:1.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "straggler_mitigation": false, "lr_schedule": null, "monitor": false, "input_evaluation": null, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9dc278>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9dc908>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9dcb38>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "clip_param": 0.3, "simple_optimizer": false, "kl_target": 0.01, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "model": {"custom_preprocessor": null, "squash_to_range": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "grayscale": false, "framestack": true, "lstm_cell_size": 256}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "6a5e6d87546141128087acb0b350a70a", "custom_metrics": {"system_level_velocity_min": 3.891052985920736, "cost1_min": 93.20339097872, "system_level_velocity_mean": 10.700107202343382, "cost1_mean": 241.36292898210974, "cost2_mean": -7.2974693475457855, "cost1_max": 286.42007041509146, "cost2_max": 0.0, "system_level_velocity_max": 13.330253815405879, "cost2_min": -26.429156922309716}, "done": false, "time_total_s": 3509.7178440093994, "episode_reward_min": 465.4498520315724, "num_metric_batches_dropped": 0, "episode_len_mean": 749.79, "pid": 63737, "time_since_restore": 3509.7178440093994, "time_this_iter_s": 86.15222120285034, "episodes_this_iter": 36, "episode_reward_mean": 1197.1949622523412, "info": {"grad_time_ms": 34298.62, "update_time_ms": 11.302, "num_steps_trained": 5535000, "num_steps_sampled": 5535000, "load_time_ms": 17.901, "default": {"cur_kl_coeff": 0.10000001639127731, "vf_explained_var": 0.42299193143844604, "total_loss": 14.040817260742188, "policy_loss": -0.00582314794883132, "entropy": 1.2778728008270264, "kl": 0.014650433324277401, "cur_lr": 0.0005000000237487257, "vf_loss": 14.045174598693848}, "sample_time_ms": 50784.742}, "timesteps_total": 5535000, "iterations_since_restore": 41, "episode_reward_max": 1422.564872142422, "timesteps_this_iter": 135000, "training_iteration": 41, "node_ip": "10.138.0.2", "date": "2019-05-16_12-56-00", "policy_reward_mean": {}}
{"timestamp": 1558011444, "hostname": "flow-main", "timesteps_since_restore": 5670000, "episodes_total": 1642, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "synchronize_filters": true, "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:1.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "straggler_mitigation": false, "lr_schedule": null, "monitor": false, "input_evaluation": null, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9ce908>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9ce208>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9ce320>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "clip_param": 0.3, "simple_optimizer": false, "kl_target": 0.01, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "model": {"custom_preprocessor": null, "squash_to_range": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "grayscale": false, "framestack": true, "lstm_cell_size": 256}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "6a5e6d87546141128087acb0b350a70a", "custom_metrics": {"system_level_velocity_min": 6.752580880328513, "cost1_min": 156.9616302234743, "system_level_velocity_mean": 10.792734558357477, "cost1_mean": 243.7299865146063, "cost2_mean": -6.970444450756581, "cost1_max": 286.42007041509146, "cost2_max": 0.0, "system_level_velocity_max": 13.330253815405879, "cost2_min": -26.429156922309716}, "done": false, "time_total_s": 3594.5399885177612, "episode_reward_min": 776.716828118866, "num_metric_batches_dropped": 0, "episode_len_mean": 750.0, "pid": 63737, "time_since_restore": 3594.5399885177612, "time_this_iter_s": 84.82214450836182, "episodes_this_iter": 36, "episode_reward_mean": 1209.3392414474638, "info": {"grad_time_ms": 34295.909, "update_time_ms": 11.168, "num_steps_trained": 5670000, "num_steps_sampled": 5670000, "load_time_ms": 17.764, "default": {"cur_kl_coeff": 0.10000001639127731, "vf_explained_var": 0.3740731477737427, "total_loss": 13.809203147888184, "policy_loss": -0.005045780446380377, "entropy": 1.2633851766586304, "kl": 0.014558637514710426, "cur_lr": 0.0005000000237487257, "vf_loss": 13.812792778015137}, "sample_time_ms": 50795.815}, "timesteps_total": 5670000, "iterations_since_restore": 42, "episode_reward_max": 1422.564872142422, "timesteps_this_iter": 135000, "training_iteration": 42, "node_ip": "10.138.0.2", "date": "2019-05-16_12-57-24", "policy_reward_mean": {}}
{"timestamp": 1558011529, "hostname": "flow-main", "timesteps_since_restore": 5805000, "episodes_total": 1678, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "synchronize_filters": true, "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:1.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "straggler_mitigation": false, "lr_schedule": null, "monitor": false, "input_evaluation": null, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9cce80>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9ccfd0>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9cc940>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "clip_param": 0.3, "simple_optimizer": false, "kl_target": 0.01, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "model": {"custom_preprocessor": null, "squash_to_range": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "grayscale": false, "framestack": true, "lstm_cell_size": 256}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "6a5e6d87546141128087acb0b350a70a", "custom_metrics": {"system_level_velocity_min": 7.804389357215718, "cost1_min": 180.9379698834967, "system_level_velocity_mean": 11.069537632690414, "cost1_mean": 248.5896751766534, "cost2_mean": -6.163735965126761, "cost1_max": 286.42007041509146, "cost2_max": 0.0, "system_level_velocity_max": 13.33971584165768, "cost2_min": -26.429156922309716}, "done": false, "time_total_s": 3679.431687116623, "episode_reward_min": 904.6898494174889, "num_metric_batches_dropped": 0, "episode_len_mean": 750.0, "pid": 63737, "time_since_restore": 3679.431687116623, "time_this_iter_s": 84.8916985988617, "episodes_this_iter": 36, "episode_reward_mean": 1234.5883689086563, "info": {"grad_time_ms": 34240.333, "update_time_ms": 11.051, "num_steps_trained": 5805000, "num_steps_sampled": 5805000, "load_time_ms": 17.639, "default": {"cur_kl_coeff": 0.10000001639127731, "vf_explained_var": 0.39346492290496826, "total_loss": 13.585149765014648, "policy_loss": -0.004981735721230507, "entropy": 1.2755173444747925, "kl": 0.014055261388421059, "cur_lr": 0.0005000000237487257, "vf_loss": 13.588726997375488}, "sample_time_ms": 50787.59}, "timesteps_total": 5805000, "iterations_since_restore": 43, "episode_reward_max": 1422.564872142422, "timesteps_this_iter": 135000, "training_iteration": 43, "node_ip": "10.138.0.2", "date": "2019-05-16_12-58-49", "policy_reward_mean": {}}
{"timestamp": 1558011616, "hostname": "flow-main", "timesteps_since_restore": 5940000, "episodes_total": 1715, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "synchronize_filters": true, "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:1.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "straggler_mitigation": false, "lr_schedule": null, "monitor": false, "input_evaluation": null, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9dc358>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9dca20>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9dc630>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "clip_param": 0.3, "simple_optimizer": false, "kl_target": 0.01, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "model": {"custom_preprocessor": null, "squash_to_range": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "grayscale": false, "framestack": true, "lstm_cell_size": 256}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "6a5e6d87546141128087acb0b350a70a", "custom_metrics": {"system_level_velocity_min": 4.693799009097367, "cost1_min": 51.28456518953429, "system_level_velocity_mean": 10.97311432023083, "cost1_mean": 245.5837476800476, "cost2_mean": -6.874440512148145, "cost1_max": 278.2022096342477, "cost2_max": 0.0, "system_level_velocity_max": 13.33971584165768, "cost2_min": -45.599999999999994}, "done": false, "time_total_s": 3765.6494557857513, "episode_reward_min": 240.1760609289943, "num_metric_batches_dropped": 0, "episode_len_mean": 742.32, "pid": 63737, "time_since_restore": 3765.6494557857513, "time_this_iter_s": 86.21776866912842, "episodes_this_iter": 37, "episode_reward_mean": 1219.2876180080066, "info": {"grad_time_ms": 34327.45, "update_time_ms": 11.026, "num_steps_trained": 5940000, "num_steps_sampled": 5940000, "load_time_ms": 17.49, "default": {"cur_kl_coeff": 0.10000001639127731, "vf_explained_var": 0.4275609254837036, "total_loss": 14.024065971374512, "policy_loss": -0.006238055415451527, "entropy": 1.2838999032974243, "kl": 0.015203953720629215, "cur_lr": 0.0005000000237487257, "vf_loss": 14.028782844543457}, "sample_time_ms": 50725.125}, "timesteps_total": 5940000, "iterations_since_restore": 44, "episode_reward_max": 1387.673374144099, "timesteps_this_iter": 135000, "training_iteration": 44, "node_ip": "10.138.0.2", "date": "2019-05-16_13-00-16", "policy_reward_mean": {}}
{"timestamp": 1558011701, "hostname": "flow-main", "timesteps_since_restore": 6075000, "episodes_total": 1751, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "synchronize_filters": true, "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:1.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "straggler_mitigation": false, "lr_schedule": null, "monitor": false, "input_evaluation": null, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9cc4e0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9cc668>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9cca20>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "clip_param": 0.3, "simple_optimizer": false, "kl_target": 0.01, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "model": {"custom_preprocessor": null, "squash_to_range": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "grayscale": false, "framestack": true, "lstm_cell_size": 256}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "6a5e6d87546141128087acb0b350a70a", "custom_metrics": {"system_level_velocity_min": 4.693799009097367, "cost1_min": 51.28456518953429, "system_level_velocity_mean": 10.642877091469007, "cost1_mean": 241.12192452533435, "cost2_mean": -9.090386986251882, "cost1_max": 278.10619742775185, "cost2_max": 0.0, "system_level_velocity_max": 13.33971584165768, "cost2_min": -45.599999999999994}, "done": false, "time_total_s": 3850.559163570404, "episode_reward_min": 240.1760609289943, "num_metric_batches_dropped": 0, "episode_len_mean": 742.32, "pid": 63737, "time_since_restore": 3850.559163570404, "time_this_iter_s": 84.90970778465271, "episodes_this_iter": 36, "episode_reward_mean": 1194.3477646623492, "info": {"grad_time_ms": 34305.001, "update_time_ms": 11.023, "num_steps_trained": 6075000, "num_steps_sampled": 6075000, "load_time_ms": 17.793, "default": {"cur_kl_coeff": 0.10000001639127731, "vf_explained_var": 0.3918883502483368, "total_loss": 13.240071296691895, "policy_loss": -0.005436860956251621, "entropy": 1.2876973152160645, "kl": 0.015462961979210377, "cur_lr": 0.0005000000237487257, "vf_loss": 13.243961334228516}, "sample_time_ms": 50742.817}, "timesteps_total": 6075000, "iterations_since_restore": 45, "episode_reward_max": 1387.673374144099, "timesteps_this_iter": 135000, "training_iteration": 45, "node_ip": "10.138.0.2", "date": "2019-05-16_13-01-41", "policy_reward_mean": {}}
{"timestamp": 1558011786, "hostname": "flow-main", "timesteps_since_restore": 6210000, "episodes_total": 1787, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "synchronize_filters": true, "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:1.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "straggler_mitigation": false, "lr_schedule": null, "monitor": false, "input_evaluation": null, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9ccb38>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9cc630>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9ccac8>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "clip_param": 0.3, "simple_optimizer": false, "kl_target": 0.01, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "model": {"custom_preprocessor": null, "squash_to_range": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "grayscale": false, "framestack": true, "lstm_cell_size": 256}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "6a5e6d87546141128087acb0b350a70a", "custom_metrics": {"system_level_velocity_min": 8.008801675552485, "cost1_min": 107.78299391980534, "system_level_velocity_mean": 10.669172905521087, "cost1_mean": 242.25005234078927, "cost2_mean": -9.105559188771396, "cost1_max": 277.3129862499003, "cost2_max": 0.0, "system_level_velocity_max": 13.26608246213143, "cost2_min": -27.832581542233672}, "done": false, "time_total_s": 3935.6213054656982, "episode_reward_min": 515.8943652586682, "num_metric_batches_dropped": 0, "episode_len_mean": 746.6, "pid": 63737, "time_since_restore": 3935.6213054656982, "time_this_iter_s": 85.06214189529419, "episodes_this_iter": 36, "episode_reward_mean": 1199.4872517072895, "info": {"grad_time_ms": 34201.016, "update_time_ms": 10.83, "num_steps_trained": 6210000, "num_steps_sampled": 6210000, "load_time_ms": 17.532, "default": {"cur_kl_coeff": 0.10000001639127731, "vf_explained_var": 0.3768891394138336, "total_loss": 13.057567596435547, "policy_loss": -0.0048589203506708145, "entropy": 1.2742007970809937, "kl": 0.014686240814626217, "cur_lr": 0.0005000000237487257, "vf_loss": 13.060956954956055}, "sample_time_ms": 50787.0}, "timesteps_total": 6210000, "iterations_since_restore": 46, "episode_reward_max": 1376.4002150428628, "timesteps_this_iter": 135000, "training_iteration": 46, "node_ip": "10.138.0.2", "date": "2019-05-16_13-03-06", "policy_reward_mean": {}}
{"timestamp": 1558011871, "hostname": "flow-main", "timesteps_since_restore": 6345000, "episodes_total": 1823, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "synchronize_filters": true, "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:1.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "straggler_mitigation": false, "lr_schedule": null, "monitor": false, "input_evaluation": null, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9dc160>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9dc898>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9dc208>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "clip_param": 0.3, "simple_optimizer": false, "kl_target": 0.01, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "model": {"custom_preprocessor": null, "squash_to_range": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "grayscale": false, "framestack": true, "lstm_cell_size": 256}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "6a5e6d87546141128087acb0b350a70a", "custom_metrics": {"system_level_velocity_min": 8.379335968767293, "cost1_min": 203.83393398464494, "system_level_velocity_mean": 10.696071728375598, "cost1_mean": 243.58570624707386, "cost2_mean": -9.665208296345613, "cost1_max": 278.12740982044795, "cost2_max": 0.0, "system_level_velocity_max": 13.315412053419731, "cost2_min": -27.832581542233672}, "done": false, "time_total_s": 4020.878611087799, "episode_reward_min": 993.6231333542434, "num_metric_batches_dropped": 0, "episode_len_mean": 750.0, "pid": 63737, "time_since_restore": 4020.878611087799, "time_this_iter_s": 85.25730562210083, "episodes_this_iter": 36, "episode_reward_mean": 1205.3108800803398, "info": {"grad_time_ms": 34042.272, "update_time_ms": 10.97, "num_steps_trained": 6345000, "num_steps_sampled": 6345000, "load_time_ms": 17.585, "default": {"cur_kl_coeff": 0.10000001639127731, "vf_explained_var": 0.39334365725517273, "total_loss": 12.735148429870605, "policy_loss": -0.005658886395394802, "entropy": 1.2774662971496582, "kl": 0.015213186852633953, "cur_lr": 0.0005000000237487257, "vf_loss": 12.739286422729492}, "sample_time_ms": 50849.202}, "timesteps_total": 6345000, "iterations_since_restore": 47, "episode_reward_max": 1382.2370491022396, "timesteps_this_iter": 135000, "training_iteration": 47, "node_ip": "10.138.0.2", "date": "2019-05-16_13-04-31", "policy_reward_mean": {}}
{"timestamp": 1558011958, "hostname": "flow-main", "timesteps_since_restore": 6480000, "episodes_total": 1859, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "synchronize_filters": true, "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:1.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "straggler_mitigation": false, "lr_schedule": null, "monitor": false, "input_evaluation": null, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9dceb8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9cec88>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9ce668>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "clip_param": 0.3, "simple_optimizer": false, "kl_target": 0.01, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "model": {"custom_preprocessor": null, "squash_to_range": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "grayscale": false, "framestack": true, "lstm_cell_size": 256}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "6a5e6d87546141128087acb0b350a70a", "custom_metrics": {"system_level_velocity_min": 8.39249681023022, "cost1_min": 203.83393398464494, "system_level_velocity_mean": 11.036499336608818, "cost1_mean": 248.17571910314305, "cost2_mean": -7.863313565247342, "cost1_max": 278.12740982044795, "cost2_max": 0.0, "system_level_velocity_max": 13.315412053419731, "cost2_min": -26.64533019994262}, "done": false, "time_total_s": 4107.838972330093, "episode_reward_min": 993.6231333542434, "num_metric_batches_dropped": 0, "episode_len_mean": 750.0, "pid": 63737, "time_since_restore": 4107.838972330093, "time_this_iter_s": 86.96036124229431, "episodes_this_iter": 36, "episode_reward_mean": 1230.311556463735, "info": {"grad_time_ms": 34202.599, "update_time_ms": 11.176, "num_steps_trained": 6480000, "num_steps_sampled": 6480000, "load_time_ms": 17.805, "default": {"cur_kl_coeff": 0.10000001639127731, "vf_explained_var": 0.39232227206230164, "total_loss": 13.224159240722656, "policy_loss": -0.005472331307828426, "entropy": 1.2798062562942505, "kl": 0.015583577565848827, "cur_lr": 0.0005000000237487257, "vf_loss": 13.228074073791504}, "sample_time_ms": 50910.492}, "timesteps_total": 6480000, "iterations_since_restore": 48, "episode_reward_max": 1382.2370491022396, "timesteps_this_iter": 135000, "training_iteration": 48, "node_ip": "10.138.0.2", "date": "2019-05-16_13-05-58", "policy_reward_mean": {}}
{"timestamp": 1558012044, "hostname": "flow-main", "timesteps_since_restore": 6615000, "episodes_total": 1895, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "synchronize_filters": true, "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:1.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "straggler_mitigation": false, "lr_schedule": null, "monitor": false, "input_evaluation": null, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9cc7f0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9cc5c0>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9cc6a0>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "clip_param": 0.3, "simple_optimizer": false, "kl_target": 0.01, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "model": {"custom_preprocessor": null, "squash_to_range": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "grayscale": false, "framestack": true, "lstm_cell_size": 256}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "6a5e6d87546141128087acb0b350a70a", "custom_metrics": {"system_level_velocity_min": 8.399078069745032, "cost1_min": 204.5980553897796, "system_level_velocity_mean": 11.141189357672294, "cost1_mean": 249.21130225367222, "cost2_mean": -7.43206524528944, "cost1_max": 281.50078681652803, "cost2_max": 0.0, "system_level_velocity_max": 13.304263390822955, "cost2_min": -26.64533019994262}, "done": false, "time_total_s": 4193.598322868347, "episode_reward_min": 1004.4327888295077, "num_metric_batches_dropped": 0, "episode_len_mean": 750.0, "pid": 63737, "time_since_restore": 4193.598322868347, "time_this_iter_s": 85.75935053825378, "episodes_this_iter": 36, "episode_reward_mean": 1236.0906654054777, "info": {"grad_time_ms": 34194.139, "update_time_ms": 11.146, "num_steps_trained": 6615000, "num_steps_sampled": 6615000, "load_time_ms": 17.997, "default": {"cur_kl_coeff": 0.10000001639127731, "vf_explained_var": 0.3782435953617096, "total_loss": 13.19987678527832, "policy_loss": -0.005424253176897764, "entropy": 1.2702983617782593, "kl": 0.015655336901545525, "cur_lr": 0.0005000000237487257, "vf_loss": 13.203736305236816}, "sample_time_ms": 51052.474}, "timesteps_total": 6615000, "iterations_since_restore": 49, "episode_reward_max": 1391.6039340826355, "timesteps_this_iter": 135000, "training_iteration": 49, "node_ip": "10.138.0.2", "date": "2019-05-16_13-07-24", "policy_reward_mean": {}}
{"timestamp": 1558012129, "hostname": "flow-main", "timesteps_since_restore": 6750000, "episodes_total": 1931, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "synchronize_filters": true, "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:1.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "straggler_mitigation": false, "lr_schedule": null, "monitor": false, "input_evaluation": null, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9dca20>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9dc908>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9dc630>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "clip_param": 0.3, "simple_optimizer": false, "kl_target": 0.01, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "model": {"custom_preprocessor": null, "squash_to_range": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "grayscale": false, "framestack": true, "lstm_cell_size": 256}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "6a5e6d87546141128087acb0b350a70a", "custom_metrics": {"system_level_velocity_min": 8.399078069745032, "cost1_min": 204.5980553897796, "system_level_velocity_mean": 11.328513102382454, "cost1_mean": 251.5522476892337, "cost2_mean": -6.444117499171901, "cost1_max": 281.50078681652803, "cost2_max": 0.0, "system_level_velocity_max": 13.304263390822955, "cost2_min": -26.4}, "done": false, "time_total_s": 4278.667219400406, "episode_reward_min": 1004.4327888295077, "num_metric_batches_dropped": 0, "episode_len_mean": 750.0, "pid": 63737, "time_since_restore": 4278.667219400406, "time_this_iter_s": 85.06889653205872, "episodes_this_iter": 36, "episode_reward_mean": 1249.052244732269, "info": {"grad_time_ms": 34135.826, "update_time_ms": 11.342, "num_steps_trained": 6750000, "num_steps_sampled": 6750000, "load_time_ms": 18.215, "default": {"cur_kl_coeff": 0.10000001639127731, "vf_explained_var": 0.3468693196773529, "total_loss": 13.553820610046387, "policy_loss": -0.0046836212277412415, "entropy": 1.244777798652649, "kl": 0.015598999336361885, "cur_lr": 0.0005000000237487257, "vf_loss": 13.556943893432617}, "sample_time_ms": 51102.311}, "timesteps_total": 6750000, "iterations_since_restore": 50, "episode_reward_max": 1391.6039340826355, "timesteps_this_iter": 135000, "training_iteration": 50, "node_ip": "10.138.0.2", "date": "2019-05-16_13-08-49", "policy_reward_mean": {}}
{"timestamp": 1558012215, "hostname": "flow-main", "timesteps_since_restore": 6885000, "episodes_total": 1967, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "synchronize_filters": true, "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:1.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "straggler_mitigation": false, "lr_schedule": null, "monitor": false, "input_evaluation": null, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9de978>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9de390>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9def98>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "clip_param": 0.3, "simple_optimizer": false, "kl_target": 0.01, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "model": {"custom_preprocessor": null, "squash_to_range": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "grayscale": false, "framestack": true, "lstm_cell_size": 256}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "6a5e6d87546141128087acb0b350a70a", "custom_metrics": {"system_level_velocity_min": 7.877394318082972, "cost1_min": 197.261371651008, "system_level_velocity_mean": 11.16195594292782, "cost1_mean": 249.66851577095068, "cost2_mean": -6.830283903491522, "cost1_max": 281.50078681652803, "cost2_max": 0.0, "system_level_velocity_max": 12.943347519346354, "cost2_min": -18.855337100517634}, "done": false, "time_total_s": 4364.393425226212, "episode_reward_min": 965.2578026488325, "num_metric_batches_dropped": 0, "episode_len_mean": 750.0, "pid": 63737, "time_since_restore": 4364.393425226212, "time_this_iter_s": 85.72620582580566, "episodes_this_iter": 36, "episode_reward_mean": 1239.1237735134623, "info": {"grad_time_ms": 34084.712, "update_time_ms": 11.4, "num_steps_trained": 6885000, "num_steps_sampled": 6885000, "load_time_ms": 18.155, "default": {"cur_kl_coeff": 0.10000001639127731, "vf_explained_var": 0.36293935775756836, "total_loss": 13.15285587310791, "policy_loss": -0.004107413813471794, "entropy": 1.2393717765808105, "kl": 0.01560947299003601, "cur_lr": 0.0005000000237487257, "vf_loss": 13.155403137207031}, "sample_time_ms": 51110.702}, "timesteps_total": 6885000, "iterations_since_restore": 51, "episode_reward_max": 1391.6039340826355, "timesteps_this_iter": 135000, "training_iteration": 51, "node_ip": "10.138.0.2", "date": "2019-05-16_13-10-15", "policy_reward_mean": {}}
{"timestamp": 1558012301, "hostname": "flow-main", "timesteps_since_restore": 7020000, "episodes_total": 2003, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "synchronize_filters": true, "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:1.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "straggler_mitigation": false, "lr_schedule": null, "monitor": false, "input_evaluation": null, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9cceb8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc343c8>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc34908>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "clip_param": 0.3, "simple_optimizer": false, "kl_target": 0.01, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "model": {"custom_preprocessor": null, "squash_to_range": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "grayscale": false, "framestack": true, "lstm_cell_size": 256}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "6a5e6d87546141128087acb0b350a70a", "custom_metrics": {"system_level_velocity_min": 7.877394318082972, "cost1_min": 192.01974229324878, "system_level_velocity_mean": 11.069692711249235, "cost1_mean": 248.51134852318734, "cost2_mean": -6.48114146021505, "cost1_max": 279.9612987222582, "cost2_max": 0.0, "system_level_velocity_max": 12.973104075256257, "cost2_min": -20.06848686649306}, "done": false, "time_total_s": 4450.667200088501, "episode_reward_min": 935.8895113582547, "num_metric_batches_dropped": 0, "episode_len_mean": 750.0, "pid": 63737, "time_since_restore": 4450.667200088501, "time_this_iter_s": 86.27377486228943, "episodes_this_iter": 36, "episode_reward_mean": 1233.7421019244016, "info": {"grad_time_ms": 34106.334, "update_time_ms": 11.441, "num_steps_trained": 7020000, "num_steps_sampled": 7020000, "load_time_ms": 18.143, "default": {"cur_kl_coeff": 0.10000001639127731, "vf_explained_var": 0.3263704478740692, "total_loss": 13.086997032165527, "policy_loss": -0.0038202637806534767, "entropy": 1.2295811176300049, "kl": 0.013311021029949188, "cur_lr": 0.0005000000237487257, "vf_loss": 13.08948802947998}, "sample_time_ms": 51227.781}, "timesteps_total": 7020000, "iterations_since_restore": 52, "episode_reward_max": 1389.9487623366101, "timesteps_this_iter": 135000, "training_iteration": 52, "node_ip": "10.138.0.2", "date": "2019-05-16_13-11-41", "policy_reward_mean": {}}
{"timestamp": 1558012386, "hostname": "flow-main", "timesteps_since_restore": 7155000, "episodes_total": 2039, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "synchronize_filters": true, "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:1.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "straggler_mitigation": false, "lr_schedule": null, "monitor": false, "input_evaluation": null, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9d4e48>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9cec88>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9ce710>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "clip_param": 0.3, "simple_optimizer": false, "kl_target": 0.01, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "model": {"custom_preprocessor": null, "squash_to_range": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "grayscale": false, "framestack": true, "lstm_cell_size": 256}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "6a5e6d87546141128087acb0b350a70a", "custom_metrics": {"system_level_velocity_min": 7.861743608303259, "cost1_min": 188.37245907954798, "system_level_velocity_mean": 10.995566532412456, "cost1_mean": 246.3082208534132, "cost2_mean": -6.602804138151583, "cost1_max": 283.7956848472104, "cost2_max": 0.0, "system_level_velocity_max": 13.095280831147873, "cost2_min": -20.06848686649306}, "done": false, "time_total_s": 4535.3150227069855, "episode_reward_min": 935.8895113582547, "num_metric_batches_dropped": 0, "episode_len_mean": 750.0, "pid": 63737, "time_since_restore": 4535.3150227069855, "time_this_iter_s": 84.6478226184845, "episodes_this_iter": 36, "episode_reward_mean": 1222.573320669657, "info": {"grad_time_ms": 34047.284, "update_time_ms": 11.539, "num_steps_trained": 7155000, "num_steps_sampled": 7155000, "load_time_ms": 18.282, "default": {"cur_kl_coeff": 0.10000001639127731, "vf_explained_var": 0.33763331174850464, "total_loss": 13.279269218444824, "policy_loss": -0.00490711210295558, "entropy": 1.2220208644866943, "kl": 0.016935935243964195, "cur_lr": 0.0005000000237487257, "vf_loss": 13.282482147216797}, "sample_time_ms": 51261.962}, "timesteps_total": 7155000, "iterations_since_restore": 53, "episode_reward_max": 1403.9784242360417, "timesteps_this_iter": 135000, "training_iteration": 53, "node_ip": "10.138.0.2", "date": "2019-05-16_13-13-06", "policy_reward_mean": {}}
{"timestamp": 1558012472, "hostname": "flow-main", "timesteps_since_restore": 7290000, "episodes_total": 2075, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "synchronize_filters": true, "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:1.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "straggler_mitigation": false, "lr_schedule": null, "monitor": false, "input_evaluation": null, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9d4eb8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9d49e8>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9d4e10>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "clip_param": 0.3, "simple_optimizer": false, "kl_target": 0.01, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "model": {"custom_preprocessor": null, "squash_to_range": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "grayscale": false, "framestack": true, "lstm_cell_size": 256}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "6a5e6d87546141128087acb0b350a70a", "custom_metrics": {"system_level_velocity_min": 7.861743608303259, "cost1_min": 188.37245907954798, "system_level_velocity_mean": 11.170964734727358, "cost1_mean": 248.96597003633323, "cost2_mean": -6.231910365528108, "cost1_max": 291.5328331921053, "cost2_max": 0.0, "system_level_velocity_max": 13.095280831147873, "cost2_min": -21.608142533458057}, "done": false, "time_total_s": 4621.194454908371, "episode_reward_min": 935.8895113582547, "num_metric_batches_dropped": 0, "episode_len_mean": 750.0, "pid": 63737, "time_since_restore": 4621.194454908371, "time_this_iter_s": 85.8794322013855, "episodes_this_iter": 36, "episode_reward_mean": 1236.3166712737466, "info": {"grad_time_ms": 33987.77, "update_time_ms": 11.346, "num_steps_trained": 7290000, "num_steps_sampled": 7290000, "load_time_ms": 18.692, "default": {"cur_kl_coeff": 0.10000001639127731, "vf_explained_var": 0.3111509084701538, "total_loss": 13.672313690185547, "policy_loss": -0.004034656565636396, "entropy": 1.2197459936141968, "kl": 0.014051700010895729, "cur_lr": 0.0005000000237487257, "vf_loss": 13.674943923950195}, "sample_time_ms": 51286.123}, "timesteps_total": 7290000, "iterations_since_restore": 54, "episode_reward_max": 1443.7420371017556, "timesteps_this_iter": 135000, "training_iteration": 54, "node_ip": "10.138.0.2", "date": "2019-05-16_13-14-32", "policy_reward_mean": {}}
{"timestamp": 1558012559, "hostname": "flow-main", "timesteps_since_restore": 7425000, "episodes_total": 2111, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "synchronize_filters": true, "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:1.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "straggler_mitigation": false, "lr_schedule": null, "monitor": false, "input_evaluation": null, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9ccb00>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9cc160>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9cc0f0>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "clip_param": 0.3, "simple_optimizer": false, "kl_target": 0.01, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "model": {"custom_preprocessor": null, "squash_to_range": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "grayscale": false, "framestack": true, "lstm_cell_size": 256}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "6a5e6d87546141128087acb0b350a70a", "custom_metrics": {"system_level_velocity_min": 7.861743608303259, "cost1_min": 188.37245907954798, "system_level_velocity_mean": 11.481280620234601, "cost1_mean": 253.12813866649375, "cost2_mean": -5.272224004640358, "cost1_max": 291.5328331921053, "cost2_max": 0.0, "system_level_velocity_max": 13.201488307529306, "cost2_min": -21.608142533458057}, "done": false, "time_total_s": 4708.048367500305, "episode_reward_min": 939.5770400625989, "num_metric_batches_dropped": 0, "episode_len_mean": 749.22, "pid": 63737, "time_since_restore": 4708.048367500305, "time_this_iter_s": 86.8539125919342, "episodes_this_iter": 36, "episode_reward_mean": 1258.3845903947847, "info": {"grad_time_ms": 34151.571, "update_time_ms": 11.408, "num_steps_trained": 7425000, "num_steps_sampled": 7425000, "load_time_ms": 18.576, "default": {"cur_kl_coeff": 0.10000001639127731, "vf_explained_var": 0.3131873607635498, "total_loss": 13.297537803649902, "policy_loss": -0.003907548729330301, "entropy": 1.2048110961914062, "kl": 0.013925326056778431, "cur_lr": 0.0005000000237487257, "vf_loss": 13.300052642822266}, "sample_time_ms": 51317.315}, "timesteps_total": 7425000, "iterations_since_restore": 55, "episode_reward_max": 1443.7420371017556, "timesteps_this_iter": 135000, "training_iteration": 55, "node_ip": "10.138.0.2", "date": "2019-05-16_13-15-59", "policy_reward_mean": {}}
{"timestamp": 1558012645, "hostname": "flow-main", "timesteps_since_restore": 7560000, "episodes_total": 2147, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "synchronize_filters": true, "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:1.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "straggler_mitigation": false, "lr_schedule": null, "monitor": false, "input_evaluation": null, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9dc898>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9dcc50>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9dcc88>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "clip_param": 0.3, "simple_optimizer": false, "kl_target": 0.01, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "model": {"custom_preprocessor": null, "squash_to_range": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "grayscale": false, "framestack": true, "lstm_cell_size": 256}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "6a5e6d87546141128087acb0b350a70a", "custom_metrics": {"system_level_velocity_min": 7.973670914627911, "cost1_min": 192.99297830639625, "system_level_velocity_mean": 11.42391366414049, "cost1_mean": 253.4931137435419, "cost2_mean": -5.78620643836245, "cost1_max": 291.5328331921053, "cost2_max": 0.0, "system_level_velocity_max": 13.201488307529306, "cost2_min": -23.2}, "done": false, "time_total_s": 4793.89933013916, "episode_reward_min": 953.0165390188573, "num_metric_batches_dropped": 0, "episode_len_mean": 748.54, "pid": 63737, "time_since_restore": 4793.89933013916, "time_this_iter_s": 85.85096263885498, "episodes_this_iter": 36, "episode_reward_mean": 1259.543098890746, "info": {"grad_time_ms": 34171.778, "update_time_ms": 11.415, "num_steps_trained": 7560000, "num_steps_sampled": 7560000, "load_time_ms": 18.397, "default": {"cur_kl_coeff": 0.10000001639127731, "vf_explained_var": 0.3586394488811493, "total_loss": 13.688264846801758, "policy_loss": -0.004634183831512928, "entropy": 1.2080737352371216, "kl": 0.016075871884822845, "cur_lr": 0.0005000000237487257, "vf_loss": 13.691291809082031}, "sample_time_ms": 51375.575}, "timesteps_total": 7560000, "iterations_since_restore": 56, "episode_reward_max": 1443.7420371017556, "timesteps_this_iter": 135000, "training_iteration": 56, "node_ip": "10.138.0.2", "date": "2019-05-16_13-17-25", "policy_reward_mean": {}}
{"timestamp": 1558012729, "hostname": "flow-main", "timesteps_since_restore": 7695000, "episodes_total": 2183, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "synchronize_filters": true, "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:1.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "straggler_mitigation": false, "lr_schedule": null, "monitor": false, "input_evaluation": null, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9ce978>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9cedd8>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9ce1d0>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "clip_param": 0.3, "simple_optimizer": false, "kl_target": 0.01, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "model": {"custom_preprocessor": null, "squash_to_range": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "grayscale": false, "framestack": true, "lstm_cell_size": 256}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "6a5e6d87546141128087acb0b350a70a", "custom_metrics": {"system_level_velocity_min": 7.768977834809225, "cost1_min": 192.99297830639625, "system_level_velocity_mean": 11.383873980127738, "cost1_mean": 252.13401627361458, "cost2_mean": -6.190238531484268, "cost1_max": 284.25209370158376, "cost2_max": 0.0, "system_level_velocity_max": 13.201488307529306, "cost2_min": -24.592669993119195}, "done": false, "time_total_s": 4878.670226573944, "episode_reward_min": 953.0165390188573, "num_metric_batches_dropped": 0, "episode_len_mean": 748.54, "pid": 63737, "time_since_restore": 4878.670226573944, "time_this_iter_s": 84.77089643478394, "episodes_this_iter": 36, "episode_reward_mean": 1252.3386436153598, "info": {"grad_time_ms": 34142.115, "update_time_ms": 11.337, "num_steps_trained": 7695000, "num_steps_sampled": 7695000, "load_time_ms": 18.331, "default": {"cur_kl_coeff": 0.10000001639127731, "vf_explained_var": 0.35457223653793335, "total_loss": 14.062016487121582, "policy_loss": -0.004726158920675516, "entropy": 1.198836326599121, "kl": 0.015198980458080769, "cur_lr": 0.0005000000237487257, "vf_loss": 14.065221786499023}, "sample_time_ms": 51362.534}, "timesteps_total": 7695000, "iterations_since_restore": 57, "episode_reward_max": 1413.7725834462487, "timesteps_this_iter": 135000, "training_iteration": 57, "node_ip": "10.138.0.2", "date": "2019-05-16_13-18-49", "policy_reward_mean": {}}
{"timestamp": 1558012815, "hostname": "flow-main", "timesteps_since_restore": 7830000, "episodes_total": 2219, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "synchronize_filters": true, "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:1.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "straggler_mitigation": false, "lr_schedule": null, "monitor": false, "input_evaluation": null, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9cc320>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9dc780>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9dc358>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "clip_param": 0.3, "simple_optimizer": false, "kl_target": 0.01, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "model": {"custom_preprocessor": null, "squash_to_range": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "grayscale": false, "framestack": true, "lstm_cell_size": 256}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "6a5e6d87546141128087acb0b350a70a", "custom_metrics": {"system_level_velocity_min": 7.639187206292983, "cost1_min": 193.2753684328681, "system_level_velocity_mean": 11.374035728744445, "cost1_mean": 252.85855587898794, "cost2_mean": -6.582853767657282, "cost1_max": 283.84910557655786, "cost2_max": 0.0, "system_level_velocity_max": 13.299790547453094, "cost2_min": -27.520689654934653}, "done": false, "time_total_s": 4963.9336721897125, "episode_reward_min": 933.4609057983737, "num_metric_batches_dropped": 0, "episode_len_mean": 749.32, "pid": 63737, "time_since_restore": 4963.9336721897125, "time_this_iter_s": 85.26344561576843, "episodes_this_iter": 36, "episode_reward_mean": 1255.5866573231408, "info": {"grad_time_ms": 33948.026, "update_time_ms": 10.936, "num_steps_trained": 7830000, "num_steps_sampled": 7830000, "load_time_ms": 18.046, "default": {"cur_kl_coeff": 0.10000001639127731, "vf_explained_var": 0.3350867033004761, "total_loss": 13.760986328125, "policy_loss": -0.00518315052613616, "entropy": 1.20250403881073, "kl": 0.016300590708851814, "cur_lr": 0.0005000000237487257, "vf_loss": 13.764540672302246}, "sample_time_ms": 51387.48}, "timesteps_total": 7830000, "iterations_since_restore": 58, "episode_reward_max": 1417.445527882792, "timesteps_this_iter": 135000, "training_iteration": 58, "node_ip": "10.138.0.2", "date": "2019-05-16_13-20-15", "policy_reward_mean": {}}
{"timestamp": 1558012901, "hostname": "flow-main", "timesteps_since_restore": 7965000, "episodes_total": 2255, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "synchronize_filters": true, "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:1.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "straggler_mitigation": false, "lr_schedule": null, "monitor": false, "input_evaluation": null, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9ce048>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc34668>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9ceb00>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "clip_param": 0.3, "simple_optimizer": false, "kl_target": 0.01, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "model": {"custom_preprocessor": null, "squash_to_range": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "grayscale": false, "framestack": true, "lstm_cell_size": 256}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "6a5e6d87546141128087acb0b350a70a", "custom_metrics": {"system_level_velocity_min": 7.639187206292983, "cost1_min": 193.2753684328681, "system_level_velocity_mean": 11.408840670254083, "cost1_mean": 253.20347830976863, "cost2_mean": -6.4884331097706776, "cost1_max": 283.84910557655786, "cost2_max": 0.0, "system_level_velocity_max": 13.299790547453094, "cost2_min": -27.520689654934653}, "done": false, "time_total_s": 5049.874695777893, "episode_reward_min": 933.4609057983737, "num_metric_batches_dropped": 0, "episode_len_mean": 750.0, "pid": 63737, "time_since_restore": 5049.874695777893, "time_this_iter_s": 85.94102358818054, "episodes_this_iter": 36, "episode_reward_mean": 1257.5931003003332, "info": {"grad_time_ms": 33925.146, "update_time_ms": 10.771, "num_steps_trained": 7965000, "num_steps_sampled": 7965000, "load_time_ms": 18.187, "default": {"cur_kl_coeff": 0.10000001639127731, "vf_explained_var": 0.32670357823371887, "total_loss": 13.323495864868164, "policy_loss": -0.006258031353354454, "entropy": 1.2255215644836426, "kl": 0.016647672280669212, "cur_lr": 0.0005000000237487257, "vf_loss": 13.32808780670166}, "sample_time_ms": 51427.966}, "timesteps_total": 7965000, "iterations_since_restore": 59, "episode_reward_max": 1417.445527882792, "timesteps_this_iter": 135000, "training_iteration": 59, "node_ip": "10.138.0.2", "date": "2019-05-16_13-21-41", "policy_reward_mean": {}}
{"timestamp": 1558012986, "hostname": "flow-main", "timesteps_since_restore": 8100000, "episodes_total": 2291, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "synchronize_filters": true, "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:1.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "straggler_mitigation": false, "lr_schedule": null, "monitor": false, "input_evaluation": null, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9cc7f0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9cce10>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9cc0b8>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "clip_param": 0.3, "simple_optimizer": false, "kl_target": 0.01, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "model": {"custom_preprocessor": null, "squash_to_range": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "grayscale": false, "framestack": true, "lstm_cell_size": 256}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "6a5e6d87546141128087acb0b350a70a", "custom_metrics": {"system_level_velocity_min": 4.875794010237922, "cost1_min": 124.64972157988642, "system_level_velocity_mean": 11.324035798329449, "cost1_mean": 251.35539043254278, "cost2_mean": -7.1896034229497845, "cost1_max": 285.291585217249, "cost2_max": 0.0, "system_level_velocity_max": 13.299790547453094, "cost2_min": -114.74375084890491}, "done": false, "time_total_s": 5135.213792562485, "episode_reward_min": 606.1966626256897, "num_metric_batches_dropped": 0, "episode_len_mean": 750.0, "pid": 63737, "time_since_restore": 5135.213792562485, "time_this_iter_s": 85.33909678459167, "episodes_this_iter": 36, "episode_reward_mean": 1248.6480507866397, "info": {"grad_time_ms": 33928.449, "update_time_ms": 10.298, "num_steps_trained": 8100000, "num_steps_sampled": 8100000, "load_time_ms": 17.931, "default": {"cur_kl_coeff": 0.10000001639127731, "vf_explained_var": 0.34963205456733704, "total_loss": 14.156940460205078, "policy_loss": -0.0037877338472753763, "entropy": 1.217281460762024, "kl": 0.013605543412268162, "cur_lr": 0.0005000000237487257, "vf_loss": 14.159366607666016}, "sample_time_ms": 51447.623}, "timesteps_total": 8100000, "iterations_since_restore": 60, "episode_reward_max": 1421.903040431904, "timesteps_this_iter": 135000, "training_iteration": 60, "node_ip": "10.138.0.2", "date": "2019-05-16_13-23-06", "policy_reward_mean": {}}
{"timestamp": 1558013072, "hostname": "flow-main", "timesteps_since_restore": 8235000, "episodes_total": 2327, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "synchronize_filters": true, "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:1.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "straggler_mitigation": false, "lr_schedule": null, "monitor": false, "input_evaluation": null, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9decc0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9de400>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9def28>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "clip_param": 0.3, "simple_optimizer": false, "kl_target": 0.01, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "model": {"custom_preprocessor": null, "squash_to_range": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "grayscale": false, "framestack": true, "lstm_cell_size": 256}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "6a5e6d87546141128087acb0b350a70a", "custom_metrics": {"system_level_velocity_min": 4.875794010237922, "cost1_min": 124.64972157988642, "system_level_velocity_mean": 11.396514664519179, "cost1_mean": 252.17845262623632, "cost2_mean": -7.097457912921948, "cost1_max": 285.291585217249, "cost2_max": 0.0, "system_level_velocity_max": 13.018868091529342, "cost2_min": -114.74375084890491}, "done": false, "time_total_s": 5221.396358013153, "episode_reward_min": 606.1966626256897, "num_metric_batches_dropped": 0, "episode_len_mean": 750.0, "pid": 63737, "time_since_restore": 5221.396358013153, "time_this_iter_s": 86.18256545066833, "episodes_this_iter": 36, "episode_reward_mean": 1252.827003696468, "info": {"grad_time_ms": 33971.338, "update_time_ms": 10.269, "num_steps_trained": 8235000, "num_steps_sampled": 8235000, "load_time_ms": 18.142, "default": {"cur_kl_coeff": 0.10000001639127731, "vf_explained_var": 0.31477874517440796, "total_loss": 14.095653533935547, "policy_loss": -0.003527867840602994, "entropy": 1.2003387212753296, "kl": 0.013825792819261551, "cur_lr": 0.0005000000237487257, "vf_loss": 14.097798347473145}, "sample_time_ms": 51453.406}, "timesteps_total": 8235000, "iterations_since_restore": 61, "episode_reward_max": 1421.903040431904, "timesteps_this_iter": 135000, "training_iteration": 61, "node_ip": "10.138.0.2", "date": "2019-05-16_13-24-32", "policy_reward_mean": {}}
{"timestamp": 1558013158, "hostname": "flow-main", "timesteps_since_restore": 8370000, "episodes_total": 2364, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "synchronize_filters": true, "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:1.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "straggler_mitigation": false, "lr_schedule": null, "monitor": false, "input_evaluation": null, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9cec88>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9cc0b8>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9cc630>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "clip_param": 0.3, "simple_optimizer": false, "kl_target": 0.01, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "model": {"custom_preprocessor": null, "squash_to_range": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "grayscale": false, "framestack": true, "lstm_cell_size": 256}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "6a5e6d87546141128087acb0b350a70a", "custom_metrics": {"system_level_velocity_min": 4.875794010237922, "cost1_min": 43.444864612938005, "system_level_velocity_mean": 11.368654905432699, "cost1_mean": 249.20018499605564, "cost2_mean": -7.8260343416975005, "cost1_max": 285.6824037509309, "cost2_max": 0.0, "system_level_velocity_max": 12.969120496762116, "cost2_min": -114.74375084890491}, "done": false, "time_total_s": 5307.392820119858, "episode_reward_min": 202.48932678036604, "num_metric_batches_dropped": 0, "episode_len_mean": 739.25, "pid": 63737, "time_since_restore": 5307.392820119858, "time_this_iter_s": 85.99646210670471, "episodes_this_iter": 37, "episode_reward_mean": 1236.8087607346706, "info": {"grad_time_ms": 33960.499, "update_time_ms": 10.46, "num_steps_trained": 8370000, "num_steps_sampled": 8370000, "load_time_ms": 18.273, "default": {"cur_kl_coeff": 0.10000001639127731, "vf_explained_var": 0.3568499982357025, "total_loss": 13.544519424438477, "policy_loss": -0.005396787542849779, "entropy": 1.2199283838272095, "kl": 0.015372383408248425, "cur_lr": 0.0005000000237487257, "vf_loss": 13.548379898071289}, "sample_time_ms": 51437.12}, "timesteps_total": 8370000, "iterations_since_restore": 62, "episode_reward_max": 1421.122380479352, "timesteps_this_iter": 135000, "training_iteration": 62, "node_ip": "10.138.0.2", "date": "2019-05-16_13-25-58", "policy_reward_mean": {}}
{"timestamp": 1558013244, "hostname": "flow-main", "timesteps_since_restore": 8505000, "episodes_total": 2402, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "synchronize_filters": true, "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:1.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "straggler_mitigation": false, "lr_schedule": null, "monitor": false, "input_evaluation": null, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9d41d0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9d4278>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9d4be0>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "clip_param": 0.3, "simple_optimizer": false, "kl_target": 0.01, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "model": {"custom_preprocessor": null, "squash_to_range": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "grayscale": false, "framestack": true, "lstm_cell_size": 256}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "6a5e6d87546141128087acb0b350a70a", "custom_metrics": {"system_level_velocity_min": 6.305514881103071, "cost1_min": 38.11261719843864, "system_level_velocity_mean": 11.344514903627287, "cost1_mean": 246.3239383272102, "cost2_mean": -7.7098776594100595, "cost1_max": 285.6824037509309, "cost2_max": 0.0, "system_level_velocity_max": 13.136950642531447, "cost2_min": -51.2}, "done": false, "time_total_s": 5393.316523551941, "episode_reward_min": 177.20838884059535, "num_metric_batches_dropped": 0, "episode_len_mean": 723.23, "pid": 63737, "time_since_restore": 5393.316523551941, "time_this_iter_s": 85.92370343208313, "episodes_this_iter": 38, "episode_reward_mean": 1222.043713047233, "info": {"grad_time_ms": 34016.982, "update_time_ms": 10.576, "num_steps_trained": 8505000, "num_steps_sampled": 8505000, "load_time_ms": 18.272, "default": {"cur_kl_coeff": 0.10000001639127731, "vf_explained_var": 0.4051986038684845, "total_loss": 15.043115615844727, "policy_loss": -0.005699509754776955, "entropy": 1.2176507711410522, "kl": 0.01638827659189701, "cur_lr": 0.0005000000237487257, "vf_loss": 15.047176361083984}, "sample_time_ms": 51507.03}, "timesteps_total": 8505000, "iterations_since_restore": 63, "episode_reward_max": 1421.122380479352, "timesteps_this_iter": 135000, "training_iteration": 63, "node_ip": "10.138.0.2", "date": "2019-05-16_13-27-24", "policy_reward_mean": {}}
{"timestamp": 1558013331, "hostname": "flow-main", "timesteps_since_restore": 8640000, "episodes_total": 2438, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "synchronize_filters": true, "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:1.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "straggler_mitigation": false, "lr_schedule": null, "monitor": false, "input_evaluation": null, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9decc0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9dea58>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9deef0>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "clip_param": 0.3, "simple_optimizer": false, "kl_target": 0.01, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "model": {"custom_preprocessor": null, "squash_to_range": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "grayscale": false, "framestack": true, "lstm_cell_size": 256}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "6a5e6d87546141128087acb0b350a70a", "custom_metrics": {"system_level_velocity_min": 6.305514881103071, "cost1_min": 38.11261719843864, "system_level_velocity_mean": 11.279521002546534, "cost1_mean": 245.56236464052407, "cost2_mean": -7.684787608276938, "cost1_max": 285.6824037509309, "cost2_max": 0.0, "system_level_velocity_max": 13.136950642531447, "cost2_min": -51.2}, "done": false, "time_total_s": 5479.444069385529, "episode_reward_min": 177.20838884059535, "num_metric_batches_dropped": 0, "episode_len_mean": 722.57, "pid": 63737, "time_since_restore": 5479.444069385529, "time_this_iter_s": 86.12754583358765, "episodes_this_iter": 36, "episode_reward_mean": 1218.626849346562, "info": {"grad_time_ms": 33987.553, "update_time_ms": 10.709, "num_steps_trained": 8640000, "num_steps_sampled": 8640000, "load_time_ms": 18.057, "default": {"cur_kl_coeff": 0.10000001639127731, "vf_explained_var": 0.37875157594680786, "total_loss": 14.359443664550781, "policy_loss": -0.0045194863341748714, "entropy": 1.2366231679916382, "kl": 0.0159566942602396, "cur_lr": 0.0005000000237487257, "vf_loss": 14.362366676330566}, "sample_time_ms": 51556.374}, "timesteps_total": 8640000, "iterations_since_restore": 64, "episode_reward_max": 1421.122380479352, "timesteps_this_iter": 135000, "training_iteration": 64, "node_ip": "10.138.0.2", "date": "2019-05-16_13-28-51", "policy_reward_mean": {}}
{"timestamp": 1558013417, "hostname": "flow-main", "timesteps_since_restore": 8775000, "episodes_total": 2474, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "synchronize_filters": true, "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:1.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "straggler_mitigation": false, "lr_schedule": null, "monitor": false, "input_evaluation": null, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9de1d0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9de3c8>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9de5c0>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "clip_param": 0.3, "simple_optimizer": false, "kl_target": 0.01, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "model": {"custom_preprocessor": null, "squash_to_range": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "grayscale": false, "framestack": true, "lstm_cell_size": 256}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "6a5e6d87546141128087acb0b350a70a", "custom_metrics": {"system_level_velocity_min": 6.305514881103071, "cost1_min": 38.11261719843864, "system_level_velocity_mean": 11.350092281220313, "cost1_mean": 249.5047435760104, "cost2_mean": -6.594421217227816, "cost1_max": 283.9075353282536, "cost2_max": 0.0, "system_level_velocity_max": 13.136950642531447, "cost2_min": -46.72964701224065}, "done": false, "time_total_s": 5565.358099937439, "episode_reward_min": 177.20838884059535, "num_metric_batches_dropped": 0, "episode_len_mean": 733.32, "pid": 63737, "time_since_restore": 5565.358099937439, "time_this_iter_s": 85.9140305519104, "episodes_this_iter": 36, "episode_reward_mean": 1239.1787345904452, "info": {"grad_time_ms": 33809.769, "update_time_ms": 10.62, "num_steps_trained": 8775000, "num_steps_sampled": 8775000, "load_time_ms": 18.496, "default": {"cur_kl_coeff": 0.10000001639127731, "vf_explained_var": 0.3801010251045227, "total_loss": 13.30122184753418, "policy_loss": -0.004702197853475809, "entropy": 1.239445447921753, "kl": 0.019848328083753586, "cur_lr": 0.0005000000237487257, "vf_loss": 13.303938865661621}, "sample_time_ms": 51633.372}, "timesteps_total": 8775000, "iterations_since_restore": 65, "episode_reward_max": 1419.321162814879, "timesteps_this_iter": 135000, "training_iteration": 65, "node_ip": "10.138.0.2", "date": "2019-05-16_13-30-17", "policy_reward_mean": {}}
{"timestamp": 1558013503, "hostname": "flow-main", "timesteps_since_restore": 8910000, "episodes_total": 2511, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "synchronize_filters": true, "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:1.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "straggler_mitigation": false, "lr_schedule": null, "monitor": false, "input_evaluation": null, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9cc400>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc34128>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9cc898>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "clip_param": 0.3, "simple_optimizer": false, "kl_target": 0.01, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "model": {"custom_preprocessor": null, "squash_to_range": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "grayscale": false, "framestack": true, "lstm_cell_size": 256}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "6a5e6d87546141128087acb0b350a70a", "custom_metrics": {"system_level_velocity_min": 5.967154173486685, "cost1_min": 46.12511533477502, "system_level_velocity_mean": 11.334220800791831, "cost1_mean": 251.31044763640173, "cost2_mean": -5.898927325110781, "cost1_max": 283.9075353282536, "cost2_max": 0.0, "system_level_velocity_max": 13.068146147367079, "cost2_min": -46.72964701224065}, "done": false, "time_total_s": 5651.7829468250275, "episode_reward_min": 216.33628954414465, "num_metric_batches_dropped": 0, "episode_len_mean": 744.02, "pid": 63737, "time_since_restore": 5651.7829468250275, "time_this_iter_s": 86.4248468875885, "episodes_this_iter": 37, "episode_reward_mean": 1249.0445706084495, "info": {"grad_time_ms": 33921.769, "update_time_ms": 10.582, "num_steps_trained": 8910000, "num_steps_sampled": 8910000, "load_time_ms": 18.52, "default": {"cur_kl_coeff": 0.10000001639127731, "vf_explained_var": 0.32032909989356995, "total_loss": 14.879800796508789, "policy_loss": -0.004798409529030323, "entropy": 1.2444193363189697, "kl": 0.01679714024066925, "cur_lr": 0.0005000000237487257, "vf_loss": 14.882919311523438}, "sample_time_ms": 51574.1}, "timesteps_total": 8910000, "iterations_since_restore": 66, "episode_reward_max": 1419.321162814879, "timesteps_this_iter": 135000, "training_iteration": 66, "node_ip": "10.138.0.2", "date": "2019-05-16_13-31-43", "policy_reward_mean": {}}
{"timestamp": 1558013588, "hostname": "flow-main", "timesteps_since_restore": 9045000, "episodes_total": 2548, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "synchronize_filters": true, "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:1.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "straggler_mitigation": false, "lr_schedule": null, "monitor": false, "input_evaluation": null, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9de400>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9de978>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9de7b8>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "clip_param": 0.3, "simple_optimizer": false, "kl_target": 0.01, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "model": {"custom_preprocessor": null, "squash_to_range": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "grayscale": false, "framestack": true, "lstm_cell_size": 256}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "6a5e6d87546141128087acb0b350a70a", "custom_metrics": {"system_level_velocity_min": 5.967154173486685, "cost1_min": 46.12511533477502, "system_level_velocity_mean": 11.320791381518493, "cost1_mean": 250.81345223732535, "cost2_mean": -6.514956957226424, "cost1_max": 285.60150626815147, "cost2_max": 0.0, "system_level_velocity_max": 13.163680354969467, "cost2_min": -45.882888445942314}, "done": false, "time_total_s": 5736.7762904167175, "episode_reward_min": 216.33628954414465, "num_metric_batches_dropped": 0, "episode_len_mean": 742.08, "pid": 63737, "time_since_restore": 5736.7762904167175, "time_this_iter_s": 84.99334359169006, "episodes_this_iter": 37, "episode_reward_mean": 1245.7802830972284, "info": {"grad_time_ms": 33898.679, "update_time_ms": 10.501, "num_steps_trained": 9045000, "num_steps_sampled": 9045000, "load_time_ms": 18.501, "default": {"cur_kl_coeff": 0.10000001639127731, "vf_explained_var": 0.32711178064346313, "total_loss": 14.653345108032227, "policy_loss": -0.004710311535745859, "entropy": 1.2129368782043457, "kl": 0.016856065019965172, "cur_lr": 0.0005000000237487257, "vf_loss": 14.656370162963867}, "sample_time_ms": 51619.453}, "timesteps_total": 9045000, "iterations_since_restore": 67, "episode_reward_max": 1418.5021237184842, "timesteps_this_iter": 135000, "training_iteration": 67, "node_ip": "10.138.0.2", "date": "2019-05-16_13-33-08", "policy_reward_mean": {}}
{"timestamp": 1558013674, "hostname": "flow-main", "timesteps_since_restore": 9180000, "episodes_total": 2584, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "synchronize_filters": true, "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:1.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "straggler_mitigation": false, "lr_schedule": null, "monitor": false, "input_evaluation": null, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9ceba8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc34908>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc34668>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "clip_param": 0.3, "simple_optimizer": false, "kl_target": 0.01, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "model": {"custom_preprocessor": null, "squash_to_range": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "grayscale": false, "framestack": true, "lstm_cell_size": 256}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "6a5e6d87546141128087acb0b350a70a", "custom_metrics": {"system_level_velocity_min": 5.967154173486685, "cost1_min": 46.12511533477502, "system_level_velocity_mean": 11.453138909727564, "cost1_mean": 252.36748883069308, "cost2_mean": -6.001614736864276, "cost1_max": 285.60150626815147, "cost2_max": 0.0, "system_level_velocity_max": 13.163680354969467, "cost2_min": -45.882888445942314}, "done": false, "time_total_s": 5822.207456827164, "episode_reward_min": 216.33628954414465, "num_metric_batches_dropped": 0, "episode_len_mean": 742.08, "pid": 63737, "time_since_restore": 5822.207456827164, "time_this_iter_s": 85.43116641044617, "episodes_this_iter": 36, "episode_reward_mean": 1254.2248819683703, "info": {"grad_time_ms": 33898.147, "update_time_ms": 10.662, "num_steps_trained": 9180000, "num_steps_sampled": 9180000, "load_time_ms": 18.812, "default": {"cur_kl_coeff": 0.10000001639127731, "vf_explained_var": 0.3408307135105133, "total_loss": 14.229473114013672, "policy_loss": -0.005333314649760723, "entropy": 1.2227625846862793, "kl": 0.016445200890302658, "cur_lr": 0.0005000000237487257, "vf_loss": 14.233160972595215}, "sample_time_ms": 51636.961}, "timesteps_total": 9180000, "iterations_since_restore": 68, "episode_reward_max": 1418.5021237184842, "timesteps_this_iter": 135000, "training_iteration": 68, "node_ip": "10.138.0.2", "date": "2019-05-16_13-34-34", "policy_reward_mean": {}}
{"timestamp": 1558013759, "hostname": "flow-main", "timesteps_since_restore": 9315000, "episodes_total": 2620, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "synchronize_filters": true, "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:1.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "straggler_mitigation": false, "lr_schedule": null, "monitor": false, "input_evaluation": null, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9cc0b8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9ccb38>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9cc6a0>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "clip_param": 0.3, "simple_optimizer": false, "kl_target": 0.01, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "model": {"custom_preprocessor": null, "squash_to_range": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "grayscale": false, "framestack": true, "lstm_cell_size": 256}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "6a5e6d87546141128087acb0b350a70a", "custom_metrics": {"system_level_velocity_min": 6.39009903855573, "cost1_min": 105.42159276539914, "system_level_velocity_mean": 11.230646968472502, "cost1_mean": 250.49163754014072, "cost2_mean": -7.768347825667679, "cost1_max": 285.60150626815147, "cost2_max": 0.0, "system_level_velocity_max": 13.36974894188604, "cost2_min": -45.882888445942314}, "done": false, "time_total_s": 5907.080638885498, "episode_reward_min": 509.55165606020324, "num_metric_batches_dropped": 0, "episode_len_mean": 747.4, "pid": 63737, "time_since_restore": 5907.080638885498, "time_this_iter_s": 84.87318205833435, "episodes_this_iter": 36, "episode_reward_mean": 1242.875623208459, "info": {"grad_time_ms": 33876.248, "update_time_ms": 10.859, "num_steps_trained": 9315000, "num_steps_sampled": 9315000, "load_time_ms": 18.718, "default": {"cur_kl_coeff": 0.10000001639127731, "vf_explained_var": 0.37040919065475464, "total_loss": 13.75471305847168, "policy_loss": -0.005224539898335934, "entropy": 1.237659215927124, "kl": 0.01718260906636715, "cur_lr": 0.0005000000237487257, "vf_loss": 13.758219718933105}, "sample_time_ms": 51549.282}, "timesteps_total": 9315000, "iterations_since_restore": 69, "episode_reward_max": 1421.6804575579456, "timesteps_this_iter": 135000, "training_iteration": 69, "node_ip": "10.138.0.2", "date": "2019-05-16_13-35-59", "policy_reward_mean": {}}
{"timestamp": 1558013846, "hostname": "flow-main", "timesteps_since_restore": 9450000, "episodes_total": 2657, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "synchronize_filters": true, "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:1.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "straggler_mitigation": false, "lr_schedule": null, "monitor": false, "input_evaluation": null, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9de4a8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9de400>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9de978>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "clip_param": 0.3, "simple_optimizer": false, "kl_target": 0.01, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "model": {"custom_preprocessor": null, "squash_to_range": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "grayscale": false, "framestack": true, "lstm_cell_size": 256}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "6a5e6d87546141128087acb0b350a70a", "custom_metrics": {"system_level_velocity_min": 7.975088376399008, "cost1_min": 45.286472438475286, "system_level_velocity_mean": 11.320479527243048, "cost1_mean": 250.50031393228636, "cost2_mean": -7.039214669504232, "cost1_max": 289.2190221183527, "cost2_max": 0.0, "system_level_velocity_max": 13.36974894188604, "cost2_min": -43.261152501873525}, "done": false, "time_total_s": 5994.098578929901, "episode_reward_min": 217.81555717206916, "num_metric_batches_dropped": 0, "episode_len_mean": 743.95, "pid": 63737, "time_since_restore": 5994.098578929901, "time_this_iter_s": 87.01794004440308, "episodes_this_iter": 37, "episode_reward_mean": 1243.8367012545575, "info": {"grad_time_ms": 33923.724, "update_time_ms": 11.168, "num_steps_trained": 9450000, "num_steps_sampled": 9450000, "load_time_ms": 18.692, "default": {"cur_kl_coeff": 0.10000001639127731, "vf_explained_var": 0.3525632917881012, "total_loss": 14.325376510620117, "policy_loss": -0.005065464414656162, "entropy": 1.2144839763641357, "kl": 0.016624154523015022, "cur_lr": 0.0005000000237487257, "vf_loss": 14.328779220581055}, "sample_time_ms": 51674.863}, "timesteps_total": 9450000, "iterations_since_restore": 70, "episode_reward_max": 1445.7936335451996, "timesteps_this_iter": 135000, "training_iteration": 70, "node_ip": "10.138.0.2", "date": "2019-05-16_13-37-26", "policy_reward_mean": {}}
{"timestamp": 1558013930, "hostname": "flow-main", "timesteps_since_restore": 9585000, "episodes_total": 2694, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "synchronize_filters": true, "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:1.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "straggler_mitigation": false, "lr_schedule": null, "monitor": false, "input_evaluation": null, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc249b0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9de208>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9deb70>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "clip_param": 0.3, "simple_optimizer": false, "kl_target": 0.01, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "model": {"custom_preprocessor": null, "squash_to_range": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "grayscale": false, "framestack": true, "lstm_cell_size": 256}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "6a5e6d87546141128087acb0b350a70a", "custom_metrics": {"system_level_velocity_min": 5.74842976726165, "cost1_min": 45.286472438475286, "system_level_velocity_mean": 11.4843383728258, "cost1_mean": 251.37930116583826, "cost2_mean": -6.77301212778337, "cost1_max": 289.2190221183527, "cost2_max": 0.0, "system_level_velocity_max": 13.238427142242484, "cost2_min": -43.261152501873525}, "done": false, "time_total_s": 6078.875649213791, "episode_reward_min": 217.81555717206916, "num_metric_batches_dropped": 0, "episode_len_mean": 738.85, "pid": 63737, "time_since_restore": 6078.875649213791, "time_this_iter_s": 84.77707028388977, "episodes_this_iter": 37, "episode_reward_mean": 1248.5540221008443, "info": {"grad_time_ms": 33839.132, "update_time_ms": 11.196, "num_steps_trained": 9585000, "num_steps_sampled": 9585000, "load_time_ms": 18.634, "default": {"cur_kl_coeff": 0.10000001639127731, "vf_explained_var": 0.33225566148757935, "total_loss": 14.331378936767578, "policy_loss": -0.00473655853420496, "entropy": 1.2185039520263672, "kl": 0.018417971208691597, "cur_lr": 0.0005000000237487257, "vf_loss": 14.334273338317871}, "sample_time_ms": 51618.267}, "timesteps_total": 9585000, "iterations_since_restore": 71, "episode_reward_max": 1445.7936335451996, "timesteps_this_iter": 135000, "training_iteration": 71, "node_ip": "10.138.0.2", "date": "2019-05-16_13-38-50", "policy_reward_mean": {}}
{"timestamp": 1558014016, "hostname": "flow-main", "timesteps_since_restore": 9720000, "episodes_total": 2730, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "synchronize_filters": true, "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:1.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "straggler_mitigation": false, "lr_schedule": null, "monitor": false, "input_evaluation": null, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9ccb00>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9ccbe0>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9cc0f0>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "clip_param": 0.3, "simple_optimizer": false, "kl_target": 0.01, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "model": {"custom_preprocessor": null, "squash_to_range": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "grayscale": false, "framestack": true, "lstm_cell_size": 256}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "6a5e6d87546141128087acb0b350a70a", "custom_metrics": {"system_level_velocity_min": 5.74842976726165, "cost1_min": 45.286472438475286, "system_level_velocity_mean": 11.487108221015255, "cost1_mean": 251.920434519221, "cost2_mean": -5.916275854983273, "cost1_max": 289.2190221183527, "cost2_max": 0.0, "system_level_velocity_max": 13.238427142242484, "cost2_min": -33.26204880981945}, "done": false, "time_total_s": 6164.6769807338715, "episode_reward_min": 217.81555717206916, "num_metric_batches_dropped": 0, "episode_len_mean": 738.85, "pid": 63737, "time_since_restore": 6164.6769807338715, "time_this_iter_s": 85.80133152008057, "episodes_this_iter": 36, "episode_reward_mean": 1251.6671438432613, "info": {"grad_time_ms": 33841.199, "update_time_ms": 11.043, "num_steps_trained": 9720000, "num_steps_sampled": 9720000, "load_time_ms": 18.38, "default": {"cur_kl_coeff": 0.10000001639127731, "vf_explained_var": 0.30268603563308716, "total_loss": 13.932780265808105, "policy_loss": -0.004822542425245047, "entropy": 1.21048903465271, "kl": 0.01632489077746868, "cur_lr": 0.0005000000237487257, "vf_loss": 13.9359712600708}, "sample_time_ms": 51599.856}, "timesteps_total": 9720000, "iterations_since_restore": 72, "episode_reward_max": 1445.7936335451996, "timesteps_this_iter": 135000, "training_iteration": 72, "node_ip": "10.138.0.2", "date": "2019-05-16_13-40-16", "policy_reward_mean": {}}
{"timestamp": 1558014103, "hostname": "flow-main", "timesteps_since_restore": 9855000, "episodes_total": 2766, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "synchronize_filters": true, "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:1.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "straggler_mitigation": false, "lr_schedule": null, "monitor": false, "input_evaluation": null, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9de4a8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9de978>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9def60>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "clip_param": 0.3, "simple_optimizer": false, "kl_target": 0.01, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "model": {"custom_preprocessor": null, "squash_to_range": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "grayscale": false, "framestack": true, "lstm_cell_size": 256}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "6a5e6d87546141128087acb0b350a70a", "custom_metrics": {"system_level_velocity_min": 5.74842976726165, "cost1_min": 49.27457692774494, "system_level_velocity_mean": 11.464587566177766, "cost1_mean": 253.0984173508936, "cost2_mean": -5.5230517859741814, "cost1_max": 284.21025370885195, "cost2_max": 0.0, "system_level_velocity_max": 13.20104155128407, "cost2_min": -33.26204880981945}, "done": false, "time_total_s": 6251.039538383484, "episode_reward_min": 229.1245762008644, "num_metric_batches_dropped": 0, "episode_len_mean": 741.47, "pid": 63737, "time_since_restore": 6251.039538383484, "time_this_iter_s": 86.36255764961243, "episodes_this_iter": 36, "episode_reward_mean": 1258.11193719659, "info": {"grad_time_ms": 33928.188, "update_time_ms": 10.869, "num_steps_trained": 9855000, "num_steps_sampled": 9855000, "load_time_ms": 18.073, "default": {"cur_kl_coeff": 0.10000001639127731, "vf_explained_var": 0.3234700560569763, "total_loss": 14.314827919006348, "policy_loss": -0.005327025894075632, "entropy": 1.218605399131775, "kl": 0.018015917390584946, "cur_lr": 0.0005000000237487257, "vf_loss": 14.318351745605469}, "sample_time_ms": 51558.348}, "timesteps_total": 9855000, "iterations_since_restore": 73, "episode_reward_max": 1420.840496829375, "timesteps_this_iter": 135000, "training_iteration": 73, "node_ip": "10.138.0.2", "date": "2019-05-16_13-41-43", "policy_reward_mean": {}}
{"timestamp": 1558014188, "hostname": "flow-main", "timesteps_since_restore": 9990000, "episodes_total": 2802, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "synchronize_filters": true, "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:1.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "straggler_mitigation": false, "lr_schedule": null, "monitor": false, "input_evaluation": null, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9de1d0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9de630>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9cce10>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "clip_param": 0.3, "simple_optimizer": false, "kl_target": 0.01, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "model": {"custom_preprocessor": null, "squash_to_range": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "grayscale": false, "framestack": true, "lstm_cell_size": 256}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "6a5e6d87546141128087acb0b350a70a", "custom_metrics": {"system_level_velocity_min": 7.307756677302499, "cost1_min": 102.82148698688741, "system_level_velocity_mean": 11.39993352611841, "cost1_mean": 253.58117999923252, "cost2_mean": -5.602713970250743, "cost1_max": 285.3855426165919, "cost2_max": 0.0, "system_level_velocity_max": 13.167840098812839, "cost2_min": -31.697508891319064}, "done": false, "time_total_s": 6335.838067770004, "episode_reward_min": 501.14238193393896, "num_metric_batches_dropped": 0, "episode_len_mean": 746.57, "pid": 63737, "time_since_restore": 6335.838067770004, "time_this_iter_s": 84.79852938652039, "episodes_this_iter": 36, "episode_reward_mean": 1260.4509800583187, "info": {"grad_time_ms": 33848.501, "update_time_ms": 10.956, "num_steps_trained": 9990000, "num_steps_sampled": 9990000, "load_time_ms": 17.77, "default": {"cur_kl_coeff": 0.10000001639127731, "vf_explained_var": 0.28915515542030334, "total_loss": 14.010846138000488, "policy_loss": -0.00465265242382884, "entropy": 1.2077125310897827, "kl": 0.01781170815229416, "cur_lr": 0.0005000000237487257, "vf_loss": 14.013717651367188}, "sample_time_ms": 51511.756}, "timesteps_total": 9990000, "iterations_since_restore": 74, "episode_reward_max": 1424.8277130829495, "timesteps_this_iter": 135000, "training_iteration": 74, "node_ip": "10.138.0.2", "date": "2019-05-16_13-43-08", "policy_reward_mean": {}}
{"timestamp": 1558014273, "hostname": "flow-main", "timesteps_since_restore": 10125000, "episodes_total": 2838, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "synchronize_filters": true, "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:1.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "straggler_mitigation": false, "lr_schedule": null, "monitor": false, "input_evaluation": null, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9ccef0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9cc128>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9ccf98>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "clip_param": 0.3, "simple_optimizer": false, "kl_target": 0.01, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "model": {"custom_preprocessor": null, "squash_to_range": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "grayscale": false, "framestack": true, "lstm_cell_size": 256}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "6a5e6d87546141128087acb0b350a70a", "custom_metrics": {"system_level_velocity_min": 7.307756677302499, "cost1_min": 102.82148698688741, "system_level_velocity_mean": 11.428909621689137, "cost1_mean": 254.28638430553528, "cost2_mean": -5.2766518618336455, "cost1_max": 285.3855426165919, "cost2_max": 0.0, "system_level_velocity_max": 13.141283861992527, "cost2_min": -31.697508891319064}, "done": false, "time_total_s": 6421.579740285873, "episode_reward_min": 501.14238193393896, "num_metric_batches_dropped": 0, "episode_len_mean": 746.57, "pid": 63737, "time_since_restore": 6421.579740285873, "time_this_iter_s": 85.74167251586914, "episodes_this_iter": 36, "episode_reward_mean": 1264.3640553541406, "info": {"grad_time_ms": 33904.639, "update_time_ms": 11.019, "num_steps_trained": 10125000, "num_steps_sampled": 10125000, "load_time_ms": 17.588, "default": {"cur_kl_coeff": 0.10000001639127731, "vf_explained_var": 0.27475759387016296, "total_loss": 14.319480895996094, "policy_loss": -0.0043523721396923065, "entropy": 1.2094541788101196, "kl": 0.017790058627724648, "cur_lr": 0.0005000000237487257, "vf_loss": 14.322053909301758}, "sample_time_ms": 51442.88}, "timesteps_total": 10125000, "iterations_since_restore": 75, "episode_reward_max": 1424.8277130829495, "timesteps_this_iter": 135000, "training_iteration": 75, "node_ip": "10.138.0.2", "date": "2019-05-16_13-44-33", "policy_reward_mean": {}}
{"timestamp": 1558014359, "hostname": "flow-main", "timesteps_since_restore": 10260000, "episodes_total": 2874, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "synchronize_filters": true, "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:1.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "straggler_mitigation": false, "lr_schedule": null, "monitor": false, "input_evaluation": null, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9de198>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9de0b8>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9de048>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "clip_param": 0.3, "simple_optimizer": false, "kl_target": 0.01, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "model": {"custom_preprocessor": null, "squash_to_range": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "grayscale": false, "framestack": true, "lstm_cell_size": 256}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "6a5e6d87546141128087acb0b350a70a", "custom_metrics": {"system_level_velocity_min": 8.062382351716511, "cost1_min": 200.0632857804424, "system_level_velocity_mean": 11.394030378499703, "cost1_mean": 254.80517961902825, "cost2_mean": -5.228563383272163, "cost1_max": 285.3855426165919, "cost2_max": 0.0, "system_level_velocity_max": 13.141283861992527, "cost2_min": -30.608977610006804}, "done": false, "time_total_s": 6506.652362346649, "episode_reward_min": 963.0258374817564, "num_metric_batches_dropped": 0, "episode_len_mean": 750.0, "pid": 63737, "time_since_restore": 6506.652362346649, "time_this_iter_s": 85.07262206077576, "episodes_this_iter": 36, "episode_reward_mean": 1266.8439649203228, "info": {"grad_time_ms": 33791.743, "update_time_ms": 11.138, "num_steps_trained": 10260000, "num_steps_sampled": 10260000, "load_time_ms": 17.668, "default": {"cur_kl_coeff": 0.10000001639127731, "vf_explained_var": 0.3308335244655609, "total_loss": 14.062103271484375, "policy_loss": -0.005951987113803625, "entropy": 1.2274482250213623, "kl": 0.019752847030758858, "cur_lr": 0.0005000000237487257, "vf_loss": 14.066080093383789}, "sample_time_ms": 51423.143}, "timesteps_total": 10260000, "iterations_since_restore": 76, "episode_reward_max": 1424.8277130829495, "timesteps_this_iter": 135000, "training_iteration": 76, "node_ip": "10.138.0.2", "date": "2019-05-16_13-45-59", "policy_reward_mean": {}}
{"timestamp": 1558014445, "hostname": "flow-main", "timesteps_since_restore": 10395000, "episodes_total": 2910, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "synchronize_filters": true, "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:1.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "straggler_mitigation": false, "lr_schedule": null, "monitor": false, "input_evaluation": null, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9d40f0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9d4550>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9d4d30>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "clip_param": 0.3, "simple_optimizer": false, "kl_target": 0.01, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "model": {"custom_preprocessor": null, "squash_to_range": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "grayscale": false, "framestack": true, "lstm_cell_size": 256}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "6a5e6d87546141128087acb0b350a70a", "custom_metrics": {"system_level_velocity_min": 8.062382351716511, "cost1_min": 195.73215035522858, "system_level_velocity_mean": 11.092945635103579, "cost1_mean": 251.4863232087876, "cost2_mean": -7.21640560403845, "cost1_max": 285.42691703777007, "cost2_max": 0.0, "system_level_velocity_max": 13.225481075452791, "cost2_min": -33.75331546397361}, "done": false, "time_total_s": 6593.377887010574, "episode_reward_min": 943.8132668707342, "num_metric_batches_dropped": 0, "episode_len_mean": 750.0, "pid": 63737, "time_since_restore": 6593.377887010574, "time_this_iter_s": 86.72552466392517, "episodes_this_iter": 36, "episode_reward_mean": 1247.7841004093334, "info": {"grad_time_ms": 33950.888, "update_time_ms": 11.197, "num_steps_trained": 10395000, "num_steps_sampled": 10395000, "load_time_ms": 17.785, "default": {"cur_kl_coeff": 0.10000001639127731, "vf_explained_var": 0.33203303813934326, "total_loss": 13.846822738647461, "policy_loss": -0.005650968756526709, "entropy": 1.2566633224487305, "kl": 0.01793617010116577, "cur_lr": 0.0005000000237487257, "vf_loss": 13.850680351257324}, "sample_time_ms": 51435.524}, "timesteps_total": 10395000, "iterations_since_restore": 77, "episode_reward_max": 1421.9471432469782, "timesteps_this_iter": 135000, "training_iteration": 77, "node_ip": "10.138.0.2", "date": "2019-05-16_13-47-25", "policy_reward_mean": {}}
{"timestamp": 1558014530, "hostname": "flow-main", "timesteps_since_restore": 10530000, "episodes_total": 2946, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "synchronize_filters": true, "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:1.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "straggler_mitigation": false, "lr_schedule": null, "monitor": false, "input_evaluation": null, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc34e48>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9cc0f0>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc34d30>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "clip_param": 0.3, "simple_optimizer": false, "kl_target": 0.01, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "model": {"custom_preprocessor": null, "squash_to_range": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "grayscale": false, "framestack": true, "lstm_cell_size": 256}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "6a5e6d87546141128087acb0b350a70a", "custom_metrics": {"system_level_velocity_min": 7.408203696213939, "cost1_min": 179.46142591590757, "system_level_velocity_mean": 10.979059049135463, "cost1_mean": 248.8216102659558, "cost2_mean": -7.210129667856617, "cost1_max": 285.42691703777007, "cost2_max": 0.0, "system_level_velocity_max": 13.225481075452791, "cost2_min": -33.75331546397361}, "done": false, "time_total_s": 6678.194696187973, "episode_reward_min": 890.3821006248141, "num_metric_batches_dropped": 0, "episode_len_mean": 750.0, "pid": 63737, "time_since_restore": 6678.194696187973, "time_this_iter_s": 84.81680917739868, "episodes_this_iter": 36, "episode_reward_mean": 1234.5329480452547, "info": {"grad_time_ms": 33915.314, "update_time_ms": 11.368, "num_steps_trained": 10530000, "num_steps_sampled": 10530000, "load_time_ms": 17.838, "default": {"cur_kl_coeff": 0.10000001639127731, "vf_explained_var": 0.31459155678749084, "total_loss": 13.57236385345459, "policy_loss": -0.006422682665288448, "entropy": 1.2517212629318237, "kl": 0.02001918852329254, "cur_lr": 0.0005000000237487257, "vf_loss": 13.57678508758545}, "sample_time_ms": 51409.48}, "timesteps_total": 10530000, "iterations_since_restore": 78, "episode_reward_max": 1421.9471432469782, "timesteps_this_iter": 135000, "training_iteration": 78, "node_ip": "10.138.0.2", "date": "2019-05-16_13-48-50", "policy_reward_mean": {}}
{"timestamp": 1558014616, "hostname": "flow-main", "timesteps_since_restore": 10665000, "episodes_total": 2982, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "synchronize_filters": true, "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:1.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "straggler_mitigation": false, "lr_schedule": null, "monitor": false, "input_evaluation": null, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9de898>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9de160>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9de630>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "clip_param": 0.3, "simple_optimizer": false, "kl_target": 0.01, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "model": {"custom_preprocessor": null, "squash_to_range": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "grayscale": false, "framestack": true, "lstm_cell_size": 256}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "6a5e6d87546141128087acb0b350a70a", "custom_metrics": {"system_level_velocity_min": 7.408203696213939, "cost1_min": 179.46142591590757, "system_level_velocity_mean": 10.99911828799384, "cost1_mean": 248.40710798395935, "cost2_mean": -6.46160750491803, "cost1_max": 286.26606903193886, "cost2_max": 0.0, "system_level_velocity_max": 13.297613574423568, "cost2_min": -33.75331546397361}, "done": false, "time_total_s": 6763.827518463135, "episode_reward_min": 890.3821006248141, "num_metric_batches_dropped": 0, "episode_len_mean": 750.0, "pid": 63737, "time_since_restore": 6763.827518463135, "time_this_iter_s": 85.63282227516174, "episodes_this_iter": 36, "episode_reward_mean": 1233.4809978324834, "info": {"grad_time_ms": 33964.861, "update_time_ms": 11.103, "num_steps_trained": 10665000, "num_steps_sampled": 10665000, "load_time_ms": 18.032, "default": {"cur_kl_coeff": 0.14999999105930328, "vf_explained_var": 0.2620720863342285, "total_loss": 13.904705047607422, "policy_loss": -0.004096823278814554, "entropy": 1.2465200424194336, "kl": 0.014299137517809868, "cur_lr": 0.0005000000237487257, "vf_loss": 13.906657218933105}, "sample_time_ms": 51437.696}, "timesteps_total": 10665000, "iterations_since_restore": 79, "episode_reward_max": 1429.5303451596906, "timesteps_this_iter": 135000, "training_iteration": 79, "node_ip": "10.138.0.2", "date": "2019-05-16_13-50-16", "policy_reward_mean": {}}
{"timestamp": 1558014702, "hostname": "flow-main", "timesteps_since_restore": 10800000, "episodes_total": 3018, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "synchronize_filters": true, "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:1.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "straggler_mitigation": false, "lr_schedule": null, "monitor": false, "input_evaluation": null, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9d47f0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9d4320>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9d40f0>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "clip_param": 0.3, "simple_optimizer": false, "kl_target": 0.01, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "model": {"custom_preprocessor": null, "squash_to_range": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "grayscale": false, "framestack": true, "lstm_cell_size": 256}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "6a5e6d87546141128087acb0b350a70a", "custom_metrics": {"system_level_velocity_min": 7.408203696213939, "cost1_min": 179.46142591590757, "system_level_velocity_mean": 10.973608533033499, "cost1_mean": 246.97790421871795, "cost2_mean": -6.00552941503263, "cost1_max": 286.26606903193886, "cost2_max": 0.0, "system_level_velocity_max": 13.297613574423568, "cost2_min": -31.001476265154025}, "done": false, "time_total_s": 6849.442233085632, "episode_reward_min": 890.3821006248141, "num_metric_batches_dropped": 0, "episode_len_mean": 750.0, "pid": 63737, "time_since_restore": 6849.442233085632, "time_this_iter_s": 85.61471462249756, "episodes_this_iter": 36, "episode_reward_mean": 1226.7854475161503, "info": {"grad_time_ms": 33993.121, "update_time_ms": 10.931, "num_steps_trained": 10800000, "num_steps_sampled": 10800000, "load_time_ms": 18.222, "default": {"cur_kl_coeff": 0.14999999105930328, "vf_explained_var": 0.34973081946372986, "total_loss": 13.45138931274414, "policy_loss": -0.005950243212282658, "entropy": 1.277998447418213, "kl": 0.01703106053173542, "cur_lr": 0.0005000000237487257, "vf_loss": 13.454785346984863}, "sample_time_ms": 51268.981}, "timesteps_total": 10800000, "iterations_since_restore": 80, "episode_reward_max": 1429.5303451596906, "timesteps_this_iter": 135000, "training_iteration": 80, "node_ip": "10.138.0.2", "date": "2019-05-16_13-51-42", "policy_reward_mean": {}}
{"timestamp": 1558014788, "hostname": "flow-main", "timesteps_since_restore": 10935000, "episodes_total": 3054, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "synchronize_filters": true, "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:1.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "straggler_mitigation": false, "lr_schedule": null, "monitor": false, "input_evaluation": null, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9dc518>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9ce048>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9ceba8>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "clip_param": 0.3, "simple_optimizer": false, "kl_target": 0.01, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "model": {"custom_preprocessor": null, "squash_to_range": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "grayscale": false, "framestack": true, "lstm_cell_size": 256}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "6a5e6d87546141128087acb0b350a70a", "custom_metrics": {"system_level_velocity_min": 7.683811774456179, "cost1_min": 185.13196393820544, "system_level_velocity_mean": 11.11770032031426, "cost1_mean": 249.60540283955197, "cost2_mean": -6.392496701229375, "cost1_max": 286.26606903193886, "cost2_max": 0.0, "system_level_velocity_max": 13.297613574423568, "cost2_min": -31.001476265154025}, "done": false, "time_total_s": 6935.866060972214, "episode_reward_min": 914.2181109501722, "num_metric_batches_dropped": 0, "episode_len_mean": 750.0, "pid": 63737, "time_since_restore": 6935.866060972214, "time_this_iter_s": 86.42382788658142, "episodes_this_iter": 36, "episode_reward_mean": 1239.3450816977809, "info": {"grad_time_ms": 34083.101, "update_time_ms": 10.824, "num_steps_trained": 10935000, "num_steps_sampled": 10935000, "load_time_ms": 17.917, "default": {"cur_kl_coeff": 0.14999999105930328, "vf_explained_var": 0.31430935859680176, "total_loss": 13.918907165527344, "policy_loss": -0.005032526794821024, "entropy": 1.260676622390747, "kl": 0.014822077006101608, "cur_lr": 0.0005000000237487257, "vf_loss": 13.921716690063477}, "sample_time_ms": 51343.975}, "timesteps_total": 10935000, "iterations_since_restore": 81, "episode_reward_max": 1429.5303451596906, "timesteps_this_iter": 135000, "training_iteration": 81, "node_ip": "10.138.0.2", "date": "2019-05-16_13-53-08", "policy_reward_mean": {}}
{"timestamp": 1558014874, "hostname": "flow-main", "timesteps_since_restore": 11070000, "episodes_total": 3090, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "synchronize_filters": true, "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:1.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "straggler_mitigation": false, "lr_schedule": null, "monitor": false, "input_evaluation": null, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9de208>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9de438>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9de160>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "clip_param": 0.3, "simple_optimizer": false, "kl_target": 0.01, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "model": {"custom_preprocessor": null, "squash_to_range": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "grayscale": false, "framestack": true, "lstm_cell_size": 256}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "6a5e6d87546141128087acb0b350a70a", "custom_metrics": {"system_level_velocity_min": 7.6702982216384665, "cost1_min": 129.78508750880638, "system_level_velocity_mean": 11.110340662068413, "cost1_mean": 248.13795418581685, "cost2_mean": -6.828629006228877, "cost1_max": 283.62895591368203, "cost2_max": 0.0, "system_level_velocity_max": 13.371466603616076, "cost2_min": -40.110115826591205}, "done": false, "time_total_s": 7021.99231004715, "episode_reward_min": 631.1133316022799, "num_metric_batches_dropped": 0, "episode_len_mean": 747.74, "pid": 63737, "time_since_restore": 7021.99231004715, "time_this_iter_s": 86.12624907493591, "episodes_this_iter": 36, "episode_reward_mean": 1231.78308620105, "info": {"grad_time_ms": 34111.591, "update_time_ms": 10.791, "num_steps_trained": 11070000, "num_steps_sampled": 11070000, "load_time_ms": 17.942, "default": {"cur_kl_coeff": 0.14999999105930328, "vf_explained_var": 0.34977978467941284, "total_loss": 13.746297836303711, "policy_loss": -0.0046618045307695866, "entropy": 1.244820475578308, "kl": 0.01597151905298233, "cur_lr": 0.0005000000237487257, "vf_loss": 13.748563766479492}, "sample_time_ms": 51349.826}, "timesteps_total": 11070000, "iterations_since_restore": 82, "episode_reward_max": 1413.3447795684083, "timesteps_this_iter": 135000, "training_iteration": 82, "node_ip": "10.138.0.2", "date": "2019-05-16_13-54-34", "policy_reward_mean": {}}
{"timestamp": 1558014959, "hostname": "flow-main", "timesteps_since_restore": 11205000, "episodes_total": 3126, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "synchronize_filters": true, "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:1.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "straggler_mitigation": false, "lr_schedule": null, "monitor": false, "input_evaluation": null, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9d4400>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9d4748>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9d4f28>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "clip_param": 0.3, "simple_optimizer": false, "kl_target": 0.01, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "model": {"custom_preprocessor": null, "squash_to_range": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "grayscale": false, "framestack": true, "lstm_cell_size": 256}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "6a5e6d87546141128087acb0b350a70a", "custom_metrics": {"system_level_velocity_min": 7.612875641345025, "cost1_min": 129.78508750880638, "system_level_velocity_mean": 11.192467010543304, "cost1_mean": 249.65881515457528, "cost2_mean": -6.360475278240444, "cost1_max": 285.20311405596163, "cost2_max": 0.0, "system_level_velocity_max": 13.453096133829117, "cost2_min": -40.110115826591205}, "done": false, "time_total_s": 7107.172725915909, "episode_reward_min": 631.1133316022799, "num_metric_batches_dropped": 0, "episode_len_mean": 747.74, "pid": 63737, "time_since_restore": 7107.172725915909, "time_this_iter_s": 85.18041586875916, "episodes_this_iter": 36, "episode_reward_mean": 1240.0202164419525, "info": {"grad_time_ms": 34021.125, "update_time_ms": 10.817, "num_steps_trained": 11205000, "num_steps_sampled": 11205000, "load_time_ms": 18.058, "default": {"cur_kl_coeff": 0.14999999105930328, "vf_explained_var": 0.3698197603225708, "total_loss": 14.379425048828125, "policy_loss": -0.005892324727028608, "entropy": 1.27864670753479, "kl": 0.016010599210858345, "cur_lr": 0.0005000000237487257, "vf_loss": 14.382915496826172}, "sample_time_ms": 51323.043}, "timesteps_total": 11205000, "iterations_since_restore": 83, "episode_reward_max": 1414.9368503638484, "timesteps_this_iter": 135000, "training_iteration": 83, "node_ip": "10.138.0.2", "date": "2019-05-16_13-55-59", "policy_reward_mean": {}}
{"timestamp": 1558015047, "hostname": "flow-main", "timesteps_since_restore": 11340000, "episodes_total": 3162, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "synchronize_filters": true, "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:1.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "straggler_mitigation": false, "lr_schedule": null, "monitor": false, "input_evaluation": null, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9ce550>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9ce048>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9ce160>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "clip_param": 0.3, "simple_optimizer": false, "kl_target": 0.01, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "model": {"custom_preprocessor": null, "squash_to_range": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "grayscale": false, "framestack": true, "lstm_cell_size": 256}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "6a5e6d87546141128087acb0b350a70a", "custom_metrics": {"system_level_velocity_min": 4.605389760180468, "cost1_min": 65.33068596007534, "system_level_velocity_mean": 11.017811208814273, "cost1_mean": 246.30056067556302, "cost2_mean": -6.690785579763358, "cost1_max": 285.20311405596163, "cost2_max": 0.0, "system_level_velocity_max": 13.453096133829117, "cost2_min": -40.110115826591205}, "done": false, "time_total_s": 7194.537596702576, "episode_reward_min": 319.4110092689992, "num_metric_batches_dropped": 0, "episode_len_mean": 744.34, "pid": 63737, "time_since_restore": 7194.537596702576, "time_this_iter_s": 87.36487078666687, "episodes_this_iter": 36, "episode_reward_mean": 1223.2973699678014, "info": {"grad_time_ms": 34268.233, "update_time_ms": 10.717, "num_steps_trained": 11340000, "num_steps_sampled": 11340000, "load_time_ms": 18.061, "default": {"cur_kl_coeff": 0.14999999105930328, "vf_explained_var": 0.36177122592926025, "total_loss": 14.04491138458252, "policy_loss": -0.005723660346120596, "entropy": 1.295080304145813, "kl": 0.015604565851390362, "cur_lr": 0.0005000000237487257, "vf_loss": 14.048294067382812}, "sample_time_ms": 51332.522}, "timesteps_total": 11340000, "iterations_since_restore": 84, "episode_reward_max": 1414.9368503638484, "timesteps_this_iter": 135000, "training_iteration": 84, "node_ip": "10.138.0.2", "date": "2019-05-16_13-57-27", "policy_reward_mean": {}}
{"timestamp": 1558015132, "hostname": "flow-main", "timesteps_since_restore": 11475000, "episodes_total": 3198, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "synchronize_filters": true, "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:1.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "straggler_mitigation": false, "lr_schedule": null, "monitor": false, "input_evaluation": null, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9de588>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9de668>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9dea90>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "clip_param": 0.3, "simple_optimizer": false, "kl_target": 0.01, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "model": {"custom_preprocessor": null, "squash_to_range": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "grayscale": false, "framestack": true, "lstm_cell_size": 256}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "6a5e6d87546141128087acb0b350a70a", "custom_metrics": {"system_level_velocity_min": 4.605389760180468, "cost1_min": 65.33068596007534, "system_level_velocity_mean": 10.879122485984185, "cost1_mean": 245.4904128954931, "cost2_mean": -6.024881374095688, "cost1_max": 285.20311405596163, "cost2_max": 0.0, "system_level_velocity_max": 13.453096133829117, "cost2_min": -37.2}, "done": false, "time_total_s": 7279.386914253235, "episode_reward_min": 319.4110092689992, "num_metric_batches_dropped": 0, "episode_len_mean": 746.6, "pid": 63737, "time_since_restore": 7279.386914253235, "time_this_iter_s": 84.84931755065918, "episodes_this_iter": 36, "episode_reward_mean": 1220.0316500880726, "info": {"grad_time_ms": 34157.961, "update_time_ms": 10.741, "num_steps_trained": 11475000, "num_steps_sampled": 11475000, "load_time_ms": 18.217, "default": {"cur_kl_coeff": 0.14999999105930328, "vf_explained_var": 0.32512667775154114, "total_loss": 13.679424285888672, "policy_loss": -0.0055859629064798355, "entropy": 1.2644366025924683, "kl": 0.01465442031621933, "cur_lr": 0.0005000000237487257, "vf_loss": 13.682811737060547}, "sample_time_ms": 51355.92}, "timesteps_total": 11475000, "iterations_since_restore": 85, "episode_reward_max": 1414.9368503638484, "timesteps_this_iter": 135000, "training_iteration": 85, "node_ip": "10.138.0.2", "date": "2019-05-16_13-58-52", "policy_reward_mean": {}}
{"timestamp": 1558015218, "hostname": "flow-main", "timesteps_since_restore": 11610000, "episodes_total": 3234, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "synchronize_filters": true, "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:1.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "straggler_mitigation": false, "lr_schedule": null, "monitor": false, "input_evaluation": null, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9d4b00>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9dc780>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9dc160>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "clip_param": 0.3, "simple_optimizer": false, "kl_target": 0.01, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "model": {"custom_preprocessor": null, "squash_to_range": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "grayscale": false, "framestack": true, "lstm_cell_size": 256}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "6a5e6d87546141128087acb0b350a70a", "custom_metrics": {"system_level_velocity_min": 4.605389760180468, "cost1_min": 65.33068596007534, "system_level_velocity_mean": 10.904298248765869, "cost1_mean": 246.2834685527887, "cost2_mean": -5.534835053997356, "cost1_max": 283.285720807952, "cost2_max": 0.0, "system_level_velocity_max": 13.114937892834224, "cost2_min": -26.399999999999995}, "done": false, "time_total_s": 7365.435497283936, "episode_reward_min": 319.4110092689992, "num_metric_batches_dropped": 0, "episode_len_mean": 746.6, "pid": 63737, "time_since_restore": 7365.435497283936, "time_this_iter_s": 86.04858303070068, "episodes_this_iter": 36, "episode_reward_mean": 1224.3820214523635, "info": {"grad_time_ms": 34159.146, "update_time_ms": 10.49, "num_steps_trained": 11610000, "num_steps_sampled": 11610000, "load_time_ms": 18.155, "default": {"cur_kl_coeff": 0.14999999105930328, "vf_explained_var": 0.3188726603984833, "total_loss": 13.842598915100098, "policy_loss": -0.006071791052818298, "entropy": 1.292830228805542, "kl": 0.015895424410700798, "cur_lr": 0.0005000000237487257, "vf_loss": 13.84628677368164}, "sample_time_ms": 51449.82}, "timesteps_total": 11610000, "iterations_since_restore": 86, "episode_reward_max": 1407.587099596821, "timesteps_this_iter": 135000, "training_iteration": 86, "node_ip": "10.138.0.2", "date": "2019-05-16_14-00-18", "policy_reward_mean": {}}
{"timestamp": 1558015303, "hostname": "flow-main", "timesteps_since_restore": 11745000, "episodes_total": 3270, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "synchronize_filters": true, "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:1.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "straggler_mitigation": false, "lr_schedule": null, "monitor": false, "input_evaluation": null, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9debe0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc34e48>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9dea90>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "clip_param": 0.3, "simple_optimizer": false, "kl_target": 0.01, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "model": {"custom_preprocessor": null, "squash_to_range": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "grayscale": false, "framestack": true, "lstm_cell_size": 256}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "6a5e6d87546141128087acb0b350a70a", "custom_metrics": {"system_level_velocity_min": 7.458925648908, "cost1_min": 194.8321457906615, "system_level_velocity_mean": 10.879258179290126, "cost1_mean": 247.2580482364741, "cost2_mean": -5.321318761101307, "cost1_max": 283.96073949662343, "cost2_max": 0.0, "system_level_velocity_max": 13.171798683203878, "cost2_min": -31.18665816036866}, "done": false, "time_total_s": 7450.127676010132, "episode_reward_min": 965.7322346410405, "num_metric_batches_dropped": 0, "episode_len_mean": 750.0, "pid": 63737, "time_since_restore": 7450.127676010132, "time_this_iter_s": 84.69217872619629, "episodes_this_iter": 36, "episode_reward_mean": 1229.3294421224668, "info": {"grad_time_ms": 34006.953, "update_time_ms": 10.575, "num_steps_trained": 11745000, "num_steps_sampled": 11745000, "load_time_ms": 17.708, "default": {"cur_kl_coeff": 0.14999999105930328, "vf_explained_var": 0.2852972149848938, "total_loss": 13.850335121154785, "policy_loss": -0.006085358094424009, "entropy": 1.3178155422210693, "kl": 0.016604790464043617, "cur_lr": 0.0005000000237487257, "vf_loss": 13.85392951965332}, "sample_time_ms": 51399.449}, "timesteps_total": 11745000, "iterations_since_restore": 87, "episode_reward_max": 1404.8036974831155, "timesteps_this_iter": 135000, "training_iteration": 87, "node_ip": "10.138.0.2", "date": "2019-05-16_14-01-43", "policy_reward_mean": {}}
{"timestamp": 1558015388, "hostname": "flow-main", "timesteps_since_restore": 11880000, "episodes_total": 3307, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "synchronize_filters": true, "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:1.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "straggler_mitigation": false, "lr_schedule": null, "monitor": false, "input_evaluation": null, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9de048>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9deb00>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9de4e0>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "clip_param": 0.3, "simple_optimizer": false, "kl_target": 0.01, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "model": {"custom_preprocessor": null, "squash_to_range": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "grayscale": false, "framestack": true, "lstm_cell_size": 256}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "6a5e6d87546141128087acb0b350a70a", "custom_metrics": {"system_level_velocity_min": 5.016947479941568, "cost1_min": 83.13765006442848, "system_level_velocity_mean": 10.81201095878032, "cost1_mean": 245.5802416544976, "cost2_mean": -4.892575170065629, "cost1_max": 283.96073949662343, "cost2_max": 0.0, "system_level_velocity_max": 13.171798683203878, "cost2_min": -31.18665816036866}, "done": false, "time_total_s": 7535.710108280182, "episode_reward_min": 410.5956051098755, "num_metric_batches_dropped": 0, "episode_len_mean": 747.01, "pid": 63737, "time_since_restore": 7535.710108280182, "time_this_iter_s": 85.58243227005005, "episodes_this_iter": 37, "episode_reward_mean": 1221.3130940769584, "info": {"grad_time_ms": 33994.092, "update_time_ms": 10.564, "num_steps_trained": 11880000, "num_steps_sampled": 11880000, "load_time_ms": 17.385, "default": {"cur_kl_coeff": 0.14999999105930328, "vf_explained_var": 0.3581506609916687, "total_loss": 13.840004920959473, "policy_loss": -0.006417842116206884, "entropy": 1.3324090242385864, "kl": 0.017035115510225296, "cur_lr": 0.0005000000237487257, "vf_loss": 13.843867301940918}, "sample_time_ms": 51493.723}, "timesteps_total": 11880000, "iterations_since_restore": 88, "episode_reward_max": 1404.8036974831155, "timesteps_this_iter": 135000, "training_iteration": 88, "node_ip": "10.138.0.2", "date": "2019-05-16_14-03-08", "policy_reward_mean": {}}
{"timestamp": 1558015473, "hostname": "flow-main", "timesteps_since_restore": 12015000, "episodes_total": 3343, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "synchronize_filters": true, "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:1.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "straggler_mitigation": false, "lr_schedule": null, "monitor": false, "input_evaluation": null, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9dc160>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9dc3c8>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9dc208>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "clip_param": 0.3, "simple_optimizer": false, "kl_target": 0.01, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "model": {"custom_preprocessor": null, "squash_to_range": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "grayscale": false, "framestack": true, "lstm_cell_size": 256}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "6a5e6d87546141128087acb0b350a70a", "custom_metrics": {"system_level_velocity_min": 5.016947479941568, "cost1_min": 83.13765006442848, "system_level_velocity_mean": 10.670300185206512, "cost1_mean": 243.76017868966954, "cost2_mean": -5.063311475567792, "cost1_max": 283.96073949662343, "cost2_max": 0.0, "system_level_velocity_max": 13.171798683203878, "cost2_min": -31.18665816036866}, "done": false, "time_total_s": 7620.7938866615295, "episode_reward_min": 410.5956051098755, "num_metric_batches_dropped": 0, "episode_len_mean": 747.01, "pid": 63737, "time_since_restore": 7620.7938866615295, "time_this_iter_s": 85.08377838134766, "episodes_this_iter": 36, "episode_reward_mean": 1211.8861651542354, "info": {"grad_time_ms": 34000.375, "update_time_ms": 10.806, "num_steps_trained": 12015000, "num_steps_sampled": 12015000, "load_time_ms": 17.146, "default": {"cur_kl_coeff": 0.14999999105930328, "vf_explained_var": 0.32812443375587463, "total_loss": 13.502344131469727, "policy_loss": -0.005416877567768097, "entropy": 1.2915430068969727, "kl": 0.01562994346022606, "cur_lr": 0.0005000000237487257, "vf_loss": 13.505416870117188}, "sample_time_ms": 51435.195}, "timesteps_total": 12015000, "iterations_since_restore": 89, "episode_reward_max": 1404.8036974831155, "timesteps_this_iter": 135000, "training_iteration": 89, "node_ip": "10.138.0.2", "date": "2019-05-16_14-04-33", "policy_reward_mean": {}}
{"timestamp": 1558015560, "hostname": "flow-main", "timesteps_since_restore": 12150000, "episodes_total": 3379, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "synchronize_filters": true, "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:1.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "straggler_mitigation": false, "lr_schedule": null, "monitor": false, "input_evaluation": null, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9eb3c8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9eb1d0>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9eb2b0>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "clip_param": 0.3, "simple_optimizer": false, "kl_target": 0.01, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "model": {"custom_preprocessor": null, "squash_to_range": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "grayscale": false, "framestack": true, "lstm_cell_size": 256}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "6a5e6d87546141128087acb0b350a70a", "custom_metrics": {"system_level_velocity_min": 5.016947479941568, "cost1_min": 83.13765006442848, "system_level_velocity_mean": 10.755406460600193, "cost1_mean": 244.87248802246245, "cost2_mean": -4.742005285135438, "cost1_max": 281.4979938552846, "cost2_max": 0.0, "system_level_velocity_max": 13.169562260882914, "cost2_min": -24.08658421430331}, "done": false, "time_total_s": 7707.154916763306, "episode_reward_min": 410.5956051098755, "num_metric_batches_dropped": 0, "episode_len_mean": 747.01, "pid": 63737, "time_since_restore": 7707.154916763306, "time_this_iter_s": 86.36103010177612, "episodes_this_iter": 36, "episode_reward_mean": 1217.8501463071975, "info": {"grad_time_ms": 34041.915, "update_time_ms": 10.917, "num_steps_trained": 12150000, "num_steps_sampled": 12150000, "load_time_ms": 17.153, "default": {"cur_kl_coeff": 0.14999999105930328, "vf_explained_var": 0.3151901662349701, "total_loss": 13.391031265258789, "policy_loss": -0.005542499013245106, "entropy": 1.3279170989990234, "kl": 0.017697662115097046, "cur_lr": 0.0005000000237487257, "vf_loss": 13.393918991088867}, "sample_time_ms": 51462.443}, "timesteps_total": 12150000, "iterations_since_restore": 90, "episode_reward_max": 1403.5899692764194, "timesteps_this_iter": 135000, "training_iteration": 90, "node_ip": "10.138.0.2", "date": "2019-05-16_14-06-00", "policy_reward_mean": {}}
{"timestamp": 1558015646, "hostname": "flow-main", "timesteps_since_restore": 12285000, "episodes_total": 3415, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "synchronize_filters": true, "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:1.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "straggler_mitigation": false, "lr_schedule": null, "monitor": false, "input_evaluation": null, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9de198>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9de9e8>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9de7f0>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "clip_param": 0.3, "simple_optimizer": false, "kl_target": 0.01, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "model": {"custom_preprocessor": null, "squash_to_range": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "grayscale": false, "framestack": true, "lstm_cell_size": 256}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "6a5e6d87546141128087acb0b350a70a", "custom_metrics": {"system_level_velocity_min": 6.603543512325465, "cost1_min": 172.81677435237867, "system_level_velocity_mean": 10.64048242935181, "cost1_mean": 243.65894033308942, "cost2_mean": -5.343081985506871, "cost1_max": 281.4979938552846, "cost2_max": 0.0, "system_level_velocity_max": 13.169562260882914, "cost2_min": -45.4}, "done": false, "time_total_s": 7793.369765520096, "episode_reward_min": 853.4851699676472, "num_metric_batches_dropped": 0, "episode_len_mean": 750.0, "pid": 63737, "time_since_restore": 7793.369765520096, "time_this_iter_s": 86.21484875679016, "episodes_this_iter": 36, "episode_reward_mean": 1211.4987091286985, "info": {"grad_time_ms": 34091.432, "update_time_ms": 10.849, "num_steps_trained": 12285000, "num_steps_sampled": 12285000, "load_time_ms": 17.505, "default": {"cur_kl_coeff": 0.14999999105930328, "vf_explained_var": 0.3686980903148651, "total_loss": 13.191346168518066, "policy_loss": -0.006758317817002535, "entropy": 1.331789493560791, "kl": 0.01769482158124447, "cur_lr": 0.0005000000237487257, "vf_loss": 13.195450782775879}, "sample_time_ms": 51390.42}, "timesteps_total": 12285000, "iterations_since_restore": 91, "episode_reward_max": 1403.5899692764194, "timesteps_this_iter": 135000, "training_iteration": 91, "node_ip": "10.138.0.2", "date": "2019-05-16_14-07-26", "policy_reward_mean": {}}
{"timestamp": 1558015733, "hostname": "flow-main", "timesteps_since_restore": 12420000, "episodes_total": 3451, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "synchronize_filters": true, "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:1.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "straggler_mitigation": false, "lr_schedule": null, "monitor": false, "input_evaluation": null, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9d40f0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9d4400>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9d4d30>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "clip_param": 0.3, "simple_optimizer": false, "kl_target": 0.01, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "model": {"custom_preprocessor": null, "squash_to_range": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "grayscale": false, "framestack": true, "lstm_cell_size": 256}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "6a5e6d87546141128087acb0b350a70a", "custom_metrics": {"system_level_velocity_min": 6.603543512325465, "cost1_min": 172.81677435237867, "system_level_velocity_mean": 10.365560184841259, "cost1_mean": 239.63016538591438, "cost2_mean": -6.121505176809479, "cost1_max": 287.46304123984766, "cost2_max": 0.0, "system_level_velocity_max": 13.28050159379706, "cost2_min": -45.4}, "done": false, "time_total_s": 7880.217872142792, "episode_reward_min": 853.4851699676472, "num_metric_batches_dropped": 0, "episode_len_mean": 748.9, "pid": 63737, "time_since_restore": 7880.217872142792, "time_this_iter_s": 86.84810662269592, "episodes_this_iter": 36, "episode_reward_mean": 1190.88837154173, "info": {"grad_time_ms": 34093.717, "update_time_ms": 10.95, "num_steps_trained": 12420000, "num_steps_sampled": 12420000, "load_time_ms": 17.71, "default": {"cur_kl_coeff": 0.14999999105930328, "vf_explained_var": 0.34706228971481323, "total_loss": 12.977554321289062, "policy_loss": -0.005015999544411898, "entropy": 1.342423677444458, "kl": 0.01919889822602272, "cur_lr": 0.0005000000237487257, "vf_loss": 12.979690551757812}, "sample_time_ms": 51458.922}, "timesteps_total": 12420000, "iterations_since_restore": 92, "episode_reward_max": 1430.7152061992404, "timesteps_this_iter": 135000, "training_iteration": 92, "node_ip": "10.138.0.2", "date": "2019-05-16_14-08-53", "policy_reward_mean": {}}
{"timestamp": 1558015820, "hostname": "flow-main", "timesteps_since_restore": 12555000, "episodes_total": 3487, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "synchronize_filters": true, "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:1.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "straggler_mitigation": false, "lr_schedule": null, "monitor": false, "input_evaluation": null, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9cc1d0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9cc160>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9cc320>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "clip_param": 0.3, "simple_optimizer": false, "kl_target": 0.01, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "model": {"custom_preprocessor": null, "squash_to_range": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "grayscale": false, "framestack": true, "lstm_cell_size": 256}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "6a5e6d87546141128087acb0b350a70a", "custom_metrics": {"system_level_velocity_min": 6.008841919131707, "cost1_min": 157.074858864523, "system_level_velocity_mean": 10.215685087779782, "cost1_mean": 237.02900427782595, "cost2_mean": -6.356145816584708, "cost1_max": 287.46304123984766, "cost2_max": 0.0, "system_level_velocity_max": 13.28050159379706, "cost2_min": -45.4}, "done": false, "time_total_s": 7966.653705835342, "episode_reward_min": 764.8687372578397, "num_metric_batches_dropped": 0, "episode_len_mean": 748.9, "pid": 63737, "time_since_restore": 7966.653705835342, "time_this_iter_s": 86.43583369255066, "episodes_this_iter": 36, "episode_reward_mean": 1177.8107546853234, "info": {"grad_time_ms": 34207.118, "update_time_ms": 10.81, "num_steps_trained": 12555000, "num_steps_sampled": 12555000, "load_time_ms": 18.085, "default": {"cur_kl_coeff": 0.14999999105930328, "vf_explained_var": 0.3431518077850342, "total_loss": 13.054685592651367, "policy_loss": -0.007021691184490919, "entropy": 1.3498767614364624, "kl": 0.0172006506472826, "cur_lr": 0.0005000000237487257, "vf_loss": 13.059126853942871}, "sample_time_ms": 51468.772}, "timesteps_total": 12555000, "iterations_since_restore": 93, "episode_reward_max": 1430.7152061992404, "timesteps_this_iter": 135000, "training_iteration": 93, "node_ip": "10.138.0.2", "date": "2019-05-16_14-10-20", "policy_reward_mean": {}}
{"timestamp": 1558015906, "hostname": "flow-main", "timesteps_since_restore": 12690000, "episodes_total": 3523, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "synchronize_filters": true, "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:1.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "straggler_mitigation": false, "lr_schedule": null, "monitor": false, "input_evaluation": null, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9de630>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9d4748>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9de5c0>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "clip_param": 0.3, "simple_optimizer": false, "kl_target": 0.01, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "model": {"custom_preprocessor": null, "squash_to_range": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "grayscale": false, "framestack": true, "lstm_cell_size": 256}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "6a5e6d87546141128087acb0b350a70a", "custom_metrics": {"system_level_velocity_min": 6.008841919131707, "cost1_min": 157.074858864523, "system_level_velocity_mean": 10.03667853127732, "cost1_mean": 234.5729514937841, "cost2_mean": -6.629339406285874, "cost1_max": 279.9814266259907, "cost2_max": 0.0, "system_level_velocity_max": 13.015408307524465, "cost2_min": -34.4}, "done": false, "time_total_s": 8053.050798177719, "episode_reward_min": 764.8687372578397, "num_metric_batches_dropped": 0, "episode_len_mean": 748.9, "pid": 63737, "time_since_restore": 8053.050798177719, "time_this_iter_s": 86.39709234237671, "episodes_this_iter": 36, "episode_reward_mean": 1164.903677992446, "info": {"grad_time_ms": 34104.317, "update_time_ms": 10.809, "num_steps_trained": 12690000, "num_steps_sampled": 12690000, "load_time_ms": 18.316, "default": {"cur_kl_coeff": 0.14999999105930328, "vf_explained_var": 0.346232533454895, "total_loss": 12.932926177978516, "policy_loss": -0.007935275323688984, "entropy": 1.3637487888336182, "kl": 0.01937643624842167, "cur_lr": 0.0005000000237487257, "vf_loss": 12.93795394897461}, "sample_time_ms": 51474.965}, "timesteps_total": 12690000, "iterations_since_restore": 94, "episode_reward_max": 1399.9071331299515, "timesteps_this_iter": 135000, "training_iteration": 94, "node_ip": "10.138.0.2", "date": "2019-05-16_14-11-46", "policy_reward_mean": {}}
{"timestamp": 1558015993, "hostname": "flow-main", "timesteps_since_restore": 12825000, "episodes_total": 3559, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "synchronize_filters": true, "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:1.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "straggler_mitigation": false, "lr_schedule": null, "monitor": false, "input_evaluation": null, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25fc34e48>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9eb278>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9eb1d0>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "clip_param": 0.3, "simple_optimizer": false, "kl_target": 0.01, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "model": {"custom_preprocessor": null, "squash_to_range": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "grayscale": false, "framestack": true, "lstm_cell_size": 256}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "6a5e6d87546141128087acb0b350a70a", "custom_metrics": {"system_level_velocity_min": 6.222882018005221, "cost1_min": 168.78086615564493, "system_level_velocity_mean": 10.14176242908805, "cost1_mean": 236.42089526311804, "cost2_mean": -6.216649709909725, "cost1_max": 275.3174980084334, "cost2_max": 0.0, "system_level_velocity_max": 13.015408307524465, "cost2_min": -30.081678580114517}, "done": false, "time_total_s": 8140.096612453461, "episode_reward_min": 821.5542437158614, "num_metric_batches_dropped": 0, "episode_len_mean": 750.0, "pid": 63737, "time_since_restore": 8140.096612453461, "time_this_iter_s": 87.04581427574158, "episodes_this_iter": 36, "episode_reward_mean": 1174.234040297462, "info": {"grad_time_ms": 34323.78, "update_time_ms": 10.548, "num_steps_trained": 12825000, "num_steps_sampled": 12825000, "load_time_ms": 17.91, "default": {"cur_kl_coeff": 0.14999999105930328, "vf_explained_var": 0.35495999455451965, "total_loss": 12.842432022094727, "policy_loss": -0.006681461352854967, "entropy": 1.391116738319397, "kl": 0.019833577796816826, "cur_lr": 0.0005000000237487257, "vf_loss": 12.846138954162598}, "sample_time_ms": 51476.108}, "timesteps_total": 12825000, "iterations_since_restore": 95, "episode_reward_max": 1376.2874900421698, "timesteps_this_iter": 135000, "training_iteration": 95, "node_ip": "10.138.0.2", "date": "2019-05-16_14-13-13", "policy_reward_mean": {}}
{"timestamp": 1558016079, "hostname": "flow-main", "timesteps_since_restore": 12960000, "episodes_total": 3595, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "synchronize_filters": true, "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:1.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "straggler_mitigation": false, "lr_schedule": null, "monitor": false, "input_evaluation": null, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9d4dd8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9eb0f0>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9eb400>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "clip_param": 0.3, "simple_optimizer": false, "kl_target": 0.01, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "model": {"custom_preprocessor": null, "squash_to_range": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "grayscale": false, "framestack": true, "lstm_cell_size": 256}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "6a5e6d87546141128087acb0b350a70a", "custom_metrics": {"system_level_velocity_min": 6.334396683721746, "cost1_min": 164.04468540121724, "system_level_velocity_mean": 10.03663849036598, "cost1_mean": 235.83217502579714, "cost2_mean": -7.221753444006493, "cost1_max": 275.83395944638556, "cost2_max": 0.0, "system_level_velocity_max": 13.296753103627152, "cost2_min": -34.02565291473165}, "done": false, "time_total_s": 8225.54618549347, "episode_reward_min": 790.2101297324597, "num_metric_batches_dropped": 0, "episode_len_mean": 750.0, "pid": 63737, "time_since_restore": 8225.54618549347, "time_this_iter_s": 85.44957304000854, "episodes_this_iter": 36, "episode_reward_mean": 1170.0971876760796, "info": {"grad_time_ms": 34318.402, "update_time_ms": 10.813, "num_steps_trained": 12960000, "num_steps_sampled": 12960000, "load_time_ms": 18.118, "default": {"cur_kl_coeff": 0.14999999105930328, "vf_explained_var": 0.3891569674015045, "total_loss": 12.680285453796387, "policy_loss": -0.00739525118842721, "entropy": 1.3825558423995972, "kl": 0.01925550401210785, "cur_lr": 0.0005000000237487257, "vf_loss": 12.684791564941406}, "sample_time_ms": 51425.954}, "timesteps_total": 12960000, "iterations_since_restore": 96, "episode_reward_max": 1379.1697972319266, "timesteps_this_iter": 135000, "training_iteration": 96, "node_ip": "10.138.0.2", "date": "2019-05-16_14-14-39", "policy_reward_mean": {}}
{"timestamp": 1558016164, "hostname": "flow-main", "timesteps_since_restore": 13095000, "episodes_total": 3632, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "synchronize_filters": true, "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:1.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "straggler_mitigation": false, "lr_schedule": null, "monitor": false, "input_evaluation": null, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9de5c0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9de470>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9de518>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "clip_param": 0.3, "simple_optimizer": false, "kl_target": 0.01, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "model": {"custom_preprocessor": null, "squash_to_range": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "grayscale": false, "framestack": true, "lstm_cell_size": 256}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "6a5e6d87546141128087acb0b350a70a", "custom_metrics": {"system_level_velocity_min": 6.334396683721746, "cost1_min": 147.79939856821625, "system_level_velocity_mean": 9.996239028079918, "cost1_mean": 235.18177803825202, "cost2_mean": -7.994730178729482, "cost1_max": 280.9885280005185, "cost2_max": 0.0, "system_level_velocity_max": 13.296753103627152, "cost2_min": -40.8}, "done": false, "time_total_s": 8310.754069328308, "episode_reward_min": 702.5758587373501, "num_metric_batches_dropped": 0, "episode_len_mean": 748.5, "pid": 63737, "time_since_restore": 8310.754069328308, "time_this_iter_s": 85.20788383483887, "episodes_this_iter": 37, "episode_reward_mean": 1166.4784563528779, "info": {"grad_time_ms": 34369.107, "update_time_ms": 10.894, "num_steps_trained": 13095000, "num_steps_sampled": 13095000, "load_time_ms": 18.674, "default": {"cur_kl_coeff": 0.14999999105930328, "vf_explained_var": 0.4163629710674286, "total_loss": 13.061347007751465, "policy_loss": -0.00740849319845438, "entropy": 1.3725345134735107, "kl": 0.01926802098751068, "cur_lr": 0.0005000000237487257, "vf_loss": 13.065865516662598}, "sample_time_ms": 51424.134}, "timesteps_total": 13095000, "iterations_since_restore": 97, "episode_reward_max": 1404.942640002585, "timesteps_this_iter": 135000, "training_iteration": 97, "node_ip": "10.138.0.2", "date": "2019-05-16_14-16-04", "policy_reward_mean": {}}
{"timestamp": 1558016250, "hostname": "flow-main", "timesteps_since_restore": 13230000, "episodes_total": 3669, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "synchronize_filters": true, "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:1.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "straggler_mitigation": false, "lr_schedule": null, "monitor": false, "input_evaluation": null, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9eb320>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9eb278>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9eb390>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "clip_param": 0.3, "simple_optimizer": false, "kl_target": 0.01, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "model": {"custom_preprocessor": null, "squash_to_range": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "grayscale": false, "framestack": true, "lstm_cell_size": 256}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "6a5e6d87546141128087acb0b350a70a", "custom_metrics": {"system_level_velocity_min": 6.334396683721746, "cost1_min": 83.56748498486148, "system_level_velocity_mean": 9.974699626805402, "cost1_mean": 233.4087225167937, "cost2_mean": -7.7065390980514294, "cost1_max": 280.9885280005185, "cost2_max": 0.0, "system_level_velocity_max": 13.296753103627152, "cost2_min": -40.8}, "done": false, "time_total_s": 8396.480813503265, "episode_reward_min": 413.65295702148376, "num_metric_batches_dropped": 0, "episode_len_mean": 744.06, "pid": 63737, "time_since_restore": 8396.480813503265, "time_this_iter_s": 85.72674417495728, "episodes_this_iter": 37, "episode_reward_mean": 1157.9188360458181, "info": {"grad_time_ms": 34443.655, "update_time_ms": 11.013, "num_steps_trained": 13230000, "num_steps_sampled": 13230000, "load_time_ms": 18.767, "default": {"cur_kl_coeff": 0.14999999105930328, "vf_explained_var": 0.38953647017478943, "total_loss": 13.282574653625488, "policy_loss": -0.007336026523262262, "entropy": 1.355913758277893, "kl": 0.018379008397459984, "cur_lr": 0.0005000000237487257, "vf_loss": 13.287154197692871}, "sample_time_ms": 51355.861}, "timesteps_total": 13230000, "iterations_since_restore": 98, "episode_reward_max": 1404.942640002585, "timesteps_this_iter": 135000, "training_iteration": 98, "node_ip": "10.138.0.2", "date": "2019-05-16_14-17-30", "policy_reward_mean": {}}
{"timestamp": 1558016335, "hostname": "flow-main", "timesteps_since_restore": 13365000, "episodes_total": 3705, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "synchronize_filters": true, "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:1.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "straggler_mitigation": false, "lr_schedule": null, "monitor": false, "input_evaluation": null, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9eb0b8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9eb0f0>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9eb3c8>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "clip_param": 0.3, "simple_optimizer": false, "kl_target": 0.01, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "model": {"custom_preprocessor": null, "squash_to_range": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "grayscale": false, "framestack": true, "lstm_cell_size": 256}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "6a5e6d87546141128087acb0b350a70a", "custom_metrics": {"system_level_velocity_min": 4.365989574438861, "cost1_min": 63.450581980097596, "system_level_velocity_mean": 10.112286371193125, "cost1_mean": 235.69381974687437, "cost2_mean": -6.76941718500483, "cost1_max": 281.4054134754624, "cost2_max": 0.0, "system_level_velocity_max": 13.19640348358904, "cost2_min": -40.8}, "done": false, "time_total_s": 8481.88283777237, "episode_reward_min": 303.50085056850577, "num_metric_batches_dropped": 0, "episode_len_mean": 740.64, "pid": 63737, "time_since_restore": 8481.88283777237, "time_this_iter_s": 85.402024269104, "episodes_this_iter": 36, "episode_reward_mean": 1170.1211262163008, "info": {"grad_time_ms": 34357.493, "update_time_ms": 11.016, "num_steps_trained": 13365000, "num_steps_sampled": 13365000, "load_time_ms": 18.957, "default": {"cur_kl_coeff": 0.14999999105930328, "vf_explained_var": 0.3935714364051819, "total_loss": 12.699013710021973, "policy_loss": -0.006652925629168749, "entropy": 1.3522891998291016, "kl": 0.017515379935503006, "cur_lr": 0.0005000000237487257, "vf_loss": 12.70304012298584}, "sample_time_ms": 51474.573}, "timesteps_total": 13365000, "iterations_since_restore": 99, "episode_reward_max": 1403.6627888710932, "timesteps_this_iter": 135000, "training_iteration": 99, "node_ip": "10.138.0.2", "date": "2019-05-16_14-18-55", "policy_reward_mean": {}}
{"timestamp": 1558016421, "hostname": "flow-main", "timesteps_since_restore": 13500000, "episodes_total": 3741, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "synchronize_filters": true, "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:1.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "straggler_mitigation": false, "lr_schedule": null, "monitor": false, "input_evaluation": null, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9deef0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9de5f8>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9dea58>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "clip_param": 0.3, "simple_optimizer": false, "kl_target": 0.01, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "model": {"custom_preprocessor": null, "squash_to_range": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "grayscale": false, "framestack": true, "lstm_cell_size": 256}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "6a5e6d87546141128087acb0b350a70a", "custom_metrics": {"system_level_velocity_min": 4.365989574438861, "cost1_min": 63.450581980097596, "system_level_velocity_mean": 10.176791360056885, "cost1_mean": 236.6699319961, "cost2_mean": -6.273229228741904, "cost1_max": 281.4054134754624, "cost2_max": 0.0, "system_level_velocity_max": 13.19640348358904, "cost2_min": -32.13790451058221}, "done": false, "time_total_s": 8567.560414075851, "episode_reward_min": 303.50085056850577, "num_metric_batches_dropped": 0, "episode_len_mean": 742.04, "pid": 63737, "time_since_restore": 8567.560414075851, "time_this_iter_s": 85.67757630348206, "episodes_this_iter": 36, "episode_reward_mean": 1175.2980656761492, "info": {"grad_time_ms": 34321.426, "update_time_ms": 11.082, "num_steps_trained": 13500000, "num_steps_sampled": 13500000, "load_time_ms": 19.001, "default": {"cur_kl_coeff": 0.14999999105930328, "vf_explained_var": 0.3647494614124298, "total_loss": 12.56189250946045, "policy_loss": -0.006387305911630392, "entropy": 1.3629381656646729, "kl": 0.017489677295088768, "cur_lr": 0.0005000000237487257, "vf_loss": 12.565656661987305}, "sample_time_ms": 51447.124}, "timesteps_total": 13500000, "iterations_since_restore": 100, "episode_reward_max": 1403.6627888710932, "timesteps_this_iter": 135000, "training_iteration": 100, "node_ip": "10.138.0.2", "date": "2019-05-16_14-20-21", "policy_reward_mean": {}}
{"timestamp": 1558016506, "hostname": "flow-main", "timesteps_since_restore": 13635000, "episodes_total": 3777, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "synchronize_filters": true, "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:1.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "straggler_mitigation": false, "lr_schedule": null, "monitor": false, "input_evaluation": null, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9ebf60>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9eb5f8>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9ebeb8>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "clip_param": 0.3, "simple_optimizer": false, "kl_target": 0.01, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "model": {"custom_preprocessor": null, "squash_to_range": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "grayscale": false, "framestack": true, "lstm_cell_size": 256}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "6a5e6d87546141128087acb0b350a70a", "custom_metrics": {"system_level_velocity_min": 4.365989574438861, "cost1_min": 63.450581980097596, "system_level_velocity_mean": 10.063170513812887, "cost1_mean": 236.8341849997999, "cost2_mean": -8.380089476074044, "cost1_max": 284.8193293408941, "cost2_max": 0.0, "system_level_velocity_max": 13.19640348358904, "cost2_min": -34.88976415349499}, "done": false, "time_total_s": 8652.91008234024, "episode_reward_min": 303.50085056850577, "num_metric_batches_dropped": 0, "episode_len_mean": 746.48, "pid": 63737, "time_since_restore": 8652.91008234024, "time_this_iter_s": 85.34966826438904, "episodes_this_iter": 36, "episode_reward_mean": 1173.428970748526, "info": {"grad_time_ms": 34229.654, "update_time_ms": 11.106, "num_steps_trained": 13635000, "num_steps_sampled": 13635000, "load_time_ms": 18.789, "default": {"cur_kl_coeff": 0.14999999105930328, "vf_explained_var": 0.3813413977622986, "total_loss": 12.371241569519043, "policy_loss": -0.00853043794631958, "entropy": 1.4091459512710571, "kl": 0.019253836944699287, "cur_lr": 0.0005000000237487257, "vf_loss": 12.376884460449219}, "sample_time_ms": 51454.768}, "timesteps_total": 13635000, "iterations_since_restore": 101, "episode_reward_max": 1407.7124346994378, "timesteps_this_iter": 135000, "training_iteration": 101, "node_ip": "10.138.0.2", "date": "2019-05-16_14-21-46", "policy_reward_mean": {}}
{"timestamp": 1558016592, "hostname": "flow-main", "timesteps_since_restore": 13770000, "episodes_total": 3813, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "synchronize_filters": true, "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:1.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "straggler_mitigation": false, "lr_schedule": null, "monitor": false, "input_evaluation": null, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9d4908>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9d4f98>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9d4be0>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "clip_param": 0.3, "simple_optimizer": false, "kl_target": 0.01, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "model": {"custom_preprocessor": null, "squash_to_range": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "grayscale": false, "framestack": true, "lstm_cell_size": 256}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "6a5e6d87546141128087acb0b350a70a", "custom_metrics": {"system_level_velocity_min": 6.217752451928539, "cost1_min": 163.14999065974206, "system_level_velocity_mean": 10.086432074339587, "cost1_mean": 236.62139076591058, "cost2_mean": -7.916606438494472, "cost1_max": 284.8193293408941, "cost2_max": 0.0, "system_level_velocity_max": 12.87588136908572, "cost2_min": -34.88976415349499}, "done": false, "time_total_s": 8738.935146093369, "episode_reward_min": 809.5060394855838, "num_metric_batches_dropped": 0, "episode_len_mean": 750.0, "pid": 63737, "time_since_restore": 8738.935146093369, "time_this_iter_s": 86.02506375312805, "episodes_this_iter": 36, "episode_reward_mean": 1172.9560511753812, "info": {"grad_time_ms": 34294.2, "update_time_ms": 11.064, "num_steps_trained": 13770000, "num_steps_sampled": 13770000, "load_time_ms": 18.965, "default": {"cur_kl_coeff": 0.14999999105930328, "vf_explained_var": 0.3860068619251251, "total_loss": 12.44216251373291, "policy_loss": -0.0070825498551130295, "entropy": 1.4013984203338623, "kl": 0.018871242180466652, "cur_lr": 0.0005000000237487257, "vf_loss": 12.44641399383545}, "sample_time_ms": 51306.53}, "timesteps_total": 13770000, "iterations_since_restore": 102, "episode_reward_max": 1407.7124346994378, "timesteps_this_iter": 135000, "training_iteration": 102, "node_ip": "10.138.0.2", "date": "2019-05-16_14-23-12", "policy_reward_mean": {}}
{"timestamp": 1558016677, "hostname": "flow-main", "timesteps_since_restore": 13905000, "episodes_total": 3849, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "synchronize_filters": true, "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:1.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "straggler_mitigation": false, "lr_schedule": null, "monitor": false, "input_evaluation": null, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9cec88>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9ceba8>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9cebe0>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "clip_param": 0.3, "simple_optimizer": false, "kl_target": 0.01, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "model": {"custom_preprocessor": null, "squash_to_range": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "grayscale": false, "framestack": true, "lstm_cell_size": 256}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "6a5e6d87546141128087acb0b350a70a", "custom_metrics": {"system_level_velocity_min": 6.217752451928539, "cost1_min": 163.14999065974206, "system_level_velocity_mean": 10.016175427243729, "cost1_mean": 235.66003605627049, "cost2_mean": -8.572539936431793, "cost1_max": 284.8193293408941, "cost2_max": 0.0, "system_level_velocity_max": 13.115604468224566, "cost2_min": -34.88976415349499}, "done": false, "time_total_s": 8823.997389554977, "episode_reward_min": 809.5060394855838, "num_metric_batches_dropped": 0, "episode_len_mean": 749.87, "pid": 63737, "time_since_restore": 8823.997389554977, "time_this_iter_s": 85.06224346160889, "episodes_this_iter": 36, "episode_reward_mean": 1167.3923548924745, "info": {"grad_time_ms": 34184.497, "update_time_ms": 11.337, "num_steps_trained": 13905000, "num_steps_sampled": 13905000, "load_time_ms": 18.729, "default": {"cur_kl_coeff": 0.14999999105930328, "vf_explained_var": 0.4023010730743408, "total_loss": 12.406003952026367, "policy_loss": -0.00773013848811388, "entropy": 1.4527603387832642, "kl": 0.019030369818210602, "cur_lr": 0.0005000000237487257, "vf_loss": 12.410879135131836}, "sample_time_ms": 51274.746}, "timesteps_total": 13905000, "iterations_since_restore": 103, "episode_reward_max": 1407.7124346994378, "timesteps_this_iter": 135000, "training_iteration": 103, "node_ip": "10.138.0.2", "date": "2019-05-16_14-24-37", "policy_reward_mean": {}}
{"timestamp": 1558016763, "hostname": "flow-main", "timesteps_since_restore": 14040000, "episodes_total": 3885, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "synchronize_filters": true, "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:1.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "straggler_mitigation": false, "lr_schedule": null, "monitor": false, "input_evaluation": null, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9ebb00>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9eb7f0>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9ebdd8>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "clip_param": 0.3, "simple_optimizer": false, "kl_target": 0.01, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "model": {"custom_preprocessor": null, "squash_to_range": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "grayscale": false, "framestack": true, "lstm_cell_size": 256}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "6a5e6d87546141128087acb0b350a70a", "custom_metrics": {"system_level_velocity_min": 6.270248110078487, "cost1_min": 168.51855941893353, "system_level_velocity_mean": 9.816250616505954, "cost1_mean": 232.35120534330304, "cost2_mean": -9.272754430797576, "cost1_max": 277.1402898513714, "cost2_max": 0.0, "system_level_velocity_max": 13.115604468224566, "cost2_min": -30.363833189501868}, "done": false, "time_total_s": 8909.62467098236, "episode_reward_min": 817.7375184422997, "num_metric_batches_dropped": 0, "episode_len_mean": 749.87, "pid": 63737, "time_since_restore": 8909.62467098236, "time_this_iter_s": 85.62728142738342, "episodes_this_iter": 36, "episode_reward_mean": 1150.0631160432927, "info": {"grad_time_ms": 34111.114, "update_time_ms": 11.263, "num_steps_trained": 14040000, "num_steps_sampled": 14040000, "load_time_ms": 18.812, "default": {"cur_kl_coeff": 0.14999999105930328, "vf_explained_var": 0.4099124073982239, "total_loss": 11.893017768859863, "policy_loss": -0.008863583207130432, "entropy": 1.476028323173523, "kl": 0.02123163267970085, "cur_lr": 0.0005000000237487257, "vf_loss": 11.898696899414062}, "sample_time_ms": 51270.871}, "timesteps_total": 14040000, "iterations_since_restore": 104, "episode_reward_max": 1382.1573177677092, "timesteps_this_iter": 135000, "training_iteration": 104, "node_ip": "10.138.0.2", "date": "2019-05-16_14-26-03", "policy_reward_mean": {}}
{"timestamp": 1558016848, "hostname": "flow-main", "timesteps_since_restore": 14175000, "episodes_total": 3921, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "synchronize_filters": true, "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:1.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "straggler_mitigation": false, "lr_schedule": null, "monitor": false, "input_evaluation": null, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9dc198>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9dcba8>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9dc9b0>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "clip_param": 0.3, "simple_optimizer": false, "kl_target": 0.01, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "model": {"custom_preprocessor": null, "squash_to_range": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "grayscale": false, "framestack": true, "lstm_cell_size": 256}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "6a5e6d87546141128087acb0b350a70a", "custom_metrics": {"system_level_velocity_min": 6.270248110078487, "cost1_min": 168.51855941893353, "system_level_velocity_mean": 9.752216705365479, "cost1_mean": 231.44076806957906, "cost2_mean": -10.037553159621984, "cost1_max": 272.9475675301886, "cost2_max": 0.0, "system_level_velocity_max": 13.477710032639356, "cost2_min": -30.461787074580005}, "done": false, "time_total_s": 8994.788918972015, "episode_reward_min": 817.7375184422997, "num_metric_batches_dropped": 0, "episode_len_mean": 750.0, "pid": 63737, "time_since_restore": 8994.788918972015, "time_this_iter_s": 85.16424798965454, "episodes_this_iter": 36, "episode_reward_mean": 1144.7996385509537, "info": {"grad_time_ms": 33961.034, "update_time_ms": 11.322, "num_steps_trained": 14175000, "num_steps_sampled": 14175000, "load_time_ms": 18.915, "default": {"cur_kl_coeff": 0.22499997913837433, "vf_explained_var": 0.42330896854400635, "total_loss": 12.050600051879883, "policy_loss": -0.0063270158134400845, "entropy": 1.3964072465896606, "kl": 0.020132724195718765, "cur_lr": 0.0005000000237487257, "vf_loss": 12.052396774291992}, "sample_time_ms": 51230.225}, "timesteps_total": 14175000, "iterations_since_restore": 105, "episode_reward_max": 1364.7378376509334, "timesteps_this_iter": 135000, "training_iteration": 105, "node_ip": "10.138.0.2", "date": "2019-05-16_14-27-28", "policy_reward_mean": {}}
{"timestamp": 1558016934, "hostname": "flow-main", "timesteps_since_restore": 14310000, "episodes_total": 3957, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "synchronize_filters": true, "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:1.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "straggler_mitigation": false, "lr_schedule": null, "monitor": false, "input_evaluation": null, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9d47f0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9d4160>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9d4b00>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "clip_param": 0.3, "simple_optimizer": false, "kl_target": 0.01, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "model": {"custom_preprocessor": null, "squash_to_range": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "grayscale": false, "framestack": true, "lstm_cell_size": 256}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "6a5e6d87546141128087acb0b350a70a", "custom_metrics": {"system_level_velocity_min": 6.998082158644344, "cost1_min": 180.58755457388963, "system_level_velocity_mean": 9.879970665829331, "cost1_mean": 233.08736497858007, "cost2_mean": -10.265538674835073, "cost1_max": 277.0820263991458, "cost2_max": 0.0, "system_level_velocity_max": 13.477710032639356, "cost2_min": -35.90549028401266}, "done": false, "time_total_s": 9080.769610881805, "episode_reward_min": 895.8689310941844, "num_metric_batches_dropped": 0, "episode_len_mean": 750.0, "pid": 63737, "time_since_restore": 9080.769610881805, "time_this_iter_s": 85.98069190979004, "episodes_this_iter": 36, "episode_reward_mean": 1152.6282161570614, "info": {"grad_time_ms": 33978.817, "update_time_ms": 11.401, "num_steps_trained": 14310000, "num_steps_sampled": 14310000, "load_time_ms": 18.669, "default": {"cur_kl_coeff": 0.33750006556510925, "vf_explained_var": 0.4174676835536957, "total_loss": 12.449071884155273, "policy_loss": -0.006194212939590216, "entropy": 1.4293488264083862, "kl": 0.0116429990157485, "cur_lr": 0.0005000000237487257, "vf_loss": 12.451336860656738}, "sample_time_ms": 51260.972}, "timesteps_total": 14310000, "iterations_since_restore": 106, "episode_reward_max": 1368.839375429439, "timesteps_this_iter": 135000, "training_iteration": 106, "node_ip": "10.138.0.2", "date": "2019-05-16_14-28-54", "policy_reward_mean": {}}
{"timestamp": 1558017020, "hostname": "flow-main", "timesteps_since_restore": 14445000, "episodes_total": 3993, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "synchronize_filters": true, "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:1.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "straggler_mitigation": false, "lr_schedule": null, "monitor": false, "input_evaluation": null, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9eb0b8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9eb128>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9eb2e8>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "clip_param": 0.3, "simple_optimizer": false, "kl_target": 0.01, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "model": {"custom_preprocessor": null, "squash_to_range": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "grayscale": false, "framestack": true, "lstm_cell_size": 256}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "6a5e6d87546141128087acb0b350a70a", "custom_metrics": {"system_level_velocity_min": 7.2302925886060185, "cost1_min": 182.5338072473813, "system_level_velocity_mean": 10.28058337727289, "cost1_mean": 238.8813206658611, "cost2_mean": -8.693982927350064, "cost1_max": 277.0986729658373, "cost2_max": 0.0, "system_level_velocity_max": 13.477710032639356, "cost2_min": -35.90549028401266}, "done": false, "time_total_s": 9166.638171195984, "episode_reward_min": 905.5907467472148, "num_metric_batches_dropped": 0, "episode_len_mean": 750.0, "pid": 63737, "time_since_restore": 9166.638171195984, "time_this_iter_s": 85.86856031417847, "episodes_this_iter": 36, "episode_reward_mean": 1183.5269350296126, "info": {"grad_time_ms": 34030.865, "update_time_ms": 11.262, "num_steps_trained": 14445000, "num_steps_sampled": 14445000, "load_time_ms": 18.737, "default": {"cur_kl_coeff": 0.33750006556510925, "vf_explained_var": 0.39934056997299194, "total_loss": 12.788530349731445, "policy_loss": -0.006688909139484167, "entropy": 1.3948581218719482, "kl": 0.011817293241620064, "cur_lr": 0.0005000000237487257, "vf_loss": 12.791231155395508}, "sample_time_ms": 51272.433}, "timesteps_total": 14445000, "iterations_since_restore": 107, "episode_reward_max": 1372.653908008146, "timesteps_this_iter": 135000, "training_iteration": 107, "node_ip": "10.138.0.2", "date": "2019-05-16_14-30-20", "policy_reward_mean": {}}
{"timestamp": 1558017106, "hostname": "flow-main", "timesteps_since_restore": 14580000, "episodes_total": 4029, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "synchronize_filters": true, "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:1.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "straggler_mitigation": false, "lr_schedule": null, "monitor": false, "input_evaluation": null, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9d4908>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9d49e8>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9d4f98>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "clip_param": 0.3, "simple_optimizer": false, "kl_target": 0.01, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "model": {"custom_preprocessor": null, "squash_to_range": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "grayscale": false, "framestack": true, "lstm_cell_size": 256}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "6a5e6d87546141128087acb0b350a70a", "custom_metrics": {"system_level_velocity_min": 7.2302925886060185, "cost1_min": 182.5338072473813, "system_level_velocity_mean": 10.335982246653513, "cost1_mean": 239.39647640188707, "cost2_mean": -8.36394064672654, "cost1_max": 286.280208121463, "cost2_max": 0.0, "system_level_velocity_max": 13.131192758487328, "cost2_min": -35.90549028401266}, "done": false, "time_total_s": 9252.496309280396, "episode_reward_min": 905.5907467472148, "num_metric_batches_dropped": 0, "episode_len_mean": 750.0, "pid": 63737, "time_since_restore": 9252.496309280396, "time_this_iter_s": 85.85813808441162, "episodes_this_iter": 36, "episode_reward_mean": 1186.4076926297944, "info": {"grad_time_ms": 34060.159, "update_time_ms": 11.186, "num_steps_trained": 14580000, "num_steps_sampled": 14580000, "load_time_ms": 18.758, "default": {"cur_kl_coeff": 0.33750006556510925, "vf_explained_var": 0.35881537199020386, "total_loss": 12.918149948120117, "policy_loss": -0.006018453277647495, "entropy": 1.3951606750488281, "kl": 0.011195546947419643, "cur_lr": 0.0005000000237487257, "vf_loss": 12.920391082763672}, "sample_time_ms": 51262.199}, "timesteps_total": 14580000, "iterations_since_restore": 108, "episode_reward_max": 1414.0476936304208, "timesteps_this_iter": 135000, "training_iteration": 108, "node_ip": "10.138.0.2", "date": "2019-05-16_14-31-46", "policy_reward_mean": {}}
{"timestamp": 1558017192, "hostname": "flow-main", "timesteps_since_restore": 14715000, "episodes_total": 4065, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "synchronize_filters": true, "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:1.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "straggler_mitigation": false, "lr_schedule": null, "monitor": false, "input_evaluation": null, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9ebfd0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9eba20>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9eb470>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "clip_param": 0.3, "simple_optimizer": false, "kl_target": 0.01, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "model": {"custom_preprocessor": null, "squash_to_range": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "grayscale": false, "framestack": true, "lstm_cell_size": 256}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "6a5e6d87546141128087acb0b350a70a", "custom_metrics": {"system_level_velocity_min": 7.032377382357558, "cost1_min": 182.5338072473813, "system_level_velocity_mean": 10.515130026862193, "cost1_mean": 242.3570011383208, "cost2_mean": -6.571063889241035, "cost1_max": 286.280208121463, "cost2_max": 0.0, "system_level_velocity_max": 13.22649945773289, "cost2_min": -24.024534430808906}, "done": false, "time_total_s": 9338.131223917007, "episode_reward_min": 905.5907467472148, "num_metric_batches_dropped": 0, "episode_len_mean": 750.0, "pid": 63737, "time_since_restore": 9338.131223917007, "time_this_iter_s": 85.63491463661194, "episodes_this_iter": 36, "episode_reward_mean": 1203.3069973762094, "info": {"grad_time_ms": 34146.698, "update_time_ms": 11.235, "num_steps_trained": 14715000, "num_steps_sampled": 14715000, "load_time_ms": 18.881, "default": {"cur_kl_coeff": 0.33750006556510925, "vf_explained_var": 0.3480882942676544, "total_loss": 13.170334815979004, "policy_loss": -0.005234527867287397, "entropy": 1.3796833753585815, "kl": 0.012261591851711273, "cur_lr": 0.0005000000237487257, "vf_loss": 13.171432495117188}, "sample_time_ms": 51198.588}, "timesteps_total": 14715000, "iterations_since_restore": 109, "episode_reward_max": 1414.0476936304208, "timesteps_this_iter": 135000, "training_iteration": 109, "node_ip": "10.138.0.2", "date": "2019-05-16_14-33-12", "policy_reward_mean": {}}
{"timestamp": 1558017278, "hostname": "flow-main", "timesteps_since_restore": 14850000, "episodes_total": 4101, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "synchronize_filters": true, "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:1.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "straggler_mitigation": false, "lr_schedule": null, "monitor": false, "input_evaluation": null, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9eb898>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9de278>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9eb400>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "clip_param": 0.3, "simple_optimizer": false, "kl_target": 0.01, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "model": {"custom_preprocessor": null, "squash_to_range": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "grayscale": false, "framestack": true, "lstm_cell_size": 256}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "6a5e6d87546141128087acb0b350a70a", "custom_metrics": {"system_level_velocity_min": 7.032377382357558, "cost1_min": 188.495611747521, "system_level_velocity_mean": 10.657556868410326, "cost1_mean": 244.35148213183268, "cost2_mean": -6.801956102384497, "cost1_max": 286.280208121463, "cost2_max": 0.0, "system_level_velocity_max": 13.22649945773289, "cost2_min": -29.24088334441167}, "done": false, "time_total_s": 9424.031714439392, "episode_reward_min": 930.2514494015352, "num_metric_batches_dropped": 0, "episode_len_mean": 750.0, "pid": 63737, "time_since_restore": 9424.031714439392, "time_this_iter_s": 85.90049052238464, "episodes_this_iter": 36, "episode_reward_mean": 1212.7804040326232, "info": {"grad_time_ms": 34099.654, "update_time_ms": 11.174, "num_steps_trained": 14850000, "num_steps_sampled": 14850000, "load_time_ms": 18.769, "default": {"cur_kl_coeff": 0.33750006556510925, "vf_explained_var": 0.32480645179748535, "total_loss": 13.167302131652832, "policy_loss": -0.005818217992782593, "entropy": 1.3948220014572144, "kl": 0.011523398570716381, "cur_lr": 0.0005000000237487257, "vf_loss": 13.169231414794922}, "sample_time_ms": 51269.815}, "timesteps_total": 14850000, "iterations_since_restore": 110, "episode_reward_max": 1414.0476936304208, "timesteps_this_iter": 135000, "training_iteration": 110, "node_ip": "10.138.0.2", "date": "2019-05-16_14-34-38", "policy_reward_mean": {}}
{"timestamp": 1558017363, "hostname": "flow-main", "timesteps_since_restore": 14985000, "episodes_total": 4137, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "synchronize_filters": true, "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:1.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "straggler_mitigation": false, "lr_schedule": null, "monitor": false, "input_evaluation": null, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9dc0f0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9dcc18>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9dc908>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "clip_param": 0.3, "simple_optimizer": false, "kl_target": 0.01, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "model": {"custom_preprocessor": null, "squash_to_range": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "grayscale": false, "framestack": true, "lstm_cell_size": 256}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "6a5e6d87546141128087acb0b350a70a", "custom_metrics": {"system_level_velocity_min": 6.168617495336076, "cost1_min": 69.16237333684956, "system_level_velocity_mean": 10.527654297086851, "cost1_mean": 240.90399872757033, "cost2_mean": -7.242385438658037, "cost1_max": 279.02046595099773, "cost2_max": 0.0, "system_level_velocity_max": 13.22649945773289, "cost2_min": -29.924331825009723}, "done": false, "time_total_s": 9509.421239376068, "episode_reward_min": 330.251777315644, "num_metric_batches_dropped": 0, "episode_len_mean": 744.43, "pid": 63737, "time_since_restore": 9509.421239376068, "time_this_iter_s": 85.38952493667603, "episodes_this_iter": 36, "episode_reward_mean": 1194.9674871401319, "info": {"grad_time_ms": 34129.129, "update_time_ms": 11.383, "num_steps_trained": 14985000, "num_steps_sampled": 14985000, "load_time_ms": 18.79, "default": {"cur_kl_coeff": 0.33750006556510925, "vf_explained_var": 0.3731365203857422, "total_loss": 12.911155700683594, "policy_loss": -0.0075177946127951145, "entropy": 1.3964993953704834, "kl": 0.012637323699891567, "cur_lr": 0.0005000000237487257, "vf_loss": 12.914408683776855}, "sample_time_ms": 51243.241}, "timesteps_total": 14985000, "iterations_since_restore": 111, "episode_reward_max": 1390.353204989973, "timesteps_this_iter": 135000, "training_iteration": 111, "node_ip": "10.138.0.2", "date": "2019-05-16_14-36-03", "policy_reward_mean": {}}
{"timestamp": 1558017449, "hostname": "flow-main", "timesteps_since_restore": 15120000, "episodes_total": 4173, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "synchronize_filters": true, "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:1.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "straggler_mitigation": false, "lr_schedule": null, "monitor": false, "input_evaluation": null, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9de630>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9debe0>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9dedd8>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "clip_param": 0.3, "simple_optimizer": false, "kl_target": 0.01, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "model": {"custom_preprocessor": null, "squash_to_range": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "grayscale": false, "framestack": true, "lstm_cell_size": 256}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "6a5e6d87546141128087acb0b350a70a", "custom_metrics": {"system_level_velocity_min": 6.168617495336076, "cost1_min": 69.16237333684956, "system_level_velocity_mean": 10.301079688656152, "cost1_mean": 237.0650974627104, "cost2_mean": -7.8294024525520864, "cost1_max": 279.02046595099773, "cost2_max": 0.0, "system_level_velocity_max": 12.961657667028875, "cost2_min": -29.924331825009723}, "done": false, "time_total_s": 9594.708699464798, "episode_reward_min": 330.251777315644, "num_metric_batches_dropped": 0, "episode_len_mean": 742.94, "pid": 63737, "time_since_restore": 9594.708699464798, "time_this_iter_s": 85.28746008872986, "episodes_this_iter": 36, "episode_reward_mean": 1175.1416762399804, "info": {"grad_time_ms": 34039.434, "update_time_ms": 11.454, "num_steps_trained": 15120000, "num_steps_sampled": 15120000, "load_time_ms": 18.547, "default": {"cur_kl_coeff": 0.33750006556510925, "vf_explained_var": 0.40374934673309326, "total_loss": 12.52182388305664, "policy_loss": -0.005832970608025789, "entropy": 1.4312621355056763, "kl": 0.012007007375359535, "cur_lr": 0.0005000000237487257, "vf_loss": 12.523604393005371}, "sample_time_ms": 51260.445}, "timesteps_total": 15120000, "iterations_since_restore": 112, "episode_reward_max": 1390.353204989973, "timesteps_this_iter": 135000, "training_iteration": 112, "node_ip": "10.138.0.2", "date": "2019-05-16_14-37-29", "policy_reward_mean": {}}
{"timestamp": 1558017535, "hostname": "flow-main", "timesteps_since_restore": 15255000, "episodes_total": 4209, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "synchronize_filters": true, "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:1.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "straggler_mitigation": false, "lr_schedule": null, "monitor": false, "input_evaluation": null, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9ebbe0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9eb5c0>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9eb2e8>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "clip_param": 0.3, "simple_optimizer": false, "kl_target": 0.01, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "model": {"custom_preprocessor": null, "squash_to_range": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "grayscale": false, "framestack": true, "lstm_cell_size": 256}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "6a5e6d87546141128087acb0b350a70a", "custom_metrics": {"system_level_velocity_min": 6.168617495336076, "cost1_min": 69.16237333684956, "system_level_velocity_mean": 10.337156304853854, "cost1_mean": 237.14820670983028, "cost2_mean": -7.135491856322695, "cost1_max": 279.02046595099773, "cost2_max": 0.0, "system_level_velocity_max": 13.003674494160066, "cost2_min": -36.39070857782969}, "done": false, "time_total_s": 9680.62936782837, "episode_reward_min": 330.251777315644, "num_metric_batches_dropped": 0, "episode_len_mean": 744.19, "pid": 63737, "time_since_restore": 9680.62936782837, "time_this_iter_s": 85.92066836357117, "episodes_this_iter": 36, "episode_reward_mean": 1176.7848739790516, "info": {"grad_time_ms": 34108.996, "update_time_ms": 11.369, "num_steps_trained": 15255000, "num_steps_sampled": 15255000, "load_time_ms": 18.608, "default": {"cur_kl_coeff": 0.33750006556510925, "vf_explained_var": 0.377424955368042, "total_loss": 13.101588249206543, "policy_loss": -0.006508505903184414, "entropy": 1.417120337486267, "kl": 0.012003748677670956, "cur_lr": 0.0005000000237487257, "vf_loss": 13.104045867919922}, "sample_time_ms": 51275.235}, "timesteps_total": 15255000, "iterations_since_restore": 113, "episode_reward_max": 1390.353204989973, "timesteps_this_iter": 135000, "training_iteration": 113, "node_ip": "10.138.0.2", "date": "2019-05-16_14-38-55", "policy_reward_mean": {}}
{"timestamp": 1558017620, "hostname": "flow-main", "timesteps_since_restore": 15390000, "episodes_total": 4245, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "synchronize_filters": true, "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:1.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "straggler_mitigation": false, "lr_schedule": null, "monitor": false, "input_evaluation": null, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9de048>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9dee48>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9de940>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "clip_param": 0.3, "simple_optimizer": false, "kl_target": 0.01, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "model": {"custom_preprocessor": null, "squash_to_range": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "grayscale": false, "framestack": true, "lstm_cell_size": 256}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "6a5e6d87546141128087acb0b350a70a", "custom_metrics": {"system_level_velocity_min": 6.375095409691162, "cost1_min": 131.2074851234234, "system_level_velocity_mean": 10.287198291885339, "cost1_mean": 237.46933732202749, "cost2_mean": -7.895063344342036, "cost1_max": 277.79071360027876, "cost2_max": 0.0, "system_level_velocity_max": 13.003674494160066, "cost2_min": -36.39070857782969}, "done": false, "time_total_s": 9766.11672091484, "episode_reward_min": 639.3133950172383, "num_metric_batches_dropped": 0, "episode_len_mean": 748.51, "pid": 63737, "time_since_restore": 9766.11672091484, "time_this_iter_s": 85.48735308647156, "episodes_this_iter": 36, "episode_reward_mean": 1177.6402263890443, "info": {"grad_time_ms": 34083.993, "update_time_ms": 11.515, "num_steps_trained": 15390000, "num_steps_sampled": 15390000, "load_time_ms": 18.48, "default": {"cur_kl_coeff": 0.33750006556510925, "vf_explained_var": 0.40970873832702637, "total_loss": 12.585705757141113, "policy_loss": -0.006562183145433664, "entropy": 1.4448045492172241, "kl": 0.01197173073887825, "cur_lr": 0.0005000000237487257, "vf_loss": 12.588227272033691}, "sample_time_ms": 51286.149}, "timesteps_total": 15390000, "iterations_since_restore": 114, "episode_reward_max": 1384.7535680013848, "timesteps_this_iter": 135000, "training_iteration": 114, "node_ip": "10.138.0.2", "date": "2019-05-16_14-40-20", "policy_reward_mean": {}}
{"timestamp": 1558017706, "hostname": "flow-main", "timesteps_since_restore": 15525000, "episodes_total": 4281, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "synchronize_filters": true, "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:1.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "straggler_mitigation": false, "lr_schedule": null, "monitor": false, "input_evaluation": null, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9eb3c8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9ebd68>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9eb208>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "clip_param": 0.3, "simple_optimizer": false, "kl_target": 0.01, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "model": {"custom_preprocessor": null, "squash_to_range": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "grayscale": false, "framestack": true, "lstm_cell_size": 256}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "6a5e6d87546141128087acb0b350a70a", "custom_metrics": {"system_level_velocity_min": 6.608611215967456, "cost1_min": 165.84445417576302, "system_level_velocity_mean": 10.48738056701929, "cost1_mean": 241.83715007572772, "cost2_mean": -7.305248895352529, "cost1_max": 278.806219698174, "cost2_max": 0.0, "system_level_velocity_max": 13.003674494160066, "cost2_min": -36.39070857782969}, "done": false, "time_total_s": 9851.868602752686, "episode_reward_min": 813.3965936355538, "num_metric_batches_dropped": 0, "episode_len_mean": 750.0, "pid": 63737, "time_since_restore": 9851.868602752686, "time_this_iter_s": 85.75188183784485, "episodes_this_iter": 36, "episode_reward_mean": 1200.1877053729106, "info": {"grad_time_ms": 34057.578, "update_time_ms": 11.59, "num_steps_trained": 15525000, "num_steps_sampled": 15525000, "load_time_ms": 18.395, "default": {"cur_kl_coeff": 0.33750006556510925, "vf_explained_var": 0.3343677520751953, "total_loss": 13.277538299560547, "policy_loss": -0.006208405364304781, "entropy": 1.4062414169311523, "kl": 0.011022907681763172, "cur_lr": 0.0005000000237487257, "vf_loss": 13.280027389526367}, "sample_time_ms": 51372.085}, "timesteps_total": 15525000, "iterations_since_restore": 115, "episode_reward_max": 1389.231098490866, "timesteps_this_iter": 135000, "training_iteration": 115, "node_ip": "10.138.0.2", "date": "2019-05-16_14-41-46", "policy_reward_mean": {}}
{"timestamp": 1558017791, "hostname": "flow-main", "timesteps_since_restore": 15660000, "episodes_total": 4317, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "synchronize_filters": true, "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:1.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "straggler_mitigation": false, "lr_schedule": null, "monitor": false, "input_evaluation": null, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9ebb00>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9eb160>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9eba20>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "clip_param": 0.3, "simple_optimizer": false, "kl_target": 0.01, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "model": {"custom_preprocessor": null, "squash_to_range": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "grayscale": false, "framestack": true, "lstm_cell_size": 256}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "6a5e6d87546141128087acb0b350a70a", "custom_metrics": {"system_level_velocity_min": 7.619496265562665, "cost1_min": 192.05433943784038, "system_level_velocity_mean": 10.500837165097161, "cost1_mean": 242.74783322915744, "cost2_mean": -6.770752846498203, "cost1_max": 280.9718455284007, "cost2_max": 0.0, "system_level_velocity_max": 12.95654098343011, "cost2_min": -31.307878040278307}, "done": false, "time_total_s": 9937.123593091965, "episode_reward_min": 933.4110136485849, "num_metric_batches_dropped": 0, "episode_len_mean": 750.0, "pid": 63737, "time_since_restore": 9937.123593091965, "time_this_iter_s": 85.25499033927917, "episodes_this_iter": 36, "episode_reward_mean": 1205.0681312154782, "info": {"grad_time_ms": 34000.672, "update_time_ms": 11.587, "num_steps_trained": 15660000, "num_steps_sampled": 15660000, "load_time_ms": 18.593, "default": {"cur_kl_coeff": 0.33750006556510925, "vf_explained_var": 0.3596799373626709, "total_loss": 13.115654945373535, "policy_loss": -0.005678331945091486, "entropy": 1.4135258197784424, "kl": 0.01198670919984579, "cur_lr": 0.0005000000237487257, "vf_loss": 13.117288589477539}, "sample_time_ms": 51361.655}, "timesteps_total": 15660000, "iterations_since_restore": 116, "episode_reward_max": 1403.0592276420086, "timesteps_this_iter": 135000, "training_iteration": 116, "node_ip": "10.138.0.2", "date": "2019-05-16_14-43-11", "policy_reward_mean": {}}
{"timestamp": 1558017877, "hostname": "flow-main", "timesteps_since_restore": 15795000, "episodes_total": 4353, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "synchronize_filters": true, "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:1.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "straggler_mitigation": false, "lr_schedule": null, "monitor": false, "input_evaluation": null, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9cc0b8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9cca20>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9ccc18>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "clip_param": 0.3, "simple_optimizer": false, "kl_target": 0.01, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "model": {"custom_preprocessor": null, "squash_to_range": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "grayscale": false, "framestack": true, "lstm_cell_size": 256}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "6a5e6d87546141128087acb0b350a70a", "custom_metrics": {"system_level_velocity_min": 7.207922818975429, "cost1_min": 183.9485905672717, "system_level_velocity_mean": 10.599249981063787, "cost1_mean": 244.10981360640872, "cost2_mean": -6.768303585354329, "cost1_max": 280.9718455284007, "cost2_max": 0.0, "system_level_velocity_max": 12.95654098343011, "cost2_min": -24.439321170876962}, "done": false, "time_total_s": 10023.036933660507, "episode_reward_min": 910.8166153552002, "num_metric_batches_dropped": 0, "episode_len_mean": 750.0, "pid": 63737, "time_since_restore": 10023.036933660507, "time_this_iter_s": 85.91334056854248, "episodes_this_iter": 36, "episode_reward_mean": 1211.737690869981, "info": {"grad_time_ms": 33909.115, "update_time_ms": 11.531, "num_steps_trained": 15795000, "num_steps_sampled": 15795000, "load_time_ms": 18.469, "default": {"cur_kl_coeff": 0.33750006556510925, "vf_explained_var": 0.3790366053581238, "total_loss": 12.792325973510742, "policy_loss": -0.006485178135335445, "entropy": 1.460015892982483, "kl": 0.011609365232288837, "cur_lr": 0.0005000000237487257, "vf_loss": 12.794893264770508}, "sample_time_ms": 51462.039}, "timesteps_total": 15795000, "iterations_since_restore": 117, "episode_reward_max": 1403.0592276420086, "timesteps_this_iter": 135000, "training_iteration": 117, "node_ip": "10.138.0.2", "date": "2019-05-16_14-44-37", "policy_reward_mean": {}}
{"timestamp": 1558017963, "hostname": "flow-main", "timesteps_since_restore": 15930000, "episodes_total": 4389, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "synchronize_filters": true, "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:1.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "straggler_mitigation": false, "lr_schedule": null, "monitor": false, "input_evaluation": null, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9ebeb8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9eb7b8>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9ebfd0>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "clip_param": 0.3, "simple_optimizer": false, "kl_target": 0.01, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "model": {"custom_preprocessor": null, "squash_to_range": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "grayscale": false, "framestack": true, "lstm_cell_size": 256}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "6a5e6d87546141128087acb0b350a70a", "custom_metrics": {"system_level_velocity_min": 5.1733561772159655, "cost1_min": 139.89869182371018, "system_level_velocity_mean": 10.228814451043355, "cost1_mean": 238.43710941052922, "cost2_mean": -7.490054665195194, "cost1_max": 280.9718455284007, "cost2_max": 0.0, "system_level_velocity_max": 12.948927587463006, "cost2_min": -24.864632233695424}, "done": false, "time_total_s": 10108.864506959915, "episode_reward_min": 692.3943321017213, "num_metric_batches_dropped": 0, "episode_len_mean": 750.0, "pid": 63737, "time_since_restore": 10108.864506959915, "time_this_iter_s": 85.82757329940796, "episodes_this_iter": 36, "episode_reward_mean": 1182.4745760178087, "info": {"grad_time_ms": 33896.936, "update_time_ms": 11.495, "num_steps_trained": 15930000, "num_steps_sampled": 15930000, "load_time_ms": 18.334, "default": {"cur_kl_coeff": 0.33750006556510925, "vf_explained_var": 0.402717262506485, "total_loss": 12.441935539245605, "policy_loss": -0.007780297659337521, "entropy": 1.4970990419387817, "kl": 0.013450795784592628, "cur_lr": 0.0005000000237487257, "vf_loss": 12.445175170898438}, "sample_time_ms": 51468.892}, "timesteps_total": 15930000, "iterations_since_restore": 118, "episode_reward_max": 1403.0592276420086, "timesteps_this_iter": 135000, "training_iteration": 118, "node_ip": "10.138.0.2", "date": "2019-05-16_14-46-03", "policy_reward_mean": {}}
{"timestamp": 1558018049, "hostname": "flow-main", "timesteps_since_restore": 16065000, "episodes_total": 4425, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "synchronize_filters": true, "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:1.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "straggler_mitigation": false, "lr_schedule": null, "monitor": false, "input_evaluation": null, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9eb7f0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9eb438>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9eb550>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "clip_param": 0.3, "simple_optimizer": false, "kl_target": 0.01, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "model": {"custom_preprocessor": null, "squash_to_range": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "grayscale": false, "framestack": true, "lstm_cell_size": 256}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "6a5e6d87546141128087acb0b350a70a", "custom_metrics": {"system_level_velocity_min": 5.1733561772159655, "cost1_min": 139.89869182371018, "system_level_velocity_mean": 10.066364885125452, "cost1_mean": 235.80275251221232, "cost2_mean": -8.232116482384427, "cost1_max": 278.35080331435347, "cost2_max": 0.0, "system_level_velocity_max": 12.948927587463006, "cost2_min": -29.537596945392046}, "done": false, "time_total_s": 10194.765266656876, "episode_reward_min": 692.3943321017213, "num_metric_batches_dropped": 0, "episode_len_mean": 750.0, "pid": 63737, "time_since_restore": 10194.765266656876, "time_this_iter_s": 85.90075969696045, "episodes_this_iter": 36, "episode_reward_mean": 1168.3593236383185, "info": {"grad_time_ms": 33881.23, "update_time_ms": 11.21, "num_steps_trained": 16065000, "num_steps_sampled": 16065000, "load_time_ms": 17.955, "default": {"cur_kl_coeff": 0.33750006556510925, "vf_explained_var": 0.4246427118778229, "total_loss": 12.501914978027344, "policy_loss": -0.008021462708711624, "entropy": 1.4602034091949463, "kl": 0.01231829822063446, "cur_lr": 0.0005000000237487257, "vf_loss": 12.505779266357422}, "sample_time_ms": 51505.528}, "timesteps_total": 16065000, "iterations_since_restore": 119, "episode_reward_max": 1387.2586326690919, "timesteps_this_iter": 135000, "training_iteration": 119, "node_ip": "10.138.0.2", "date": "2019-05-16_14-47-29", "policy_reward_mean": {}}
{"timestamp": 1558018134, "hostname": "flow-main", "timesteps_since_restore": 16200000, "episodes_total": 4461, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "synchronize_filters": true, "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:1.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "straggler_mitigation": false, "lr_schedule": null, "monitor": false, "input_evaluation": null, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9d44e0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9d4b00>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9d4ac8>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "clip_param": 0.3, "simple_optimizer": false, "kl_target": 0.01, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "model": {"custom_preprocessor": null, "squash_to_range": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "grayscale": false, "framestack": true, "lstm_cell_size": 256}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "6a5e6d87546141128087acb0b350a70a", "custom_metrics": {"system_level_velocity_min": 5.1733561772159655, "cost1_min": 139.89869182371018, "system_level_velocity_mean": 10.212169491042896, "cost1_mean": 238.14937485810503, "cost2_mean": -7.8708603046455865, "cost1_max": 283.13005622306576, "cost2_max": 0.0, "system_level_velocity_max": 13.128044450980587, "cost2_min": -30.193292146603877}, "done": false, "time_total_s": 10279.746343135834, "episode_reward_min": 692.3943321017213, "num_metric_batches_dropped": 0, "episode_len_mean": 750.0, "pid": 63737, "time_since_restore": 10279.746343135834, "time_this_iter_s": 84.98107647895813, "episodes_this_iter": 36, "episode_reward_mean": 1180.593069627003, "info": {"grad_time_ms": 33832.743, "update_time_ms": 11.236, "num_steps_trained": 16200000, "num_steps_sampled": 16200000, "load_time_ms": 18.026, "default": {"cur_kl_coeff": 0.33750006556510925, "vf_explained_var": 0.4447183609008789, "total_loss": 13.400362968444824, "policy_loss": -0.006484668701887131, "entropy": 1.458160400390625, "kl": 0.011775302700698376, "cur_lr": 0.0005000000237487257, "vf_loss": 13.402873992919922}, "sample_time_ms": 51460.44}, "timesteps_total": 16200000, "iterations_since_restore": 120, "episode_reward_max": 1414.5458595194634, "timesteps_this_iter": 135000, "training_iteration": 120, "node_ip": "10.138.0.2", "date": "2019-05-16_14-48-54", "policy_reward_mean": {}}
{"timestamp": 1558018220, "hostname": "flow-main", "timesteps_since_restore": 16335000, "episodes_total": 4497, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "synchronize_filters": true, "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:1.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "straggler_mitigation": false, "lr_schedule": null, "monitor": false, "input_evaluation": null, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9eb3c8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9ebfd0>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9ebd68>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "clip_param": 0.3, "simple_optimizer": false, "kl_target": 0.01, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "model": {"custom_preprocessor": null, "squash_to_range": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "grayscale": false, "framestack": true, "lstm_cell_size": 256}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "6a5e6d87546141128087acb0b350a70a", "custom_metrics": {"system_level_velocity_min": 4.365811849878837, "cost1_min": 71.35224864124378, "system_level_velocity_mean": 10.212722751744042, "cost1_mean": 237.44680849411156, "cost2_mean": -7.993739250174436, "cost1_max": 283.13005622306576, "cost2_max": 0.0, "system_level_velocity_max": 13.128044450980587, "cost2_min": -30.193292146603877}, "done": false, "time_total_s": 10365.882664680481, "episode_reward_min": 350.2009572049834, "num_metric_batches_dropped": 0, "episode_len_mean": 747.07, "pid": 63737, "time_since_restore": 10365.882664680481, "time_this_iter_s": 86.13632154464722, "episodes_this_iter": 36, "episode_reward_mean": 1176.9687374765736, "info": {"grad_time_ms": 33804.688, "update_time_ms": 11.312, "num_steps_trained": 16335000, "num_steps_sampled": 16335000, "load_time_ms": 17.985, "default": {"cur_kl_coeff": 0.33750006556510925, "vf_explained_var": 0.4316500425338745, "total_loss": 13.299797058105469, "policy_loss": -0.006572695914655924, "entropy": 1.485503077507019, "kl": 0.011457111686468124, "cur_lr": 0.0005000000237487257, "vf_loss": 13.302502632141113}, "sample_time_ms": 51562.764}, "timesteps_total": 16335000, "iterations_since_restore": 121, "episode_reward_max": 1414.5458595194634, "timesteps_this_iter": 135000, "training_iteration": 121, "node_ip": "10.138.0.2", "date": "2019-05-16_14-50-20", "policy_reward_mean": {}}
{"timestamp": 1558018307, "hostname": "flow-main", "timesteps_since_restore": 16470000, "episodes_total": 4533, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "synchronize_filters": true, "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:1.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "straggler_mitigation": false, "lr_schedule": null, "monitor": false, "input_evaluation": null, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9eb0b8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9ebc88>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9eb898>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "clip_param": 0.3, "simple_optimizer": false, "kl_target": 0.01, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "model": {"custom_preprocessor": null, "squash_to_range": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "grayscale": false, "framestack": true, "lstm_cell_size": 256}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "6a5e6d87546141128087acb0b350a70a", "custom_metrics": {"system_level_velocity_min": 4.365811849878837, "cost1_min": 71.35224864124378, "system_level_velocity_mean": 10.130780681208138, "cost1_mean": 236.55627434301772, "cost2_mean": -8.192596303119812, "cost1_max": 283.13005622306576, "cost2_max": 0.0, "system_level_velocity_max": 13.075416279986985, "cost2_min": -32.833403329965755}, "done": false, "time_total_s": 10452.514972448349, "episode_reward_min": 350.2009572049834, "num_metric_batches_dropped": 0, "episode_len_mean": 747.07, "pid": 63737, "time_since_restore": 10452.514972448349, "time_this_iter_s": 86.63230776786804, "episodes_this_iter": 36, "episode_reward_mean": 1172.2800649369756, "info": {"grad_time_ms": 33815.491, "update_time_ms": 11.205, "num_steps_trained": 16470000, "num_steps_sampled": 16470000, "load_time_ms": 18.211, "default": {"cur_kl_coeff": 0.33750006556510925, "vf_explained_var": 0.36062437295913696, "total_loss": 13.097137451171875, "policy_loss": -0.006243027281016111, "entropy": 1.458740234375, "kl": 0.011999529786407948, "cur_lr": 0.0005000000237487257, "vf_loss": 13.099331855773926}, "sample_time_ms": 51685.97}, "timesteps_total": 16470000, "iterations_since_restore": 122, "episode_reward_max": 1414.5458595194634, "timesteps_this_iter": 135000, "training_iteration": 122, "node_ip": "10.138.0.2", "date": "2019-05-16_14-51-47", "policy_reward_mean": {}}
{"timestamp": 1558018393, "hostname": "flow-main", "timesteps_since_restore": 16605000, "episodes_total": 4569, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "synchronize_filters": true, "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:1.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "straggler_mitigation": false, "lr_schedule": null, "monitor": false, "input_evaluation": null, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9dee48>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9de898>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9de518>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "clip_param": 0.3, "simple_optimizer": false, "kl_target": 0.01, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "model": {"custom_preprocessor": null, "squash_to_range": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "grayscale": false, "framestack": true, "lstm_cell_size": 256}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "6a5e6d87546141128087acb0b350a70a", "custom_metrics": {"system_level_velocity_min": 5.720454924823541, "cost1_min": 151.75424409081722, "system_level_velocity_mean": 10.147195614667243, "cost1_mean": 237.50759383339962, "cost2_mean": -7.760672686943081, "cost1_max": 279.23543469241974, "cost2_max": 0.0, "system_level_velocity_max": 13.075416279986985, "cost2_min": -32.833403329965755}, "done": false, "time_total_s": 10538.53105044365, "episode_reward_min": 751.0419085292283, "num_metric_batches_dropped": 0, "episode_len_mean": 750.0, "pid": 63737, "time_since_restore": 10538.53105044365, "time_this_iter_s": 86.0160779953003, "episodes_this_iter": 36, "episode_reward_mean": 1177.5177752181255, "info": {"grad_time_ms": 33780.804, "update_time_ms": 11.216, "num_steps_trained": 16605000, "num_steps_sampled": 16605000, "load_time_ms": 18.347, "default": {"cur_kl_coeff": 0.33750006556510925, "vf_explained_var": 0.40884414315223694, "total_loss": 12.879796981811523, "policy_loss": -0.0073461709544062614, "entropy": 1.4986211061477661, "kl": 0.012613409198820591, "cur_lr": 0.0005000000237487257, "vf_loss": 12.882885932922363}, "sample_time_ms": 51736.858}, "timesteps_total": 16605000, "iterations_since_restore": 123, "episode_reward_max": 1391.5570634153742, "timesteps_this_iter": 135000, "training_iteration": 123, "node_ip": "10.138.0.2", "date": "2019-05-16_14-53-13", "policy_reward_mean": {}}
{"timestamp": 1558018480, "hostname": "flow-main", "timesteps_since_restore": 16740000, "episodes_total": 4605, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "synchronize_filters": true, "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:1.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "straggler_mitigation": false, "lr_schedule": null, "monitor": false, "input_evaluation": null, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9de320>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9deac8>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9de630>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "clip_param": 0.3, "simple_optimizer": false, "kl_target": 0.01, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "model": {"custom_preprocessor": null, "squash_to_range": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "grayscale": false, "framestack": true, "lstm_cell_size": 256}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "6a5e6d87546141128087acb0b350a70a", "custom_metrics": {"system_level_velocity_min": 6.446804258381793, "cost1_min": 170.62670056313124, "system_level_velocity_mean": 10.114137788530678, "cost1_mean": 237.32766651462288, "cost2_mean": -7.990217331410292, "cost1_max": 279.23543469241974, "cost2_max": 0.0, "system_level_velocity_max": 12.889560099689268, "cost2_min": -32.833403329965755}, "done": false, "time_total_s": 10625.624648571014, "episode_reward_min": 837.9789162270617, "num_metric_batches_dropped": 0, "episode_len_mean": 750.0, "pid": 63737, "time_since_restore": 10625.624648571014, "time_this_iter_s": 87.09359812736511, "episodes_this_iter": 36, "episode_reward_mean": 1176.2894778686368, "info": {"grad_time_ms": 33960.855, "update_time_ms": 11.147, "num_steps_trained": 16740000, "num_steps_sampled": 16740000, "load_time_ms": 18.225, "default": {"cur_kl_coeff": 0.33750006556510925, "vf_explained_var": 0.35639089345932007, "total_loss": 12.750027656555176, "policy_loss": -0.006781825330108404, "entropy": 1.4690545797348022, "kl": 0.012222948484122753, "cur_lr": 0.0005000000237487257, "vf_loss": 12.752685546875}, "sample_time_ms": 51716.636}, "timesteps_total": 16740000, "iterations_since_restore": 124, "episode_reward_max": 1391.5570634153742, "timesteps_this_iter": 135000, "training_iteration": 124, "node_ip": "10.138.0.2", "date": "2019-05-16_14-54-40", "policy_reward_mean": {}}
{"timestamp": 1558018567, "hostname": "flow-main", "timesteps_since_restore": 16875000, "episodes_total": 4642, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "synchronize_filters": true, "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:1.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "straggler_mitigation": false, "lr_schedule": null, "monitor": false, "input_evaluation": null, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9ebb70>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9eb4e0>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9eb1d0>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "clip_param": 0.3, "simple_optimizer": false, "kl_target": 0.01, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "model": {"custom_preprocessor": null, "squash_to_range": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "grayscale": false, "framestack": true, "lstm_cell_size": 256}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "6a5e6d87546141128087acb0b350a70a", "custom_metrics": {"system_level_velocity_min": 6.446804258381793, "cost1_min": 94.01288613625792, "system_level_velocity_mean": 10.074015521746691, "cost1_mean": 235.0971669346022, "cost2_mean": -8.39266915924777, "cost1_max": 279.23543469241974, "cost2_max": 0.0, "system_level_velocity_max": 12.889560099689268, "cost2_min": -26.531876132196096}, "done": false, "time_total_s": 10711.851390361786, "episode_reward_min": 455.97574500977726, "num_metric_batches_dropped": 0, "episode_len_mean": 746.11, "pid": 63737, "time_since_restore": 10711.851390361786, "time_this_iter_s": 86.22674179077148, "episodes_this_iter": 37, "episode_reward_mean": 1164.7741562385484, "info": {"grad_time_ms": 33998.481, "update_time_ms": 11.034, "num_steps_trained": 16875000, "num_steps_sampled": 16875000, "load_time_ms": 18.363, "default": {"cur_kl_coeff": 0.33750006556510925, "vf_explained_var": 0.4022158682346344, "total_loss": 13.07728385925293, "policy_loss": -0.006184434983879328, "entropy": 1.4675322771072388, "kl": 0.012392723001539707, "cur_lr": 0.0005000000237487257, "vf_loss": 13.07928466796875}, "sample_time_ms": 51725.385}, "timesteps_total": 16875000, "iterations_since_restore": 125, "episode_reward_max": 1391.5570634153742, "timesteps_this_iter": 135000, "training_iteration": 125, "node_ip": "10.138.0.2", "date": "2019-05-16_14-56-07", "policy_reward_mean": {}}
{"timestamp": 1558018653, "hostname": "flow-main", "timesteps_since_restore": 17010000, "episodes_total": 4678, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "synchronize_filters": true, "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:1.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "straggler_mitigation": false, "lr_schedule": null, "monitor": false, "input_evaluation": null, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9f5048>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9f5128>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9f5588>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "clip_param": 0.3, "simple_optimizer": false, "kl_target": 0.01, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "model": {"custom_preprocessor": null, "squash_to_range": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "grayscale": false, "framestack": true, "lstm_cell_size": 256}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "6a5e6d87546141128087acb0b350a70a", "custom_metrics": {"system_level_velocity_min": 5.4301321479462725, "cost1_min": 94.01288613625792, "system_level_velocity_mean": 9.832972714440425, "cost1_mean": 231.2695515655775, "cost2_mean": -9.331990098097968, "cost1_max": 278.4471798377844, "cost2_max": 0.0, "system_level_velocity_max": 13.023677556307085, "cost2_min": -41.784343246391394}, "done": false, "time_total_s": 10797.925067901611, "episode_reward_min": 455.97574500977726, "num_metric_batches_dropped": 0, "episode_len_mean": 745.71, "pid": 63737, "time_since_restore": 10797.925067901611, "time_this_iter_s": 86.07367753982544, "episodes_this_iter": 36, "episode_reward_mean": 1144.8039534340298, "info": {"grad_time_ms": 34057.66, "update_time_ms": 11.016, "num_steps_trained": 17010000, "num_steps_sampled": 17010000, "load_time_ms": 18.335, "default": {"cur_kl_coeff": 0.33750006556510925, "vf_explained_var": 0.4425707459449768, "total_loss": 13.082653999328613, "policy_loss": -0.0073983254842460155, "entropy": 1.5089083909988403, "kl": 0.013352611102163792, "cur_lr": 0.0005000000237487257, "vf_loss": 13.085546493530273}, "sample_time_ms": 51747.162}, "timesteps_total": 17010000, "iterations_since_restore": 126, "episode_reward_max": 1385.8101964473185, "timesteps_this_iter": 135000, "training_iteration": 126, "node_ip": "10.138.0.2", "date": "2019-05-16_14-57-33", "policy_reward_mean": {}}
{"timestamp": 1558018737, "hostname": "flow-main", "timesteps_since_restore": 17145000, "episodes_total": 4714, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "synchronize_filters": true, "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:1.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "straggler_mitigation": false, "lr_schedule": null, "monitor": false, "input_evaluation": null, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9de3c8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9dec88>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9de908>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "clip_param": 0.3, "simple_optimizer": false, "kl_target": 0.01, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "model": {"custom_preprocessor": null, "squash_to_range": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "grayscale": false, "framestack": true, "lstm_cell_size": 256}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "6a5e6d87546141128087acb0b350a70a", "custom_metrics": {"system_level_velocity_min": 5.4301321479462725, "cost1_min": 94.01288613625792, "system_level_velocity_mean": 9.852148747425868, "cost1_mean": 230.7054490151913, "cost2_mean": -9.026388043723216, "cost1_max": 278.24465962389417, "cost2_max": 0.0, "system_level_velocity_max": 13.023677556307085, "cost2_min": -41.784343246391394}, "done": false, "time_total_s": 10882.560868740082, "episode_reward_min": 455.97574500977726, "num_metric_batches_dropped": 0, "episode_len_mean": 742.97, "pid": 63737, "time_since_restore": 10882.560868740082, "time_this_iter_s": 84.63580083847046, "episodes_this_iter": 36, "episode_reward_mean": 1142.2586966311374, "info": {"grad_time_ms": 33998.74, "update_time_ms": 11.102, "num_steps_trained": 17145000, "num_steps_sampled": 17145000, "load_time_ms": 18.238, "default": {"cur_kl_coeff": 0.33750006556510925, "vf_explained_var": 0.37488052248954773, "total_loss": 13.122901916503906, "policy_loss": -0.006360908970236778, "entropy": 1.5167261362075806, "kl": 0.011655285954475403, "cur_lr": 0.0005000000237487257, "vf_loss": 13.125329971313477}, "sample_time_ms": 51677.39}, "timesteps_total": 17145000, "iterations_since_restore": 127, "episode_reward_max": 1376.5232981194702, "timesteps_this_iter": 135000, "training_iteration": 127, "node_ip": "10.138.0.2", "date": "2019-05-16_14-58-57", "policy_reward_mean": {}}
{"timestamp": 1558018823, "hostname": "flow-main", "timesteps_since_restore": 17280000, "episodes_total": 4750, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "synchronize_filters": true, "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:1.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "straggler_mitigation": false, "lr_schedule": null, "monitor": false, "input_evaluation": null, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9ebb00>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9ebd68>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9eb6d8>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "clip_param": 0.3, "simple_optimizer": false, "kl_target": 0.01, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "model": {"custom_preprocessor": null, "squash_to_range": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "grayscale": false, "framestack": true, "lstm_cell_size": 256}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "6a5e6d87546141128087acb0b350a70a", "custom_metrics": {"system_level_velocity_min": 5.142071675498514, "cost1_min": 137.09539557004064, "system_level_velocity_mean": 9.741555287351524, "cost1_mean": 230.77967656306794, "cost2_mean": -8.704081314758458, "cost1_max": 278.24465962389417, "cost2_max": 0.0, "system_level_velocity_max": 13.023677556307085, "cost2_min": -31.970892124047214}, "done": false, "time_total_s": 10968.328291654587, "episode_reward_min": 675.1667189673336, "num_metric_batches_dropped": 0, "episode_len_mean": 746.86, "pid": 63737, "time_since_restore": 10968.328291654587, "time_this_iter_s": 85.767422914505, "episodes_this_iter": 36, "episode_reward_mean": 1142.9673378482, "info": {"grad_time_ms": 33955.466, "update_time_ms": 11.029, "num_steps_trained": 17280000, "num_steps_sampled": 17280000, "load_time_ms": 18.329, "default": {"cur_kl_coeff": 0.33750006556510925, "vf_explained_var": 0.40057551860809326, "total_loss": 13.09771728515625, "policy_loss": -0.006600195076316595, "entropy": 1.5333210229873657, "kl": 0.012317711487412453, "cur_lr": 0.0005000000237487257, "vf_loss": 13.100160598754883}, "sample_time_ms": 51716.914}, "timesteps_total": 17280000, "iterations_since_restore": 128, "episode_reward_max": 1376.5232981194702, "timesteps_this_iter": 135000, "training_iteration": 128, "node_ip": "10.138.0.2", "date": "2019-05-16_15-00-23", "policy_reward_mean": {}}
{"timestamp": 1558018909, "hostname": "flow-main", "timesteps_since_restore": 17415000, "episodes_total": 4786, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "synchronize_filters": true, "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:1.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "straggler_mitigation": false, "lr_schedule": null, "monitor": false, "input_evaluation": null, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9f59b0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9f5908>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9f5048>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "clip_param": 0.3, "simple_optimizer": false, "kl_target": 0.01, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "model": {"custom_preprocessor": null, "squash_to_range": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "grayscale": false, "framestack": true, "lstm_cell_size": 256}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "6a5e6d87546141128087acb0b350a70a", "custom_metrics": {"system_level_velocity_min": 5.142071675498514, "cost1_min": 138.35467668468823, "system_level_velocity_mean": 9.85381310609876, "cost1_mean": 234.35481373079693, "cost2_mean": -9.56228306509247, "cost1_max": 279.16815459643095, "cost2_max": 0.0, "system_level_velocity_max": 12.959982342273728, "cost2_min": -39.66622449199994}, "done": false, "time_total_s": 11053.907673120499, "episode_reward_min": 680.0102912033026, "num_metric_batches_dropped": 0, "episode_len_mean": 750.0, "pid": 63737, "time_since_restore": 11053.907673120499, "time_this_iter_s": 85.57938146591187, "episodes_this_iter": 36, "episode_reward_mean": 1159.9195342479013, "info": {"grad_time_ms": 33949.94, "update_time_ms": 11.09, "num_steps_trained": 17415000, "num_steps_sampled": 17415000, "load_time_ms": 18.572, "default": {"cur_kl_coeff": 0.33750006556510925, "vf_explained_var": 0.4627629518508911, "total_loss": 12.210468292236328, "policy_loss": -0.006636068224906921, "entropy": 1.5527102947235107, "kl": 0.01184228528290987, "cur_lr": 0.0005000000237487257, "vf_loss": 12.21310806274414}, "sample_time_ms": 51696.065}, "timesteps_total": 17415000, "iterations_since_restore": 129, "episode_reward_max": 1382.042959115335, "timesteps_this_iter": 135000, "training_iteration": 129, "node_ip": "10.138.0.2", "date": "2019-05-16_15-01-49", "policy_reward_mean": {}}
{"timestamp": 1558018994, "hostname": "flow-main", "timesteps_since_restore": 17550000, "episodes_total": 4822, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "synchronize_filters": true, "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:1.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "straggler_mitigation": false, "lr_schedule": null, "monitor": false, "input_evaluation": null, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9deef0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9dea20>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9de9b0>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "clip_param": 0.3, "simple_optimizer": false, "kl_target": 0.01, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "model": {"custom_preprocessor": null, "squash_to_range": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "grayscale": false, "framestack": true, "lstm_cell_size": 256}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "6a5e6d87546141128087acb0b350a70a", "custom_metrics": {"system_level_velocity_min": 5.142071675498514, "cost1_min": 138.35467668468823, "system_level_velocity_mean": 9.642436025827479, "cost1_mean": 230.67077286767687, "cost2_mean": -11.00481529349869, "cost1_max": 279.16815459643095, "cost2_max": 0.0, "system_level_velocity_max": 12.959982342273728, "cost2_min": -39.66622449199994}, "done": false, "time_total_s": 11139.020155191422, "episode_reward_min": 680.0102912033026, "num_metric_batches_dropped": 0, "episode_len_mean": 750.0, "pid": 63737, "time_since_restore": 11139.020155191422, "time_this_iter_s": 85.11248207092285, "episodes_this_iter": 36, "episode_reward_mean": 1139.7999746262337, "info": {"grad_time_ms": 33992.182, "update_time_ms": 11.104, "num_steps_trained": 17550000, "num_steps_sampled": 17550000, "load_time_ms": 18.413, "default": {"cur_kl_coeff": 0.33750006556510925, "vf_explained_var": 0.4378555417060852, "total_loss": 12.142426490783691, "policy_loss": -0.007863057777285576, "entropy": 1.5983402729034424, "kl": 0.012829060666263103, "cur_lr": 0.0005000000237487257, "vf_loss": 12.145959854125977}, "sample_time_ms": 51667.569}, "timesteps_total": 17550000, "iterations_since_restore": 130, "episode_reward_max": 1382.042959115335, "timesteps_this_iter": 135000, "training_iteration": 130, "node_ip": "10.138.0.2", "date": "2019-05-16_15-03-14", "policy_reward_mean": {}}
{"timestamp": 1558019081, "hostname": "flow-main", "timesteps_since_restore": 17685000, "episodes_total": 4859, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "synchronize_filters": true, "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:1.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "straggler_mitigation": false, "lr_schedule": null, "monitor": false, "input_evaluation": null, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9eba90>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9ebf28>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9ebba8>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "clip_param": 0.3, "simple_optimizer": false, "kl_target": 0.01, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "model": {"custom_preprocessor": null, "squash_to_range": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "grayscale": false, "framestack": true, "lstm_cell_size": 256}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "6a5e6d87546141128087acb0b350a70a", "custom_metrics": {"system_level_velocity_min": 5.725332952762969, "cost1_min": 105.16382654704093, "system_level_velocity_mean": 9.281798891455084, "cost1_mean": 224.31398837707337, "cost2_mean": -11.752832784825268, "cost1_max": 279.16815459643095, "cost2_max": 0.0, "system_level_velocity_max": 12.959982342273728, "cost2_min": -39.66622449199994}, "done": false, "time_total_s": 11226.298207759857, "episode_reward_min": 516.1248798863191, "num_metric_batches_dropped": 0, "episode_len_mean": 746.98, "pid": 63737, "time_since_restore": 11226.298207759857, "time_this_iter_s": 87.27805256843567, "episodes_this_iter": 37, "episode_reward_mean": 1107.0833510122052, "info": {"grad_time_ms": 34143.926, "update_time_ms": 11.02, "num_steps_trained": 17685000, "num_steps_sampled": 17685000, "load_time_ms": 18.572, "default": {"cur_kl_coeff": 0.33750006556510925, "vf_explained_var": 0.44327396154403687, "total_loss": 12.377327919006348, "policy_loss": -0.008107149973511696, "entropy": 1.597489356994629, "kl": 0.012537501752376556, "cur_lr": 0.0005000000237487257, "vf_loss": 12.38120174407959}, "sample_time_ms": 51631.127}, "timesteps_total": 17685000, "iterations_since_restore": 131, "episode_reward_max": 1382.042959115335, "timesteps_this_iter": 135000, "training_iteration": 131, "node_ip": "10.138.0.2", "date": "2019-05-16_15-04-41", "policy_reward_mean": {}}
{"timestamp": 1558019168, "hostname": "flow-main", "timesteps_since_restore": 17820000, "episodes_total": 4895, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "synchronize_filters": true, "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:1.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "straggler_mitigation": false, "lr_schedule": null, "monitor": false, "input_evaluation": null, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9f5da0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9f5940>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9f59b0>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "clip_param": 0.3, "simple_optimizer": false, "kl_target": 0.01, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "model": {"custom_preprocessor": null, "squash_to_range": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "grayscale": false, "framestack": true, "lstm_cell_size": 256}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "6a5e6d87546141128087acb0b350a70a", "custom_metrics": {"system_level_velocity_min": 6.241794485102017, "cost1_min": 105.16382654704093, "system_level_velocity_mean": 9.051829098279336, "cost1_mean": 220.4603060731423, "cost2_mean": -11.883724805694879, "cost1_max": 271.54185200959625, "cost2_max": 0.0, "system_level_velocity_max": 12.751585916074715, "cost2_min": -28.12924046641392}, "done": false, "time_total_s": 11312.566727161407, "episode_reward_min": 516.1248798863191, "num_metric_batches_dropped": 0, "episode_len_mean": 746.01, "pid": 63737, "time_since_restore": 11312.566727161407, "time_this_iter_s": 86.2685194015503, "episodes_this_iter": 36, "episode_reward_mean": 1087.7667278550905, "info": {"grad_time_ms": 34146.414, "update_time_ms": 10.911, "num_steps_trained": 17820000, "num_steps_sampled": 17820000, "load_time_ms": 18.523, "default": {"cur_kl_coeff": 0.33750006556510925, "vf_explained_var": 0.5043325424194336, "total_loss": 12.044179916381836, "policy_loss": -0.00827663205564022, "entropy": 1.6003143787384033, "kl": 0.01313136238604784, "cur_lr": 0.0005000000237487257, "vf_loss": 12.04802417755127}, "sample_time_ms": 51591.728}, "timesteps_total": 17820000, "iterations_since_restore": 132, "episode_reward_max": 1355.8515799518843, "timesteps_this_iter": 135000, "training_iteration": 132, "node_ip": "10.138.0.2", "date": "2019-05-16_15-06-08", "policy_reward_mean": {}}
{"timestamp": 1558019254, "hostname": "flow-main", "timesteps_since_restore": 17955000, "episodes_total": 4932, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "synchronize_filters": true, "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:1.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "straggler_mitigation": false, "lr_schedule": null, "monitor": false, "input_evaluation": null, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9deba8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9decc0>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9de9b0>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "clip_param": 0.3, "simple_optimizer": false, "kl_target": 0.01, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "model": {"custom_preprocessor": null, "squash_to_range": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "grayscale": false, "framestack": true, "lstm_cell_size": 256}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "6a5e6d87546141128087acb0b350a70a", "custom_metrics": {"system_level_velocity_min": 5.127417797213141, "cost1_min": 83.3759172747968, "system_level_velocity_mean": 8.946504304137806, "cost1_mean": 217.14803618257505, "cost2_mean": -11.245589938981123, "cost1_max": 271.54185200959625, "cost2_max": 0.0, "system_level_velocity_max": 12.751585916074715, "cost2_min": -29.39999999999999}, "done": false, "time_total_s": 11398.33621096611, "episode_reward_min": 411.8129528868338, "num_metric_batches_dropped": 0, "episode_len_mean": 739.22, "pid": 63737, "time_since_restore": 11398.33621096611, "time_this_iter_s": 85.76948380470276, "episodes_this_iter": 37, "episode_reward_mean": 1072.379884681796, "info": {"grad_time_ms": 34154.158, "update_time_ms": 10.843, "num_steps_trained": 17955000, "num_steps_sampled": 17955000, "load_time_ms": 18.293, "default": {"cur_kl_coeff": 0.33750006556510925, "vf_explained_var": 0.49471181631088257, "total_loss": 12.332603454589844, "policy_loss": -0.0075608775950968266, "entropy": 1.6234045028686523, "kl": 0.012574008665978909, "cur_lr": 0.0005000000237487257, "vf_loss": 12.335921287536621}, "sample_time_ms": 51552.769}, "timesteps_total": 17955000, "iterations_since_restore": 133, "episode_reward_max": 1355.8515799518843, "timesteps_this_iter": 135000, "training_iteration": 133, "node_ip": "10.138.0.2", "date": "2019-05-16_15-07-34", "policy_reward_mean": {}}
{"timestamp": 1558019338, "hostname": "flow-main", "timesteps_since_restore": 18090000, "episodes_total": 4968, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "synchronize_filters": true, "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:1.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "straggler_mitigation": false, "lr_schedule": null, "monitor": false, "input_evaluation": null, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9eb0b8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9ebd30>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9eb2e8>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "clip_param": 0.3, "simple_optimizer": false, "kl_target": 0.01, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "model": {"custom_preprocessor": null, "squash_to_range": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "grayscale": false, "framestack": true, "lstm_cell_size": 256}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "6a5e6d87546141128087acb0b350a70a", "custom_metrics": {"system_level_velocity_min": 4.944719016265629, "cost1_min": 83.3759172747968, "system_level_velocity_mean": 9.01072952599269, "cost1_mean": 218.45851842579762, "cost2_mean": -10.676200240398494, "cost1_max": 269.34566725300465, "cost2_max": 0.0, "system_level_velocity_max": 12.609934349308892, "cost2_min": -29.39999999999999}, "done": false, "time_total_s": 11482.849437713623, "episode_reward_min": 411.8129528868338, "num_metric_batches_dropped": 0, "episode_len_mean": 740.34, "pid": 63737, "time_since_restore": 11482.849437713623, "time_this_iter_s": 84.51322674751282, "episodes_this_iter": 36, "episode_reward_mean": 1079.4960187548847, "info": {"grad_time_ms": 33942.031, "update_time_ms": 10.902, "num_steps_trained": 18090000, "num_steps_sampled": 18090000, "load_time_ms": 18.486, "default": {"cur_kl_coeff": 0.33750006556510925, "vf_explained_var": 0.5051320195198059, "total_loss": 11.916316032409668, "policy_loss": -0.008086983114480972, "entropy": 1.622552514076233, "kl": 0.013048477470874786, "cur_lr": 0.0005000000237487257, "vf_loss": 11.919999122619629}, "sample_time_ms": 51508.382}, "timesteps_total": 18090000, "iterations_since_restore": 134, "episode_reward_max": 1346.7283362650267, "timesteps_this_iter": 135000, "training_iteration": 134, "node_ip": "10.138.0.2", "date": "2019-05-16_15-08-58", "policy_reward_mean": {}}
{"timestamp": 1558019425, "hostname": "flow-main", "timesteps_since_restore": 18225000, "episodes_total": 5004, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "synchronize_filters": true, "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:1.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "straggler_mitigation": false, "lr_schedule": null, "monitor": false, "input_evaluation": null, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9f5668>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9eb518>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9d47f0>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "clip_param": 0.3, "simple_optimizer": false, "kl_target": 0.01, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "model": {"custom_preprocessor": null, "squash_to_range": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "grayscale": false, "framestack": true, "lstm_cell_size": 256}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "6a5e6d87546141128087acb0b350a70a", "custom_metrics": {"system_level_velocity_min": 4.944719016265629, "cost1_min": 109.63451006568847, "system_level_velocity_mean": 8.984379292497326, "cost1_mean": 219.34289928355008, "cost2_mean": -10.968372586268947, "cost1_max": 269.05206554302833, "cost2_max": 0.0, "system_level_velocity_max": 12.435897087514002, "cost2_min": -32.05891902165092}, "done": false, "time_total_s": 11569.433305501938, "episode_reward_min": 538.8116867933238, "num_metric_batches_dropped": 0, "episode_len_mean": 744.52, "pid": 63737, "time_since_restore": 11569.433305501938, "time_this_iter_s": 86.58386778831482, "episodes_this_iter": 36, "episode_reward_mean": 1083.3584144502531, "info": {"grad_time_ms": 33946.082, "update_time_ms": 11.13, "num_steps_trained": 18225000, "num_steps_sampled": 18225000, "load_time_ms": 18.358, "default": {"cur_kl_coeff": 0.33750006556510925, "vf_explained_var": 0.4555376172065735, "total_loss": 11.984522819519043, "policy_loss": -0.008317384868860245, "entropy": 1.6725307703018188, "kl": 0.013093547895550728, "cur_lr": 0.0005000000237487257, "vf_loss": 11.988420486450195}, "sample_time_ms": 51535.666}, "timesteps_total": 18225000, "iterations_since_restore": 135, "episode_reward_max": 1345.2603277151384, "timesteps_this_iter": 135000, "training_iteration": 135, "node_ip": "10.138.0.2", "date": "2019-05-16_15-10-25", "policy_reward_mean": {}}
{"timestamp": 1558019511, "hostname": "flow-main", "timesteps_since_restore": 18360000, "episodes_total": 5040, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "synchronize_filters": true, "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:1.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "straggler_mitigation": false, "lr_schedule": null, "monitor": false, "input_evaluation": null, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9f5780>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9f5080>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9f5748>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "clip_param": 0.3, "simple_optimizer": false, "kl_target": 0.01, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "model": {"custom_preprocessor": null, "squash_to_range": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "grayscale": false, "framestack": true, "lstm_cell_size": 256}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "6a5e6d87546141128087acb0b350a70a", "custom_metrics": {"system_level_velocity_min": 4.944719016265629, "cost1_min": 131.3515825892254, "system_level_velocity_mean": 8.981934475387941, "cost1_mean": 221.8021908196837, "cost2_mean": -11.973735688335498, "cost1_max": 270.5292525631806, "cost2_max": 0.0, "system_level_velocity_max": 11.949215894906565, "cost2_min": -32.05891902165092}, "done": false, "time_total_s": 11655.157563209534, "episode_reward_min": 649.7197056129679, "num_metric_batches_dropped": 0, "episode_len_mean": 750.0, "pid": 63737, "time_since_restore": 11655.157563209534, "time_this_iter_s": 85.72425770759583, "episodes_this_iter": 36, "episode_reward_mean": 1094.147332066038, "info": {"grad_time_ms": 33938.647, "update_time_ms": 11.114, "num_steps_trained": 18360000, "num_steps_sampled": 18360000, "load_time_ms": 18.093, "default": {"cur_kl_coeff": 0.33750006556510925, "vf_explained_var": 0.4493545591831207, "total_loss": 11.345239639282227, "policy_loss": -0.007806648500263691, "entropy": 1.6408934593200684, "kl": 0.012663494795560837, "cur_lr": 0.0005000000237487257, "vf_loss": 11.348773956298828}, "sample_time_ms": 51509.606}, "timesteps_total": 18360000, "iterations_since_restore": 136, "episode_reward_max": 1338.2617535766083, "timesteps_this_iter": 135000, "training_iteration": 136, "node_ip": "10.138.0.2", "date": "2019-05-16_15-11-51", "policy_reward_mean": {}}
{"timestamp": 1558019597, "hostname": "flow-main", "timesteps_since_restore": 18495000, "episodes_total": 5076, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "synchronize_filters": true, "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:1.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "straggler_mitigation": false, "lr_schedule": null, "monitor": false, "input_evaluation": null, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9ebba8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9eb208>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9eb668>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "clip_param": 0.3, "simple_optimizer": false, "kl_target": 0.01, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "model": {"custom_preprocessor": null, "squash_to_range": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "grayscale": false, "framestack": true, "lstm_cell_size": 256}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "6a5e6d87546141128087acb0b350a70a", "custom_metrics": {"system_level_velocity_min": 6.454338233492657, "cost1_min": 166.47750249255577, "system_level_velocity_mean": 9.134447157467315, "cost1_mean": 224.80992636882974, "cost2_mean": -12.21879134681805, "cost1_max": 276.9075213718743, "cost2_max": 0.0, "system_level_velocity_max": 12.153096893765168, "cost2_min": -32.05891902165092}, "done": false, "time_total_s": 11741.579809427261, "episode_reward_min": 805.2778464642287, "num_metric_batches_dropped": 0, "episode_len_mean": 750.0, "pid": 63737, "time_since_restore": 11741.579809427261, "time_this_iter_s": 86.42224621772766, "episodes_this_iter": 36, "episode_reward_mean": 1108.8101246995802, "info": {"grad_time_ms": 34041.9, "update_time_ms": 11.004, "num_steps_trained": 18495000, "num_steps_sampled": 18495000, "load_time_ms": 18.17, "default": {"cur_kl_coeff": 0.33750006556510925, "vf_explained_var": 0.41197746992111206, "total_loss": 11.794135093688965, "policy_loss": -0.00831794273108244, "entropy": 1.6524561643600464, "kl": 0.012495708651840687, "cur_lr": 0.0005000000237487257, "vf_loss": 11.798235893249512}, "sample_time_ms": 51580.472}, "timesteps_total": 18495000, "iterations_since_restore": 137, "episode_reward_max": 1376.7376068593733, "timesteps_this_iter": 135000, "training_iteration": 137, "node_ip": "10.138.0.2", "date": "2019-05-16_15-13-17", "policy_reward_mean": {}}
{"timestamp": 1558019683, "hostname": "flow-main", "timesteps_since_restore": 18630000, "episodes_total": 5112, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "synchronize_filters": true, "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:1.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "straggler_mitigation": false, "lr_schedule": null, "monitor": false, "input_evaluation": null, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9eb3c8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9eb048>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9ebc18>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "clip_param": 0.3, "simple_optimizer": false, "kl_target": 0.01, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "model": {"custom_preprocessor": null, "squash_to_range": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "grayscale": false, "framestack": true, "lstm_cell_size": 256}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "6a5e6d87546141128087acb0b350a70a", "custom_metrics": {"system_level_velocity_min": 6.350009879684646, "cost1_min": 171.21721688320804, "system_level_velocity_mean": 9.158900835149835, "cost1_mean": 224.68937364526278, "cost2_mean": -11.59880882543876, "cost1_max": 279.43405914848756, "cost2_max": 0.0, "system_level_velocity_max": 12.86235405913055, "cost2_min": -27.741771112829618}, "done": false, "time_total_s": 11827.39117527008, "episode_reward_min": 834.7887068040925, "num_metric_batches_dropped": 0, "episode_len_mean": 750.0, "pid": 63737, "time_since_restore": 11827.39117527008, "time_this_iter_s": 85.81136584281921, "episodes_this_iter": 36, "episode_reward_mean": 1108.9302376559674, "info": {"grad_time_ms": 34111.199, "update_time_ms": 11.031, "num_steps_trained": 18630000, "num_steps_sampled": 18630000, "load_time_ms": 18.552, "default": {"cur_kl_coeff": 0.33750006556510925, "vf_explained_var": 0.45475006103515625, "total_loss": 11.514808654785156, "policy_loss": -0.008041595108807087, "entropy": 1.6676702499389648, "kl": 0.011990560218691826, "cur_lr": 0.0005000000237487257, "vf_loss": 11.518802642822266}, "sample_time_ms": 51514.973}, "timesteps_total": 18630000, "iterations_since_restore": 138, "episode_reward_max": 1383.6702957424454, "timesteps_this_iter": 135000, "training_iteration": 138, "node_ip": "10.138.0.2", "date": "2019-05-16_15-14-43", "policy_reward_mean": {}}
{"timestamp": 1558019771, "hostname": "flow-main", "timesteps_since_restore": 18765000, "episodes_total": 5148, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "synchronize_filters": true, "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:1.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "straggler_mitigation": false, "lr_schedule": null, "monitor": false, "input_evaluation": null, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9f5f98>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9eb550>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9f5400>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "clip_param": 0.3, "simple_optimizer": false, "kl_target": 0.01, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "model": {"custom_preprocessor": null, "squash_to_range": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "grayscale": false, "framestack": true, "lstm_cell_size": 256}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "6a5e6d87546141128087acb0b350a70a", "custom_metrics": {"system_level_velocity_min": 6.350009879684646, "cost1_min": 69.70501021530765, "system_level_velocity_mean": 9.26827738069663, "cost1_mean": 224.81426491135528, "cost2_mean": -11.081062051396046, "cost1_max": 279.43405914848756, "cost2_max": 0.0, "system_level_velocity_max": 12.86235405913055, "cost2_min": -26.61938069576239}, "done": false, "time_total_s": 11915.672351360321, "episode_reward_min": 334.64699753445495, "num_metric_batches_dropped": 0, "episode_len_mean": 744.49, "pid": 63737, "time_since_restore": 11915.672351360321, "time_this_iter_s": 88.28117609024048, "episodes_this_iter": 36, "episode_reward_mean": 1109.9627703517124, "info": {"grad_time_ms": 34268.766, "update_time_ms": 11.179, "num_steps_trained": 18765000, "num_steps_sampled": 18765000, "load_time_ms": 18.393, "default": {"cur_kl_coeff": 0.33750006556510925, "vf_explained_var": 0.436532586812973, "total_loss": 11.621960639953613, "policy_loss": -0.006675041746348143, "entropy": 1.5833460092544556, "kl": 0.012744869105517864, "cur_lr": 0.0005000000237487257, "vf_loss": 11.624334335327148}, "sample_time_ms": 51621.547}, "timesteps_total": 18765000, "iterations_since_restore": 139, "episode_reward_max": 1383.6702957424454, "timesteps_this_iter": 135000, "training_iteration": 139, "node_ip": "10.138.0.2", "date": "2019-05-16_15-16-11", "policy_reward_mean": {}}
{"timestamp": 1558019857, "hostname": "flow-main", "timesteps_since_restore": 18900000, "episodes_total": 5184, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "synchronize_filters": true, "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:1.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "straggler_mitigation": false, "lr_schedule": null, "monitor": false, "input_evaluation": null, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9eb128>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9ebba8>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9eb668>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "clip_param": 0.3, "simple_optimizer": false, "kl_target": 0.01, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "model": {"custom_preprocessor": null, "squash_to_range": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "grayscale": false, "framestack": true, "lstm_cell_size": 256}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "6a5e6d87546141128087acb0b350a70a", "custom_metrics": {"system_level_velocity_min": 6.350009879684646, "cost1_min": 69.70501021530765, "system_level_velocity_mean": 9.417004281525617, "cost1_mean": 226.70340604059106, "cost2_mean": -11.019815105756535, "cost1_max": 279.43405914848756, "cost2_max": 0.0, "system_level_velocity_max": 12.86235405913055, "cost2_min": -30.799999999999997}, "done": false, "time_total_s": 12001.824260950089, "episode_reward_min": 334.64699753445495, "num_metric_batches_dropped": 0, "episode_len_mean": 744.49, "pid": 63737, "time_since_restore": 12001.824260950089, "time_this_iter_s": 86.15190958976746, "episodes_this_iter": 36, "episode_reward_mean": 1119.4618360440895, "info": {"grad_time_ms": 34322.097, "update_time_ms": 11.141, "num_steps_trained": 18900000, "num_steps_sampled": 18900000, "load_time_ms": 18.361, "default": {"cur_kl_coeff": 0.33750006556510925, "vf_explained_var": 0.4004966616630554, "total_loss": 12.244592666625977, "policy_loss": -0.007527997251600027, "entropy": 1.6152476072311401, "kl": 0.012241121381521225, "cur_lr": 0.0005000000237487257, "vf_loss": 12.247989654541016}, "sample_time_ms": 51671.135}, "timesteps_total": 18900000, "iterations_since_restore": 140, "episode_reward_max": 1383.6702957424454, "timesteps_this_iter": 135000, "training_iteration": 140, "node_ip": "10.138.0.2", "date": "2019-05-16_15-17-37", "policy_reward_mean": {}}
{"timestamp": 1558019943, "hostname": "flow-main", "timesteps_since_restore": 19035000, "episodes_total": 5220, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "synchronize_filters": true, "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:1.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "straggler_mitigation": false, "lr_schedule": null, "monitor": false, "input_evaluation": null, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9eb3c8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9eb6d8>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9eb400>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "clip_param": 0.3, "simple_optimizer": false, "kl_target": 0.01, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "model": {"custom_preprocessor": null, "squash_to_range": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "grayscale": false, "framestack": true, "lstm_cell_size": 256}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "6a5e6d87546141128087acb0b350a70a", "custom_metrics": {"system_level_velocity_min": 7.033343178539333, "cost1_min": 69.70501021530765, "system_level_velocity_mean": 9.519319754818152, "cost1_mean": 227.7060747284318, "cost2_mean": -10.111167184653183, "cost1_max": 275.16788835606684, "cost2_max": 0.0, "system_level_velocity_max": 12.50119983235636, "cost2_min": -36.53539540298899}, "done": false, "time_total_s": 12086.895581960678, "episode_reward_min": 334.64699753445495, "num_metric_batches_dropped": 0, "episode_len_mean": 742.42, "pid": 63737, "time_since_restore": 12086.895581960678, "time_this_iter_s": 85.0713210105896, "episodes_this_iter": 36, "episode_reward_mean": 1125.787234939981, "info": {"grad_time_ms": 34115.541, "update_time_ms": 11.142, "num_steps_trained": 19035000, "num_steps_sampled": 19035000, "load_time_ms": 18.026, "default": {"cur_kl_coeff": 0.33750006556510925, "vf_explained_var": 0.4391278326511383, "total_loss": 11.75501823425293, "policy_loss": -0.0075341518968343735, "entropy": 1.5997720956802368, "kl": 0.012265360914170742, "cur_lr": 0.0005000000237487257, "vf_loss": 11.758413314819336}, "sample_time_ms": 51657.873}, "timesteps_total": 19035000, "iterations_since_restore": 141, "episode_reward_max": 1375.8394417803418, "timesteps_this_iter": 135000, "training_iteration": 141, "node_ip": "10.138.0.2", "date": "2019-05-16_15-19-03", "policy_reward_mean": {}}
{"timestamp": 1558020030, "hostname": "flow-main", "timesteps_since_restore": 19170000, "episodes_total": 5256, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "synchronize_filters": true, "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:1.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "straggler_mitigation": false, "lr_schedule": null, "monitor": false, "input_evaluation": null, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9f54a8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9f5ef0>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9f5240>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "clip_param": 0.3, "simple_optimizer": false, "kl_target": 0.01, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "model": {"custom_preprocessor": null, "squash_to_range": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "grayscale": false, "framestack": true, "lstm_cell_size": 256}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "6a5e6d87546141128087acb0b350a70a", "custom_metrics": {"system_level_velocity_min": 7.033343178539333, "cost1_min": 144.32102853291795, "system_level_velocity_mean": 9.669712126818395, "cost1_mean": 231.60310106215258, "cost2_mean": -8.69029571395479, "cost1_max": 275.16788835606684, "cost2_max": 0.0, "system_level_velocity_max": 12.50119983235636, "cost2_min": -36.53539540298899}, "done": false, "time_total_s": 12174.345839500427, "episode_reward_min": 709.5977139583605, "num_metric_batches_dropped": 0, "episode_len_mean": 747.93, "pid": 63737, "time_since_restore": 12174.345839500427, "time_this_iter_s": 87.45025753974915, "episodes_this_iter": 36, "episode_reward_mean": 1147.3655649469467, "info": {"grad_time_ms": 34239.729, "update_time_ms": 11.242, "num_steps_trained": 19170000, "num_steps_sampled": 19170000, "load_time_ms": 17.893, "default": {"cur_kl_coeff": 0.33750006556510925, "vf_explained_var": 0.4665721356868744, "total_loss": 11.636539459228516, "policy_loss": -0.006708723492920399, "entropy": 1.6037448644638062, "kl": 0.011900552548468113, "cur_lr": 0.0005000000237487257, "vf_loss": 11.63923168182373}, "sample_time_ms": 51651.851}, "timesteps_total": 19170000, "iterations_since_restore": 142, "episode_reward_max": 1375.8394417803418, "timesteps_this_iter": 135000, "training_iteration": 142, "node_ip": "10.138.0.2", "date": "2019-05-16_15-20-30", "policy_reward_mean": {}}
{"timestamp": 1558020116, "hostname": "flow-main", "timesteps_since_restore": 19305000, "episodes_total": 5292, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "synchronize_filters": true, "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:1.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "straggler_mitigation": false, "lr_schedule": null, "monitor": false, "input_evaluation": null, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9f5128>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9f59b0>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9f5da0>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "clip_param": 0.3, "simple_optimizer": false, "kl_target": 0.01, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "model": {"custom_preprocessor": null, "squash_to_range": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "grayscale": false, "framestack": true, "lstm_cell_size": 256}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "6a5e6d87546141128087acb0b350a70a", "custom_metrics": {"system_level_velocity_min": 7.4417252071311495, "cost1_min": 184.67124600280619, "system_level_velocity_mean": 9.591236429041441, "cost1_mean": 230.55773358180585, "cost2_mean": -9.361560297595172, "cost1_max": 266.49940365599946, "cost2_max": 0.0, "system_level_velocity_max": 12.240301257296844, "cost2_min": -32.75240329470418}, "done": false, "time_total_s": 12260.29941034317, "episode_reward_min": 905.3968421609832, "num_metric_batches_dropped": 0, "episode_len_mean": 750.0, "pid": 63737, "time_since_restore": 12260.29941034317, "time_this_iter_s": 85.95357084274292, "episodes_this_iter": 36, "episode_reward_mean": 1141.18132034338, "info": {"grad_time_ms": 34230.914, "update_time_ms": 11.289, "num_steps_trained": 19305000, "num_steps_sampled": 19305000, "load_time_ms": 18.003, "default": {"cur_kl_coeff": 0.33750006556510925, "vf_explained_var": 0.40146708488464355, "total_loss": 11.6297025680542, "policy_loss": -0.0070137144066393375, "entropy": 1.6249759197235107, "kl": 0.012943959794938564, "cur_lr": 0.0005000000237487257, "vf_loss": 11.632347106933594}, "sample_time_ms": 51684.925}, "timesteps_total": 19305000, "iterations_since_restore": 143, "episode_reward_max": 1328.720838804531, "timesteps_this_iter": 135000, "training_iteration": 143, "node_ip": "10.138.0.2", "date": "2019-05-16_15-21-56", "policy_reward_mean": {}}
{"timestamp": 1558020201, "hostname": "flow-main", "timesteps_since_restore": 19440000, "episodes_total": 5328, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "synchronize_filters": true, "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:1.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "straggler_mitigation": false, "lr_schedule": null, "monitor": false, "input_evaluation": null, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9f5588>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9f53c8>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9f5470>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "clip_param": 0.3, "simple_optimizer": false, "kl_target": 0.01, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "model": {"custom_preprocessor": null, "squash_to_range": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "grayscale": false, "framestack": true, "lstm_cell_size": 256}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "6a5e6d87546141128087acb0b350a70a", "custom_metrics": {"system_level_velocity_min": 7.501826350621564, "cost1_min": 185.35351565401135, "system_level_velocity_mean": 9.596297453227292, "cost1_mean": 230.79090968108028, "cost2_mean": -9.087433198062477, "cost1_max": 270.11304139911385, "cost2_max": 0.0, "system_level_velocity_max": 12.302796723548555, "cost2_min": -32.75240329470418}, "done": false, "time_total_s": 12345.347752571106, "episode_reward_min": 905.3968421609832, "num_metric_batches_dropped": 0, "episode_len_mean": 750.0, "pid": 63737, "time_since_restore": 12345.347752571106, "time_this_iter_s": 85.04834222793579, "episodes_this_iter": 36, "episode_reward_mean": 1142.54139207997, "info": {"grad_time_ms": 34270.395, "update_time_ms": 11.302, "num_steps_trained": 19440000, "num_steps_sampled": 19440000, "load_time_ms": 17.807, "default": {"cur_kl_coeff": 0.33750006556510925, "vf_explained_var": 0.42244061827659607, "total_loss": 12.100704193115234, "policy_loss": -0.006190928630530834, "entropy": 1.5823583602905273, "kl": 0.012174682691693306, "cur_lr": 0.0005000000237487257, "vf_loss": 12.102785110473633}, "sample_time_ms": 51696.227}, "timesteps_total": 19440000, "iterations_since_restore": 144, "episode_reward_max": 1335.7120756296938, "timesteps_this_iter": 135000, "training_iteration": 144, "node_ip": "10.138.0.2", "date": "2019-05-16_15-23-21", "policy_reward_mean": {}}
{"timestamp": 1558020287, "hostname": "flow-main", "timesteps_since_restore": 19575000, "episodes_total": 5364, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "synchronize_filters": true, "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:1.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "straggler_mitigation": false, "lr_schedule": null, "monitor": false, "input_evaluation": null, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9cc9b0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9ccc88>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9cc4a8>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "clip_param": 0.3, "simple_optimizer": false, "kl_target": 0.01, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "model": {"custom_preprocessor": null, "squash_to_range": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "grayscale": false, "framestack": true, "lstm_cell_size": 256}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "6a5e6d87546141128087acb0b350a70a", "custom_metrics": {"system_level_velocity_min": 7.1750785908820705, "cost1_min": 181.22152625642713, "system_level_velocity_mean": 9.632320265908753, "cost1_mean": 230.7109829027967, "cost2_mean": -9.729108164048936, "cost1_max": 270.11304139911385, "cost2_max": 0.0, "system_level_velocity_max": 12.302796723548555, "cost2_min": -34.128959173797156}, "done": false, "time_total_s": 12430.562350034714, "episode_reward_min": 878.9026452734846, "num_metric_batches_dropped": 0, "episode_len_mean": 750.0, "pid": 63737, "time_since_restore": 12430.562350034714, "time_this_iter_s": 85.21459746360779, "episodes_this_iter": 36, "episode_reward_mean": 1141.5540437016514, "info": {"grad_time_ms": 34210.728, "update_time_ms": 11.346, "num_steps_trained": 19575000, "num_steps_sampled": 19575000, "load_time_ms": 17.782, "default": {"cur_kl_coeff": 0.33750006556510925, "vf_explained_var": 0.41989555954933167, "total_loss": 11.826308250427246, "policy_loss": -0.007142352405935526, "entropy": 1.6401664018630981, "kl": 0.012925255112349987, "cur_lr": 0.0005000000237487257, "vf_loss": 11.82908821105957}, "sample_time_ms": 51624.977}, "timesteps_total": 19575000, "iterations_since_restore": 145, "episode_reward_max": 1335.7120756296938, "timesteps_this_iter": 135000, "training_iteration": 145, "node_ip": "10.138.0.2", "date": "2019-05-16_15-24-47", "policy_reward_mean": {}}
{"timestamp": 1558020373, "hostname": "flow-main", "timesteps_since_restore": 19710000, "episodes_total": 5400, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "synchronize_filters": true, "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:1.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "straggler_mitigation": false, "lr_schedule": null, "monitor": false, "input_evaluation": null, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9f5da0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9f5be0>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9f5710>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "clip_param": 0.3, "simple_optimizer": false, "kl_target": 0.01, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "model": {"custom_preprocessor": null, "squash_to_range": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "grayscale": false, "framestack": true, "lstm_cell_size": 256}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "6a5e6d87546141128087acb0b350a70a", "custom_metrics": {"system_level_velocity_min": 7.1750785908820705, "cost1_min": 181.22152625642713, "system_level_velocity_mean": 9.682645784575993, "cost1_mean": 231.15601994710832, "cost2_mean": -9.34347992282036, "cost1_max": 267.5610403829536, "cost2_max": 0.0, "system_level_velocity_max": 12.302796723548555, "cost2_min": -34.128959173797156}, "done": false, "time_total_s": 12516.862006425858, "episode_reward_min": 878.9026452734846, "num_metric_batches_dropped": 0, "episode_len_mean": 750.0, "pid": 63737, "time_since_restore": 12516.862006425858, "time_this_iter_s": 86.2996563911438, "episodes_this_iter": 36, "episode_reward_mean": 1144.3747571243155, "info": {"grad_time_ms": 34194.808, "update_time_ms": 11.311, "num_steps_trained": 19710000, "num_steps_sampled": 19710000, "load_time_ms": 17.794, "default": {"cur_kl_coeff": 0.33750006556510925, "vf_explained_var": 0.3766053318977356, "total_loss": 12.398724555969238, "policy_loss": -0.007412804756313562, "entropy": 1.6605838537216187, "kl": 0.012380608357489109, "cur_lr": 0.0005000000237487257, "vf_loss": 12.401960372924805}, "sample_time_ms": 51695.824}, "timesteps_total": 19710000, "iterations_since_restore": 146, "episode_reward_max": 1335.7120756296938, "timesteps_this_iter": 135000, "training_iteration": 146, "node_ip": "10.138.0.2", "date": "2019-05-16_15-26-13", "policy_reward_mean": {}}
{"timestamp": 1558020458, "hostname": "flow-main", "timesteps_since_restore": 19845000, "episodes_total": 5436, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "synchronize_filters": true, "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:1.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "straggler_mitigation": false, "lr_schedule": null, "monitor": false, "input_evaluation": null, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9de278>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9f56a0>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9de780>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "clip_param": 0.3, "simple_optimizer": false, "kl_target": 0.01, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "model": {"custom_preprocessor": null, "squash_to_range": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "grayscale": false, "framestack": true, "lstm_cell_size": 256}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "6a5e6d87546141128087acb0b350a70a", "custom_metrics": {"system_level_velocity_min": 6.705688264031831, "cost1_min": 174.0825030320001, "system_level_velocity_mean": 9.578561806068654, "cost1_mean": 229.4800095459562, "cost2_mean": -10.451431341172158, "cost1_max": 267.5610403829536, "cost2_max": 0.0, "system_level_velocity_max": 12.126554381884317, "cost2_min": -38.7635125701149}, "done": false, "time_total_s": 12602.150327444077, "episode_reward_min": 847.7379459815061, "num_metric_batches_dropped": 0, "episode_len_mean": 750.0, "pid": 63737, "time_since_restore": 12602.150327444077, "time_this_iter_s": 85.288321018219, "episodes_this_iter": 36, "episode_reward_mean": 1134.7764400066496, "info": {"grad_time_ms": 34190.507, "update_time_ms": 11.567, "num_steps_trained": 19845000, "num_steps_sampled": 19845000, "load_time_ms": 17.56, "default": {"cur_kl_coeff": 0.33750006556510925, "vf_explained_var": 0.3995250165462494, "total_loss": 12.24404239654541, "policy_loss": -0.007044713478535414, "entropy": 1.6480474472045898, "kl": 0.01272484753280878, "cur_lr": 0.0005000000237487257, "vf_loss": 12.246792793273926}, "sample_time_ms": 51587.421}, "timesteps_total": 19845000, "iterations_since_restore": 147, "episode_reward_max": 1331.543547828154, "timesteps_this_iter": 135000, "training_iteration": 147, "node_ip": "10.138.0.2", "date": "2019-05-16_15-27-38", "policy_reward_mean": {}}
{"timestamp": 1558020543, "hostname": "flow-main", "timesteps_since_restore": 19980000, "episodes_total": 5472, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "synchronize_filters": true, "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:1.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "straggler_mitigation": false, "lr_schedule": null, "monitor": false, "input_evaluation": null, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9de208>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9decc0>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9de2e8>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "clip_param": 0.3, "simple_optimizer": false, "kl_target": 0.01, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "model": {"custom_preprocessor": null, "squash_to_range": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "grayscale": false, "framestack": true, "lstm_cell_size": 256}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "6a5e6d87546141128087acb0b350a70a", "custom_metrics": {"system_level_velocity_min": 6.705688264031831, "cost1_min": 174.0825030320001, "system_level_velocity_mean": 9.417957081527787, "cost1_mean": 226.96598774882762, "cost2_mean": -10.795759514383853, "cost1_max": 267.5610403829536, "cost2_max": 0.0, "system_level_velocity_max": 12.126554381884317, "cost2_min": -38.7635125701149}, "done": false, "time_total_s": 12686.911252260208, "episode_reward_min": 847.7379459815061, "num_metric_batches_dropped": 0, "episode_len_mean": 750.0, "pid": 63737, "time_since_restore": 12686.911252260208, "time_this_iter_s": 84.76092481613159, "episodes_this_iter": 36, "episode_reward_mean": 1121.8129392403305, "info": {"grad_time_ms": 34127.128, "update_time_ms": 11.313, "num_steps_trained": 19980000, "num_steps_sampled": 19980000, "load_time_ms": 17.152, "default": {"cur_kl_coeff": 0.33750006556510925, "vf_explained_var": 0.43481725454330444, "total_loss": 11.380843162536621, "policy_loss": -0.008171589113771915, "entropy": 1.641007423400879, "kl": 0.013146179728209972, "cur_lr": 0.0005000000237487257, "vf_loss": 11.384578704833984}, "sample_time_ms": 51542.479}, "timesteps_total": 19980000, "iterations_since_restore": 148, "episode_reward_max": 1331.543547828154, "timesteps_this_iter": 135000, "training_iteration": 148, "node_ip": "10.138.0.2", "date": "2019-05-16_15-29-03", "policy_reward_mean": {}}
{"timestamp": 1558020628, "hostname": "flow-main", "timesteps_since_restore": 20115000, "episodes_total": 5508, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "synchronize_filters": true, "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:1.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "straggler_mitigation": false, "lr_schedule": null, "monitor": false, "input_evaluation": null, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9eb828>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9eb0b8>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9eb710>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "clip_param": 0.3, "simple_optimizer": false, "kl_target": 0.01, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "model": {"custom_preprocessor": null, "squash_to_range": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "grayscale": false, "framestack": true, "lstm_cell_size": 256}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "6a5e6d87546141128087acb0b350a70a", "custom_metrics": {"system_level_velocity_min": 6.705688264031831, "cost1_min": 174.32268681623933, "system_level_velocity_mean": 9.431805876804075, "cost1_mean": 227.1123807292812, "cost2_mean": -10.505593454132981, "cost1_max": 266.3087095656294, "cost2_max": 0.0, "system_level_velocity_max": 12.201865275749824, "cost2_min": -38.7635125701149}, "done": false, "time_total_s": 12772.28568315506, "episode_reward_min": 847.7379459815061, "num_metric_batches_dropped": 0, "episode_len_mean": 750.0, "pid": 63737, "time_since_restore": 12772.28568315506, "time_this_iter_s": 85.37443089485168, "episodes_this_iter": 36, "episode_reward_mean": 1122.8197096441806, "info": {"grad_time_ms": 34002.667, "update_time_ms": 11.301, "num_steps_trained": 20115000, "num_steps_sampled": 20115000, "load_time_ms": 16.974, "default": {"cur_kl_coeff": 0.33750006556510925, "vf_explained_var": 0.42148298025131226, "total_loss": 11.616700172424316, "policy_loss": -0.007812432944774628, "entropy": 1.6468755006790161, "kl": 0.012601478025317192, "cur_lr": 0.0005000000237487257, "vf_loss": 11.620259284973145}, "sample_time_ms": 51378.624}, "timesteps_total": 20115000, "iterations_since_restore": 149, "episode_reward_max": 1331.543547828154, "timesteps_this_iter": 135000, "training_iteration": 149, "node_ip": "10.138.0.2", "date": "2019-05-16_15-30-28", "policy_reward_mean": {}}
{"timestamp": 1558020715, "hostname": "flow-main", "timesteps_since_restore": 20250000, "episodes_total": 5545, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "synchronize_filters": true, "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:1.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "straggler_mitigation": false, "lr_schedule": null, "monitor": false, "input_evaluation": null, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9f5a58>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9de5c0>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9de048>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "clip_param": 0.3, "simple_optimizer": false, "kl_target": 0.01, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "model": {"custom_preprocessor": null, "squash_to_range": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "grayscale": false, "framestack": true, "lstm_cell_size": 256}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "6a5e6d87546141128087acb0b350a70a", "custom_metrics": {"system_level_velocity_min": 7.112478636501102, "cost1_min": 137.3461895476947, "system_level_velocity_mean": 9.39170734553416, "cost1_mean": 226.36683450491716, "cost2_mean": -10.921257921149449, "cost1_max": 267.7853233072686, "cost2_max": 0.0, "system_level_velocity_max": 12.201865275749824, "cost2_min": -38.66609051392516}, "done": false, "time_total_s": 12858.90955400467, "episode_reward_min": 669.3554341845103, "num_metric_batches_dropped": 0, "episode_len_mean": 747.74, "pid": 63737, "time_since_restore": 12858.90955400467, "time_this_iter_s": 86.62387084960938, "episodes_this_iter": 37, "episode_reward_mean": 1118.3839600356143, "info": {"grad_time_ms": 34005.202, "update_time_ms": 11.436, "num_steps_trained": 20250000, "num_steps_sampled": 20250000, "load_time_ms": 17.3, "default": {"cur_kl_coeff": 0.33750006556510925, "vf_explained_var": 0.4382043480873108, "total_loss": 12.198190689086914, "policy_loss": -0.008029220625758171, "entropy": 1.642584204673767, "kl": 0.012352494522929192, "cur_lr": 0.0005000000237487257, "vf_loss": 12.20205020904541}, "sample_time_ms": 51422.284}, "timesteps_total": 20250000, "iterations_since_restore": 150, "episode_reward_max": 1327.1081275313884, "timesteps_this_iter": 135000, "training_iteration": 150, "node_ip": "10.138.0.2", "date": "2019-05-16_15-31-55", "policy_reward_mean": {}}
{"timestamp": 1558020801, "hostname": "flow-main", "timesteps_since_restore": 20385000, "episodes_total": 5581, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "synchronize_filters": true, "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:1.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "straggler_mitigation": false, "lr_schedule": null, "monitor": false, "input_evaluation": null, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9f44e0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9f40f0>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9f4198>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "clip_param": 0.3, "simple_optimizer": false, "kl_target": 0.01, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "model": {"custom_preprocessor": null, "squash_to_range": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "grayscale": false, "framestack": true, "lstm_cell_size": 256}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "6a5e6d87546141128087acb0b350a70a", "custom_metrics": {"system_level_velocity_min": 7.44863437659693, "cost1_min": 137.3461895476947, "system_level_velocity_mean": 9.54163153095191, "cost1_mean": 229.75666826299286, "cost2_mean": -9.646237386814823, "cost1_max": 267.7853233072686, "cost2_max": 0.0, "system_level_velocity_max": 12.201865275749824, "cost2_min": -31.84078196234189}, "done": false, "time_total_s": 12944.578452587128, "episode_reward_min": 669.3554341845103, "num_metric_batches_dropped": 0, "episode_len_mean": 747.74, "pid": 63737, "time_since_restore": 12944.578452587128, "time_this_iter_s": 85.6688985824585, "episodes_this_iter": 36, "episode_reward_mean": 1136.5293615266235, "info": {"grad_time_ms": 34086.616, "update_time_ms": 11.36, "num_steps_trained": 20385000, "num_steps_sampled": 20385000, "load_time_ms": 17.682, "default": {"cur_kl_coeff": 0.33750006556510925, "vf_explained_var": 0.3786787688732147, "total_loss": 11.893424034118652, "policy_loss": -0.00722008291631937, "entropy": 1.6085429191589355, "kl": 0.012994217686355114, "cur_lr": 0.0005000000237487257, "vf_loss": 11.896258354187012}, "sample_time_ms": 51399.249}, "timesteps_total": 20385000, "iterations_since_restore": 151, "episode_reward_max": 1327.1081275313884, "timesteps_this_iter": 135000, "training_iteration": 151, "node_ip": "10.138.0.2", "date": "2019-05-16_15-33-21", "policy_reward_mean": {}}
{"timestamp": 1558020886, "hostname": "flow-main", "timesteps_since_restore": 20520000, "episodes_total": 5617, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "synchronize_filters": true, "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:1.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "straggler_mitigation": false, "lr_schedule": null, "monitor": false, "input_evaluation": null, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9f5da0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9f52e8>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9f5ba8>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "clip_param": 0.3, "simple_optimizer": false, "kl_target": 0.01, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "model": {"custom_preprocessor": null, "squash_to_range": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "grayscale": false, "framestack": true, "lstm_cell_size": 256}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "6a5e6d87546141128087acb0b350a70a", "custom_metrics": {"system_level_velocity_min": 5.39038985332862, "cost1_min": 137.3461895476947, "system_level_velocity_mean": 9.479647267848508, "cost1_mean": 228.85502412410665, "cost2_mean": -9.199734084655752, "cost1_max": 274.82994788060375, "cost2_max": 0.0, "system_level_velocity_max": 12.040677890007156, "cost2_min": -31.84078196234189}, "done": false, "time_total_s": 13029.89056110382, "episode_reward_min": 669.3554341845103, "num_metric_batches_dropped": 0, "episode_len_mean": 747.74, "pid": 63737, "time_since_restore": 13029.89056110382, "time_this_iter_s": 85.31210851669312, "episodes_this_iter": 36, "episode_reward_mean": 1132.7554033062368, "info": {"grad_time_ms": 33951.498, "update_time_ms": 11.5, "num_steps_trained": 20520000, "num_steps_sampled": 20520000, "load_time_ms": 17.895, "default": {"cur_kl_coeff": 0.33750006556510925, "vf_explained_var": 0.3786081075668335, "total_loss": 11.50135612487793, "policy_loss": -0.006121613550931215, "entropy": 1.6305828094482422, "kl": 0.01331241987645626, "cur_lr": 0.0005000000237487257, "vf_loss": 11.502985000610352}, "sample_time_ms": 51315.883}, "timesteps_total": 20520000, "iterations_since_restore": 152, "episode_reward_max": 1353.1497394030225, "timesteps_this_iter": 135000, "training_iteration": 152, "node_ip": "10.138.0.2", "date": "2019-05-16_15-34-46", "policy_reward_mean": {}}
{"timestamp": 1558020973, "hostname": "flow-main", "timesteps_since_restore": 20655000, "episodes_total": 5653, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "synchronize_filters": true, "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:1.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "straggler_mitigation": false, "lr_schedule": null, "monitor": false, "input_evaluation": null, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9eb1d0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9eb748>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9eb3c8>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "clip_param": 0.3, "simple_optimizer": false, "kl_target": 0.01, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "model": {"custom_preprocessor": null, "squash_to_range": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "grayscale": false, "framestack": true, "lstm_cell_size": 256}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "6a5e6d87546141128087acb0b350a70a", "custom_metrics": {"system_level_velocity_min": 5.39038985332862, "cost1_min": 146.64685193506193, "system_level_velocity_mean": 9.510053547683869, "cost1_mean": 229.36028235477323, "cost2_mean": -7.7313769895061055, "cost1_max": 274.82994788060375, "cost2_max": 0.0, "system_level_velocity_max": 12.040677890007156, "cost2_min": -29.181140083187827}, "done": false, "time_total_s": 13116.526829242706, "episode_reward_min": 722.0434854819663, "num_metric_batches_dropped": 0, "episode_len_mean": 750.0, "pid": 63737, "time_since_restore": 13116.526829242706, "time_this_iter_s": 86.6362681388855, "episodes_this_iter": 36, "episode_reward_mean": 1137.31273498247, "info": {"grad_time_ms": 34035.549, "update_time_ms": 11.43, "num_steps_trained": 20655000, "num_steps_sampled": 20655000, "load_time_ms": 17.974, "default": {"cur_kl_coeff": 0.33750006556510925, "vf_explained_var": 0.42337557673454285, "total_loss": 11.581294059753418, "policy_loss": -0.007412206381559372, "entropy": 1.6338740587234497, "kl": 0.013126621022820473, "cur_lr": 0.0005000000237487257, "vf_loss": 11.58427619934082}, "sample_time_ms": 51299.057}, "timesteps_total": 20655000, "iterations_since_restore": 153, "episode_reward_max": 1353.1497394030225, "timesteps_this_iter": 135000, "training_iteration": 153, "node_ip": "10.138.0.2", "date": "2019-05-16_15-36-13", "policy_reward_mean": {}}
{"timestamp": 1558021059, "hostname": "flow-main", "timesteps_since_restore": 20790000, "episodes_total": 5689, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "synchronize_filters": true, "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:1.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "straggler_mitigation": false, "lr_schedule": null, "monitor": false, "input_evaluation": null, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9ebe80>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9eb208>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9eb6a0>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "clip_param": 0.3, "simple_optimizer": false, "kl_target": 0.01, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "model": {"custom_preprocessor": null, "squash_to_range": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "grayscale": false, "framestack": true, "lstm_cell_size": 256}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "6a5e6d87546141128087acb0b350a70a", "custom_metrics": {"system_level_velocity_min": 5.39038985332862, "cost1_min": 146.64685193506193, "system_level_velocity_mean": 9.290029043606014, "cost1_mean": 225.3866368191676, "cost2_mean": -8.507879274813495, "cost1_max": 275.248950330733, "cost2_max": 0.0, "system_level_velocity_max": 12.157495807960336, "cost2_min": -33.55911940890049}, "done": false, "time_total_s": 13202.0904443264, "episode_reward_min": 722.0434854819663, "num_metric_batches_dropped": 0, "episode_len_mean": 750.0, "pid": 63737, "time_since_restore": 13202.0904443264, "time_this_iter_s": 85.56361508369446, "episodes_this_iter": 36, "episode_reward_mean": 1116.898176756019, "info": {"grad_time_ms": 34044.932, "update_time_ms": 11.303, "num_steps_trained": 20790000, "num_steps_sampled": 20790000, "load_time_ms": 18.164, "default": {"cur_kl_coeff": 0.33750006556510925, "vf_explained_var": 0.3808842897415161, "total_loss": 12.130159378051758, "policy_loss": -0.0077737197279930115, "entropy": 1.638555645942688, "kl": 0.013797360472381115, "cur_lr": 0.0005000000237487257, "vf_loss": 12.133275985717773}, "sample_time_ms": 51336.755}, "timesteps_total": 20790000, "iterations_since_restore": 154, "episode_reward_max": 1375.9963876519364, "timesteps_this_iter": 135000, "training_iteration": 154, "node_ip": "10.138.0.2", "date": "2019-05-16_15-37-39", "policy_reward_mean": {}}
{"timestamp": 1558021143, "hostname": "flow-main", "timesteps_since_restore": 20925000, "episodes_total": 5725, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "synchronize_filters": true, "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:1.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "straggler_mitigation": false, "lr_schedule": null, "monitor": false, "input_evaluation": null, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9cca20>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9ccd68>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9cc0b8>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "clip_param": 0.3, "simple_optimizer": false, "kl_target": 0.01, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "model": {"custom_preprocessor": null, "squash_to_range": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "grayscale": false, "framestack": true, "lstm_cell_size": 256}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "6a5e6d87546141128087acb0b350a70a", "custom_metrics": {"system_level_velocity_min": 6.29471436998495, "cost1_min": 165.85353342159152, "system_level_velocity_mean": 9.395593839733365, "cost1_mean": 227.91634903332357, "cost2_mean": -7.808662316684513, "cost1_max": 275.248950330733, "cost2_max": 0.0, "system_level_velocity_max": 12.327292624649791, "cost2_min": -33.55911940890049}, "done": false, "time_total_s": 13286.823340654373, "episode_reward_min": 807.1286165590586, "num_metric_batches_dropped": 0, "episode_len_mean": 750.0, "pid": 63737, "time_since_restore": 13286.823340654373, "time_this_iter_s": 84.73289632797241, "episodes_this_iter": 36, "episode_reward_mean": 1130.232049781305, "info": {"grad_time_ms": 34033.735, "update_time_ms": 11.222, "num_steps_trained": 20925000, "num_steps_sampled": 20925000, "load_time_ms": 18.0, "default": {"cur_kl_coeff": 0.33750006556510925, "vf_explained_var": 0.3638732433319092, "total_loss": 11.52771282196045, "policy_loss": -0.006464583799242973, "entropy": 1.5994956493377686, "kl": 0.012355638667941093, "cur_lr": 0.0005000000237487257, "vf_loss": 11.530006408691406}, "sample_time_ms": 51301.251}, "timesteps_total": 20925000, "iterations_since_restore": 155, "episode_reward_max": 1375.9963876519364, "timesteps_this_iter": 135000, "training_iteration": 155, "node_ip": "10.138.0.2", "date": "2019-05-16_15-39-03", "policy_reward_mean": {}}
{"timestamp": 1558021229, "hostname": "flow-main", "timesteps_since_restore": 21060000, "episodes_total": 5761, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "synchronize_filters": true, "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:1.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "straggler_mitigation": false, "lr_schedule": null, "monitor": false, "input_evaluation": null, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9eb3c8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9eb748>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9ebac8>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "clip_param": 0.3, "simple_optimizer": false, "kl_target": 0.01, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "model": {"custom_preprocessor": null, "squash_to_range": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "grayscale": false, "framestack": true, "lstm_cell_size": 256}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "6a5e6d87546141128087acb0b350a70a", "custom_metrics": {"system_level_velocity_min": 6.446756177451192, "cost1_min": 169.91216110881192, "system_level_velocity_mean": 9.609343842005003, "cost1_mean": 231.65703246605008, "cost2_mean": -7.993828746240732, "cost1_max": 267.6401257860124, "cost2_max": 0.0, "system_level_velocity_max": 12.327292624649791, "cost2_min": -33.55911940890049}, "done": false, "time_total_s": 13372.576355934143, "episode_reward_min": 836.6002069594816, "num_metric_batches_dropped": 0, "episode_len_mean": 749.27, "pid": 63737, "time_since_restore": 13372.576355934143, "time_this_iter_s": 85.7530152797699, "episodes_this_iter": 36, "episode_reward_mean": 1148.3131936250322, "info": {"grad_time_ms": 34074.844, "update_time_ms": 11.353, "num_steps_trained": 21060000, "num_steps_sampled": 21060000, "load_time_ms": 18.115, "default": {"cur_kl_coeff": 0.33750006556510925, "vf_explained_var": 0.40564119815826416, "total_loss": 11.685356140136719, "policy_loss": -0.0065719205886125565, "entropy": 1.6175155639648438, "kl": 0.013025197200477123, "cur_lr": 0.0005000000237487257, "vf_loss": 11.687531471252441}, "sample_time_ms": 51200.159}, "timesteps_total": 21060000, "iterations_since_restore": 156, "episode_reward_max": 1338.2006289300525, "timesteps_this_iter": 135000, "training_iteration": 156, "node_ip": "10.138.0.2", "date": "2019-05-16_15-40-29", "policy_reward_mean": {}}
{"timestamp": 1558021315, "hostname": "flow-main", "timesteps_since_restore": 21195000, "episodes_total": 5797, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "synchronize_filters": true, "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:1.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "straggler_mitigation": false, "lr_schedule": null, "monitor": false, "input_evaluation": null, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9eb208>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9eb160>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9ebcf8>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "clip_param": 0.3, "simple_optimizer": false, "kl_target": 0.01, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "model": {"custom_preprocessor": null, "squash_to_range": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "grayscale": false, "framestack": true, "lstm_cell_size": 256}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "6a5e6d87546141128087acb0b350a70a", "custom_metrics": {"system_level_velocity_min": 6.446756177451192, "cost1_min": 175.8626294915032, "system_level_velocity_mean": 9.636137639449066, "cost1_mean": 232.39748857379232, "cost2_mean": -8.407972317339363, "cost1_max": 277.6638409176614, "cost2_max": 0.0, "system_level_velocity_max": 12.327292624649791, "cost2_min": -27.554168881954784}, "done": false, "time_total_s": 13458.749954938889, "episode_reward_min": 866.7827970714902, "num_metric_batches_dropped": 0, "episode_len_mean": 749.27, "pid": 63737, "time_since_restore": 13458.749954938889, "time_this_iter_s": 86.17359900474548, "episodes_this_iter": 36, "episode_reward_mean": 1151.124384898754, "info": {"grad_time_ms": 34104.055, "update_time_ms": 11.168, "num_steps_trained": 21195000, "num_steps_sampled": 21195000, "load_time_ms": 18.169, "default": {"cur_kl_coeff": 0.33750006556510925, "vf_explained_var": 0.3949139714241028, "total_loss": 11.6494722366333, "policy_loss": -0.006989434827119112, "entropy": 1.7031185626983643, "kl": 0.012475693598389626, "cur_lr": 0.0005000000237487257, "vf_loss": 11.652251243591309}, "sample_time_ms": 51265.581}, "timesteps_total": 21195000, "iterations_since_restore": 157, "episode_reward_max": 1374.8192045883072, "timesteps_this_iter": 135000, "training_iteration": 157, "node_ip": "10.138.0.2", "date": "2019-05-16_15-41-55", "policy_reward_mean": {}}
{"timestamp": 1558021401, "hostname": "flow-main", "timesteps_since_restore": 21330000, "episodes_total": 5833, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "synchronize_filters": true, "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:1.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "straggler_mitigation": false, "lr_schedule": null, "monitor": false, "input_evaluation": null, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9f5940>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9f5b38>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9f52b0>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "clip_param": 0.3, "simple_optimizer": false, "kl_target": 0.01, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "model": {"custom_preprocessor": null, "squash_to_range": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "grayscale": false, "framestack": true, "lstm_cell_size": 256}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "6a5e6d87546141128087acb0b350a70a", "custom_metrics": {"system_level_velocity_min": 6.9194738212315015, "cost1_min": 173.25975572903766, "system_level_velocity_mean": 9.450324520382795, "cost1_mean": 228.56793526158722, "cost2_mean": -9.990906556088474, "cost1_max": 277.6638409176614, "cost2_max": 0.0, "system_level_velocity_max": 12.029056931541925, "cost2_min": -35.14720481744344}, "done": false, "time_total_s": 13544.423412322998, "episode_reward_min": 861.2632507767925, "num_metric_batches_dropped": 0, "episode_len_mean": 750.0, "pid": 63737, "time_since_restore": 13544.423412322998, "time_this_iter_s": 85.6734573841095, "episodes_this_iter": 36, "episode_reward_mean": 1130.2172673722337, "info": {"grad_time_ms": 34132.281, "update_time_ms": 11.522, "num_steps_trained": 21330000, "num_steps_sampled": 21330000, "load_time_ms": 18.355, "default": {"cur_kl_coeff": 0.33750006556510925, "vf_explained_var": 0.43757742643356323, "total_loss": 11.5696382522583, "policy_loss": -0.007817283272743225, "entropy": 1.6535121202468872, "kl": 0.013033718802034855, "cur_lr": 0.0005000000237487257, "vf_loss": 11.573057174682617}, "sample_time_ms": 51332.687}, "timesteps_total": 21330000, "iterations_since_restore": 158, "episode_reward_max": 1374.8192045883072, "timesteps_this_iter": 135000, "training_iteration": 158, "node_ip": "10.138.0.2", "date": "2019-05-16_15-43-21", "policy_reward_mean": {}}
{"timestamp": 1558021486, "hostname": "flow-main", "timesteps_since_restore": 21465000, "episodes_total": 5869, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "synchronize_filters": true, "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:1.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "straggler_mitigation": false, "lr_schedule": null, "monitor": false, "input_evaluation": null, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9de4a8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9dec18>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9de978>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "clip_param": 0.3, "simple_optimizer": false, "kl_target": 0.01, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "model": {"custom_preprocessor": null, "squash_to_range": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "grayscale": false, "framestack": true, "lstm_cell_size": 256}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "6a5e6d87546141128087acb0b350a70a", "custom_metrics": {"system_level_velocity_min": 6.332076830666116, "cost1_min": 152.9490395684278, "system_level_velocity_mean": 9.310592395864004, "cost1_mean": 225.63926792760748, "cost2_mean": -10.206971866354591, "cost1_max": 269.2577409734888, "cost2_max": 0.0, "system_level_velocity_max": 12.3073848691225, "cost2_min": -35.14720481744344}, "done": false, "time_total_s": 13629.506295442581, "episode_reward_min": 752.9087092473953, "num_metric_batches_dropped": 0, "episode_len_mean": 749.57, "pid": 63737, "time_since_restore": 13629.506295442581, "time_this_iter_s": 85.08288311958313, "episodes_this_iter": 36, "episode_reward_mean": 1115.5902080226267, "info": {"grad_time_ms": 34063.944, "update_time_ms": 11.616, "num_steps_trained": 21465000, "num_steps_sampled": 21465000, "load_time_ms": 18.384, "default": {"cur_kl_coeff": 0.33750006556510925, "vf_explained_var": 0.444846510887146, "total_loss": 11.439591407775879, "policy_loss": -0.008381957188248634, "entropy": 1.6152358055114746, "kl": 0.013085642829537392, "cur_lr": 0.0005000000237487257, "vf_loss": 11.443556785583496}, "sample_time_ms": 51374.458}, "timesteps_total": 21465000, "iterations_since_restore": 159, "episode_reward_max": 1346.2887048674422, "timesteps_this_iter": 135000, "training_iteration": 159, "node_ip": "10.138.0.2", "date": "2019-05-16_15-44-46", "policy_reward_mean": {}}
{"timestamp": 1558021574, "hostname": "flow-main", "timesteps_since_restore": 21600000, "episodes_total": 5905, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "synchronize_filters": true, "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:1.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "straggler_mitigation": false, "lr_schedule": null, "monitor": false, "input_evaluation": null, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9eb588>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9eb320>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9eb9b0>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "clip_param": 0.3, "simple_optimizer": false, "kl_target": 0.01, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "model": {"custom_preprocessor": null, "squash_to_range": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "grayscale": false, "framestack": true, "lstm_cell_size": 256}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "6a5e6d87546141128087acb0b350a70a", "custom_metrics": {"system_level_velocity_min": 6.332076830666116, "cost1_min": 152.9490395684278, "system_level_velocity_mean": 9.36251093044802, "cost1_mean": 226.122530286505, "cost2_mean": -8.956979130991995, "cost1_max": 277.2283981198915, "cost2_max": 0.0, "system_level_velocity_max": 12.3073848691225, "cost2_min": -35.14720481744344}, "done": false, "time_total_s": 13717.223889112473, "episode_reward_min": 752.9087092473953, "num_metric_batches_dropped": 0, "episode_len_mean": 749.57, "pid": 63737, "time_since_restore": 13717.223889112473, "time_this_iter_s": 87.71759366989136, "episodes_this_iter": 36, "episode_reward_mean": 1119.7104150407974, "info": {"grad_time_ms": 34228.298, "update_time_ms": 11.381, "num_steps_trained": 21600000, "num_steps_sampled": 21600000, "load_time_ms": 18.442, "default": {"cur_kl_coeff": 0.33750006556510925, "vf_explained_var": 0.4164159297943115, "total_loss": 11.2896728515625, "policy_loss": -0.006407919805496931, "entropy": 1.647695779800415, "kl": 0.012905679643154144, "cur_lr": 0.0005000000237487257, "vf_loss": 11.291725158691406}, "sample_time_ms": 51321.188}, "timesteps_total": 21600000, "iterations_since_restore": 160, "episode_reward_max": 1375.6419905994676, "timesteps_this_iter": 135000, "training_iteration": 160, "node_ip": "10.138.0.2", "date": "2019-05-16_15-46-14", "policy_reward_mean": {}}
{"timestamp": 1558021661, "hostname": "flow-main", "timesteps_since_restore": 21735000, "episodes_total": 5941, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "synchronize_filters": true, "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:1.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "straggler_mitigation": false, "lr_schedule": null, "monitor": false, "input_evaluation": null, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9cc198>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9cc438>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9cca20>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "clip_param": 0.3, "simple_optimizer": false, "kl_target": 0.01, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "model": {"custom_preprocessor": null, "squash_to_range": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "grayscale": false, "framestack": true, "lstm_cell_size": 256}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "6a5e6d87546141128087acb0b350a70a", "custom_metrics": {"system_level_velocity_min": 6.332076830666116, "cost1_min": 152.9490395684278, "system_level_velocity_mean": 9.383922004697746, "cost1_mean": 227.26858729195527, "cost2_mean": -8.0121998683122, "cost1_max": 277.2283981198915, "cost2_max": 0.0, "system_level_velocity_max": 12.138550107156627, "cost2_min": -34.58276151000219}, "done": false, "time_total_s": 13804.524178981781, "episode_reward_min": 752.9087092473953, "num_metric_batches_dropped": 0, "episode_len_mean": 749.57, "pid": 63737, "time_since_restore": 13804.524178981781, "time_this_iter_s": 87.30028986930847, "episodes_this_iter": 36, "episode_reward_mean": 1126.3946044747615, "info": {"grad_time_ms": 34297.612, "update_time_ms": 11.447, "num_steps_trained": 21735000, "num_steps_sampled": 21735000, "load_time_ms": 18.406, "default": {"cur_kl_coeff": 0.33750006556510925, "vf_explained_var": 0.41546785831451416, "total_loss": 11.126449584960938, "policy_loss": -0.007621435914188623, "entropy": 1.7184449434280396, "kl": 0.013326984830200672, "cur_lr": 0.0005000000237487257, "vf_loss": 11.129573822021484}, "sample_time_ms": 51414.877}, "timesteps_total": 21735000, "iterations_since_restore": 161, "episode_reward_max": 1375.6419905994676, "timesteps_this_iter": 135000, "training_iteration": 161, "node_ip": "10.138.0.2", "date": "2019-05-16_15-47-41", "policy_reward_mean": {}}
{"timestamp": 1558021749, "hostname": "flow-main", "timesteps_since_restore": 21870000, "episodes_total": 5977, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "synchronize_filters": true, "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:1.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "straggler_mitigation": false, "lr_schedule": null, "monitor": false, "input_evaluation": null, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9dcb38>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9dc710>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9dc780>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "clip_param": 0.3, "simple_optimizer": false, "kl_target": 0.01, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "model": {"custom_preprocessor": null, "squash_to_range": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "grayscale": false, "framestack": true, "lstm_cell_size": 256}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "6a5e6d87546141128087acb0b350a70a", "custom_metrics": {"system_level_velocity_min": 6.695674516268002, "cost1_min": 171.33494994170113, "system_level_velocity_mean": 9.336687178596032, "cost1_mean": 226.89034077859884, "cost2_mean": -7.511285120595695, "cost1_max": 277.2283981198915, "cost2_max": 0.0, "system_level_velocity_max": 12.138550107156627, "cost2_min": -27.467404565118912}, "done": false, "time_total_s": 13891.534925222397, "episode_reward_min": 835.5689487262341, "num_metric_batches_dropped": 0, "episode_len_mean": 750.0, "pid": 63737, "time_since_restore": 13891.534925222397, "time_this_iter_s": 87.01074624061584, "episodes_this_iter": 36, "episode_reward_mean": 1125.1715862268177, "info": {"grad_time_ms": 34366.697, "update_time_ms": 11.371, "num_steps_trained": 21870000, "num_steps_sampled": 21870000, "load_time_ms": 18.166, "default": {"cur_kl_coeff": 0.33750006556510925, "vf_explained_var": 0.43658193945884705, "total_loss": 11.27466106414795, "policy_loss": -0.007081002928316593, "entropy": 1.6703295707702637, "kl": 0.01332184113562107, "cur_lr": 0.0005000000237487257, "vf_loss": 11.277247428894043}, "sample_time_ms": 51520.057}, "timesteps_total": 21870000, "iterations_since_restore": 162, "episode_reward_max": 1375.6419905994676, "timesteps_this_iter": 135000, "training_iteration": 162, "node_ip": "10.138.0.2", "date": "2019-05-16_15-49-09", "policy_reward_mean": {}}
{"timestamp": 1558021835, "hostname": "flow-main", "timesteps_since_restore": 22005000, "episodes_total": 6013, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "synchronize_filters": true, "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:1.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "straggler_mitigation": false, "lr_schedule": null, "monitor": false, "input_evaluation": null, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9eb518>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9ebba8>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9ebdd8>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "clip_param": 0.3, "simple_optimizer": false, "kl_target": 0.01, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "model": {"custom_preprocessor": null, "squash_to_range": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "grayscale": false, "framestack": true, "lstm_cell_size": 256}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "6a5e6d87546141128087acb0b350a70a", "custom_metrics": {"system_level_velocity_min": 6.695674516268002, "cost1_min": 170.81023216769046, "system_level_velocity_mean": 9.40257482228923, "cost1_mean": 228.07074471481127, "cost2_mean": -7.374611801324963, "cost1_max": 262.8814166977158, "cost2_max": 0.0, "system_level_velocity_max": 11.96382485375652, "cost2_min": -30.162026718541885}, "done": false, "time_total_s": 13977.844661474228, "episode_reward_min": 835.5689487262341, "num_metric_batches_dropped": 0, "episode_len_mean": 750.0, "pid": 63737, "time_since_restore": 13977.844661474228, "time_this_iter_s": 86.30973625183105, "episodes_this_iter": 36, "episode_reward_mean": 1131.2635585957923, "info": {"grad_time_ms": 34299.071, "update_time_ms": 11.373, "num_steps_trained": 22005000, "num_steps_sampled": 22005000, "load_time_ms": 18.145, "default": {"cur_kl_coeff": 0.33750006556510925, "vf_explained_var": 0.39492353796958923, "total_loss": 11.526111602783203, "policy_loss": -0.006996911484748125, "entropy": 1.6407809257507324, "kl": 0.01236618310213089, "cur_lr": 0.0005000000237487257, "vf_loss": 11.528935432434082}, "sample_time_ms": 51556.713}, "timesteps_total": 22005000, "iterations_since_restore": 163, "episode_reward_max": 1313.6265007538957, "timesteps_this_iter": 135000, "training_iteration": 163, "node_ip": "10.138.0.2", "date": "2019-05-16_15-50-35", "policy_reward_mean": {}}
{"timestamp": 1558021923, "hostname": "flow-main", "timesteps_since_restore": 22140000, "episodes_total": 6049, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "synchronize_filters": true, "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:1.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "straggler_mitigation": false, "lr_schedule": null, "monitor": false, "input_evaluation": null, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9ccf60>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9cc9b0>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9cc4e0>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "clip_param": 0.3, "simple_optimizer": false, "kl_target": 0.01, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "model": {"custom_preprocessor": null, "squash_to_range": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "grayscale": false, "framestack": true, "lstm_cell_size": 256}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "6a5e6d87546141128087acb0b350a70a", "custom_metrics": {"system_level_velocity_min": 5.964609607890896, "cost1_min": 162.54497044063623, "system_level_velocity_mean": 9.416234754770862, "cost1_mean": 227.4396584337683, "cost2_mean": -6.332338318162135, "cost1_max": 263.9489875910325, "cost2_max": 0.0, "system_level_velocity_max": 11.96382485375652, "cost2_min": -30.162026718541885}, "done": false, "time_total_s": 14065.809136867523, "episode_reward_min": 806.9203717230711, "num_metric_batches_dropped": 0, "episode_len_mean": 750.0, "pid": 63737, "time_since_restore": 14065.809136867523, "time_this_iter_s": 87.96447539329529, "episodes_this_iter": 36, "episode_reward_mean": 1129.2730064972452, "info": {"grad_time_ms": 34404.132, "update_time_ms": 11.344, "num_steps_trained": 22140000, "num_steps_sampled": 22140000, "load_time_ms": 18.243, "default": {"cur_kl_coeff": 0.33750006556510925, "vf_explained_var": 0.3655414283275604, "total_loss": 11.382994651794434, "policy_loss": -0.007379395887255669, "entropy": 1.6313297748565674, "kl": 0.013183783739805222, "cur_lr": 0.0005000000237487257, "vf_loss": 11.38592529296875}, "sample_time_ms": 51691.203}, "timesteps_total": 22140000, "iterations_since_restore": 164, "episode_reward_max": 1313.6265007538957, "timesteps_this_iter": 135000, "training_iteration": 164, "node_ip": "10.138.0.2", "date": "2019-05-16_15-52-03", "policy_reward_mean": {}}
{"timestamp": 1558022010, "hostname": "flow-main", "timesteps_since_restore": 22275000, "episodes_total": 6085, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "synchronize_filters": true, "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:1.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "straggler_mitigation": false, "lr_schedule": null, "monitor": false, "input_evaluation": null, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9dea20>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9f4860>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9f49e8>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "clip_param": 0.3, "simple_optimizer": false, "kl_target": 0.01, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "model": {"custom_preprocessor": null, "squash_to_range": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "grayscale": false, "framestack": true, "lstm_cell_size": 256}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "6a5e6d87546141128087acb0b350a70a", "custom_metrics": {"system_level_velocity_min": 5.964609607890896, "cost1_min": 162.54497044063623, "system_level_velocity_mean": 9.433568444031197, "cost1_mean": 227.96701960944714, "cost2_mean": -6.7897543261418996, "cost1_max": 263.97647061471366, "cost2_max": 0.0, "system_level_velocity_max": 11.96382485375652, "cost2_min": -30.162026718541885}, "done": false, "time_total_s": 14153.148983478546, "episode_reward_min": 806.9203717230711, "num_metric_batches_dropped": 0, "episode_len_mean": 750.0, "pid": 63737, "time_since_restore": 14153.148983478546, "time_this_iter_s": 87.33984661102295, "episodes_this_iter": 36, "episode_reward_mean": 1131.1498412983447, "info": {"grad_time_ms": 34557.454, "update_time_ms": 11.152, "num_steps_trained": 22275000, "num_steps_sampled": 22275000, "load_time_ms": 18.582, "default": {"cur_kl_coeff": 0.33750006556510925, "vf_explained_var": 0.3433568477630615, "total_loss": 11.600220680236816, "policy_loss": -0.006761238910257816, "entropy": 1.633286714553833, "kl": 0.012841812334954739, "cur_lr": 0.0005000000237487257, "vf_loss": 11.602648735046387}, "sample_time_ms": 51797.6}, "timesteps_total": 22275000, "iterations_since_restore": 165, "episode_reward_max": 1313.6265007538957, "timesteps_this_iter": 135000, "training_iteration": 165, "node_ip": "10.138.0.2", "date": "2019-05-16_15-53-30", "policy_reward_mean": {}}
{"timestamp": 1558022098, "hostname": "flow-main", "timesteps_since_restore": 22410000, "episodes_total": 6121, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "synchronize_filters": true, "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:1.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "straggler_mitigation": false, "lr_schedule": null, "monitor": false, "input_evaluation": null, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9eb940>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9eb6a0>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9eb208>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "clip_param": 0.3, "simple_optimizer": false, "kl_target": 0.01, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "model": {"custom_preprocessor": null, "squash_to_range": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "grayscale": false, "framestack": true, "lstm_cell_size": 256}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "6a5e6d87546141128087acb0b350a70a", "custom_metrics": {"system_level_velocity_min": 5.964609607890896, "cost1_min": 162.54497044063623, "system_level_velocity_mean": 9.41524691694504, "cost1_mean": 228.16968071111012, "cost2_mean": -6.890302225296748, "cost1_max": 263.97647061471366, "cost2_max": 0.0, "system_level_velocity_max": 11.6478551401768, "cost2_min": -25.82800308829644}, "done": false, "time_total_s": 14241.158478498459, "episode_reward_min": 806.9203717230711, "num_metric_batches_dropped": 0, "episode_len_mean": 750.0, "pid": 63737, "time_since_restore": 14241.158478498459, "time_this_iter_s": 88.00949501991272, "episodes_this_iter": 36, "episode_reward_mean": 1132.0010359426376, "info": {"grad_time_ms": 34664.961, "update_time_ms": 11.083, "num_steps_trained": 22410000, "num_steps_sampled": 22410000, "load_time_ms": 19.135, "default": {"cur_kl_coeff": 0.33750006556510925, "vf_explained_var": 0.37689369916915894, "total_loss": 11.33293342590332, "policy_loss": -0.006539102178066969, "entropy": 1.6353983879089355, "kl": 0.013008893467485905, "cur_lr": 0.0005000000237487257, "vf_loss": 11.335082054138184}, "sample_time_ms": 51920.689}, "timesteps_total": 22410000, "iterations_since_restore": 166, "episode_reward_max": 1313.1800524680218, "timesteps_this_iter": 135000, "training_iteration": 166, "node_ip": "10.138.0.2", "date": "2019-05-16_15-54-58", "policy_reward_mean": {}}
{"timestamp": 1558022189, "hostname": "flow-main", "timesteps_since_restore": 22545000, "episodes_total": 6157, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "synchronize_filters": true, "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:1.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "straggler_mitigation": false, "lr_schedule": null, "monitor": false, "input_evaluation": null, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9f5e80>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9f4208>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9f4278>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "clip_param": 0.3, "simple_optimizer": false, "kl_target": 0.01, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "model": {"custom_preprocessor": null, "squash_to_range": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "grayscale": false, "framestack": true, "lstm_cell_size": 256}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "6a5e6d87546141128087acb0b350a70a", "custom_metrics": {"system_level_velocity_min": 4.687657734742682, "cost1_min": 103.60650420238859, "system_level_velocity_mean": 9.282433432738188, "cost1_mean": 225.64914542336948, "cost2_mean": -7.5536135415484305, "cost1_max": 258.5000184282632, "cost2_max": 0.0, "system_level_velocity_max": 11.6478551401768, "cost2_min": -25.82800308829644}, "done": false, "time_total_s": 14331.304681301117, "episode_reward_min": 516.5383823308548, "num_metric_batches_dropped": 0, "episode_len_mean": 748.53, "pid": 63737, "time_since_restore": 14331.304681301117, "time_this_iter_s": 90.14620280265808, "episodes_this_iter": 36, "episode_reward_mean": 1118.7644338760851, "info": {"grad_time_ms": 34936.797, "update_time_ms": 10.85, "num_steps_trained": 22545000, "num_steps_sampled": 22545000, "load_time_ms": 19.539, "default": {"cur_kl_coeff": 0.33750006556510925, "vf_explained_var": 0.40572798252105713, "total_loss": 11.786240577697754, "policy_loss": -0.008239369839429855, "entropy": 1.6595416069030762, "kl": 0.013480495661497116, "cur_lr": 0.0005000000237487257, "vf_loss": 11.78993034362793}, "sample_time_ms": 52043.623}, "timesteps_total": 22545000, "iterations_since_restore": 167, "episode_reward_max": 1292.500092141314, "timesteps_this_iter": 135000, "training_iteration": 167, "node_ip": "10.138.0.2", "date": "2019-05-16_15-56-29", "policy_reward_mean": {}}
{"timestamp": 1558022276, "hostname": "flow-main", "timesteps_since_restore": 22680000, "episodes_total": 6193, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "synchronize_filters": true, "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:1.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "straggler_mitigation": false, "lr_schedule": null, "monitor": false, "input_evaluation": null, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9ccb00>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9f5f28>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9f5da0>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "clip_param": 0.3, "simple_optimizer": false, "kl_target": 0.01, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "model": {"custom_preprocessor": null, "squash_to_range": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "grayscale": false, "framestack": true, "lstm_cell_size": 256}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "6a5e6d87546141128087acb0b350a70a", "custom_metrics": {"system_level_velocity_min": 4.687657734742682, "cost1_min": 103.60650420238859, "system_level_velocity_mean": 9.137007434973942, "cost1_mean": 223.27213746300606, "cost2_mean": -7.64685923036207, "cost1_max": 262.77372914723605, "cost2_max": 0.0, "system_level_velocity_max": 11.73394078272244, "cost2_min": -25.8}, "done": false, "time_total_s": 14418.14939546585, "episode_reward_min": 516.5383823308548, "num_metric_batches_dropped": 0, "episode_len_mean": 748.53, "pid": 63737, "time_since_restore": 14418.14939546585, "time_this_iter_s": 86.84471416473389, "episodes_this_iter": 36, "episode_reward_mean": 1107.0043565026283, "info": {"grad_time_ms": 34941.351, "update_time_ms": 10.869, "num_steps_trained": 22680000, "num_steps_sampled": 22680000, "load_time_ms": 19.59, "default": {"cur_kl_coeff": 0.33750006556510925, "vf_explained_var": 0.41422998905181885, "total_loss": 11.370400428771973, "policy_loss": -0.00862540490925312, "entropy": 1.6686512231826782, "kl": 0.013541600666940212, "cur_lr": 0.0005000000237487257, "vf_loss": 11.374457359313965}, "sample_time_ms": 52155.607}, "timesteps_total": 22680000, "iterations_since_restore": 168, "episode_reward_max": 1313.8686457361848, "timesteps_this_iter": 135000, "training_iteration": 168, "node_ip": "10.138.0.2", "date": "2019-05-16_15-57-56", "policy_reward_mean": {}}
{"timestamp": 1558022364, "hostname": "flow-main", "timesteps_since_restore": 22815000, "episodes_total": 6229, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "synchronize_filters": true, "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:1.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "straggler_mitigation": false, "lr_schedule": null, "monitor": false, "input_evaluation": null, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9eb160>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9eb940>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9ebcf8>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "clip_param": 0.3, "simple_optimizer": false, "kl_target": 0.01, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "model": {"custom_preprocessor": null, "squash_to_range": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "grayscale": false, "framestack": true, "lstm_cell_size": 256}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "6a5e6d87546141128087acb0b350a70a", "custom_metrics": {"system_level_velocity_min": 6.275956147666123, "cost1_min": 160.8647130564494, "system_level_velocity_mean": 9.167666235297384, "cost1_mean": 224.20545986248248, "cost2_mean": -7.969465613806018, "cost1_max": 262.77372914723605, "cost2_max": 0.0, "system_level_velocity_max": 12.043302653977769, "cost2_min": -25.68109211192732}, "done": false, "time_total_s": 14506.13962841034, "episode_reward_min": 787.223733064848, "num_metric_batches_dropped": 0, "episode_len_mean": 750.0, "pid": 63737, "time_since_restore": 14506.13962841034, "time_this_iter_s": 87.99023294448853, "episodes_this_iter": 36, "episode_reward_mean": 1111.1201558930316, "info": {"grad_time_ms": 35126.257, "update_time_ms": 11.014, "num_steps_trained": 22815000, "num_steps_sampled": 22815000, "load_time_ms": 19.64, "default": {"cur_kl_coeff": 0.33750006556510925, "vf_explained_var": 0.3500940799713135, "total_loss": 11.53748893737793, "policy_loss": -0.007302822079509497, "entropy": 1.7313978672027588, "kl": 0.014008291997015476, "cur_lr": 0.0005000000237487257, "vf_loss": 11.540064811706543}, "sample_time_ms": 52257.323}, "timesteps_total": 22815000, "iterations_since_restore": 169, "episode_reward_max": 1313.8686457361848, "timesteps_this_iter": 135000, "training_iteration": 169, "node_ip": "10.138.0.2", "date": "2019-05-16_15-59-24", "policy_reward_mean": {}}
{"timestamp": 1558022452, "hostname": "flow-main", "timesteps_since_restore": 22950000, "episodes_total": 6266, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "synchronize_filters": true, "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:1.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "straggler_mitigation": false, "lr_schedule": null, "monitor": false, "input_evaluation": null, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9f4550>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9f4208>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9f4198>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "clip_param": 0.3, "simple_optimizer": false, "kl_target": 0.01, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "model": {"custom_preprocessor": null, "squash_to_range": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "grayscale": false, "framestack": true, "lstm_cell_size": 256}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "6a5e6d87546141128087acb0b350a70a", "custom_metrics": {"system_level_velocity_min": 3.6668095358132655, "cost1_min": 53.99603802272897, "system_level_velocity_mean": 9.130943579696286, "cost1_mean": 222.57376886701786, "cost2_mean": -7.18011943296691, "cost1_max": 262.7461149719461, "cost2_max": 0.0, "system_level_velocity_max": 12.043302653977769, "cost2_min": -24.800000000000004}, "done": false, "time_total_s": 14594.629115343094, "episode_reward_min": 269.9801901136446, "num_metric_batches_dropped": 0, "episode_len_mean": 746.52, "pid": 63737, "time_since_restore": 14594.629115343094, "time_this_iter_s": 88.48948693275452, "episodes_this_iter": 37, "episode_reward_mean": 1103.8275192058993, "info": {"grad_time_ms": 35093.702, "update_time_ms": 10.943, "num_steps_trained": 22950000, "num_steps_sampled": 22950000, "load_time_ms": 19.548, "default": {"cur_kl_coeff": 0.33750006556510925, "vf_explained_var": 0.36444634199142456, "total_loss": 11.959528923034668, "policy_loss": -0.008226248435676098, "entropy": 1.6804375648498535, "kl": 0.012483187951147556, "cur_lr": 0.0005000000237487257, "vf_loss": 11.963541984558105}, "sample_time_ms": 52364.581}, "timesteps_total": 22950000, "iterations_since_restore": 170, "episode_reward_max": 1313.7305748597357, "timesteps_this_iter": 135000, "training_iteration": 170, "node_ip": "10.138.0.2", "date": "2019-05-16_16-00-52", "policy_reward_mean": {}}
{"timestamp": 1558022543, "hostname": "flow-main", "timesteps_since_restore": 23085000, "episodes_total": 6302, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "synchronize_filters": true, "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:1.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "straggler_mitigation": false, "lr_schedule": null, "monitor": false, "input_evaluation": null, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9f4dd8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9f4080>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9f4940>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "clip_param": 0.3, "simple_optimizer": false, "kl_target": 0.01, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "model": {"custom_preprocessor": null, "squash_to_range": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "grayscale": false, "framestack": true, "lstm_cell_size": 256}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "6a5e6d87546141128087acb0b350a70a", "custom_metrics": {"system_level_velocity_min": 3.6668095358132655, "cost1_min": 53.99603802272897, "system_level_velocity_mean": 9.070214206823204, "cost1_mean": 221.28331276488515, "cost2_mean": -7.2384813064219555, "cost1_max": 272.19381664519733, "cost2_max": 0.0, "system_level_velocity_max": 12.326728182944576, "cost2_min": -25.69983568103261}, "done": false, "time_total_s": 14685.537879943848, "episode_reward_min": 269.9801901136446, "num_metric_batches_dropped": 0, "episode_len_mean": 746.52, "pid": 63737, "time_since_restore": 14685.537879943848, "time_this_iter_s": 90.90876460075378, "episodes_this_iter": 36, "episode_reward_mean": 1097.476195112233, "info": {"grad_time_ms": 35239.176, "update_time_ms": 11.034, "num_steps_trained": 23085000, "num_steps_sampled": 23085000, "load_time_ms": 19.26, "default": {"cur_kl_coeff": 0.33750006556510925, "vf_explained_var": 0.39165911078453064, "total_loss": 11.377717971801758, "policy_loss": -0.007229547016322613, "entropy": 1.6930947303771973, "kl": 0.012984939850866795, "cur_lr": 0.0005000000237487257, "vf_loss": 11.38056468963623}, "sample_time_ms": 52578.189}, "timesteps_total": 23085000, "iterations_since_restore": 171, "episode_reward_max": 1360.926696589062, "timesteps_this_iter": 135000, "training_iteration": 171, "node_ip": "10.138.0.2", "date": "2019-05-16_16-02-23", "policy_reward_mean": {}}
{"timestamp": 1558022633, "hostname": "flow-main", "timesteps_since_restore": 23220000, "episodes_total": 6338, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "synchronize_filters": true, "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:1.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "straggler_mitigation": false, "lr_schedule": null, "monitor": false, "input_evaluation": null, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9eb4a8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9f5438>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9f5b38>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "clip_param": 0.3, "simple_optimizer": false, "kl_target": 0.01, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "model": {"custom_preprocessor": null, "squash_to_range": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "grayscale": false, "framestack": true, "lstm_cell_size": 256}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "6a5e6d87546141128087acb0b350a70a", "custom_metrics": {"system_level_velocity_min": 3.6668095358132655, "cost1_min": 53.99603802272897, "system_level_velocity_mean": 9.08005581234487, "cost1_mean": 221.8138403282655, "cost2_mean": -6.824035737087015, "cost1_max": 272.19381664519733, "cost2_max": 0.0, "system_level_velocity_max": 12.326728182944576, "cost2_min": -29.782352066259605}, "done": false, "time_total_s": 14774.912017345428, "episode_reward_min": 269.9801901136446, "num_metric_batches_dropped": 0, "episode_len_mean": 746.52, "pid": 63737, "time_since_restore": 14774.912017345428, "time_this_iter_s": 89.37413740158081, "episodes_this_iter": 36, "episode_reward_mean": 1100.5874460121927, "info": {"grad_time_ms": 35368.047, "update_time_ms": 11.047, "num_steps_trained": 23220000, "num_steps_sampled": 23220000, "load_time_ms": 19.189, "default": {"cur_kl_coeff": 0.33750006556510925, "vf_explained_var": 0.386496901512146, "total_loss": 11.497856140136719, "policy_loss": -0.006802369374781847, "entropy": 1.728948712348938, "kl": 0.012480896897614002, "cur_lr": 0.0005000000237487257, "vf_loss": 11.500446319580078}, "sample_time_ms": 52686.331}, "timesteps_total": 23220000, "iterations_since_restore": 172, "episode_reward_max": 1360.926696589062, "timesteps_this_iter": 135000, "training_iteration": 172, "node_ip": "10.138.0.2", "date": "2019-05-16_16-03-53", "policy_reward_mean": {}}
{"timestamp": 1558022722, "hostname": "flow-main", "timesteps_since_restore": 23355000, "episodes_total": 6374, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "synchronize_filters": true, "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:1.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "straggler_mitigation": false, "lr_schedule": null, "monitor": false, "input_evaluation": null, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9f4f60>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9f42e8>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9f4278>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "clip_param": 0.3, "simple_optimizer": false, "kl_target": 0.01, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "model": {"custom_preprocessor": null, "squash_to_range": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "grayscale": false, "framestack": true, "lstm_cell_size": 256}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "6a5e6d87546141128087acb0b350a70a", "custom_metrics": {"system_level_velocity_min": 5.723652163631222, "cost1_min": 149.93557851668203, "system_level_velocity_mean": 9.2332334584713, "cost1_mean": 225.5104477865881, "cost2_mean": -7.274700500258729, "cost1_max": 272.19381664519733, "cost2_max": 0.0, "system_level_velocity_max": 12.326728182944576, "cost2_min": -29.782352066259605}, "done": false, "time_total_s": 14864.233901262283, "episode_reward_min": 734.1669512529251, "num_metric_batches_dropped": 0, "episode_len_mean": 750.0, "pid": 63737, "time_since_restore": 14864.233901262283, "time_this_iter_s": 89.32188391685486, "episodes_this_iter": 36, "episode_reward_mean": 1118.4790209721382, "info": {"grad_time_ms": 35531.741, "update_time_ms": 11.162, "num_steps_trained": 23355000, "num_steps_sampled": 23355000, "load_time_ms": 19.109, "default": {"cur_kl_coeff": 0.33750006556510925, "vf_explained_var": 0.37572145462036133, "total_loss": 11.498335838317871, "policy_loss": -0.009092679247260094, "entropy": 1.725860357284546, "kl": 0.013864004984498024, "cur_lr": 0.0005000000237487257, "vf_loss": 11.5027494430542}, "sample_time_ms": 52820.91}, "timesteps_total": 23355000, "iterations_since_restore": 173, "episode_reward_max": 1360.926696589062, "timesteps_this_iter": 135000, "training_iteration": 173, "node_ip": "10.138.0.2", "date": "2019-05-16_16-05-22", "policy_reward_mean": {}}
{"timestamp": 1558022812, "hostname": "flow-main", "timesteps_since_restore": 23490000, "episodes_total": 6410, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "synchronize_filters": true, "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:1.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "straggler_mitigation": false, "lr_schedule": null, "monitor": false, "input_evaluation": null, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9f4dd8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9f4e10>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9f44a8>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "clip_param": 0.3, "simple_optimizer": false, "kl_target": 0.01, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "model": {"custom_preprocessor": null, "squash_to_range": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "grayscale": false, "framestack": true, "lstm_cell_size": 256}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "6a5e6d87546141128087acb0b350a70a", "custom_metrics": {"system_level_velocity_min": 6.137132401484767, "cost1_min": 161.1094838785218, "system_level_velocity_mean": 9.130926182877124, "cost1_mean": 223.36633250752476, "cost2_mean": -7.248805272425158, "cost1_max": 260.05240039832483, "cost2_max": 0.0, "system_level_velocity_max": 11.666483196975518, "cost2_min": -29.782352066259605}, "done": false, "time_total_s": 14953.954701662064, "episode_reward_min": 801.2689742461783, "num_metric_batches_dropped": 0, "episode_len_mean": 750.0, "pid": 63737, "time_since_restore": 14953.954701662064, "time_this_iter_s": 89.72080039978027, "episodes_this_iter": 36, "episode_reward_mean": 1107.87196740463, "info": {"grad_time_ms": 35671.516, "update_time_ms": 11.253, "num_steps_trained": 23490000, "num_steps_sampled": 23490000, "load_time_ms": 18.891, "default": {"cur_kl_coeff": 0.33750006556510925, "vf_explained_var": 0.39787307381629944, "total_loss": 11.307516098022461, "policy_loss": -0.007991911843419075, "entropy": 1.727594017982483, "kl": 0.013903381302952766, "cur_lr": 0.0005000000237487257, "vf_loss": 11.310815811157227}, "sample_time_ms": 52864.731}, "timesteps_total": 23490000, "iterations_since_restore": 174, "episode_reward_max": 1300.2620019916226, "timesteps_this_iter": 135000, "training_iteration": 174, "node_ip": "10.138.0.2", "date": "2019-05-16_16-06-52", "policy_reward_mean": {}}
{"timestamp": 1558022899, "hostname": "flow-main", "timesteps_since_restore": 23625000, "episodes_total": 6446, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "synchronize_filters": true, "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:1.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "straggler_mitigation": false, "lr_schedule": null, "monitor": false, "input_evaluation": null, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9eb4a8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9ebcf8>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9eb630>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "clip_param": 0.3, "simple_optimizer": false, "kl_target": 0.01, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "model": {"custom_preprocessor": null, "squash_to_range": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "grayscale": false, "framestack": true, "lstm_cell_size": 256}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "6a5e6d87546141128087acb0b350a70a", "custom_metrics": {"system_level_velocity_min": 6.021080394602399, "cost1_min": 155.63191806002345, "system_level_velocity_mean": 9.104543402101356, "cost1_mean": 222.20675516642285, "cost2_mean": -6.717968923896866, "cost1_max": 266.97570416964857, "cost2_max": 0.0, "system_level_velocity_max": 11.837681015244133, "cost2_min": -26.903877131399103}, "done": false, "time_total_s": 15041.654181480408, "episode_reward_min": 777.1802325702773, "num_metric_batches_dropped": 0, "episode_len_mean": 750.0, "pid": 63737, "time_since_restore": 15041.654181480408, "time_this_iter_s": 87.69947981834412, "episodes_this_iter": 36, "episode_reward_mean": 1102.8404255548553, "info": {"grad_time_ms": 35643.185, "update_time_ms": 11.662, "num_steps_trained": 23625000, "num_steps_sampled": 23625000, "load_time_ms": 19.035, "default": {"cur_kl_coeff": 0.33750006556510925, "vf_explained_var": 0.3918073773384094, "total_loss": 11.994112968444824, "policy_loss": -0.007389395032078028, "entropy": 1.651885986328125, "kl": 0.013778110966086388, "cur_lr": 0.0005000000237487257, "vf_loss": 11.99685287475586}, "sample_time_ms": 52925.537}, "timesteps_total": 23625000, "iterations_since_restore": 175, "episode_reward_max": 1334.878520848242, "timesteps_this_iter": 135000, "training_iteration": 175, "node_ip": "10.138.0.2", "date": "2019-05-16_16-08-19", "policy_reward_mean": {}}
{"timestamp": 1558022987, "hostname": "flow-main", "timesteps_since_restore": 23760000, "episodes_total": 6482, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "synchronize_filters": true, "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:1.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "straggler_mitigation": false, "lr_schedule": null, "monitor": false, "input_evaluation": null, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9f5978>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9f5ef0>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9f57f0>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "clip_param": 0.3, "simple_optimizer": false, "kl_target": 0.01, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "model": {"custom_preprocessor": null, "squash_to_range": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "grayscale": false, "framestack": true, "lstm_cell_size": 256}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "6a5e6d87546141128087acb0b350a70a", "custom_metrics": {"system_level_velocity_min": 5.775290863472352, "cost1_min": 154.7454558035941, "system_level_velocity_mean": 9.108615889797374, "cost1_mean": 222.45246113478967, "cost2_mean": -7.27490945527483, "cost1_max": 266.97570416964857, "cost2_max": 0.0, "system_level_velocity_max": 11.953247071436257, "cost2_min": -23.70542612262188}, "done": false, "time_total_s": 15129.36670422554, "episode_reward_min": 755.1810301583304, "num_metric_batches_dropped": 0, "episode_len_mean": 750.0, "pid": 63737, "time_since_restore": 15129.36670422554, "time_this_iter_s": 87.71252274513245, "episodes_this_iter": 36, "episode_reward_mean": 1103.302101420097, "info": {"grad_time_ms": 35587.607, "update_time_ms": 11.689, "num_steps_trained": 23760000, "num_steps_sampled": 23760000, "load_time_ms": 18.838, "default": {"cur_kl_coeff": 0.33750006556510925, "vf_explained_var": 0.38643544912338257, "total_loss": 11.577437400817871, "policy_loss": -0.006935112178325653, "entropy": 1.6832427978515625, "kl": 0.01313545648008585, "cur_lr": 0.0005000000237487257, "vf_loss": 11.579938888549805}, "sample_time_ms": 52951.886}, "timesteps_total": 23760000, "iterations_since_restore": 176, "episode_reward_max": 1334.878520848242, "timesteps_this_iter": 135000, "training_iteration": 176, "node_ip": "10.138.0.2", "date": "2019-05-16_16-09-47", "policy_reward_mean": {}}
{"timestamp": 1558023074, "hostname": "flow-main", "timesteps_since_restore": 23895000, "episodes_total": 6518, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "synchronize_filters": true, "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:1.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "straggler_mitigation": false, "lr_schedule": null, "monitor": false, "input_evaluation": null, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9eb7b8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9eb8d0>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9eb3c8>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "clip_param": 0.3, "simple_optimizer": false, "kl_target": 0.01, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "model": {"custom_preprocessor": null, "squash_to_range": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "grayscale": false, "framestack": true, "lstm_cell_size": 256}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "6a5e6d87546141128087acb0b350a70a", "custom_metrics": {"system_level_velocity_min": 4.618645436954473, "cost1_min": 124.93940691584825, "system_level_velocity_mean": 9.20834988454293, "cost1_mean": 224.20320706645546, "cost2_mean": -6.714057886252215, "cost1_max": 266.97570416964857, "cost2_max": 0.0, "system_level_velocity_max": 11.953247071436257, "cost2_min": -24.827833686645505}, "done": false, "time_total_s": 15216.244114875793, "episode_reward_min": 621.5821994323511, "num_metric_batches_dropped": 0, "episode_len_mean": 750.0, "pid": 63737, "time_since_restore": 15216.244114875793, "time_this_iter_s": 86.8774106502533, "episodes_this_iter": 36, "episode_reward_mean": 1112.61663587862, "info": {"grad_time_ms": 35290.518, "update_time_ms": 11.949, "num_steps_trained": 23895000, "num_steps_sampled": 23895000, "load_time_ms": 18.735, "default": {"cur_kl_coeff": 0.33750006556510925, "vf_explained_var": 0.38512882590293884, "total_loss": 11.381975173950195, "policy_loss": -0.00800360832363367, "entropy": 1.7077540159225464, "kl": 0.01296890527009964, "cur_lr": 0.0005000000237487257, "vf_loss": 11.385601043701172}, "sample_time_ms": 52922.441}, "timesteps_total": 23895000, "iterations_since_restore": 177, "episode_reward_max": 1334.878520848242, "timesteps_this_iter": 135000, "training_iteration": 177, "node_ip": "10.138.0.2", "date": "2019-05-16_16-11-14", "policy_reward_mean": {}}
{"timestamp": 1558023162, "hostname": "flow-main", "timesteps_since_restore": 24030000, "episodes_total": 6554, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "synchronize_filters": true, "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:1.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "straggler_mitigation": false, "lr_schedule": null, "monitor": false, "input_evaluation": null, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9f4710>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9f4518>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9f45c0>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "clip_param": 0.3, "simple_optimizer": false, "kl_target": 0.01, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "model": {"custom_preprocessor": null, "squash_to_range": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "grayscale": false, "framestack": true, "lstm_cell_size": 256}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "6a5e6d87546141128087acb0b350a70a", "custom_metrics": {"system_level_velocity_min": 4.618645436954473, "cost1_min": 124.93940691584825, "system_level_velocity_mean": 9.210478921638561, "cost1_mean": 224.4825768392132, "cost2_mean": -7.4853011946019254, "cost1_max": 275.95668786747717, "cost2_max": 0.0, "system_level_velocity_max": 11.988503888961995, "cost2_min": -24.827833686645505}, "done": false, "time_total_s": 15304.068956375122, "episode_reward_min": 621.5821994323511, "num_metric_batches_dropped": 0, "episode_len_mean": 750.0, "pid": 63737, "time_since_restore": 15304.068956375122, "time_this_iter_s": 87.82484149932861, "episodes_this_iter": 36, "episode_reward_mean": 1112.9131986369443, "info": {"grad_time_ms": 35237.962, "update_time_ms": 11.729, "num_steps_trained": 24030000, "num_steps_sampled": 24030000, "load_time_ms": 18.422, "default": {"cur_kl_coeff": 0.33750006556510925, "vf_explained_var": 0.40728452801704407, "total_loss": 11.732989311218262, "policy_loss": -0.008068635128438473, "entropy": 1.6778573989868164, "kl": 0.0134227704256773, "cur_lr": 0.0005000000237487257, "vf_loss": 11.736526489257812}, "sample_time_ms": 53071.658}, "timesteps_total": 24030000, "iterations_since_restore": 178, "episode_reward_max": 1363.28343933739, "timesteps_this_iter": 135000, "training_iteration": 178, "node_ip": "10.138.0.2", "date": "2019-05-16_16-12-42", "policy_reward_mean": {}}
{"timestamp": 1558023250, "hostname": "flow-main", "timesteps_since_restore": 24165000, "episodes_total": 6591, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "synchronize_filters": true, "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:1.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "straggler_mitigation": false, "lr_schedule": null, "monitor": false, "input_evaluation": null, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9f5400>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9f5860>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9f56a0>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "clip_param": 0.3, "simple_optimizer": false, "kl_target": 0.01, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "model": {"custom_preprocessor": null, "squash_to_range": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "grayscale": false, "framestack": true, "lstm_cell_size": 256}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "6a5e6d87546141128087acb0b350a70a", "custom_metrics": {"system_level_velocity_min": 4.618645436954473, "cost1_min": 42.203494046194876, "system_level_velocity_mean": 9.184891389447632, "cost1_mean": 223.21377856628504, "cost2_mean": -7.327169000284498, "cost1_max": 275.95668786747717, "cost2_max": 0.0, "system_level_velocity_max": 12.03043021910169, "cost2_min": -28.400000000000006}, "done": false, "time_total_s": 15391.821314811707, "episode_reward_min": 209.6833062155222, "num_metric_batches_dropped": 0, "episode_len_mean": 744.95, "pid": 63737, "time_since_restore": 15391.821314811707, "time_this_iter_s": 87.75235843658447, "episodes_this_iter": 37, "episode_reward_mean": 1106.7883340619994, "info": {"grad_time_ms": 35106.3, "update_time_ms": 11.586, "num_steps_trained": 24165000, "num_steps_sampled": 24165000, "load_time_ms": 18.905, "default": {"cur_kl_coeff": 0.33750006556510925, "vf_explained_var": 0.416867733001709, "total_loss": 12.361299514770508, "policy_loss": -0.008259067311882973, "entropy": 1.6791081428527832, "kl": 0.013276039622724056, "cur_lr": 0.0005000000237487257, "vf_loss": 12.36507797241211}, "sample_time_ms": 53177.64}, "timesteps_total": 24165000, "iterations_since_restore": 179, "episode_reward_max": 1363.28343933739, "timesteps_this_iter": 135000, "training_iteration": 179, "node_ip": "10.138.0.2", "date": "2019-05-16_16-14-10", "policy_reward_mean": {}}
{"timestamp": 1558023336, "hostname": "flow-main", "timesteps_since_restore": 24300000, "episodes_total": 6627, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "synchronize_filters": true, "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:1.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "straggler_mitigation": false, "lr_schedule": null, "monitor": false, "input_evaluation": null, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9ebc50>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9dcb38>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9eb7b8>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "clip_param": 0.3, "simple_optimizer": false, "kl_target": 0.01, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "model": {"custom_preprocessor": null, "squash_to_range": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "grayscale": false, "framestack": true, "lstm_cell_size": 256}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "6a5e6d87546141128087acb0b350a70a", "custom_metrics": {"system_level_velocity_min": 4.5266172283205215, "cost1_min": 42.203494046194876, "system_level_velocity_mean": 9.292408466451342, "cost1_mean": 223.12021355470148, "cost2_mean": -7.723872248367822, "cost1_max": 275.95668786747717, "cost2_max": 0.0, "system_level_velocity_max": 12.119985324372127, "cost2_min": -28.400000000000006}, "done": false, "time_total_s": 15478.32930278778, "episode_reward_min": 209.6833062155222, "num_metric_batches_dropped": 0, "episode_len_mean": 738.95, "pid": 63737, "time_since_restore": 15478.32930278778, "time_this_iter_s": 86.50798797607422, "episodes_this_iter": 36, "episode_reward_mean": 1105.8221441121416, "info": {"grad_time_ms": 34915.555, "update_time_ms": 11.621, "num_steps_trained": 24300000, "num_steps_sampled": 24300000, "load_time_ms": 18.844, "default": {"cur_kl_coeff": 0.33750006556510925, "vf_explained_var": 0.46479448676109314, "total_loss": 11.437800407409668, "policy_loss": -0.007931412197649479, "entropy": 1.7487682104110718, "kl": 0.012856518849730492, "cur_lr": 0.0005000000237487257, "vf_loss": 11.44139289855957}, "sample_time_ms": 53172.156}, "timesteps_total": 24300000, "iterations_since_restore": 180, "episode_reward_max": 1363.28343933739, "timesteps_this_iter": 135000, "training_iteration": 180, "node_ip": "10.138.0.2", "date": "2019-05-16_16-15-36", "policy_reward_mean": {}}
{"timestamp": 1558023423, "hostname": "flow-main", "timesteps_since_restore": 24435000, "episodes_total": 6663, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "synchronize_filters": true, "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:1.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "straggler_mitigation": false, "lr_schedule": null, "monitor": false, "input_evaluation": null, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9f44a8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9f4fd0>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9f4860>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "clip_param": 0.3, "simple_optimizer": false, "kl_target": 0.01, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "model": {"custom_preprocessor": null, "squash_to_range": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "grayscale": false, "framestack": true, "lstm_cell_size": 256}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "6a5e6d87546141128087acb0b350a70a", "custom_metrics": {"system_level_velocity_min": 4.5266172283205215, "cost1_min": 79.76807546121734, "system_level_velocity_mean": 9.30401792498386, "cost1_mean": 223.96497087968197, "cost2_mean": -8.056083573827001, "cost1_max": 266.7811151532552, "cost2_max": 0.0, "system_level_velocity_max": 12.119985324372127, "cost2_min": -28.400000000000006}, "done": false, "time_total_s": 15565.012747526169, "episode_reward_min": 398.1602799757869, "num_metric_batches_dropped": 0, "episode_len_mean": 744.0, "pid": 63737, "time_since_restore": 15565.012747526169, "time_this_iter_s": 86.68344473838806, "episodes_this_iter": 36, "episode_reward_mean": 1109.7662978527721, "info": {"grad_time_ms": 34685.601, "update_time_ms": 11.641, "num_steps_trained": 24435000, "num_steps_sampled": 24435000, "load_time_ms": 18.807, "default": {"cur_kl_coeff": 0.33750006556510925, "vf_explained_var": 0.3989826738834381, "total_loss": 11.822778701782227, "policy_loss": -0.0074734254740178585, "entropy": 1.7582281827926636, "kl": 0.012651897966861725, "cur_lr": 0.0005000000237487257, "vf_loss": 11.825982093811035}, "sample_time_ms": 52980.761}, "timesteps_total": 24435000, "iterations_since_restore": 181, "episode_reward_max": 1323.3431359444214, "timesteps_this_iter": 135000, "training_iteration": 181, "node_ip": "10.138.0.2", "date": "2019-05-16_16-17-03", "policy_reward_mean": {}}
{"timestamp": 1558023510, "hostname": "flow-main", "timesteps_since_restore": 24570000, "episodes_total": 6699, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "synchronize_filters": true, "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:1.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "straggler_mitigation": false, "lr_schedule": null, "monitor": false, "input_evaluation": null, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9f5080>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9f5198>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9f5390>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "clip_param": 0.3, "simple_optimizer": false, "kl_target": 0.01, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "model": {"custom_preprocessor": null, "squash_to_range": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "grayscale": false, "framestack": true, "lstm_cell_size": 256}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "6a5e6d87546141128087acb0b350a70a", "custom_metrics": {"system_level_velocity_min": 4.806921075063049, "cost1_min": 82.92495282288269, "system_level_velocity_mean": 9.093889116211113, "cost1_mean": 220.45995693657997, "cost2_mean": -9.030728169753857, "cost1_max": 270.0629764370792, "cost2_max": 0.0, "system_level_velocity_max": 11.841171824570415, "cost2_min": -34.61122949157084}, "done": false, "time_total_s": 15652.149902820587, "episode_reward_min": 405.34327456323206, "num_metric_batches_dropped": 0, "episode_len_mean": 746.55, "pid": 63737, "time_since_restore": 15652.149902820587, "time_this_iter_s": 87.13715529441833, "episodes_this_iter": 36, "episode_reward_mean": 1091.4966818430862, "info": {"grad_time_ms": 34454.741, "update_time_ms": 11.875, "num_steps_trained": 24570000, "num_steps_sampled": 24570000, "load_time_ms": 19.06, "default": {"cur_kl_coeff": 0.33750006556510925, "vf_explained_var": 0.4244014322757721, "total_loss": 11.464767456054688, "policy_loss": -0.007864263840019703, "entropy": 1.7769876718521118, "kl": 0.014191042631864548, "cur_lr": 0.0005000000237487257, "vf_loss": 11.467843055725098}, "sample_time_ms": 52987.187}, "timesteps_total": 24570000, "iterations_since_restore": 182, "episode_reward_max": 1340.1498364441086, "timesteps_this_iter": 135000, "training_iteration": 182, "node_ip": "10.138.0.2", "date": "2019-05-16_16-18-30", "policy_reward_mean": {}}
{"timestamp": 1558023597, "hostname": "flow-main", "timesteps_since_restore": 24705000, "episodes_total": 6735, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "synchronize_filters": true, "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:1.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "straggler_mitigation": false, "lr_schedule": null, "monitor": false, "input_evaluation": null, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9f4a90>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9f40f0>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9f4f98>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "clip_param": 0.3, "simple_optimizer": false, "kl_target": 0.01, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "model": {"custom_preprocessor": null, "squash_to_range": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "grayscale": false, "framestack": true, "lstm_cell_size": 256}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "6a5e6d87546141128087acb0b350a70a", "custom_metrics": {"system_level_velocity_min": 5.813180297139974, "cost1_min": 151.826303438861, "system_level_velocity_mean": 9.063546326035468, "cost1_mean": 220.64477005284635, "cost2_mean": -9.043122094817264, "cost1_max": 270.0629764370792, "cost2_max": 0.0, "system_level_velocity_max": 11.71525813661782, "cost2_min": -34.61122949157084}, "done": false, "time_total_s": 15738.645491838455, "episode_reward_min": 735.8748752344512, "num_metric_batches_dropped": 0, "episode_len_mean": 750.0, "pid": 63737, "time_since_restore": 15738.645491838455, "time_this_iter_s": 86.49558901786804, "episodes_this_iter": 36, "episode_reward_mean": 1092.4882743192907, "info": {"grad_time_ms": 34262.064, "update_time_ms": 11.805, "num_steps_trained": 24705000, "num_steps_sampled": 24705000, "load_time_ms": 18.85, "default": {"cur_kl_coeff": 0.33750006556510925, "vf_explained_var": 0.4682479798793793, "total_loss": 11.160493850708008, "policy_loss": -0.007556690834462643, "entropy": 1.76123046875, "kl": 0.014205639250576496, "cur_lr": 0.0005000000237487257, "vf_loss": 11.16325569152832}, "sample_time_ms": 52899.616}, "timesteps_total": 24705000, "iterations_since_restore": 183, "episode_reward_max": 1340.1498364441086, "timesteps_this_iter": 135000, "training_iteration": 183, "node_ip": "10.138.0.2", "date": "2019-05-16_16-19-57", "policy_reward_mean": {}}
{"timestamp": 1558023684, "hostname": "flow-main", "timesteps_since_restore": 24840000, "episodes_total": 6771, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "synchronize_filters": true, "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:1.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "straggler_mitigation": false, "lr_schedule": null, "monitor": false, "input_evaluation": null, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9f45f8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9f4e80>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9f44a8>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "clip_param": 0.3, "simple_optimizer": false, "kl_target": 0.01, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "model": {"custom_preprocessor": null, "squash_to_range": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "grayscale": false, "framestack": true, "lstm_cell_size": 256}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "6a5e6d87546141128087acb0b350a70a", "custom_metrics": {"system_level_velocity_min": 5.813180297139974, "cost1_min": 151.826303438861, "system_level_velocity_mean": 9.059523121502234, "cost1_mean": 220.50076303401966, "cost2_mean": -10.453004619912772, "cost1_max": 270.0629764370792, "cost2_max": 0.0, "system_level_velocity_max": 11.820916497364669, "cost2_min": -40.12109320316865}, "done": false, "time_total_s": 15825.379286289215, "episode_reward_min": 735.8748752344512, "num_metric_batches_dropped": 0, "episode_len_mean": 750.0, "pid": 63737, "time_since_restore": 15825.379286289215, "time_this_iter_s": 86.73379445075989, "episodes_this_iter": 36, "episode_reward_mean": 1090.023705797218, "info": {"grad_time_ms": 34044.629, "update_time_ms": 11.873, "num_steps_trained": 24840000, "num_steps_sampled": 24840000, "load_time_ms": 18.662, "default": {"cur_kl_coeff": 0.33750006556510925, "vf_explained_var": 0.442735880613327, "total_loss": 11.679530143737793, "policy_loss": -0.007592136040329933, "entropy": 1.7843648195266724, "kl": 0.01330049429088831, "cur_lr": 0.0005000000237487257, "vf_loss": 11.682633399963379}, "sample_time_ms": 52816.314}, "timesteps_total": 24840000, "iterations_since_restore": 184, "episode_reward_max": 1340.1498364441086, "timesteps_this_iter": 135000, "training_iteration": 184, "node_ip": "10.138.0.2", "date": "2019-05-16_16-21-24", "policy_reward_mean": {}}
{"timestamp": 1558023772, "hostname": "flow-main", "timesteps_since_restore": 24975000, "episodes_total": 6807, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "synchronize_filters": true, "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:1.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "straggler_mitigation": false, "lr_schedule": null, "monitor": false, "input_evaluation": null, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9f5048>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9f5c50>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9f54e0>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "clip_param": 0.3, "simple_optimizer": false, "kl_target": 0.01, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "model": {"custom_preprocessor": null, "squash_to_range": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "grayscale": false, "framestack": true, "lstm_cell_size": 256}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "6a5e6d87546141128087acb0b350a70a", "custom_metrics": {"system_level_velocity_min": 4.550621007142966, "cost1_min": 123.47636707356082, "system_level_velocity_mean": 9.01479123451315, "cost1_mean": 220.09016718406733, "cost2_mean": -10.07967477374149, "cost1_max": 266.94700835169135, "cost2_max": 0.0, "system_level_velocity_max": 12.247671509001234, "cost2_min": -40.12109320316865}, "done": false, "time_total_s": 15913.11483669281, "episode_reward_min": 617.3818353678073, "num_metric_batches_dropped": 0, "episode_len_mean": 750.0, "pid": 63737, "time_since_restore": 15913.11483669281, "time_this_iter_s": 87.73555040359497, "episodes_this_iter": 36, "episode_reward_mean": 1088.253685757652, "info": {"grad_time_ms": 34045.54, "update_time_ms": 11.618, "num_steps_trained": 24975000, "num_steps_sampled": 24975000, "load_time_ms": 18.283, "default": {"cur_kl_coeff": 0.33750006556510925, "vf_explained_var": 0.4375488758087158, "total_loss": 11.692581176757812, "policy_loss": -0.00825161300599575, "entropy": 1.7810367345809937, "kl": 0.013759025372564793, "cur_lr": 0.0005000000237487257, "vf_loss": 11.696188926696777}, "sample_time_ms": 52821.039}, "timesteps_total": 24975000, "iterations_since_restore": 185, "episode_reward_max": 1330.1657393408375, "timesteps_this_iter": 135000, "training_iteration": 185, "node_ip": "10.138.0.2", "date": "2019-05-16_16-22-52", "policy_reward_mean": {}}
{"timestamp": 1558023858, "hostname": "flow-main", "timesteps_since_restore": 25110000, "episodes_total": 6843, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "synchronize_filters": true, "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:1.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "straggler_mitigation": false, "lr_schedule": null, "monitor": false, "input_evaluation": null, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9d4908>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9def98>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9de630>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "clip_param": 0.3, "simple_optimizer": false, "kl_target": 0.01, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "model": {"custom_preprocessor": null, "squash_to_range": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "grayscale": false, "framestack": true, "lstm_cell_size": 256}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "6a5e6d87546141128087acb0b350a70a", "custom_metrics": {"system_level_velocity_min": 4.550621007142966, "cost1_min": 123.47636707356082, "system_level_velocity_mean": 9.024523249992813, "cost1_mean": 220.23539582322917, "cost2_mean": -9.91353105811517, "cost1_max": 266.94700835169135, "cost2_max": 0.0, "system_level_velocity_max": 12.247671509001234, "cost2_min": -40.12109320316865}, "done": false, "time_total_s": 15999.269565582275, "episode_reward_min": 617.3818353678073, "num_metric_batches_dropped": 0, "episode_len_mean": 750.0, "pid": 63737, "time_since_restore": 15999.269565582275, "time_this_iter_s": 86.15472888946533, "episodes_this_iter": 36, "episode_reward_mean": 1089.2937117034671, "info": {"grad_time_ms": 33960.806, "update_time_ms": 11.598, "num_steps_trained": 25110000, "num_steps_sampled": 25110000, "load_time_ms": 17.882, "default": {"cur_kl_coeff": 0.33750006556510925, "vf_explained_var": 0.41128259897232056, "total_loss": 11.40554428100586, "policy_loss": -0.007373709697276354, "entropy": 1.7799657583236694, "kl": 0.012830647639930248, "cur_lr": 0.0005000000237487257, "vf_loss": 11.408587455749512}, "sample_time_ms": 52744.261}, "timesteps_total": 25110000, "iterations_since_restore": 186, "episode_reward_max": 1330.1657393408375, "timesteps_this_iter": 135000, "training_iteration": 186, "node_ip": "10.138.0.2", "date": "2019-05-16_16-24-18", "policy_reward_mean": {}}
{"timestamp": 1558023944, "hostname": "flow-main", "timesteps_since_restore": 25245000, "episodes_total": 6879, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "synchronize_filters": true, "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:1.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "straggler_mitigation": false, "lr_schedule": null, "monitor": false, "input_evaluation": null, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9f5b38>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9f5630>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9f5828>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "clip_param": 0.3, "simple_optimizer": false, "kl_target": 0.01, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "model": {"custom_preprocessor": null, "squash_to_range": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "grayscale": false, "framestack": true, "lstm_cell_size": 256}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "6a5e6d87546141128087acb0b350a70a", "custom_metrics": {"system_level_velocity_min": 6.627786481923959, "cost1_min": 171.32732616477693, "system_level_velocity_mean": 9.176984838629773, "cost1_mean": 223.38773172220814, "cost2_mean": -10.238392431981746, "cost1_max": 272.20232118012416, "cost2_max": 0.0, "system_level_velocity_max": 12.247671509001234, "cost2_min": -37.96305740131673}, "done": false, "time_total_s": 16085.64223575592, "episode_reward_min": 840.3206953216501, "num_metric_batches_dropped": 0, "episode_len_mean": 750.0, "pid": 63737, "time_since_restore": 16085.64223575592, "time_this_iter_s": 86.37267017364502, "episodes_this_iter": 36, "episode_reward_mean": 1104.4502112003697, "info": {"grad_time_ms": 33979.127, "update_time_ms": 11.471, "num_steps_trained": 25245000, "num_steps_sampled": 25245000, "load_time_ms": 17.556, "default": {"cur_kl_coeff": 0.33750006556510925, "vf_explained_var": 0.42521119117736816, "total_loss": 11.041075706481934, "policy_loss": -0.006686356384307146, "entropy": 1.710713505744934, "kl": 0.013154874555766582, "cur_lr": 0.0005000000237487257, "vf_loss": 11.04332160949707}, "sample_time_ms": 52677.345}, "timesteps_total": 25245000, "iterations_since_restore": 187, "episode_reward_max": 1350.5132150544569, "timesteps_this_iter": 135000, "training_iteration": 187, "node_ip": "10.138.0.2", "date": "2019-05-16_16-25-44", "policy_reward_mean": {}}
{"timestamp": 1558024031, "hostname": "flow-main", "timesteps_since_restore": 25380000, "episodes_total": 6915, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "synchronize_filters": true, "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:1.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "straggler_mitigation": false, "lr_schedule": null, "monitor": false, "input_evaluation": null, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9f5978>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9f5a20>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9f53c8>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "clip_param": 0.3, "simple_optimizer": false, "kl_target": 0.01, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "model": {"custom_preprocessor": null, "squash_to_range": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "grayscale": false, "framestack": true, "lstm_cell_size": 256}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "6a5e6d87546141128087acb0b350a70a", "custom_metrics": {"system_level_velocity_min": 5.816966358577349, "cost1_min": 151.45913381653935, "system_level_velocity_mean": 9.328488847931283, "cost1_mean": 225.9405460767829, "cost2_mean": -9.580997479326406, "cost1_max": 272.20232118012416, "cost2_max": 0.0, "system_level_velocity_max": 11.779791568771502, "cost2_min": -37.96305740131673}, "done": false, "time_total_s": 16172.116165876389, "episode_reward_min": 749.7819950429815, "num_metric_batches_dropped": 0, "episode_len_mean": 750.0, "pid": 63737, "time_since_restore": 16172.116165876389, "time_this_iter_s": 86.47393012046814, "episodes_this_iter": 36, "episode_reward_mean": 1117.8730744624145, "info": {"grad_time_ms": 34047.046, "update_time_ms": 11.672, "num_steps_trained": 25380000, "num_steps_sampled": 25380000, "load_time_ms": 17.481, "default": {"cur_kl_coeff": 0.33750006556510925, "vf_explained_var": 0.40247011184692383, "total_loss": 11.8250732421875, "policy_loss": -0.008006182499229908, "entropy": 1.7527124881744385, "kl": 0.013386429287493229, "cur_lr": 0.0005000000237487257, "vf_loss": 11.82856273651123}, "sample_time_ms": 52478.187}, "timesteps_total": 25380000, "iterations_since_restore": 188, "episode_reward_max": 1350.5132150544569, "timesteps_this_iter": 135000, "training_iteration": 188, "node_ip": "10.138.0.2", "date": "2019-05-16_16-27-11", "policy_reward_mean": {}}
{"timestamp": 1558024117, "hostname": "flow-main", "timesteps_since_restore": 25515000, "episodes_total": 6951, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "synchronize_filters": true, "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:1.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "straggler_mitigation": false, "lr_schedule": null, "monitor": false, "input_evaluation": null, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9f40b8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9f45c0>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9f4940>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "clip_param": 0.3, "simple_optimizer": false, "kl_target": 0.01, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "model": {"custom_preprocessor": null, "squash_to_range": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "grayscale": false, "framestack": true, "lstm_cell_size": 256}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "6a5e6d87546141128087acb0b350a70a", "custom_metrics": {"system_level_velocity_min": 5.816966358577349, "cost1_min": 151.45913381653935, "system_level_velocity_mean": 9.502726339548424, "cost1_mean": 229.56334039848153, "cost2_mean": -8.722798516754546, "cost1_max": 272.20232118012416, "cost2_max": 0.0, "system_level_velocity_max": 11.914869940192686, "cost2_min": -37.96305740131673}, "done": false, "time_total_s": 16257.958210229874, "episode_reward_min": 749.7819950429815, "num_metric_batches_dropped": 0, "episode_len_mean": 750.0, "pid": 63737, "time_since_restore": 16257.958210229874, "time_this_iter_s": 85.84204435348511, "episodes_this_iter": 36, "episode_reward_mean": 1136.7269044159852, "info": {"grad_time_ms": 34007.321, "update_time_ms": 11.714, "num_steps_trained": 25515000, "num_steps_sampled": 25515000, "load_time_ms": 17.255, "default": {"cur_kl_coeff": 0.33750006556510925, "vf_explained_var": 0.4321765601634979, "total_loss": 11.366105079650879, "policy_loss": -0.006858311593532562, "entropy": 1.714599370956421, "kl": 0.014258707873523235, "cur_lr": 0.0005000000237487257, "vf_loss": 11.36815071105957}, "sample_time_ms": 52329.701}, "timesteps_total": 25515000, "iterations_since_restore": 189, "episode_reward_max": 1350.5132150544569, "timesteps_this_iter": 135000, "training_iteration": 189, "node_ip": "10.138.0.2", "date": "2019-05-16_16-28-37", "policy_reward_mean": {}}
{"timestamp": 1558024203, "hostname": "flow-main", "timesteps_since_restore": 25650000, "episodes_total": 6988, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "synchronize_filters": true, "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:1.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "straggler_mitigation": false, "lr_schedule": null, "monitor": false, "input_evaluation": null, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9f42b0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9f4828>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9f4358>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "clip_param": 0.3, "simple_optimizer": false, "kl_target": 0.01, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "model": {"custom_preprocessor": null, "squash_to_range": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "grayscale": false, "framestack": true, "lstm_cell_size": 256}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "6a5e6d87546141128087acb0b350a70a", "custom_metrics": {"system_level_velocity_min": 4.095158841408429, "cost1_min": 35.662592685747995, "system_level_velocity_mean": 9.334548474994312, "cost1_mean": 224.90267118993583, "cost2_mean": -7.805877190502814, "cost1_max": 269.41825102115854, "cost2_max": 0.0, "system_level_velocity_max": 11.914869940192686, "cost2_min": -25.966302444047095}, "done": false, "time_total_s": 16343.868887901306, "episode_reward_min": 175.9453198491722, "num_metric_batches_dropped": 0, "episode_len_mean": 744.9, "pid": 63737, "time_since_restore": 16343.868887901306, "time_this_iter_s": 85.9106776714325, "episodes_this_iter": 37, "episode_reward_mean": 1114.5770594626952, "info": {"grad_time_ms": 34027.802, "update_time_ms": 11.76, "num_steps_trained": 25650000, "num_steps_sampled": 25650000, "load_time_ms": 17.343, "default": {"cur_kl_coeff": 0.33750006556510925, "vf_explained_var": 0.4330218434333801, "total_loss": 11.71834945678711, "policy_loss": -0.007877769879996777, "entropy": 1.7454756498336792, "kl": 0.014185022562742233, "cur_lr": 0.0005000000237487257, "vf_loss": 11.72143840789795}, "sample_time_ms": 52247.551}, "timesteps_total": 25650000, "iterations_since_restore": 190, "episode_reward_max": 1328.5212854970366, "timesteps_this_iter": 135000, "training_iteration": 190, "node_ip": "10.138.0.2", "date": "2019-05-16_16-30-03", "policy_reward_mean": {}}
{"timestamp": 1558024289, "hostname": "flow-main", "timesteps_since_restore": 25785000, "episodes_total": 7025, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "synchronize_filters": true, "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:1.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "straggler_mitigation": false, "lr_schedule": null, "monitor": false, "input_evaluation": null, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9ebbe0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9ebc50>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9eb7b8>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "clip_param": 0.3, "simple_optimizer": false, "kl_target": 0.01, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "model": {"custom_preprocessor": null, "squash_to_range": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "grayscale": false, "framestack": true, "lstm_cell_size": 256}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "6a5e6d87546141128087acb0b350a70a", "custom_metrics": {"system_level_velocity_min": 4.095158841408429, "cost1_min": 35.662592685747995, "system_level_velocity_mean": 9.135883824689218, "cost1_mean": 220.9911684668931, "cost2_mean": -8.138168100877946, "cost1_max": 270.5676451099913, "cost2_max": 0.0, "system_level_velocity_max": 12.133688711751514, "cost2_min": -25.966302444047095}, "done": false, "time_total_s": 16430.07035779953, "episode_reward_min": 175.9453198491722, "num_metric_batches_dropped": 0, "episode_len_mean": 743.27, "pid": 63737, "time_since_restore": 16430.07035779953, "time_this_iter_s": 86.20146989822388, "episodes_this_iter": 37, "episode_reward_mean": 1094.733268132972, "info": {"grad_time_ms": 34043.836, "update_time_ms": 11.801, "num_steps_trained": 25785000, "num_steps_sampled": 25785000, "load_time_ms": 17.183, "default": {"cur_kl_coeff": 0.33750006556510925, "vf_explained_var": 0.4610963761806488, "total_loss": 11.376605987548828, "policy_loss": -0.008504285477101803, "entropy": 1.7853589057922363, "kl": 0.01354052871465683, "cur_lr": 0.0005000000237487257, "vf_loss": 11.38054084777832}, "sample_time_ms": 52180.235}, "timesteps_total": 25785000, "iterations_since_restore": 191, "episode_reward_max": 1345.3724449301799, "timesteps_this_iter": 135000, "training_iteration": 191, "node_ip": "10.138.0.2", "date": "2019-05-16_16-31-29", "policy_reward_mean": {}}
{"timestamp": 1558024376, "hostname": "flow-main", "timesteps_since_restore": 25920000, "episodes_total": 7061, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "synchronize_filters": true, "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:1.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "straggler_mitigation": false, "lr_schedule": null, "monitor": false, "input_evaluation": null, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9f49b0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9f4588>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9f4cc0>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "clip_param": 0.3, "simple_optimizer": false, "kl_target": 0.01, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "model": {"custom_preprocessor": null, "squash_to_range": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "grayscale": false, "framestack": true, "lstm_cell_size": 256}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "6a5e6d87546141128087acb0b350a70a", "custom_metrics": {"system_level_velocity_min": 4.095158841408429, "cost1_min": 35.662592685747995, "system_level_velocity_mean": 8.976025381510816, "cost1_mean": 217.8972021039764, "cost2_mean": -9.185491185023762, "cost1_max": 270.5676451099913, "cost2_max": 0.0, "system_level_velocity_max": 12.133688711751514, "cost2_min": -30.031721769155748}, "done": false, "time_total_s": 16517.31479024887, "episode_reward_min": 175.9453198491722, "num_metric_batches_dropped": 0, "episode_len_mean": 743.27, "pid": 63737, "time_since_restore": 16517.31479024887, "time_this_iter_s": 87.24443244934082, "episodes_this_iter": 36, "episode_reward_mean": 1078.259041360569, "info": {"grad_time_ms": 34182.76, "update_time_ms": 11.64, "num_steps_trained": 25920000, "num_steps_sampled": 25920000, "load_time_ms": 17.212, "default": {"cur_kl_coeff": 0.33750006556510925, "vf_explained_var": 0.4292431175708771, "total_loss": 11.864665031433105, "policy_loss": -0.00834017526358366, "entropy": 1.7791259288787842, "kl": 0.013822509907186031, "cur_lr": 0.0005000000237487257, "vf_loss": 11.868341445922852}, "sample_time_ms": 52048.334}, "timesteps_total": 25920000, "iterations_since_restore": 192, "episode_reward_max": 1345.3724449301799, "timesteps_this_iter": 135000, "training_iteration": 192, "node_ip": "10.138.0.2", "date": "2019-05-16_16-32-56", "policy_reward_mean": {}}
{"timestamp": 1558024463, "hostname": "flow-main", "timesteps_since_restore": 26055000, "episodes_total": 7097, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "synchronize_filters": true, "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:1.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "straggler_mitigation": false, "lr_schedule": null, "monitor": false, "input_evaluation": null, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9f48d0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9f4f98>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9f4390>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "clip_param": 0.3, "simple_optimizer": false, "kl_target": 0.01, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "model": {"custom_preprocessor": null, "squash_to_range": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "grayscale": false, "framestack": true, "lstm_cell_size": 256}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "6a5e6d87546141128087acb0b350a70a", "custom_metrics": {"system_level_velocity_min": 5.396237506743509, "cost1_min": 136.94102177621485, "system_level_velocity_mean": 9.108008159548186, "cost1_mean": 221.67179737873903, "cost2_mean": -9.499584920310713, "cost1_max": 272.1304734040265, "cost2_max": 0.0, "system_level_velocity_max": 11.977683511364662, "cost2_min": -32.06881288651272}, "done": false, "time_total_s": 16603.694771528244, "episode_reward_min": 653.8121319519291, "num_metric_batches_dropped": 0, "episode_len_mean": 750.0, "pid": 63737, "time_since_restore": 16603.694771528244, "time_this_iter_s": 86.37998127937317, "episodes_this_iter": 36, "episode_reward_mean": 1096.9108445430777, "info": {"grad_time_ms": 34212.424, "update_time_ms": 11.607, "num_steps_trained": 26055000, "num_steps_sampled": 26055000, "load_time_ms": 17.697, "default": {"cur_kl_coeff": 0.33750006556510925, "vf_explained_var": 0.4114995300769806, "total_loss": 11.550143241882324, "policy_loss": -0.007190340664237738, "entropy": 1.730530023574829, "kl": 0.013720533810555935, "cur_lr": 0.0005000000237487257, "vf_loss": 11.552702903747559}, "sample_time_ms": 52006.06}, "timesteps_total": 26055000, "iterations_since_restore": 193, "episode_reward_max": 1359.7744490546838, "timesteps_this_iter": 135000, "training_iteration": 193, "node_ip": "10.138.0.2", "date": "2019-05-16_16-34-23", "policy_reward_mean": {}}
{"timestamp": 1558024550, "hostname": "flow-main", "timesteps_since_restore": 26190000, "episodes_total": 7133, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "synchronize_filters": true, "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:1.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "straggler_mitigation": false, "lr_schedule": null, "monitor": false, "input_evaluation": null, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9f5e48>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9f5630>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9f50b8>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "clip_param": 0.3, "simple_optimizer": false, "kl_target": 0.01, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "model": {"custom_preprocessor": null, "squash_to_range": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "grayscale": false, "framestack": true, "lstm_cell_size": 256}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "6a5e6d87546141128087acb0b350a70a", "custom_metrics": {"system_level_velocity_min": 5.396237506743509, "cost1_min": 136.94102177621485, "system_level_velocity_mean": 9.142169862269077, "cost1_mean": 221.98373313555246, "cost2_mean": -9.327685403509957, "cost1_max": 272.1304734040265, "cost2_max": 0.0, "system_level_velocity_max": 11.977683511364662, "cost2_min": -32.06881288651272}, "done": false, "time_total_s": 16691.23833179474, "episode_reward_min": 653.8121319519291, "num_metric_batches_dropped": 0, "episode_len_mean": 750.0, "pid": 63737, "time_since_restore": 16691.23833179474, "time_this_iter_s": 87.54356026649475, "episodes_this_iter": 36, "episode_reward_mean": 1098.4773453663113, "info": {"grad_time_ms": 34296.645, "update_time_ms": 11.608, "num_steps_trained": 26190000, "num_steps_sampled": 26190000, "load_time_ms": 17.823, "default": {"cur_kl_coeff": 0.33750006556510925, "vf_explained_var": 0.4585447609424591, "total_loss": 11.452292442321777, "policy_loss": -0.007544081658124924, "entropy": 1.7776920795440674, "kl": 0.015062258578836918, "cur_lr": 0.0005000000237487257, "vf_loss": 11.454751968383789}, "sample_time_ms": 52004.882}, "timesteps_total": 26190000, "iterations_since_restore": 194, "episode_reward_max": 1359.7744490546838, "timesteps_this_iter": 135000, "training_iteration": 194, "node_ip": "10.138.0.2", "date": "2019-05-16_16-35-50", "policy_reward_mean": {}}
{"timestamp": 1558024638, "hostname": "flow-main", "timesteps_since_restore": 26325000, "episodes_total": 7169, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "synchronize_filters": true, "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:1.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "straggler_mitigation": false, "lr_schedule": null, "monitor": false, "input_evaluation": null, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9f5e10>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9f5400>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9f59b0>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "clip_param": 0.3, "simple_optimizer": false, "kl_target": 0.01, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "model": {"custom_preprocessor": null, "squash_to_range": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "grayscale": false, "framestack": true, "lstm_cell_size": 256}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "6a5e6d87546141128087acb0b350a70a", "custom_metrics": {"system_level_velocity_min": 4.534136201496781, "cost1_min": 123.2039965641177, "system_level_velocity_mean": 9.140791903850886, "cost1_mean": 222.2394981602321, "cost2_mean": -9.009770879299513, "cost1_max": 267.39291648292567, "cost2_max": 0.0, "system_level_velocity_max": 12.188703863260166, "cost2_min": -32.06881288651272}, "done": false, "time_total_s": 16778.878028154373, "episode_reward_min": 612.5441607052876, "num_metric_batches_dropped": 0, "episode_len_mean": 750.0, "pid": 63737, "time_since_restore": 16778.878028154373, "time_this_iter_s": 87.6396963596344, "episodes_this_iter": 36, "episode_reward_mean": 1099.9868826764155, "info": {"grad_time_ms": 34273.018, "update_time_ms": 11.532, "num_steps_trained": 26325000, "num_steps_sampled": 26325000, "load_time_ms": 18.008, "default": {"cur_kl_coeff": 0.33750006556510925, "vf_explained_var": 0.45870450139045715, "total_loss": 11.78832721710205, "policy_loss": -0.007842143066227436, "entropy": 1.7800793647766113, "kl": 0.013645277358591557, "cur_lr": 0.0005000000237487257, "vf_loss": 11.791563034057617}, "sample_time_ms": 52017.85}, "timesteps_total": 26325000, "iterations_since_restore": 195, "episode_reward_max": 1336.9645824146348, "timesteps_this_iter": 135000, "training_iteration": 195, "node_ip": "10.138.0.2", "date": "2019-05-16_16-37-18", "policy_reward_mean": {}}
{"timestamp": 1558024725, "hostname": "flow-main", "timesteps_since_restore": 26460000, "episodes_total": 7206, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "synchronize_filters": true, "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:1.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "straggler_mitigation": false, "lr_schedule": null, "monitor": false, "input_evaluation": null, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9f4a20>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9f44a8>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9f4fd0>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "clip_param": 0.3, "simple_optimizer": false, "kl_target": 0.01, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "model": {"custom_preprocessor": null, "squash_to_range": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "grayscale": false, "framestack": true, "lstm_cell_size": 256}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "6a5e6d87546141128087acb0b350a70a", "custom_metrics": {"system_level_velocity_min": 3.8911417157405825, "cost1_min": 61.696680167211525, "system_level_velocity_mean": 9.195450382300965, "cost1_mean": 222.4618314416347, "cost2_mean": -8.476119642635075, "cost1_max": 267.39291648292567, "cost2_max": 0.0, "system_level_velocity_max": 12.188703863260166, "cost2_min": -26.430882119208754}, "done": false, "time_total_s": 16866.447333335876, "episode_reward_min": 298.81939689424667, "num_metric_batches_dropped": 0, "episode_len_mean": 745.47, "pid": 63737, "time_since_restore": 16866.447333335876, "time_this_iter_s": 87.5693051815033, "episodes_this_iter": 37, "episode_reward_mean": 1101.6219253438214, "info": {"grad_time_ms": 34285.006, "update_time_ms": 11.25, "num_steps_trained": 26460000, "num_steps_sampled": 26460000, "load_time_ms": 17.987, "default": {"cur_kl_coeff": 0.33750006556510925, "vf_explained_var": 0.4104122519493103, "total_loss": 11.653729438781738, "policy_loss": -0.007248183246701956, "entropy": 1.7331973314285278, "kl": 0.013610530644655228, "cur_lr": 0.0005000000237487257, "vf_loss": 11.656384468078613}, "sample_time_ms": 52154.699}, "timesteps_total": 26460000, "iterations_since_restore": 196, "episode_reward_max": 1336.9645824146348, "timesteps_this_iter": 135000, "training_iteration": 196, "node_ip": "10.138.0.2", "date": "2019-05-16_16-38-45", "policy_reward_mean": {}}
{"timestamp": 1558024813, "hostname": "flow-main", "timesteps_since_restore": 26595000, "episodes_total": 7242, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "synchronize_filters": true, "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:1.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "straggler_mitigation": false, "lr_schedule": null, "monitor": false, "input_evaluation": null, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9f50b8>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9f5ba8>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9f56a0>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "clip_param": 0.3, "simple_optimizer": false, "kl_target": 0.01, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "model": {"custom_preprocessor": null, "squash_to_range": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "grayscale": false, "framestack": true, "lstm_cell_size": 256}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "6a5e6d87546141128087acb0b350a70a", "custom_metrics": {"system_level_velocity_min": 3.8911417157405825, "cost1_min": 61.696680167211525, "system_level_velocity_mean": 9.02009377080908, "cost1_mean": 219.31645796398544, "cost2_mean": -8.980095780488051, "cost1_max": 265.7405102637306, "cost2_max": 0.0, "system_level_velocity_max": 11.384008354646179, "cost2_min": -36.91038108081983}, "done": false, "time_total_s": 16954.17764520645, "episode_reward_min": 298.81939689424667, "num_metric_batches_dropped": 0, "episode_len_mean": 745.47, "pid": 63737, "time_since_restore": 16954.17764520645, "time_this_iter_s": 87.73031187057495, "episodes_this_iter": 36, "episode_reward_mean": 1085.9737210506037, "info": {"grad_time_ms": 34338.475, "update_time_ms": 11.182, "num_steps_trained": 26595000, "num_steps_sampled": 26595000, "load_time_ms": 18.147, "default": {"cur_kl_coeff": 0.33750006556510925, "vf_explained_var": 0.454613596200943, "total_loss": 11.569072723388672, "policy_loss": -0.00832392182201147, "entropy": 1.8022760152816772, "kl": 0.014362557791173458, "cur_lr": 0.0005000000237487257, "vf_loss": 11.572548866271973}, "sample_time_ms": 52234.519}, "timesteps_total": 26595000, "iterations_since_restore": 197, "episode_reward_max": 1326.9025513186527, "timesteps_this_iter": 135000, "training_iteration": 197, "node_ip": "10.138.0.2", "date": "2019-05-16_16-40-13", "policy_reward_mean": {}}
{"timestamp": 1558024901, "hostname": "flow-main", "timesteps_since_restore": 26730000, "episodes_total": 7278, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "synchronize_filters": true, "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:1.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "straggler_mitigation": false, "lr_schedule": null, "monitor": false, "input_evaluation": null, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9fd390>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9fd160>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9fd278>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "clip_param": 0.3, "simple_optimizer": false, "kl_target": 0.01, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "model": {"custom_preprocessor": null, "squash_to_range": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "grayscale": false, "framestack": true, "lstm_cell_size": 256}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "6a5e6d87546141128087acb0b350a70a", "custom_metrics": {"system_level_velocity_min": 3.8911417157405825, "cost1_min": 61.696680167211525, "system_level_velocity_mean": 9.053972211351038, "cost1_mean": 219.82326290060547, "cost2_mean": -9.110398203817656, "cost1_max": 264.2573428574942, "cost2_max": 0.0, "system_level_velocity_max": 11.186349851778402, "cost2_min": -36.91038108081983}, "done": false, "time_total_s": 17041.90700030327, "episode_reward_min": 298.81939689424667, "num_metric_batches_dropped": 0, "episode_len_mean": 745.47, "pid": 63737, "time_since_restore": 17041.90700030327, "time_this_iter_s": 87.72935509681702, "episodes_this_iter": 36, "episode_reward_mean": 1088.2670106189557, "info": {"grad_time_ms": 34349.138, "update_time_ms": 10.903, "num_steps_trained": 26730000, "num_steps_sampled": 26730000, "load_time_ms": 18.272, "default": {"cur_kl_coeff": 0.33750006556510925, "vf_explained_var": 0.4356076121330261, "total_loss": 11.47438907623291, "policy_loss": -0.007943709380924702, "entropy": 1.7362799644470215, "kl": 0.014444921165704727, "cur_lr": 0.0005000000237487257, "vf_loss": 11.477458000183105}, "sample_time_ms": 52348.78}, "timesteps_total": 26730000, "iterations_since_restore": 198, "episode_reward_max": 1311.3867142874724, "timesteps_this_iter": 135000, "training_iteration": 198, "node_ip": "10.138.0.2", "date": "2019-05-16_16-41-41", "policy_reward_mean": {}}
{"timestamp": 1558024988, "hostname": "flow-main", "timesteps_since_restore": 26865000, "episodes_total": 7314, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "synchronize_filters": true, "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:1.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "straggler_mitigation": false, "lr_schedule": null, "monitor": false, "input_evaluation": null, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9f4748>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9f4e48>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd25f9f4e10>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "clip_param": 0.3, "simple_optimizer": false, "kl_target": 0.01, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "model": {"custom_preprocessor": null, "squash_to_range": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "grayscale": false, "framestack": true, "lstm_cell_size": 256}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "6a5e6d87546141128087acb0b350a70a", "custom_metrics": {"system_level_velocity_min": 5.357332351985615, "cost1_min": 143.7116624085034, "system_level_velocity_mean": 9.257171661549911, "cost1_mean": 224.5502174545514, "cost2_mean": -9.213037546301392, "cost1_max": 271.34682236512043, "cost2_max": 0.0, "system_level_velocity_max": 12.109524131813432, "cost2_min": -36.91038108081983}, "done": false, "time_total_s": 17129.10879302025, "episode_reward_min": 710.8630024707653, "num_metric_batches_dropped": 0, "episode_len_mean": 750.0, "pid": 63737, "time_since_restore": 17129.10879302025, "time_this_iter_s": 87.20179271697998, "episodes_this_iter": 36, "episode_reward_mean": 1111.5380757658404, "info": {"grad_time_ms": 34525.97, "update_time_ms": 10.592, "num_steps_trained": 26865000, "num_steps_sampled": 26865000, "load_time_ms": 18.286, "default": {"cur_kl_coeff": 0.33750006556510925, "vf_explained_var": 0.38865065574645996, "total_loss": 11.550559997558594, "policy_loss": -0.007469487376511097, "entropy": 1.7172876596450806, "kl": 0.014456300996243954, "cur_lr": 0.0005000000237487257, "vf_loss": 11.553149223327637}, "sample_time_ms": 52306.818}, "timesteps_total": 26865000, "iterations_since_restore": 199, "episode_reward_max": 1356.6171713583744, "timesteps_this_iter": 135000, "training_iteration": 199, "node_ip": "10.138.0.2", "date": "2019-05-16_16-43-08", "policy_reward_mean": {}}
{"timestamp": 1558025075, "hostname": "flow-main", "timesteps_since_restore": 27000000, "episodes_total": 7350, "config": {"sample_batch_size": 750, "vf_loss_coeff": 1.0, "num_gpus_per_worker": 0, "compress_observations": false, "batch_mode": "truncate_episodes", "synchronize_filters": true, "clip_rewards": null, "env": "MultiWaveAttenuationLoopMergePOEnvBufferedObs-v0_[eta2]:[0.3]_t_min:1.0", "observation_filter": "MeanStdFilter", "num_cpus_per_worker": 1, "num_sgd_iter": 10, "num_cpus_for_driver": 1, "custom_resources_per_worker": {}, "num_workers": 30, "input": "sampler", "straggler_mitigation": false, "lr_schedule": null, "monitor": false, "input_evaluation": null, "output_compress_columns": ["obs", "new_obs"], "vf_share_layers": false, "callbacks": {"on_episode_end": "<ray.tune.suggest.variant_generator.function object at 0x7fd260497da0>", "on_episode_start": "<ray.tune.suggest.variant_generator.function object at 0x7fd260497b38>", "on_train_result": null, "on_sample_end": null, "on_episode_step": "<ray.tune.suggest.variant_generator.function object at 0x7fd260497cc0>"}, "gamma": 0.99, "train_batch_size": 45000, "lr": 0.0005, "collect_metrics_timeout": 180, "preprocessor_pref": "deepmind", "env_config": {"run": "PPO", "flow_params": "{\n    \"env\": {\n        \"additional_params\": {\n            \"FLOW_RATE\": 2000,\n            \"FLOW_RATE_MERGE\": 100,\n            \"RL_PENETRATION\": 0.1,\n            \"eta1\": 1.0,\n            \"eta2\": 0.3,\n            \"eta3\": 0.1,\n            \"max_accel\": 3,\n            \"max_decel\": 3,\n            \"reward_scale\": 1.0,\n            \"t_min\": 5.0,\n            \"target_velocity\": 25\n        },\n        \"evaluate\": false,\n        \"horizon\": 1500,\n        \"sims_per_step\": 2,\n        \"warmup_steps\": 0\n    },\n    \"env_name\": \"MultiWaveAttenuationLoopMergePOEnvBufferedObs\",\n    \"exp_tag\": \"multi_loop_merge\",\n    \"initial\": {\n        \"additional_params\": {},\n        \"bunching\": 0,\n        \"edges_distribution\": \"all\",\n        \"lanes_distribution\": Infinity,\n        \"min_gap\": 0,\n        \"perturbation\": 0.0,\n        \"shuffle\": true,\n        \"spacing\": \"uniform\",\n        \"x0\": 0\n    },\n    \"net\": {\n        \"additional_params\": {\n            \"inner_lanes\": 1,\n            \"lane_length\": 100,\n            \"outer_lanes\": 1,\n            \"resolution\": 40,\n            \"ring_radius\": 95.4929658551372,\n            \"speed_limit\": 30\n        },\n        \"inflows\": {\n            \"_InFlows__flows\": [],\n            \"num_flows\": 0\n        },\n        \"netfile\": null,\n        \"no_internal_links\": false,\n        \"osm_path\": null\n    },\n    \"scenario\": \"TwoLoopsOneMergingScenario\",\n    \"sim\": {\n        \"emission_path\": null,\n        \"lateral_resolution\": null,\n        \"no_step_log\": true,\n        \"num_clients\": 1,\n        \"overtake_right\": false,\n        \"port\": null,\n        \"print_warnings\": true,\n        \"pxpm\": 2,\n        \"render\": false,\n        \"restart_instance\": true,\n        \"save_render\": false,\n        \"seed\": null,\n        \"show_radius\": false,\n        \"sight_radius\": 25,\n        \"sim_step\": 0.2,\n        \"teleport_time\": -1\n    },\n    \"simulator\": \"traci\",\n    \"veh\": [\n        {\n            \"acceleration_controller\": [\n                \"RLController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 0\n            },\n            \"num_vehicles\": 5,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"rl\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 7,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"idm\"\n        },\n        {\n            \"acceleration_controller\": [\n                \"IDMController\",\n                {}\n            ],\n            \"car_following_params\": {\n                \"controller_params\": {\n                    \"accel\": 1.0,\n                    \"carFollowModel\": \"IDM\",\n                    \"decel\": 1.5,\n                    \"impatience\": 0.5,\n                    \"maxSpeed\": 30,\n                    \"minGap\": 2.5,\n                    \"sigma\": 0.5,\n                    \"speedDev\": 0.1,\n                    \"speedFactor\": 1.0,\n                    \"tau\": 1.0\n                },\n                \"speed_mode\": 1\n            },\n            \"initial_speed\": 0,\n            \"lane_change_controller\": [\n                \"SimLaneChangeController\",\n                {}\n            ],\n            \"lane_change_params\": {\n                \"controller_params\": {\n                    \"laneChangeModel\": \"LC2013\",\n                    \"lcCooperative\": \"1.0\",\n                    \"lcKeepRight\": \"1.0\",\n                    \"lcSpeedGain\": \"1.0\",\n                    \"lcStrategic\": \"1.0\"\n                },\n                \"lane_change_mode\": 512\n            },\n            \"num_vehicles\": 18,\n            \"routing_controller\": [\n                \"ContinuousRouter\",\n                {}\n            ],\n            \"veh_id\": \"merge-idm\"\n        }\n    ]\n}"}, "clip_param": 0.3, "simple_optimizer": false, "kl_target": 0.01, "log_level": "INFO", "num_gpus": 0, "clip_actions": false, "tf_session_args": {"log_device_placement": false, "device_count": {"CPU": 1}, "intra_op_parallelism_threads": 2, "allow_soft_placement": true, "gpu_options": {"allow_growth": true}, "inter_op_parallelism_threads": 2}, "sgd_minibatch_size": 128, "lambda": 0.97, "multiagent": {"policy_graphs": {}, "policies_to_train": null, "policy_mapping_fn": null}, "use_gae": true, "entropy_coeff": 0.0, "num_envs_per_worker": 1, "output": null, "kl_coeff": 0.2, "sample_async": false, "vf_clip_param": 1000000.0, "optimizer": {}, "model": {"custom_preprocessor": null, "squash_to_range": false, "custom_model": null, "free_log_std": false, "custom_options": {}, "channel_major": false, "dim": 84, "fcnet_hiddens": [128, 64, 32], "zero_mean": true, "max_seq_len": 20, "lstm_use_prev_action_reward": false, "fcnet_activation": "tanh", "use_lstm": false, "conv_activation": "relu", "conv_filters": null, "grayscale": false, "framestack": true, "lstm_cell_size": 256}, "local_evaluator_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "horizon": 1500, "output_max_file_size": 67108864}, "experiment_id": "6a5e6d87546141128087acb0b350a70a", "custom_metrics": {"system_level_velocity_min": 5.357332351985615, "cost1_min": 143.7116624085034, "system_level_velocity_mean": 9.347662073446719, "cost1_mean": 226.0117613583271, "cost2_mean": -9.064278369780402, "cost1_max": 271.34682236512043, "cost2_max": 0.0, "system_level_velocity_max": 12.109524131813432, "cost2_min": -26.312775873602142}, "done": true, "time_total_s": 17215.71558904648, "episode_reward_min": 710.8630024707653, "num_metric_batches_dropped": 0, "episode_len_mean": 750.0, "pid": 63737, "time_since_restore": 17215.71558904648, "time_this_iter_s": 86.60679602622986, "episodes_this_iter": 36, "episode_reward_mean": 1118.7181012047215, "info": {"grad_time_ms": 34553.197, "update_time_ms": 10.714, "num_steps_trained": 27000000, "num_steps_sampled": 27000000, "load_time_ms": 18.229, "default": {"cur_kl_coeff": 0.33750006556510925, "vf_explained_var": 0.37970417737960815, "total_loss": 11.7273588180542, "policy_loss": -0.006867760326713324, "entropy": 1.7361036539077759, "kl": 0.013400709256529808, "cur_lr": 0.0005000000237487257, "vf_loss": 11.729703903198242}, "sample_time_ms": 52351.853}, "timesteps_total": 27000000, "iterations_since_restore": 200, "episode_reward_max": 1356.6171713583744, "timesteps_this_iter": 135000, "training_iteration": 200, "node_ip": "10.138.0.2", "date": "2019-05-16_16-44-35", "policy_reward_mean": {}}
